unload conda/22.11.1  : OK 
load conda/22.11.1  : OK 
envs_dirs : /work/scratch/env/barrouz/conda_env/
pkgs_dirs : /work/scratch/env/barrouz/pkgs_conda
INPUT_PATH /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/ALP/58.txt
OUTPUT_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
DEM_PATH /work/CAMPUS/etudes/Neige/DEM
TCD_PATH /work/datalake/static_aux/TreeCoverDensity
MODELS_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
KEEP_REFL 0
MASK 1
start
/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/ALP/58.txt
muscate/SPOTWORLDHERITAGE/2000/06/21/SPOT4-HRVIR1-XS_20000621-104737-181_L1C_046-263-2_D_V1-0/SPOT4-HRVIR1-XS_20000621-104737-181_L1C_046-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000621-104737-181_L1C_046-263-2_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000621-104737-181_L1C_046-263-2_D_V1-0.zip
run script
2024-01-16T13:10:58.855    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:10:58.856    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000621-104737-181_L1C_046-263-2_D_V1-0.zip
2024-01-16T13:10:58.856    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:10:58.856    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:10:58.856    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:10:58.856    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:10:58.856    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:10:58.856    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:10:58.856    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:10:58.856    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000621-104737-181_L1C_046-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 2 2]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 2 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/21/SPOT4-HRVIR2-XS_20000621-104641-998_L1C_048-256-8_D_V1-0/SPOT4-HRVIR2-XS_20000621-104641-998_L1C_048-256-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000621-104641-998_L1C_048-256-8_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104641-998_L1C_048-256-8_D_V1-0.zip
run script
2024-01-16T13:11:51.548    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:11:51.549    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104641-998_L1C_048-256-8_D_V1-0.zip
2024-01-16T13:11:51.549    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:11:51.549    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:11:51.549    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:11:51.549    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:11:51.549    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:11:51.550    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:11:51.550    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:11:51.550    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104641-998_L1C_048-256-8_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/06/21/SPOT4-HRVIR2-XS_20000621-104643-078_L1C_048-257-0_D_V1-0/SPOT4-HRVIR2-XS_20000621-104643-078_L1C_048-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000621-104643-078_L1C_048-257-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104643-078_L1C_048-257-0_D_V1-0.zip
run script
2024-01-16T13:11:54.842    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:11:54.842    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104643-078_L1C_048-257-0_D_V1-0.zip
2024-01-16T13:11:54.842    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:11:54.842    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:11:54.842    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:11:54.842    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:11:54.842    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:11:54.842    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:11:54.842    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:11:54.842    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104643-078_L1C_048-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/06/21/SPOT4-HRVIR2-XS_20000621-104651-383_L1C_048-258-0_D_V1-0/SPOT4-HRVIR2-XS_20000621-104651-383_L1C_048-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000621-104651-383_L1C_048-258-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104651-383_L1C_048-258-0_D_V1-0.zip
run script
2024-01-16T13:11:58.272    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:11:58.272    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104651-383_L1C_048-258-0_D_V1-0.zip
2024-01-16T13:11:58.272    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:11:58.272    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:11:58.272    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:11:58.272    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:11:58.272    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:11:58.272    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:11:58.273    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:11:58.273    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104651-383_L1C_048-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/06/21/SPOT4-HRVIR2-XS_20000621-104653-188_L1C_048-258-2_D_V1-0/SPOT4-HRVIR2-XS_20000621-104653-188_L1C_048-258-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000621-104653-188_L1C_048-258-2_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104653-188_L1C_048-258-2_D_V1-0.zip
run script
2024-01-16T13:12:01.567    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:12:01.567    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104653-188_L1C_048-258-2_D_V1-0.zip
2024-01-16T13:12:01.567    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:12:01.567    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:12:01.567    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:12:01.567    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:12:01.567    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:12:01.567    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:12:01.568    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:12:01.568    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104653-188_L1C_048-258-2_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/06/21/SPOT4-HRVIR2-XS_20000621-104615-040_L1C_050-254-0_D_V1-0/SPOT4-HRVIR2-XS_20000621-104615-040_L1C_050-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000621-104615-040_L1C_050-254-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104615-040_L1C_050-254-0_D_V1-0.zip
run script
2024-01-16T13:12:05.409    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:12:05.409    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104615-040_L1C_050-254-0_D_V1-0.zip
2024-01-16T13:12:05.409    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:12:05.409    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:12:05.409    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:12:05.409    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:12:05.409    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:12:05.409    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:12:05.409    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:12:05.409    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104615-040_L1C_050-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/06/21/SPOT4-HRVIR2-XS_20000621-104710-320_L1C_051-260-8_D_V1-0/SPOT4-HRVIR2-XS_20000621-104710-320_L1C_051-260-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000621-104710-320_L1C_051-260-8_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104710-320_L1C_051-260-8_D_V1-0.zip
run script
2024-01-16T13:12:08.722    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:12:08.722    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104710-320_L1C_051-260-8_D_V1-0.zip
2024-01-16T13:12:08.722    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:12:08.722    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:12:08.722    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:12:08.722    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:12:08.722    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:12:08.722    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:12:08.722    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:12:08.722    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104710-320_L1C_051-260-8_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/21/SPOT4-HRVIR2-XS_20000621-104711-475_L1C_051-261-0_D_V1-0/SPOT4-HRVIR2-XS_20000621-104711-475_L1C_051-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000621-104711-475_L1C_051-261-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104711-475_L1C_051-261-0_D_V1-0.zip
run script
2024-01-16T13:14:22.946    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:14:22.947    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104711-475_L1C_051-261-0_D_V1-0.zip
2024-01-16T13:14:22.948    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:14:22.948    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:14:22.948    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:14:22.948    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:14:22.948    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:14:22.948    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:14:22.948    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:14:22.948    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104711-475_L1C_051-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/21/SPOT4-HRVIR2-XS_20000621-104719-852_L1C_051-262-0_D_V1-0/SPOT4-HRVIR2-XS_20000621-104719-852_L1C_051-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000621-104719-852_L1C_051-262-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104719-852_L1C_051-262-0_D_V1-0.zip
run script
2024-01-16T13:16:30.212    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:16:30.213    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104719-852_L1C_051-262-0_D_V1-0.zip
2024-01-16T13:16:30.213    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:16:30.214    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:16:30.214    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:16:30.214    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:16:30.214    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:16:30.214    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:16:30.214    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:16:30.214    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104719-852_L1C_051-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/21/SPOT4-HRVIR2-XS_20000621-104723-462_L1C_051-262-4_D_V1-0/SPOT4-HRVIR2-XS_20000621-104723-462_L1C_051-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000621-104723-462_L1C_051-262-4_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104723-462_L1C_051-262-4_D_V1-0.zip
run script
2024-01-16T13:18:07.488    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:18:07.489    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104723-462_L1C_051-262-4_D_V1-0.zip
2024-01-16T13:18:07.490    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:18:07.490    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:18:07.490    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:18:07.490    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:18:07.490    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:18:07.490    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:18:07.490    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:18:07.490    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000621-104723-462_L1C_051-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/25/SPOT4-HRVIR2-XS_20000625-111039-562_L1C_046-262-7_D_V1-0/SPOT4-HRVIR2-XS_20000625-111039-562_L1C_046-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000625-111039-562_L1C_046-262-7_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000625-111039-562_L1C_046-262-7_D_V1-0.zip
run script
2024-01-16T13:19:26.270    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:19:26.271    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000625-111039-562_L1C_046-262-7_D_V1-0.zip
2024-01-16T13:19:26.271    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:19:26.272    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:19:26.272    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:19:26.272    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:19:26.272    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:19:26.272    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:19:26.272    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:19:26.272    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000625-111039-562_L1C_046-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/25/SPOT4-HRVIR1-XS_20000625-110948-670_L1C_047-257-0_D_V1-0/SPOT4-HRVIR1-XS_20000625-110948-670_L1C_047-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000625-110948-670_L1C_047-257-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000625-110948-670_L1C_047-257-0_D_V1-0.zip
run script
2024-01-16T13:20:08.535    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:20:08.536    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000625-110948-670_L1C_047-257-0_D_V1-0.zip
2024-01-16T13:20:08.536    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:20:08.536    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:20:08.536    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:20:08.536    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:20:08.536    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:20:08.536    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:20:08.536    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:20:08.536    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T13:20:11.030    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (108 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000625-110948-670_L1C_047-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2000/06/25/SPOT4-HRVIR1-XS_20000625-110957-152_L1C_047-258-0_D_V1-0/SPOT4-HRVIR1-XS_20000625-110957-152_L1C_047-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000625-110957-152_L1C_047-258-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000625-110957-152_L1C_047-258-0_D_V1-0.zip
run script
2024-01-16T13:20:14.202    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:20:14.202    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000625-110957-152_L1C_047-258-0_D_V1-0.zip
2024-01-16T13:20:14.202    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:20:14.202    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:20:14.202    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:20:14.203    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:20:14.203    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:20:14.203    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:20:14.203    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:20:14.203    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000625-110957-152_L1C_047-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/06/25/SPOT4-HRVIR1-XS_20000625-110958-957_L1C_047-258-2_D_V1-0/SPOT4-HRVIR1-XS_20000625-110958-957_L1C_047-258-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000625-110958-957_L1C_047-258-2_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000625-110958-957_L1C_047-258-2_D_V1-0.zip
run script
2024-01-16T13:20:17.635    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:20:17.635    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000625-110958-957_L1C_047-258-2_D_V1-0.zip
2024-01-16T13:20:17.635    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:20:17.635    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:20:17.635    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:20:17.635    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:20:17.635    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:20:17.635    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:20:17.636    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:20:17.636    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000625-110958-957_L1C_047-258-2_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/06/25/SPOT4-HRVIR1-XS_20000625-110944-699_L1C_048-256-5_D_V1-0/SPOT4-HRVIR1-XS_20000625-110944-699_L1C_048-256-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000625-110944-699_L1C_048-256-5_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000625-110944-699_L1C_048-256-5_D_V1-0.zip
run script
2024-01-16T13:20:20.880    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:20:20.880    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000625-110944-699_L1C_048-256-5_D_V1-0.zip
2024-01-16T13:20:20.880    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:20:20.881    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:20:20.881    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:20:20.881    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:20:20.881    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:20:20.881    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:20:20.881    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:20:20.881    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000625-110944-699_L1C_048-256-5_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/27/SPOT4-HRVIR2-XS_20000627-103202-427_L1C_046-262-8_D_V1-0/SPOT4-HRVIR2-XS_20000627-103202-427_L1C_046-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000627-103202-427_L1C_046-262-8_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000627-103202-427_L1C_046-262-8_D_V1-0.zip
run script
2024-01-16T13:20:41.297    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:20:41.298    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000627-103202-427_L1C_046-262-8_D_V1-0.zip
2024-01-16T13:20:41.298    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:20:41.298    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:20:41.298    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:20:41.298    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:20:41.298    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:20:41.298    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:20:41.298    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:20:41.298    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000627-103202-427_L1C_046-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/27/SPOT4-HRVIR2-XS_20000627-103203-477_L1C_046-263-0_D_V1-0/SPOT4-HRVIR2-XS_20000627-103203-477_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000627-103203-477_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000627-103203-477_L1C_046-263-0_D_V1-0.zip
run script
2024-01-16T13:21:20.971    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:21:20.972    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000627-103203-477_L1C_046-263-0_D_V1-0.zip
2024-01-16T13:21:20.972    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:21:20.973    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:21:20.973    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:21:20.973    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:21:20.973    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:21:20.973    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:21:20.973    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:21:20.973    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000627-103203-477_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/27/SPOT4-HRVIR2-XS_20000627-103049-515_L1C_049-254-4_D_V1-0/SPOT4-HRVIR2-XS_20000627-103049-515_L1C_049-254-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000627-103049-515_L1C_049-254-4_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000627-103049-515_L1C_049-254-4_D_V1-0.zip
run script
2024-01-16T13:22:07.646    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:22:07.647    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000627-103049-515_L1C_049-254-4_D_V1-0.zip
2024-01-16T13:22:07.647    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:22:07.647    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:22:07.647    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:22:07.647    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:22:07.647    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:22:07.647    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:22:07.647    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:22:07.647    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000627-103049-515_L1C_049-254-4_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/06/27/SPOT4-HRVIR2-XS_20000627-103054-120_L1C_049-255-0_D_V1-0/SPOT4-HRVIR2-XS_20000627-103054-120_L1C_049-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000627-103054-120_L1C_049-255-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000627-103054-120_L1C_049-255-0_D_V1-0.zip
run script
2024-01-16T13:22:10.978    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:22:10.979    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000627-103054-120_L1C_049-255-0_D_V1-0.zip
2024-01-16T13:22:10.979    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:22:10.979    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:22:10.979    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:22:10.979    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:22:10.979    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:22:10.979    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:22:10.979    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:22:10.979    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000627-103054-120_L1C_049-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/27/SPOT4-HRVIR1-XS_20000627-103105-042_L1C_050-256-4_D_V1-0/SPOT4-HRVIR1-XS_20000627-103105-042_L1C_050-256-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000627-103105-042_L1C_050-256-4_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000627-103105-042_L1C_050-256-4_D_V1-0.zip
run script
2024-01-16T13:22:41.481    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:22:41.483    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000627-103105-042_L1C_050-256-4_D_V1-0.zip
2024-01-16T13:22:41.483    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:22:41.483    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:22:41.483    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:22:41.483    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:22:41.483    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:22:41.483    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:22:41.483    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:22:41.483    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000627-103105-042_L1C_050-256-4_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/27/SPOT4-HRVIR1-XS_20000627-103108-652_L1C_050-256-8_D_V1-0/SPOT4-HRVIR1-XS_20000627-103108-652_L1C_050-256-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000627-103108-652_L1C_050-256-8_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000627-103108-652_L1C_050-256-8_D_V1-0.zip
run script
2024-01-16T13:24:38.702    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:24:38.703    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000627-103108-652_L1C_050-256-8_D_V1-0.zip
2024-01-16T13:24:38.703    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:24:38.703    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:24:38.703    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:24:38.703    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:24:38.703    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:24:38.704    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:24:38.704    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:24:38.704    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000627-103108-652_L1C_050-256-8_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/27/SPOT4-HRVIR1-XS_20000627-103122-804_L1C_050-258-6_D_V1-0/SPOT4-HRVIR1-XS_20000627-103122-804_L1C_050-258-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000627-103122-804_L1C_050-258-6_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000627-103122-804_L1C_050-258-6_D_V1-0.zip
run script
2024-01-16T13:26:42.820    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:26:42.821    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000627-103122-804_L1C_050-258-6_D_V1-0.zip
2024-01-16T13:26:42.821    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:26:42.821    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:26:42.822    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:26:42.822    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:26:42.822    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:26:42.822    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:26:42.822    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:26:42.822    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000627-103122-804_L1C_050-258-6_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/27/SPOT4-HRVIR1-XS_20000627-103125-653_L1C_050-259-0_D_V1-0/SPOT4-HRVIR1-XS_20000627-103125-653_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000627-103125-653_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000627-103125-653_L1C_050-259-0_D_V1-0.zip
run script
2024-01-16T13:28:37.527    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:28:37.529    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000627-103125-653_L1C_050-259-0_D_V1-0.zip
2024-01-16T13:28:37.529    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:28:37.529    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:28:37.529    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:28:37.529    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:28:37.529    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:28:37.529    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:28:37.529    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:28:37.529    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0ERROR 1: /tmp/slurm-4403847/OUTPUT/SPOT4/2000/6/27/SPOT4-HRVIR1-XS_20000627-103125-653_L1C_050-259-0_C_V1-0/32TLR/FSC_20000627T103125_SPOT4_32TLR/nodata.tif, band 1: Split bands are read-only.
...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000627-103125-653_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 2]
 [2 2 2 2]
 [2 2 2 2]
 ...
 [2 2 2 2]
 [2 2 2 2]
 [2 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 2]
 [2 2 2 2]
 [2 2 2 2]
 ...
 [2 2 2 2]
 [2 2 2 2]
 [2 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/27/SPOT4-HRVIR1-XS_20000627-103133-922_L1C_050-260-0_D_V1-0/SPOT4-HRVIR1-XS_20000627-103133-922_L1C_050-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000627-103133-922_L1C_050-260-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000627-103133-922_L1C_050-260-0_D_V1-0.zip
run script
2024-01-16T13:30:25.786    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:30:25.787    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000627-103133-922_L1C_050-260-0_D_V1-0.zip
2024-01-16T13:30:25.787    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:30:25.787    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:30:25.787    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:30:25.788    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:30:25.788    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:30:25.788    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:30:25.788    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:30:25.788    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000627-103133-922_L1C_050-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/27/SPOT4-HRVIR1-XS_20000627-103142-203_L1C_050-261-0_D_V1-0/SPOT4-HRVIR1-XS_20000627-103142-203_L1C_050-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000627-103142-203_L1C_050-261-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000627-103142-203_L1C_050-261-0_D_V1-0.zip
run script
2024-01-16T13:31:43.496    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:31:43.497    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000627-103142-203_L1C_050-261-0_D_V1-0.zip
2024-01-16T13:31:43.497    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:31:43.497    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:31:43.497    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:31:43.497    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:31:43.497    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:31:43.497    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:31:43.497    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:31:43.497    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000627-103142-203_L1C_050-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/27/SPOT4-HRVIR1-XS_20000627-103145-812_L1C_050-261-4_D_V1-0/SPOT4-HRVIR1-XS_20000627-103145-812_L1C_050-261-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000627-103145-812_L1C_050-261-4_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000627-103145-812_L1C_050-261-4_D_V1-0.zip
run script
2024-01-16T13:32:59.585    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:32:59.586    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000627-103145-812_L1C_050-261-4_D_V1-0.zip
2024-01-16T13:32:59.586    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:32:59.586    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:32:59.586    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:32:59.587    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:32:59.587    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:32:59.587    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:32:59.587    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:32:59.587    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000627-103145-812_L1C_050-261-4_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/08/11/SPOT4-HRVIR2-XS_20000811-110647-401_L1C_046-262-9_D_V1-0/SPOT4-HRVIR2-XS_20000811-110647-401_L1C_046-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000811-110647-401_L1C_046-262-9_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000811-110647-401_L1C_046-262-9_D_V1-0.zip
run script
2024-01-16T13:34:04.429    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:34:04.430    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000811-110647-401_L1C_046-262-9_D_V1-0.zip
2024-01-16T13:34:04.430    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:34:04.430    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:34:04.430    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:34:04.430    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:34:04.430    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:34:04.431    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:34:04.431    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:34:04.431    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000811-110647-401_L1C_046-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/08/11/SPOT4-HRVIR2-XS_20000811-110647-738_L1C_046-263-0_D_V1-0/SPOT4-HRVIR2-XS_20000811-110647-738_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000811-110647-738_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000811-110647-738_L1C_046-263-0_D_V1-0.zip
run script
2024-01-16T13:34:26.973    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:34:26.974    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000811-110647-738_L1C_046-263-0_D_V1-0.zip
2024-01-16T13:34:26.974    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:34:26.974    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:34:26.974    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:34:26.974    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:34:26.974    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:34:26.974    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:34:26.974    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:34:26.974    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000811-110647-738_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/08/11/SPOT4-HRVIR2-XS_20000811-110605-915_L1C_048-258-2_D_V1-0/SPOT4-HRVIR2-XS_20000811-110605-915_L1C_048-258-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000811-110605-915_L1C_048-258-2_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000811-110605-915_L1C_048-258-2_D_V1-0.zip
run script
2024-01-16T13:34:51.256    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:34:51.257    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000811-110605-915_L1C_048-258-2_D_V1-0.zip
2024-01-16T13:34:51.257    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:34:51.258    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:34:51.258    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:34:51.258    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:34:51.258    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:34:51.258    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:34:51.258    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:34:51.258    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000811-110605-915_L1C_048-258-2_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/08/11/SPOT4-HRVIR2-XS_20000811-110612-569_L1C_048-259-0_D_V1-0/SPOT4-HRVIR2-XS_20000811-110612-569_L1C_048-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000811-110612-569_L1C_048-259-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000811-110612-569_L1C_048-259-0_D_V1-0.zip
run script
2024-01-16T13:34:54.607    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:34:54.607    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000811-110612-569_L1C_048-259-0_D_V1-0.zip
2024-01-16T13:34:54.607    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:34:54.607    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:34:54.607    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:34:54.607    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:34:54.607    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:34:54.607    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:34:54.607    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:34:54.607    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000811-110612-569_L1C_048-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/08/11/SPOT4-HRVIR2-XS_20000811-110628-690_L1C_048-260-9_D_V1-0/SPOT4-HRVIR2-XS_20000811-110628-690_L1C_048-260-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000811-110628-690_L1C_048-260-9_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000811-110628-690_L1C_048-260-9_D_V1-0.zip
run script
2024-01-16T13:34:58.091    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:34:58.091    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000811-110628-690_L1C_048-260-9_D_V1-0.zip
2024-01-16T13:34:58.091    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:34:58.091    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:34:58.091    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:34:58.092    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:34:58.092    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:34:58.092    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:34:58.092    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:34:58.092    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000811-110628-690_L1C_048-260-9_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/06/15/SPOT4-HRVIR2-XS_20000615-110307-214_L1C_046-263-4_D_V1-0/SPOT4-HRVIR2-XS_20000615-110307-214_L1C_046-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000615-110307-214_L1C_046-263-4_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000615-110307-214_L1C_046-263-4_D_V1-0.zip
run script
2024-01-16T13:35:01.298    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:35:01.299    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000615-110307-214_L1C_046-263-4_D_V1-0.zip
2024-01-16T13:35:01.300    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:35:01.300    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:35:01.300    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:35:01.300    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:35:01.300    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:35:01.300    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:35:01.300    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:35:01.300    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000615-110307-214_L1C_046-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/15/SPOT4-HRVIR2-XS_20000615-110205-052_L1C_048-256-3_D_V1-0/SPOT4-HRVIR2-XS_20000615-110205-052_L1C_048-256-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000615-110205-052_L1C_048-256-3_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000615-110205-052_L1C_048-256-3_D_V1-0.zip
run script
2024-01-16T13:36:12.062    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:36:12.064    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000615-110205-052_L1C_048-256-3_D_V1-0.zip
2024-01-16T13:36:12.064    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:36:12.064    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:36:12.064    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:36:12.064    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:36:12.064    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:36:12.064    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:36:12.064    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:36:12.064    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000615-110205-052_L1C_048-256-3_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/15/SPOT4-HRVIR2-XS_20000615-110210-466_L1C_048-256-9_D_V1-0/SPOT4-HRVIR2-XS_20000615-110210-466_L1C_048-256-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000615-110210-466_L1C_048-256-9_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000615-110210-466_L1C_048-256-9_D_V1-0.zip
run script
2024-01-16T13:36:39.906    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:36:39.907    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000615-110210-466_L1C_048-256-9_D_V1-0.zip
2024-01-16T13:36:39.907    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:36:39.907    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:36:39.907    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:36:39.907    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:36:39.907    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:36:39.907    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:36:39.907    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:36:39.907    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000615-110210-466_L1C_048-256-9_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/15/SPOT4-HRVIR1-XS_20000615-110220-852_L1C_049-258-5_D_V1-0/SPOT4-HRVIR1-XS_20000615-110220-852_L1C_049-258-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000615-110220-852_L1C_049-258-5_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000615-110220-852_L1C_049-258-5_D_V1-0.zip
run script
2024-01-16T13:36:51.915    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:36:51.916    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000615-110220-852_L1C_049-258-5_D_V1-0.zip
2024-01-16T13:36:51.916    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:36:51.916    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:36:51.916    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:36:51.916    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:36:51.916    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:36:51.916    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:36:51.916    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:36:51.916    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000615-110220-852_L1C_049-258-5_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/15/SPOT4-HRVIR1-XS_20000615-110224-792_L1C_049-259-0_D_V1-0/SPOT4-HRVIR1-XS_20000615-110224-792_L1C_049-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000615-110224-792_L1C_049-259-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000615-110224-792_L1C_049-259-0_D_V1-0.zip
run script
2024-01-16T13:38:13.943    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:38:13.944    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000615-110224-792_L1C_049-259-0_D_V1-0.zip
2024-01-16T13:38:13.944    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:38:13.944    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:38:13.944    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:38:13.945    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:38:13.945    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:38:13.945    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:38:13.945    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:38:13.945    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000615-110224-792_L1C_049-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/15/SPOT4-HRVIR1-XS_20000615-110233-251_L1C_049-260-0_D_V1-0/SPOT4-HRVIR1-XS_20000615-110233-251_L1C_049-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000615-110233-251_L1C_049-260-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000615-110233-251_L1C_049-260-0_D_V1-0.zip
run script
2024-01-16T13:39:23.438    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:39:23.439    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000615-110233-251_L1C_049-260-0_D_V1-0.zip
2024-01-16T13:39:23.439    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:39:23.439    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:39:23.439    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:39:23.439    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:39:23.439    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:39:23.439    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:39:23.440    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:39:23.440    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000615-110233-251_L1C_049-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/15/SPOT4-HRVIR1-XS_20000615-110235-056_L1C_049-260-2_D_V1-0/SPOT4-HRVIR1-XS_20000615-110235-056_L1C_049-260-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000615-110235-056_L1C_049-260-2_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000615-110235-056_L1C_049-260-2_D_V1-0.zip
run script
2024-01-16T13:40:06.207    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:40:06.208    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000615-110235-056_L1C_049-260-2_D_V1-0.zip
2024-01-16T13:40:06.208    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:40:06.208    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:40:06.208    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:40:06.208    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:40:06.208    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:40:06.208    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:40:06.208    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:40:06.208    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000615-110235-056_L1C_049-260-2_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/15/SPOT4-HRVIR1-XS_20000615-110248-756_L1C_051-262-1_D_V1-0/SPOT4-HRVIR1-XS_20000615-110248-756_L1C_051-262-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000615-110248-756_L1C_051-262-1_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000615-110248-756_L1C_051-262-1_D_V1-0.zip
run script
2024-01-16T13:40:47.546    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:40:47.547    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000615-110248-756_L1C_051-262-1_D_V1-0.zip
2024-01-16T13:40:47.547    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:40:47.547    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:40:47.547    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:40:47.547    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:40:47.547    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:40:47.547    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:40:47.547    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:40:47.547    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000615-110248-756_L1C_051-262-1_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/08/28/SPOT4-HRVIR2-XS_20000828-103948-525_L1C_046-263-0_D_V1-0/SPOT4-HRVIR2-XS_20000828-103948-525_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000828-103948-525_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000828-103948-525_L1C_046-263-0_D_V1-0.zip
run script
2024-01-16T13:42:04.476    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:42:04.477    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000828-103948-525_L1C_046-263-0_D_V1-0.zip
2024-01-16T13:42:04.478    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:42:04.478    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:42:04.478    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:42:04.478    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:42:04.478    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:42:04.478    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:42:04.478    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:42:04.478    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000828-103948-525_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/08/28/SPOT4-HRVIR1-XS_20000828-103910-199_L1C_047-258-5_D_V1-0/SPOT4-HRVIR1-XS_20000828-103910-199_L1C_047-258-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000828-103910-199_L1C_047-258-5_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000828-103910-199_L1C_047-258-5_D_V1-0.zip
run script
2024-01-16T13:42:25.278    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:42:25.279    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000828-103910-199_L1C_047-258-5_D_V1-0.zip
2024-01-16T13:42:25.279    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:42:25.279    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:42:25.279    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:42:25.279    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:42:25.279    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:42:25.279    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:42:25.279    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:42:25.280    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000828-103910-199_L1C_047-258-5_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/08/28/SPOT4-HRVIR1-XS_20000828-103913-959_L1C_047-259-0_D_V1-0/SPOT4-HRVIR1-XS_20000828-103913-959_L1C_047-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000828-103913-959_L1C_047-259-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000828-103913-959_L1C_047-259-0_D_V1-0.zip
run script
2024-01-16T13:42:28.670    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:42:28.671    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000828-103913-959_L1C_047-259-0_D_V1-0.zip
2024-01-16T13:42:28.671    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:42:28.671    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:42:28.671    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:42:28.671    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:42:28.671    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:42:28.671    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:42:28.671    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:42:28.671    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000828-103913-959_L1C_047-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/11/24/SPOT4-HRVIR2-XS_20001124-104711-323_L1C_046-263-2_D_V1-0/SPOT4-HRVIR2-XS_20001124-104711-323_L1C_046-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20001124-104711-323_L1C_046-263-2_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20001124-104711-323_L1C_046-263-2_D_V1-0.zip
run script
2024-01-16T13:42:31.588    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:42:31.589    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20001124-104711-323_L1C_046-263-2_D_V1-0.zip
2024-01-16T13:42:31.589    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:42:31.589    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:42:31.589    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:42:31.589    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:42:31.589    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:42:31.589    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:42:31.589    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:42:31.589    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20001124-104711-323_L1C_046-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/04/08/SPOT4-HRVIR1-XS_20000408-110915-497_L1C_047-254-0_D_V1-0/SPOT4-HRVIR1-XS_20000408-110915-497_L1C_047-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000408-110915-497_L1C_047-254-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000408-110915-497_L1C_047-254-0_D_V1-0.zip
run script
2024-01-16T13:43:08.421    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:43:08.422    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000408-110915-497_L1C_047-254-0_D_V1-0.zip
2024-01-16T13:43:08.422    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:43:08.422    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:43:08.422    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:43:08.422    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:43:08.422    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:43:08.422    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:43:08.422    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:43:08.422    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000408-110915-497_L1C_047-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/05/01/SPOT4-HRVIR1-XS_20000501-102702-342_L1C_047-254-9_D_V1-0/SPOT4-HRVIR1-XS_20000501-102702-342_L1C_047-254-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000501-102702-342_L1C_047-254-9_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000501-102702-342_L1C_047-254-9_D_V1-0.zip
run script
2024-01-16T13:43:11.710    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:43:11.710    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000501-102702-342_L1C_047-254-9_D_V1-0.zip
2024-01-16T13:43:11.710    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:43:11.710    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:43:11.710    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:43:11.710    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:43:11.710    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:43:11.710    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:43:11.710    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:43:11.711    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000501-102702-342_L1C_047-254-9_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/05/01/SPOT4-HRVIR1-XS_20000501-102702-418_L1C_048-255-0_D_V1-0/SPOT4-HRVIR1-XS_20000501-102702-418_L1C_048-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000501-102702-418_L1C_048-255-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000501-102702-418_L1C_048-255-0_D_V1-0.zip
run script
2024-01-16T13:43:26.570    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:43:26.572    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000501-102702-418_L1C_048-255-0_D_V1-0.zip
2024-01-16T13:43:26.572    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:43:26.572    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:43:26.572    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:43:26.572    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:43:26.572    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:43:26.572    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:43:26.572    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:43:26.573    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000501-102702-418_L1C_048-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/05/01/SPOT4-HRVIR1-XS_20000501-102710-620_L1C_048-256-0_D_V1-0/SPOT4-HRVIR1-XS_20000501-102710-620_L1C_048-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000501-102710-620_L1C_048-256-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000501-102710-620_L1C_048-256-0_D_V1-0.zip
run script
2024-01-16T13:43:41.574    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:43:41.575    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000501-102710-620_L1C_048-256-0_D_V1-0.zip
2024-01-16T13:43:41.575    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:43:41.575    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:43:41.575    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:43:41.576    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:43:41.576    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:43:41.576    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:43:41.576    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:43:41.576    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000501-102710-620_L1C_048-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/05/01/SPOT4-HRVIR1-XS_20000501-102718-838_L1C_048-257-0_D_V1-0/SPOT4-HRVIR1-XS_20000501-102718-838_L1C_048-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000501-102718-838_L1C_048-257-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000501-102718-838_L1C_048-257-0_D_V1-0.zip
run script
2024-01-16T13:44:09.488    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:44:09.489    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000501-102718-838_L1C_048-257-0_D_V1-0.zip
2024-01-16T13:44:09.489    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:44:09.489    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:44:09.489    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:44:09.489    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:44:09.489    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:44:09.489    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:44:09.489    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:44:09.489    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000501-102718-838_L1C_048-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/05/01/SPOT4-HRVIR1-XS_20000501-102727-062_L1C_048-258-0_D_V1-0/SPOT4-HRVIR1-XS_20000501-102727-062_L1C_048-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000501-102727-062_L1C_048-258-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000501-102727-062_L1C_048-258-0_D_V1-0.zip
run script
2024-01-16T13:44:27.656    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:44:27.657    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000501-102727-062_L1C_048-258-0_D_V1-0.zip
2024-01-16T13:44:27.657    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:44:27.657    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:44:27.657    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:44:27.658    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:44:27.658    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:44:27.658    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:44:27.658    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:44:27.658    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T13:44:29.911    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1802 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000501-102727-062_L1C_048-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2000/05/01/SPOT4-HRVIR1-XS_20000501-102749-219_L1C_051-261-0_D_V1-0/SPOT4-HRVIR1-XS_20000501-102749-219_L1C_051-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000501-102749-219_L1C_051-261-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000501-102749-219_L1C_051-261-0_D_V1-0.zip
run script
2024-01-16T13:44:33.034    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:44:33.034    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000501-102749-219_L1C_051-261-0_D_V1-0.zip
2024-01-16T13:44:33.034    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:44:33.035    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:44:33.035    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:44:33.035    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:44:33.035    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:44:33.035    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:44:33.035    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:44:33.035    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000501-102749-219_L1C_051-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/05/11/SPOT4-HRVIR1-XS_20000511-103441-033_L1C_047-254-4_D_V1-0/SPOT4-HRVIR1-XS_20000511-103441-033_L1C_047-254-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000511-103441-033_L1C_047-254-4_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000511-103441-033_L1C_047-254-4_D_V1-0.zip
run script
2024-01-16T13:46:12.373    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:46:12.374    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000511-103441-033_L1C_047-254-4_D_V1-0.zip
2024-01-16T13:46:12.375    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:46:12.375    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:46:12.375    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:46:12.375    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:46:12.375    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:46:12.375    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:46:12.375    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:46:12.375    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000511-103441-033_L1C_047-254-4_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/02/23/SPOT4-HRVIR2-XS_20000223-103427-479_L1C_047-255-0_D_V1-0/SPOT4-HRVIR2-XS_20000223-103427-479_L1C_047-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000223-103427-479_L1C_047-255-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000223-103427-479_L1C_047-255-0_D_V1-0.zip
run script
2024-01-16T13:46:15.494    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:46:15.494    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000223-103427-479_L1C_047-255-0_D_V1-0.zip
2024-01-16T13:46:15.494    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:46:15.494    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:46:15.494    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:46:15.494    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:46:15.494    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:46:15.494    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:46:15.495    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:46:15.495    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000223-103427-479_L1C_047-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/02/23/SPOT4-HRVIR2-XS_20000223-103435-712_L1C_047-256-0_D_V1-0/SPOT4-HRVIR2-XS_20000223-103435-712_L1C_047-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000223-103435-712_L1C_047-256-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000223-103435-712_L1C_047-256-0_D_V1-0.zip
run script
2024-01-16T13:46:26.117    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:46:26.117    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000223-103435-712_L1C_047-256-0_D_V1-0.zip
2024-01-16T13:46:26.117    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:46:26.117    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:46:26.118    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:46:26.118    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:46:26.118    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:46:26.118    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:46:26.118    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:46:26.118    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000223-103435-712_L1C_047-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/03/15/SPOT4-HRVIR1-XS_20000315-103057-055_L1C_047-256-7_D_V1-0/SPOT4-HRVIR1-XS_20000315-103057-055_L1C_047-256-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000315-103057-055_L1C_047-256-7_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000315-103057-055_L1C_047-256-7_D_V1-0.zip
run script
2024-01-16T13:46:38.618    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:46:38.618    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000315-103057-055_L1C_047-256-7_D_V1-0.zip
2024-01-16T13:46:38.618    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:46:38.618    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:46:38.618    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:46:38.619    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:46:38.619    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:46:38.619    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:46:38.619    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:46:38.619    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000315-103057-055_L1C_047-256-7_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/03/15/SPOT4-HRVIR1-XS_20000315-103058-962_L1C_047-257-0_D_V1-0/SPOT4-HRVIR1-XS_20000315-103058-962_L1C_047-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000315-103058-962_L1C_047-257-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000315-103058-962_L1C_047-257-0_D_V1-0.zip
run script
2024-01-16T13:46:42.004    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:46:42.004    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000315-103058-962_L1C_047-257-0_D_V1-0.zip
2024-01-16T13:46:42.004    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:46:42.004    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:46:42.004    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:46:42.004    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:46:42.004    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:46:42.005    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:46:42.005    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:46:42.005    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000315-103058-962_L1C_047-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/03/15/SPOT4-HRVIR1-XS_20000315-103101-669_L1C_047-257-3_D_V1-0/SPOT4-HRVIR1-XS_20000315-103101-669_L1C_047-257-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000315-103101-669_L1C_047-257-3_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000315-103101-669_L1C_047-257-3_D_V1-0.zip
run script
2024-01-16T13:46:45.368    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:46:45.369    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000315-103101-669_L1C_047-257-3_D_V1-0.zip
2024-01-16T13:46:45.369    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:46:45.369    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:46:45.369    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:46:45.369    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:46:45.369    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:46:45.369    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:46:45.369    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:46:45.369    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000315-103101-669_L1C_047-257-3_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/03/15/SPOT4-HRVIR2-XS_20000315-103116-567_L1C_048-259-2_D_V1-0/SPOT4-HRVIR2-XS_20000315-103116-567_L1C_048-259-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000315-103116-567_L1C_048-259-2_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000315-103116-567_L1C_048-259-2_D_V1-0.zip
run script
2024-01-16T13:46:48.575    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:46:48.575    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000315-103116-567_L1C_048-259-2_D_V1-0.zip
2024-01-16T13:46:48.575    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:46:48.575    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:46:48.575    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:46:48.575    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:46:48.576    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:46:48.576    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:46:48.576    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:46:48.576    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000315-103116-567_L1C_048-259-2_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/03/15/SPOT4-HRVIR2-XS_20000315-103119-275_L1C_048-259-5_D_V1-0/SPOT4-HRVIR2-XS_20000315-103119-275_L1C_048-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000315-103119-275_L1C_048-259-5_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000315-103119-275_L1C_048-259-5_D_V1-0.zip
run script
2024-01-16T13:46:51.904    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:46:51.904    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000315-103119-275_L1C_048-259-5_D_V1-0.zip
2024-01-16T13:46:51.904    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:46:51.904    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:46:51.904    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:46:51.904    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:46:51.904    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:46:51.904    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:46:51.904    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:46:51.904    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000315-103119-275_L1C_048-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/03/15/SPOT4-HRVIR2-XS_20000315-103143-426_L1C_051-262-8_D_V1-0/SPOT4-HRVIR2-XS_20000315-103143-426_L1C_051-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000315-103143-426_L1C_051-262-8_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000315-103143-426_L1C_051-262-8_D_V1-0.zip
run script
2024-01-16T13:46:55.030    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:46:55.032    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000315-103143-426_L1C_051-262-8_D_V1-0.zip
2024-01-16T13:46:55.032    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:46:55.032    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:46:55.032    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:46:55.032    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:46:55.032    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:46:55.032    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:46:55.032    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:46:55.032    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000315-103143-426_L1C_051-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/03/15/SPOT4-HRVIR2-XS_20000315-103144-509_L1C_051-263-0_D_V1-0/SPOT4-HRVIR2-XS_20000315-103144-509_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000315-103144-509_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000315-103144-509_L1C_051-263-0_D_V1-0.zip
run script
2024-01-16T13:47:48.109    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:47:48.110    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000315-103144-509_L1C_051-263-0_D_V1-0.zip
2024-01-16T13:47:48.110    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:47:48.110    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:47:48.110    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:47:48.110    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:47:48.110    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:47:48.111    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:47:48.111    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:47:48.111    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000315-103144-509_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/03/20/SPOT4-HRVIR2-XS_20000320-103441-309_L1C_047-256-1_D_V1-0/SPOT4-HRVIR2-XS_20000320-103441-309_L1C_047-256-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000320-103441-309_L1C_047-256-1_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000320-103441-309_L1C_047-256-1_D_V1-0.zip
run script
2024-01-16T13:48:31.021    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:48:31.023    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000320-103441-309_L1C_047-256-1_D_V1-0.zip
2024-01-16T13:48:31.023    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:48:31.023    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:48:31.023    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:48:31.023    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:48:31.023    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:48:31.023    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:48:31.023    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:48:31.023    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000320-103441-309_L1C_047-256-1_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/03/20/SPOT4-HRVIR2-XS_20000320-103446-723_L1C_047-256-7_D_V1-0/SPOT4-HRVIR2-XS_20000320-103446-723_L1C_047-256-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000320-103446-723_L1C_047-256-7_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000320-103446-723_L1C_047-256-7_D_V1-0.zip
run script
2024-01-16T13:48:34.268    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:48:34.268    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000320-103446-723_L1C_047-256-7_D_V1-0.zip
2024-01-16T13:48:34.268    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:48:34.268    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:48:34.268    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:48:34.268    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:48:34.268    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:48:34.268    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:48:34.269    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:48:34.269    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000320-103446-723_L1C_047-256-7_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/09/02/SPOT4-HRVIR1-XS_20000902-104256-157_L1C_047-257-9_D_V1-0/SPOT4-HRVIR1-XS_20000902-104256-157_L1C_047-257-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000902-104256-157_L1C_047-257-9_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000902-104256-157_L1C_047-257-9_D_V1-0.zip
run script
2024-01-16T13:48:37.349    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:48:37.349    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000902-104256-157_L1C_047-257-9_D_V1-0.zip
2024-01-16T13:48:37.349    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:48:37.349    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:48:37.349    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:48:37.349    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:48:37.349    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:48:37.349    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:48:37.349    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:48:37.350    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000902-104256-157_L1C_047-257-9_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/08/13/SPOT4-HRVIR2-XS_20000813-102735-933_L1C_047-258-8_D_V1-0/SPOT4-HRVIR2-XS_20000813-102735-933_L1C_047-258-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000813-102735-933_L1C_047-258-8_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000813-102735-933_L1C_047-258-8_D_V1-0.zip
run script
2024-01-16T13:48:40.814    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:48:40.814    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000813-102735-933_L1C_047-258-8_D_V1-0.zip
2024-01-16T13:48:40.814    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:48:40.814    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:48:40.814    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:48:40.814    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:48:40.815    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:48:40.815    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:48:40.815    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:48:40.815    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000813-102735-933_L1C_047-258-8_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/08/13/SPOT4-HRVIR2-XS_20000813-102653-739_L1C_049-254-0_D_V1-0/SPOT4-HRVIR2-XS_20000813-102653-739_L1C_049-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000813-102653-739_L1C_049-254-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000813-102653-739_L1C_049-254-0_D_V1-0.zip
run script
2024-01-16T13:48:44.245    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:48:44.245    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000813-102653-739_L1C_049-254-0_D_V1-0.zip
2024-01-16T13:48:44.246    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:48:44.246    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:48:44.246    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:48:44.246    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:48:44.246    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:48:44.246    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:48:44.246    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:48:44.246    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000813-102653-739_L1C_049-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/08/13/SPOT4-HRVIR2-XS_20000813-102701-942_L1C_049-255-0_D_V1-0/SPOT4-HRVIR2-XS_20000813-102701-942_L1C_049-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000813-102701-942_L1C_049-255-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000813-102701-942_L1C_049-255-0_D_V1-0.zip
run script
2024-01-16T13:48:47.484    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:48:47.484    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000813-102701-942_L1C_049-255-0_D_V1-0.zip
2024-01-16T13:48:47.484    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:48:47.484    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:48:47.484    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:48:47.485    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:48:47.485    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:48:47.485    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:48:47.485    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:48:47.485    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000813-102701-942_L1C_049-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/08/13/SPOT4-HRVIR1-XS_20000813-102747-210_L1C_053-260-9_D_V1-0/SPOT4-HRVIR1-XS_20000813-102747-210_L1C_053-260-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000813-102747-210_L1C_053-260-9_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000813-102747-210_L1C_053-260-9_D_V1-0.zip
run script
2024-01-16T13:49:29.667    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:49:29.668    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000813-102747-210_L1C_053-260-9_D_V1-0.zip
2024-01-16T13:49:29.668    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:49:29.668    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:49:29.668    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:49:29.668    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:49:29.668    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:49:29.668    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:49:29.668    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:49:29.668    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000813-102747-210_L1C_053-260-9_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/08/13/SPOT4-HRVIR1-XS_20000813-102755-674_L1C_054-262-0_D_V1-0/SPOT4-HRVIR1-XS_20000813-102755-674_L1C_054-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000813-102755-674_L1C_054-262-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000813-102755-674_L1C_054-262-0_D_V1-0.zip
run script
2024-01-16T13:51:17.790    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:51:17.791    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000813-102755-674_L1C_054-262-0_D_V1-0.zip
2024-01-16T13:51:17.791    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:51:17.791    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:51:17.791    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:51:17.791    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:51:17.791    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:51:17.791    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:51:17.791    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:51:17.791    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000813-102755-674_L1C_054-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/08/16/SPOT4-HRVIR2-XS_20000816-110957-905_L1C_047-258-1_D_V1-0/SPOT4-HRVIR2-XS_20000816-110957-905_L1C_047-258-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000816-110957-905_L1C_047-258-1_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000816-110957-905_L1C_047-258-1_D_V1-0.zip
run script
2024-01-16T13:53:07.022    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:53:07.023    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000816-110957-905_L1C_047-258-1_D_V1-0.zip
2024-01-16T13:53:07.023    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:53:07.023    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:53:07.023    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:53:07.024    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:53:07.024    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:53:07.024    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:53:07.024    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:53:07.024    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000816-110957-905_L1C_047-258-1_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/08/16/SPOT4-HRVIR2-XS_20000816-111005-124_L1C_047-258-9_D_V1-0/SPOT4-HRVIR2-XS_20000816-111005-124_L1C_047-258-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000816-111005-124_L1C_047-258-9_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000816-111005-124_L1C_047-258-9_D_V1-0.zip
run script
2024-01-16T13:53:10.344    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:53:10.344    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000816-111005-124_L1C_047-258-9_D_V1-0.zip
2024-01-16T13:53:10.344    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:53:10.344    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:53:10.344    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:53:10.344    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:53:10.344    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:53:10.344    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:53:10.344    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:53:10.344    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000816-111005-124_L1C_047-258-9_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/08/22/SPOT4-HRVIR2-XS_20000822-105437-497_L1C_047-258-5_D_V1-0/SPOT4-HRVIR2-XS_20000822-105437-497_L1C_047-258-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000822-105437-497_L1C_047-258-5_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000822-105437-497_L1C_047-258-5_D_V1-0.zip
run script
2024-01-16T13:53:13.588    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:53:13.588    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000822-105437-497_L1C_047-258-5_D_V1-0.zip
2024-01-16T13:53:13.588    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:53:13.589    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:53:13.589    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:53:13.589    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:53:13.589    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:53:13.589    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:53:13.589    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:53:13.589    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000822-105437-497_L1C_047-258-5_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/08/22/SPOT4-HRVIR2-XS_20000822-105441-107_L1C_047-258-9_D_V1-0/SPOT4-HRVIR2-XS_20000822-105441-107_L1C_047-258-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000822-105441-107_L1C_047-258-9_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000822-105441-107_L1C_047-258-9_D_V1-0.zip
run script
2024-01-16T13:53:17.108    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:53:17.108    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000822-105441-107_L1C_047-258-9_D_V1-0.zip
2024-01-16T13:53:17.108    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:53:17.108    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:53:17.108    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:53:17.108    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:53:17.109    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:53:17.109    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:53:17.109    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:53:17.109    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000822-105441-107_L1C_047-258-9_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/08/27/SPOT4-HRVIR2-XS_20000827-105828-319_L1C_047-258-5_D_V1-0/SPOT4-HRVIR2-XS_20000827-105828-319_L1C_047-258-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000827-105828-319_L1C_047-258-5_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000827-105828-319_L1C_047-258-5_D_V1-0.zip
run script
2024-01-16T13:53:20.509    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:53:20.509    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000827-105828-319_L1C_047-258-5_D_V1-0.zip
2024-01-16T13:53:20.509    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:53:20.509    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:53:20.509    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:53:20.509    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:53:20.509    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:53:20.509    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:53:20.509    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:53:20.509    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000827-105828-319_L1C_047-258-5_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/08/27/SPOT4-HRVIR2-XS_20000827-105831-929_L1C_047-258-9_D_V1-0/SPOT4-HRVIR2-XS_20000827-105831-929_L1C_047-258-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000827-105831-929_L1C_047-258-9_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000827-105831-929_L1C_047-258-9_D_V1-0.zip
run script
2024-01-16T13:53:23.939    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:53:23.939    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000827-105831-929_L1C_047-258-9_D_V1-0.zip
2024-01-16T13:53:23.939    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:53:23.939    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:53:23.939    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:53:23.939    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:53:23.939    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:53:23.939    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:53:23.939    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:53:23.939    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000827-105831-929_L1C_047-258-9_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/08/27/SPOT4-HRVIR1-XS_20000827-105842-236_L1C_052-261-1_D_V1-0/SPOT4-HRVIR1-XS_20000827-105842-236_L1C_052-261-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000827-105842-236_L1C_052-261-1_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000827-105842-236_L1C_052-261-1_D_V1-0.zip
run script
2024-01-16T13:53:27.684    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:53:27.684    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000827-105842-236_L1C_052-261-1_D_V1-0.zip
2024-01-16T13:53:27.684    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:53:27.684    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:53:27.684    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:53:27.684    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:53:27.684    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:53:27.685    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:53:27.685    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:53:27.685    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000827-105842-236_L1C_052-261-1_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 0 ... 2 2 2]
 [2 2 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/08/27/SPOT4-HRVIR1-XS_20000827-105849-820_L1C_052-262-0_D_V1-0/SPOT4-HRVIR1-XS_20000827-105849-820_L1C_052-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000827-105849-820_L1C_052-262-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000827-105849-820_L1C_052-262-0_D_V1-0.zip
run script
2024-01-16T13:56:31.832    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:56:31.833    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000827-105849-820_L1C_052-262-0_D_V1-0.zip
2024-01-16T13:56:31.833    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:56:31.833    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:56:31.833    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:56:31.833    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:56:31.833    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:56:31.833    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:56:31.833    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:56:31.833    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000827-105849-820_L1C_052-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/08/27/SPOT4-HRVIR1-XS_20000827-105858-308_L1C_052-263-0_D_V1-0/SPOT4-HRVIR1-XS_20000827-105858-308_L1C_052-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000827-105858-308_L1C_052-263-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000827-105858-308_L1C_052-263-0_D_V1-0.zip
run script
2024-01-16T13:59:12.673    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:59:12.674    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000827-105858-308_L1C_052-263-0_D_V1-0.zip
2024-01-16T13:59:12.674    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T13:59:12.674    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T13:59:12.674    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T13:59:12.674    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T13:59:12.674    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T13:59:12.674    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T13:59:12.674    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T13:59:12.674    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000827-105858-308_L1C_052-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/09/01/SPOT4-HRVIR2-XS_20000901-110217-670_L1C_047-258-4_D_V1-0/SPOT4-HRVIR2-XS_20000901-110217-670_L1C_047-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000901-110217-670_L1C_047-258-4_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000901-110217-670_L1C_047-258-4_D_V1-0.zip
run script
2024-01-16T14:00:28.871    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:00:28.872    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000901-110217-670_L1C_047-258-4_D_V1-0.zip
2024-01-16T14:00:28.872    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T14:00:28.872    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T14:00:28.872    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:00:28.872    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T14:00:28.872    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T14:00:28.872    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T14:00:28.872    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T14:00:28.872    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000901-110217-670_L1C_047-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/09/01/SPOT4-HRVIR2-XS_20000901-110221-279_L1C_047-258-8_D_V1-0/SPOT4-HRVIR2-XS_20000901-110221-279_L1C_047-258-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000901-110221-279_L1C_047-258-8_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000901-110221-279_L1C_047-258-8_D_V1-0.zip
run script
2024-01-16T14:00:32.368    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:00:32.368    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000901-110221-279_L1C_047-258-8_D_V1-0.zip
2024-01-16T14:00:32.368    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T14:00:32.368    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T14:00:32.368    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:00:32.368    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T14:00:32.368    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T14:00:32.368    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T14:00:32.369    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T14:00:32.369    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000901-110221-279_L1C_047-258-8_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/09/06/SPOT4-HRVIR2-XS_20000906-110610-300_L1C_047-258-8_D_V1-0/SPOT4-HRVIR2-XS_20000906-110610-300_L1C_047-258-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000906-110610-300_L1C_047-258-8_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000906-110610-300_L1C_047-258-8_D_V1-0.zip
run script
2024-01-16T14:00:36.106    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:00:36.107    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000906-110610-300_L1C_047-258-8_D_V1-0.zip
2024-01-16T14:00:36.107    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T14:00:36.107    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T14:00:36.107    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:00:36.107    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T14:00:36.107    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T14:00:36.107    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T14:00:36.107    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T14:00:36.107    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000906-110610-300_L1C_047-258-8_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/09/07/SPOT4-HRVIR2-XS_20000907-104645-752_L1C_047-258-0_D_V1-0/SPOT4-HRVIR2-XS_20000907-104645-752_L1C_047-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000907-104645-752_L1C_047-258-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000907-104645-752_L1C_047-258-0_D_V1-0.zip
run script
2024-01-16T14:00:39.626    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:00:39.626    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000907-104645-752_L1C_047-258-0_D_V1-0.zip
2024-01-16T14:00:39.626    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T14:00:39.626    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T14:00:39.626    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:00:39.627    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T14:00:39.627    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T14:00:39.627    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T14:00:39.627    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T14:00:39.627    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000907-104645-752_L1C_047-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/09/08/SPOT4-HRVIR2-XS_20000908-102729-732_L1C_047-258-5_D_V1-0/SPOT4-HRVIR2-XS_20000908-102729-732_L1C_047-258-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000908-102729-732_L1C_047-258-5_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000908-102729-732_L1C_047-258-5_D_V1-0.zip
run script
2024-01-16T14:00:43.257    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:00:43.257    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000908-102729-732_L1C_047-258-5_D_V1-0.zip
2024-01-16T14:00:43.257    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T14:00:43.257    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T14:00:43.257    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:00:43.257    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T14:00:43.257    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T14:00:43.257    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T14:00:43.257    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T14:00:43.257    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000908-102729-732_L1C_047-258-5_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/09/08/SPOT4-HRVIR2-XS_20000908-102732-439_L1C_047-258-8_D_V1-0/SPOT4-HRVIR2-XS_20000908-102732-439_L1C_047-258-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000908-102732-439_L1C_047-258-8_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000908-102732-439_L1C_047-258-8_D_V1-0.zip
run script
2024-01-16T14:00:46.745    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:00:46.745    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000908-102732-439_L1C_047-258-8_D_V1-0.zip
2024-01-16T14:00:46.745    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T14:00:46.745    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T14:00:46.745    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:00:46.745    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T14:00:46.745    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T14:00:46.746    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T14:00:46.746    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T14:00:46.746    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000908-102732-439_L1C_047-258-8_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/09/08/SPOT4-HRVIR1-XS_20000908-102703-120_L1C_049-255-5_D_V1-0/SPOT4-HRVIR1-XS_20000908-102703-120_L1C_049-255-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000908-102703-120_L1C_049-255-5_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000908-102703-120_L1C_049-255-5_D_V1-0.zip
run script
2024-01-16T14:00:50.111    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:00:50.111    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000908-102703-120_L1C_049-255-5_D_V1-0.zip
2024-01-16T14:00:50.111    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T14:00:50.111    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T14:00:50.111    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:00:50.111    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T14:00:50.111    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T14:00:50.111    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T14:00:50.111    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T14:00:50.112    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000908-102703-120_L1C_049-255-5_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/09/08/SPOT4-HRVIR1-XS_20000908-102706-820_L1C_049-256-0_D_V1-0/SPOT4-HRVIR1-XS_20000908-102706-820_L1C_049-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000908-102706-820_L1C_049-256-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000908-102706-820_L1C_049-256-0_D_V1-0.zip
run script
2024-01-16T14:02:17.408    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:02:17.409    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000908-102706-820_L1C_049-256-0_D_V1-0.zip
2024-01-16T14:02:17.409    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T14:02:17.409    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T14:02:17.409    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:02:17.409    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T14:02:17.409    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T14:02:17.409    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T14:02:17.409    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T14:02:17.409    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000908-102706-820_L1C_049-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/09/08/SPOT4-HRVIR1-XS_20000908-102715-043_L1C_049-257-0_D_V1-0/SPOT4-HRVIR1-XS_20000908-102715-043_L1C_049-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000908-102715-043_L1C_049-257-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000908-102715-043_L1C_049-257-0_D_V1-0.zip
run script
2024-01-16T14:04:05.432    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:04:05.433    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000908-102715-043_L1C_049-257-0_D_V1-0.zip
2024-01-16T14:04:05.433    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T14:04:05.433    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T14:04:05.433    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:04:05.434    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T14:04:05.434    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T14:04:05.434    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T14:04:05.434    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T14:04:05.434    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T14:05:34.102    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (76 x 1). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000908-102715-043_L1C_049-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2000/09/08/SPOT4-HRVIR1-XS_20000908-102743-715_L1C_053-260-9_D_V1-0/SPOT4-HRVIR1-XS_20000908-102743-715_L1C_053-260-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000908-102743-715_L1C_053-260-9_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000908-102743-715_L1C_053-260-9_D_V1-0.zip
run script
2024-01-16T14:05:37.586    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:05:37.586    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000908-102743-715_L1C_053-260-9_D_V1-0.zip
2024-01-16T14:05:37.586    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T14:05:37.587    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T14:05:37.587    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:05:37.587    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T14:05:37.587    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T14:05:37.587    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T14:05:37.587    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T14:05:37.587    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000908-102743-715_L1C_053-260-9_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/09/08/SPOT4-HRVIR1-XS_20000908-102743-884_L1C_054-261-0_D_V1-0/SPOT4-HRVIR1-XS_20000908-102743-884_L1C_054-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000908-102743-884_L1C_054-261-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000908-102743-884_L1C_054-261-0_D_V1-0.zip
run script
2024-01-16T14:07:26.444    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:07:26.445    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000908-102743-884_L1C_054-261-0_D_V1-0.zip
2024-01-16T14:07:26.445    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T14:07:26.445    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T14:07:26.445    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:07:26.446    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T14:07:26.446    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T14:07:26.446    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T14:07:26.446    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T14:07:26.446    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000908-102743-884_L1C_054-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/09/08/SPOT4-HRVIR1-XS_20000908-102752-180_L1C_054-262-0_D_V1-0/SPOT4-HRVIR1-XS_20000908-102752-180_L1C_054-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000908-102752-180_L1C_054-262-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000908-102752-180_L1C_054-262-0_D_V1-0.zip
run script
2024-01-16T14:09:14.038    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:09:14.039    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000908-102752-180_L1C_054-262-0_D_V1-0.zip
2024-01-16T14:09:14.039    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T14:09:14.039    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T14:09:14.039    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:09:14.039    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T14:09:14.040    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T14:09:14.040    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T14:09:14.040    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T14:09:14.040    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000908-102752-180_L1C_054-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/09/11/SPOT4-HRVIR2-XS_20000911-110950-592_L1C_047-258-0_D_V1-0/SPOT4-HRVIR2-XS_20000911-110950-592_L1C_047-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000911-110950-592_L1C_047-258-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000911-110950-592_L1C_047-258-0_D_V1-0.zip
run script
2024-01-16T14:11:05.178    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:11:05.179    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000911-110950-592_L1C_047-258-0_D_V1-0.zip
2024-01-16T14:11:05.179    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T14:11:05.179    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T14:11:05.179    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:11:05.179    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T14:11:05.179    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T14:11:05.179    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T14:11:05.180    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T14:11:05.180    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000911-110950-592_L1C_047-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/09/11/SPOT4-HRVIR2-XS_20000911-110958-714_L1C_047-258-9_D_V1-0/SPOT4-HRVIR2-XS_20000911-110958-714_L1C_047-258-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000911-110958-714_L1C_047-258-9_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000911-110958-714_L1C_047-258-9_D_V1-0.zip
run script
2024-01-16T14:11:08.686    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:11:08.687    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000911-110958-714_L1C_047-258-9_D_V1-0.zip
2024-01-16T14:11:08.687    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T14:11:08.687    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T14:11:08.687    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:11:08.687    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T14:11:08.687    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T14:11:08.687    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T14:11:08.687    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T14:11:08.687    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000911-110958-714_L1C_047-258-9_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/09/11/SPOT4-HRVIR2-XS_20000911-110949-323_L1C_048-257-8_D_V1-0/SPOT4-HRVIR2-XS_20000911-110949-323_L1C_048-257-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20000911-110949-323_L1C_048-257-8_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000911-110949-323_L1C_048-257-8_D_V1-0.zip
run script
2024-01-16T14:11:12.172    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:11:12.172    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000911-110949-323_L1C_048-257-8_D_V1-0.zip
2024-01-16T14:11:12.172    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T14:11:12.172    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T14:11:12.172    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:11:12.172    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T14:11:12.173    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T14:11:12.173    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T14:11:12.173    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T14:11:12.173    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20000911-110949-323_L1C_048-257-8_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/07/21/SPOT4-HRVIR1-XS_20000721-111006-430_L1C_047-259-0_D_V1-0/SPOT4-HRVIR1-XS_20000721-111006-430_L1C_047-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000721-111006-430_L1C_047-259-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000721-111006-430_L1C_047-259-0_D_V1-0.zip
run script
2024-01-16T14:11:15.823    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:11:15.823    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000721-111006-430_L1C_047-259-0_D_V1-0.zip
2024-01-16T14:11:15.823    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T14:11:15.823    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T14:11:15.823    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:11:15.823    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T14:11:15.823    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T14:11:15.823    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T14:11:15.823    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T14:11:15.823    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000721-111006-430_L1C_047-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/07/21/SPOT4-HRVIR1-XS_20000721-111014-922_L1C_047-260-0_D_V1-0/SPOT4-HRVIR1-XS_20000721-111014-922_L1C_047-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000721-111014-922_L1C_047-260-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000721-111014-922_L1C_047-260-0_D_V1-0.zip
run script
2024-01-16T14:11:19.782    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:11:19.782    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000721-111014-922_L1C_047-260-0_D_V1-0.zip
2024-01-16T14:11:19.782    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T14:11:19.782    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T14:11:19.783    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:11:19.783    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T14:11:19.783    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T14:11:19.783    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T14:11:19.783    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T14:11:19.783    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000721-111014-922_L1C_047-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/10/28/SPOT4-HRVIR2-XS_20001028-110613-406_L1C_047-259-7_D_V1-0/SPOT4-HRVIR2-XS_20001028-110613-406_L1C_047-259-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20001028-110613-406_L1C_047-259-7_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20001028-110613-406_L1C_047-259-7_D_V1-0.zip
run script
2024-01-16T14:11:23.305    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:11:23.305    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20001028-110613-406_L1C_047-259-7_D_V1-0.zip
2024-01-16T14:11:23.305    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T14:11:23.305    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T14:11:23.305    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:11:23.306    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T14:11:23.306    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T14:11:23.306    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T14:11:23.306    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T14:11:23.306    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20001028-110613-406_L1C_047-259-7_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/10/28/SPOT4-HRVIR2-XS_20001028-110615-541_L1C_047-260-0_D_V1-0/SPOT4-HRVIR2-XS_20001028-110615-541_L1C_047-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20001028-110615-541_L1C_047-260-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20001028-110615-541_L1C_047-260-0_D_V1-0.zip
run script
2024-01-16T14:11:26.749    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:11:26.750    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20001028-110615-541_L1C_047-260-0_D_V1-0.zip
2024-01-16T14:11:26.750    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T14:11:26.750    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T14:11:26.750    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:11:26.750    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T14:11:26.750    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T14:11:26.750    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T14:11:26.750    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T14:11:26.750    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR2-XS_20001028-110615-541_L1C_047-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/01/27/SPOT4-HRVIR1-XS_20000127-105335-766_L1C_048-254-0_D_V1-0/SPOT4-HRVIR1-XS_20000127-105335-766_L1C_048-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000127-105335-766_L1C_048-254-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000127-105335-766_L1C_048-254-0_D_V1-0.zip
run script
2024-01-16T14:11:30.032    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:11:30.033    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000127-105335-766_L1C_048-254-0_D_V1-0.zip
2024-01-16T14:11:30.033    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T14:11:30.033    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T14:11:30.033    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:11:30.033    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T14:11:30.033    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T14:11:30.033    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T14:11:30.033    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T14:11:30.034    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000127-105335-766_L1C_048-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/01/27/SPOT4-HRVIR1-XS_20000127-105344-105_L1C_048-255-0_D_V1-0/SPOT4-HRVIR1-XS_20000127-105344-105_L1C_048-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000127-105344-105_L1C_048-255-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000127-105344-105_L1C_048-255-0_D_V1-0.zip
run script
2024-01-16T14:11:33.491    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:11:33.491    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000127-105344-105_L1C_048-255-0_D_V1-0.zip
2024-01-16T14:11:33.491    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T14:11:33.491    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T14:11:33.491    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:11:33.491    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T14:11:33.492    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T14:11:33.492    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T14:11:33.492    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T14:11:33.492    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000127-105344-105_L1C_048-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4403847/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 0 ... 2 2 2]
 [2 2 0 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/01/27/SPOT4-HRVIR1-XS_20000127-105352-449_L1C_048-256-0_D_V1-0/SPOT4-HRVIR1-XS_20000127-105352-449_L1C_048-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20000127-105352-449_L1C_048-256-0_D_V1-0.zip
/tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000127-105352-449_L1C_048-256-0_D_V1-0.zip
run script
2024-01-16T14:11:49.324    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:11:49.324    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4403847/INPUT/SPOT4-HRVIR1-XS_20000127-105352-449_L1C_048-256-0_D_V1-0.zip
2024-01-16T14:11:49.325    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T14:11:49.325    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T14:11:49.325    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T14:11:49.325    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T14:11:49.325    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T14:11:49.325    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T14:11:49.325    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T14:11:49.325    INFO:run_snow_swh.py::main:Launch snow detection.
