unload conda/22.11.1  : OK 
load conda/22.11.1  : OK 
envs_dirs : /work/scratch/env/barrouz/conda_env/
pkgs_dirs : /work/scratch/env/barrouz/pkgs_conda
INPUT_PATH /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/PYR/23.txt
OUTPUT_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
DEM_PATH /work/CAMPUS/etudes/Neige/DEM
TCD_PATH /work/datalake/static_aux/TreeCoverDensity
MODELS_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
KEEP_REFL 0
MASK 1
start
/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/PYR/23.txt
muscate/SPOTWORLDHERITAGE/1992/04/16/SPOT2-HRV1-XS_19920416-103603-182_L1C_045-263-0_D_V1-0/SPOT2-HRV1-XS_19920416-103603-182_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19920416-103603-182_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920416-103603-182_L1C_045-263-0_D_V1-0.zip
run script
2024-01-10T01:21:04.796    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:21:04.797    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920416-103603-182_L1C_045-263-0_D_V1-0.zip
2024-01-10T01:21:04.797    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:21:04.797    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:21:04.797    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:21:04.797    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:21:04.797    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:21:04.797    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:21:04.797    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:21:04.797    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920416-103603-182_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1992/04/16/SPOT2-HRV1-XS_19920416-103611-466_L1C_045-264-0_D_V1-0/SPOT2-HRV1-XS_19920416-103611-466_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19920416-103611-466_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920416-103611-466_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T01:23:01.563    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:23:01.565    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920416-103611-466_L1C_045-264-0_D_V1-0.zip
2024-01-10T01:23:01.565    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:23:01.565    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:23:01.565    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:23:01.565    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:23:01.565    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:23:01.565    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:23:01.565    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:23:01.565    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920416-103611-466_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1992/08/23/SPOT2-HRV1-XS_19920823-105629-367_L1C_045-263-0_D_V1-0/SPOT2-HRV1-XS_19920823-105629-367_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19920823-105629-367_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920823-105629-367_L1C_045-263-0_D_V1-0.zip
run script
2024-01-10T01:25:43.760    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:25:43.762    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920823-105629-367_L1C_045-263-0_D_V1-0.zip
2024-01-10T01:25:43.762    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:25:43.762    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:25:43.762    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:25:43.762    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:25:43.762    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:25:43.762    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:25:43.762    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:25:43.762    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920823-105629-367_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1992/08/23/SPOT2-HRV1-XS_19920823-105637-727_L1C_045-264-0_D_V1-0/SPOT2-HRV1-XS_19920823-105637-727_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19920823-105637-727_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920823-105637-727_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T01:27:34.250    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:27:34.251    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920823-105637-727_L1C_045-264-0_D_V1-0.zip
2024-01-10T01:27:34.251    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:27:34.251    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:27:34.251    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:27:34.251    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:27:34.251    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:27:34.251    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:27:34.251    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:27:34.251    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920823-105637-727_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1992/08/23/SPOT2-HRV1-XS_19920823-105646-095_L1C_045-265-0_D_V1-0/SPOT2-HRV1-XS_19920823-105646-095_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19920823-105646-095_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920823-105646-095_L1C_045-265-0_D_V1-0.zip
run script
2024-01-10T01:30:04.949    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:30:04.950    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920823-105646-095_L1C_045-265-0_D_V1-0.zip
2024-01-10T01:30:04.950    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:30:04.950    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:30:04.950    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:30:04.951    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:30:04.951    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:30:04.951    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:30:04.951    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:30:04.951    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920823-105646-095_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1992/09/28/SPOT2-HRV2-XS_19920928-110435-638_L1C_045-264-6_D_V1-0/SPOT2-HRV2-XS_19920928-110435-638_L1C_045-264-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19920928-110435-638_L1C_045-264-6_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920928-110435-638_L1C_045-264-6_D_V1-0.zip
run script
2024-01-10T01:30:47.415    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:30:47.417    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920928-110435-638_L1C_045-264-6_D_V1-0.zip
2024-01-10T01:30:47.417    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:30:47.417    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:30:47.417    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:30:47.417    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:30:47.417    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:30:47.417    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:30:47.417    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:30:47.418    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920928-110435-638_L1C_045-264-6_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1992/09/28/SPOT2-HRV2-XS_19920928-110438-646_L1C_045-265-0_D_V1-0/SPOT2-HRV2-XS_19920928-110438-646_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19920928-110438-646_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920928-110438-646_L1C_045-265-0_D_V1-0.zip
run script
2024-01-10T01:32:06.180    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:32:06.181    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920928-110438-646_L1C_045-265-0_D_V1-0.zip
2024-01-10T01:32:06.181    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:32:06.181    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:32:06.181    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:32:06.182    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:32:06.182    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:32:06.182    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:32:06.182    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:32:06.182    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920928-110438-646_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1992/02/24/SPOT2-HRV2-XS_19920224-103618-247_L1C_046-263-0_D_V1-0/SPOT2-HRV2-XS_19920224-103618-247_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19920224-103618-247_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920224-103618-247_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T01:32:51.038    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:32:51.039    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920224-103618-247_L1C_046-263-0_D_V1-0.zip
2024-01-10T01:32:51.039    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:32:51.040    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:32:51.040    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:32:51.040    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:32:51.040    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:32:51.040    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:32:51.040    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:32:51.040    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920224-103618-247_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1992/05/05/SPOT2-HRV2-XS_19920505-111059-339_L1C_046-263-0_D_V1-0/SPOT2-HRV2-XS_19920505-111059-339_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19920505-111059-339_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920505-111059-339_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T01:33:53.597    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:33:53.598    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920505-111059-339_L1C_046-263-0_D_V1-0.zip
2024-01-10T01:33:53.598    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:33:53.598    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:33:53.598    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:33:53.598    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:33:53.598    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:33:53.599    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:33:53.599    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:33:53.599    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920505-111059-339_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1992/05/05/SPOT2-HRV2-XS_19920505-111107-824_L1C_046-264-0_D_V1-0/SPOT2-HRV2-XS_19920505-111107-824_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19920505-111107-824_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920505-111107-824_L1C_046-264-0_D_V1-0.zip
run script
2024-01-10T01:35:03.973    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:35:03.974    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920505-111107-824_L1C_046-264-0_D_V1-0.zip
2024-01-10T01:35:03.974    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:35:03.974    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:35:03.974    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:35:03.974    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:35:03.975    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:35:03.975    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:35:03.975    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:35:03.975    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920505-111107-824_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1992/05/05/SPOT2-HRV2-XS_19920505-111116-316_L1C_046-265-0_D_V1-0/SPOT2-HRV2-XS_19920505-111116-316_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19920505-111116-316_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920505-111116-316_L1C_046-265-0_D_V1-0.zip
run script
2024-01-10T01:37:11.979    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:37:11.980    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920505-111116-316_L1C_046-265-0_D_V1-0.zip
2024-01-10T01:37:11.980    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:37:11.980    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:37:11.980    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:37:11.980    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:37:11.980    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:37:11.980    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:37:11.980    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:37:11.981    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920505-111116-316_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1992/05/11/SPOT2-HRV1-XS_19920511-105541-975_L1C_046-263-0_D_V1-0/SPOT2-HRV1-XS_19920511-105541-975_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19920511-105541-975_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920511-105541-975_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T01:38:00.878    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:38:00.879    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920511-105541-975_L1C_046-263-0_D_V1-0.zip
2024-01-10T01:38:00.879    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:38:00.880    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:38:00.880    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:38:00.880    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:38:00.880    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:38:00.880    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:38:00.880    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:38:00.880    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920511-105541-975_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1992/05/11/SPOT2-HRV1-XS_19920511-105550-352_L1C_046-264-0_D_V1-0/SPOT2-HRV1-XS_19920511-105550-352_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19920511-105550-352_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920511-105550-352_L1C_046-264-0_D_V1-0.zip
run script
2024-01-10T01:38:41.682    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:38:41.683    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920511-105550-352_L1C_046-264-0_D_V1-0.zip
2024-01-10T01:38:41.683    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:38:41.684    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:38:41.684    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:38:41.684    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:38:41.684    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:38:41.684    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:38:41.684    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:38:41.684    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920511-105550-352_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1992/05/16/SPOT2-HRV2-XS_19920516-105938-230_L1C_046-263-0_D_V1-0/SPOT2-HRV2-XS_19920516-105938-230_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19920516-105938-230_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920516-105938-230_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T01:40:07.088    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:40:07.089    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920516-105938-230_L1C_046-263-0_D_V1-0.zip
2024-01-10T01:40:07.090    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:40:07.090    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:40:07.090    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:40:07.090    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:40:07.090    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:40:07.090    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:40:07.090    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:40:07.090    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920516-105938-230_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1992/05/16/SPOT2-HRV2-XS_19920516-105946-632_L1C_046-264-0_D_V1-0/SPOT2-HRV2-XS_19920516-105946-632_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19920516-105946-632_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920516-105946-632_L1C_046-264-0_D_V1-0.zip
run script
2024-01-10T01:40:54.864    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:40:54.865    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920516-105946-632_L1C_046-264-0_D_V1-0.zip
2024-01-10T01:40:54.865    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:40:54.865    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:40:54.865    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:40:54.866    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:40:54.866    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:40:54.866    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:40:54.866    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:40:54.866    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920516-105946-632_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1992/05/16/SPOT2-HRV2-XS_19920516-105955-036_L1C_046-265-0_D_V1-0/SPOT2-HRV2-XS_19920516-105955-036_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19920516-105955-036_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920516-105955-036_L1C_046-265-0_D_V1-0.zip
run script
2024-01-10T01:42:30.629    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:42:30.631    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920516-105955-036_L1C_046-265-0_D_V1-0.zip
2024-01-10T01:42:30.631    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:42:30.631    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:42:30.631    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:42:30.631    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:42:30.631    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:42:30.631    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:42:30.631    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:42:30.631    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920516-105955-036_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1992/08/08/SPOT2-HRV1-XS_19920808-104449-649_L1C_046-263-0_D_V1-0/SPOT2-HRV1-XS_19920808-104449-649_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19920808-104449-649_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920808-104449-649_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T01:43:08.651    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:43:08.653    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920808-104449-649_L1C_046-263-0_D_V1-0.zip
2024-01-10T01:43:08.653    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:43:08.653    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:43:08.653    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:43:08.653    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:43:08.653    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:43:08.653    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:43:08.653    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:43:08.653    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920808-104449-649_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1992/08/08/SPOT2-HRV1-XS_19920808-104455-063_L1C_046-263-6_D_V1-0/SPOT2-HRV1-XS_19920808-104455-063_L1C_046-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19920808-104455-063_L1C_046-263-6_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920808-104455-063_L1C_046-263-6_D_V1-0.zip
run script
2024-01-10T01:43:59.894    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:43:59.895    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920808-104455-063_L1C_046-263-6_D_V1-0.zip
2024-01-10T01:43:59.895    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:43:59.896    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:43:59.896    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:43:59.896    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:43:59.896    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:43:59.896    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:43:59.896    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:43:59.896    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920808-104455-063_L1C_046-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1992/08/13/SPOT2-HRV2-XS_19920813-104842-885_L1C_046-263-0_D_V1-0/SPOT2-HRV2-XS_19920813-104842-885_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19920813-104842-885_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920813-104842-885_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T01:45:25.848    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:45:25.850    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920813-104842-885_L1C_046-263-0_D_V1-0.zip
2024-01-10T01:45:25.850    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:45:25.850    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:45:25.850    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:45:25.850    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:45:25.850    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:45:25.850    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:45:25.850    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:45:25.850    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920813-104842-885_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1992/08/13/SPOT2-HRV2-XS_19920813-104851-217_L1C_046-264-0_D_V1-0/SPOT2-HRV2-XS_19920813-104851-217_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19920813-104851-217_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920813-104851-217_L1C_046-264-0_D_V1-0.zip
run script
2024-01-10T01:46:20.597    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:46:20.598    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920813-104851-217_L1C_046-264-0_D_V1-0.zip
2024-01-10T01:46:20.598    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:46:20.598    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:46:20.598    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:46:20.598    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:46:20.598    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:46:20.599    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:46:20.599    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:46:20.599    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920813-104851-217_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1992/08/13/SPOT2-HRV2-XS_19920813-104859-555_L1C_046-265-0_D_V1-0/SPOT2-HRV2-XS_19920813-104859-555_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19920813-104859-555_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920813-104859-555_L1C_046-265-0_D_V1-0.zip
run script
2024-01-10T01:47:54.243    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:47:54.244    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920813-104859-555_L1C_046-265-0_D_V1-0.zip
2024-01-10T01:47:54.244    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:47:54.244    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:47:54.244    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:47:54.244    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:47:54.244    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:47:54.244    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:47:54.245    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:47:54.245    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920813-104859-555_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1992/08/18/SPOT2-HRV2-XS_19920818-105252-247_L1C_046-265-0_D_V1-0/SPOT2-HRV2-XS_19920818-105252-247_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19920818-105252-247_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920818-105252-247_L1C_046-265-0_D_V1-0.zip
run script
2024-01-10T01:48:27.000    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:48:27.001    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920818-105252-247_L1C_046-265-0_D_V1-0.zip
2024-01-10T01:48:27.001    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:48:27.001    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:48:27.001    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:48:27.001    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:48:27.001    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:48:27.001    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:48:27.002    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:48:27.002    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19920818-105252-247_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1992/05/07/SPOT2-HRV1-XS_19920507-103233-143_L1C_047-264-0_D_V1-0/SPOT2-HRV1-XS_19920507-103233-143_L1C_047-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19920507-103233-143_L1C_047-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920507-103233-143_L1C_047-264-0_D_V1-0.zip
run script
2024-01-10T01:48:59.316    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:48:59.317    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920507-103233-143_L1C_047-264-0_D_V1-0.zip
2024-01-10T01:48:59.317    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:48:59.317    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:48:59.317    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:48:59.317    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:48:59.317    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:48:59.317    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:48:59.317    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:48:59.317    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920507-103233-143_L1C_047-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1992/05/07/SPOT2-HRV1-XS_19920507-103241-433_L1C_047-265-0_D_V1-0/SPOT2-HRV1-XS_19920507-103241-433_L1C_047-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19920507-103241-433_L1C_047-265-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920507-103241-433_L1C_047-265-0_D_V1-0.zip
run script
2024-01-10T01:49:40.390    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:49:40.391    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920507-103241-433_L1C_047-265-0_D_V1-0.zip
2024-01-10T01:49:40.391    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:49:40.391    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:49:40.391    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:49:40.391    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:49:40.391    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:49:40.391    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:49:40.391    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:49:40.392    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19920507-103241-433_L1C_047-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/02/14/SPOT2-HRV1-XS_19930214-113137-256_L1C_036-262-0_D_V1-0/SPOT2-HRV1-XS_19930214-113137-256_L1C_036-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930214-113137-256_L1C_036-262-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930214-113137-256_L1C_036-262-0_D_V1-0.zip
run script
2024-01-10T01:49:57.506    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:49:57.507    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930214-113137-256_L1C_036-262-0_D_V1-0.zip
2024-01-10T01:49:57.507    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:49:57.507    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:49:57.507    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:49:57.507    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:49:57.507    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:49:57.507    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:49:57.508    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:49:57.508    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T01:49:59.711    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 169). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930214-113137-256_L1C_036-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/1993/07/31/SPOT2-HRV1-XS_19930731-111852-069_L1C_036-262-0_D_V1-0/SPOT2-HRV1-XS_19930731-111852-069_L1C_036-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930731-111852-069_L1C_036-262-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930731-111852-069_L1C_036-262-0_D_V1-0.zip
run script
2024-01-10T01:50:02.674    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:50:02.674    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930731-111852-069_L1C_036-262-0_D_V1-0.zip
2024-01-10T01:50:02.674    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:50:02.674    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:50:02.674    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:50:02.674    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:50:02.675    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:50:02.675    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:50:02.675    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:50:02.675    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T01:50:04.006    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (0 x 3340). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930731-111852-069_L1C_036-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/1993/06/19/SPOT2-HRV1-XS_19930619-112710-962_L1C_036-263-6_D_V1-0/SPOT2-HRV1-XS_19930619-112710-962_L1C_036-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930619-112710-962_L1C_036-263-6_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930619-112710-962_L1C_036-263-6_D_V1-0.zip
run script
2024-01-10T01:50:07.022    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:50:07.022    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930619-112710-962_L1C_036-263-6_D_V1-0.zip
2024-01-10T01:50:07.022    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:50:07.022    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:50:07.022    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:50:07.022    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:50:07.022    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:50:07.022    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:50:07.023    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:50:07.023    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930619-112710-962_L1C_036-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/06/19/SPOT2-HRV2-XS_19930619-112710-749_L1C_038-263-9_D_V1-0/SPOT2-HRV2-XS_19930619-112710-749_L1C_038-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930619-112710-749_L1C_038-263-9_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930619-112710-749_L1C_038-263-9_D_V1-0.zip
run script
2024-01-10T01:52:11.835    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:52:11.836    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930619-112710-749_L1C_038-263-9_D_V1-0.zip
2024-01-10T01:52:11.836    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:52:11.836    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:52:11.836    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:52:11.836    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:52:11.836    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:52:11.836    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:52:11.836    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:52:11.836    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930619-112710-749_L1C_038-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/06/25/SPOT2-HRV2-XS_19930625-111137-762_L1C_036-263-0_D_V1-0/SPOT2-HRV2-XS_19930625-111137-762_L1C_036-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930625-111137-762_L1C_036-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930625-111137-762_L1C_036-263-0_D_V1-0.zip
run script
2024-01-10T01:55:49.830    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:55:49.831    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930625-111137-762_L1C_036-263-0_D_V1-0.zip
2024-01-10T01:55:49.831    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:55:49.831    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:55:49.831    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:55:49.832    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:55:49.832    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:55:49.832    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:55:49.832    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:55:49.832    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930625-111137-762_L1C_036-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/05/04/SPOT2-HRV1-XS_19930504-111203-011_L1C_037-262-6_D_V1-0/SPOT2-HRV1-XS_19930504-111203-011_L1C_037-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930504-111203-011_L1C_037-262-6_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930504-111203-011_L1C_037-262-6_D_V1-0.zip
run script
2024-01-10T01:56:24.877    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:56:24.878    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930504-111203-011_L1C_037-262-6_D_V1-0.zip
2024-01-10T01:56:24.878    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:56:24.879    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:56:24.879    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:56:24.879    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:56:24.879    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:56:24.879    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:56:24.879    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:56:24.879    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930504-111203-011_L1C_037-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/05/04/SPOT2-HRV1-XS_19930504-111205-953_L1C_037-263-0_D_V1-0/SPOT2-HRV1-XS_19930504-111205-953_L1C_037-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930504-111205-953_L1C_037-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930504-111205-953_L1C_037-263-0_D_V1-0.zip
run script
2024-01-10T01:57:32.378    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:57:32.380    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930504-111205-953_L1C_037-263-0_D_V1-0.zip
2024-01-10T01:57:32.380    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:57:32.380    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:57:32.380    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:57:32.380    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:57:32.380    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:57:32.380    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:57:32.380    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:57:32.380    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930504-111205-953_L1C_037-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/05/04/SPOT2-HRV1-XS_19930504-111206-855_L1C_037-263-1_D_V1-0/SPOT2-HRV1-XS_19930504-111206-855_L1C_037-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930504-111206-855_L1C_037-263-1_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930504-111206-855_L1C_037-263-1_D_V1-0.zip
run script
2024-01-10T01:59:19.497    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T01:59:19.499    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930504-111206-855_L1C_037-263-1_D_V1-0.zip
2024-01-10T01:59:19.499    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:59:19.499    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:59:19.499    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:59:19.499    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:59:19.499    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:59:19.499    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:59:19.499    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:59:19.499    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930504-111206-855_L1C_037-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/05/04/SPOT2-HRV2-XS_19930504-111200-656_L1C_041-263-0_D_V1-0/SPOT2-HRV2-XS_19930504-111200-656_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930504-111200-656_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930504-111200-656_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T02:01:16.240    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T02:01:16.242    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930504-111200-656_L1C_041-263-0_D_V1-0.zip
2024-01-10T02:01:16.242    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:01:16.242    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:01:16.242    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:01:16.242    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:01:16.242    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:01:16.242    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:01:16.242    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:01:16.242    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930504-111200-656_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/05/04/SPOT2-HRV2-XS_19930504-111206-972_L1C_041-263-7_D_V1-0/SPOT2-HRV2-XS_19930504-111206-972_L1C_041-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930504-111206-972_L1C_041-263-7_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930504-111206-972_L1C_041-263-7_D_V1-0.zip
run script
2024-01-10T02:03:36.987    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T02:03:36.987    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930504-111206-972_L1C_041-263-7_D_V1-0.zip
2024-01-10T02:03:36.987    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:03:36.987    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:03:36.987    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:03:36.987    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:03:36.987    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:03:36.987    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:03:36.987    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:03:36.987    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930504-111206-972_L1C_041-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 0 ... 2 2 2]
 [2 0 0 ... 2 2 2]
 [2 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/01/14/SPOT2-HRV2-XS_19930114-112758-623_L1C_037-263-0_D_V1-0/SPOT2-HRV2-XS_19930114-112758-623_L1C_037-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930114-112758-623_L1C_037-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930114-112758-623_L1C_037-263-0_D_V1-0.zip
run script
2024-01-10T02:06:58.696    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T02:06:58.697    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930114-112758-623_L1C_037-263-0_D_V1-0.zip
2024-01-10T02:06:58.697    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:06:58.697    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:06:58.697    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:06:58.697    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:06:58.697    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:06:58.697    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:06:58.697    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:06:58.697    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930114-112758-623_L1C_037-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 2]
 [2 2 2 ... 0 0 2]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/06/09/SPOT2-HRV1-XS_19930609-111930-325_L1C_037-263-0_D_V1-0/SPOT2-HRV1-XS_19930609-111930-325_L1C_037-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930609-111930-325_L1C_037-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930609-111930-325_L1C_037-263-0_D_V1-0.zip
run script
2024-01-10T02:09:19.911    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T02:09:19.912    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930609-111930-325_L1C_037-263-0_D_V1-0.zip
2024-01-10T02:09:19.912    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:09:19.912    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:09:19.912    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:09:19.912    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:09:19.912    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:09:19.912    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:09:19.912    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:09:19.912    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930609-111930-325_L1C_037-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/06/09/SPOT2-HRV1-XS_19930609-111931-227_L1C_037-263-1_D_V1-0/SPOT2-HRV1-XS_19930609-111931-227_L1C_037-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930609-111931-227_L1C_037-263-1_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930609-111931-227_L1C_037-263-1_D_V1-0.zip
run script
2024-01-10T02:11:20.678    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T02:11:20.680    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930609-111931-227_L1C_037-263-1_D_V1-0.zip
2024-01-10T02:11:20.680    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:11:20.680    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:11:20.680    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:11:20.680    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:11:20.680    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:11:20.680    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:11:20.680    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:11:20.680    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930609-111931-227_L1C_037-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/06/09/SPOT2-HRV2-XS_19930609-111925-918_L1C_040-263-0_D_V1-0/SPOT2-HRV2-XS_19930609-111925-918_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930609-111925-918_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930609-111925-918_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T02:13:32.667    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T02:13:32.668    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930609-111925-918_L1C_040-263-0_D_V1-0.zip
2024-01-10T02:13:32.668    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:13:32.668    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:13:32.668    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:13:32.668    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:13:32.668    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:13:32.668    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:13:32.668    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:13:32.668    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930609-111925-918_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/06/09/SPOT2-HRV2-XS_19930609-111931-332_L1C_040-263-6_D_V1-0/SPOT2-HRV2-XS_19930609-111931-332_L1C_040-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930609-111931-332_L1C_040-263-6_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930609-111931-332_L1C_040-263-6_D_V1-0.zip
run script
2024-01-10T02:16:15.198    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T02:16:15.199    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930609-111931-332_L1C_040-263-6_D_V1-0.zip
2024-01-10T02:16:15.199    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:16:15.199    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:16:15.199    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:16:15.199    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:16:15.200    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:16:15.200    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:16:15.200    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:16:15.200    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930609-111931-332_L1C_040-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/04/18/SPOT2-HRV1-XS_19930418-111948-031_L1C_038-262-8_D_V1-0/SPOT2-HRV1-XS_19930418-111948-031_L1C_038-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930418-111948-031_L1C_038-262-8_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930418-111948-031_L1C_038-262-8_D_V1-0.zip
run script
2024-01-10T02:20:18.609    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T02:20:18.611    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930418-111948-031_L1C_038-262-8_D_V1-0.zip
2024-01-10T02:20:18.611    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:20:18.611    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:20:18.611    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:20:18.611    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:20:18.611    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:20:18.611    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:20:18.611    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:20:18.611    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930418-111948-031_L1C_038-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/04/18/SPOT2-HRV1-XS_19930418-111949-231_L1C_038-263-0_D_V1-0/SPOT2-HRV1-XS_19930418-111949-231_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930418-111949-231_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930418-111949-231_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T02:21:58.769    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T02:21:58.771    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930418-111949-231_L1C_038-263-0_D_V1-0.zip
2024-01-10T02:21:58.771    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:21:58.771    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:21:58.771    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:21:58.771    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:21:58.771    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:21:58.771    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:21:58.771    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:21:58.771    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930418-111949-231_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/04/18/SPOT2-HRV1-XS_19930418-111950-133_L1C_038-263-1_D_V1-0/SPOT2-HRV1-XS_19930418-111950-133_L1C_038-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930418-111950-133_L1C_038-263-1_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930418-111950-133_L1C_038-263-1_D_V1-0.zip
run script
2024-01-10T02:24:13.435    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T02:24:13.436    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930418-111950-133_L1C_038-263-1_D_V1-0.zip
2024-01-10T02:24:13.436    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:24:13.436    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:24:13.436    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:24:13.436    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:24:13.436    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:24:13.436    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:24:13.437    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:24:13.437    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930418-111950-133_L1C_038-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/04/18/SPOT2-HRV2-XS_19930418-111945-519_L1C_041-263-1_D_V1-0/SPOT2-HRV2-XS_19930418-111945-519_L1C_041-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930418-111945-519_L1C_041-263-1_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930418-111945-519_L1C_041-263-1_D_V1-0.zip
run script
2024-01-10T02:26:43.280    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T02:26:43.280    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930418-111945-519_L1C_041-263-1_D_V1-0.zip
2024-01-10T02:26:43.280    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:26:43.280    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:26:43.280    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:26:43.281    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:26:43.281    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:26:43.281    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:26:43.281    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:26:43.281    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930418-111945-519_L1C_041-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/04/18/SPOT2-HRV2-XS_19930418-111950-031_L1C_041-263-6_D_V1-0/SPOT2-HRV2-XS_19930418-111950-031_L1C_041-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930418-111950-031_L1C_041-263-6_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930418-111950-031_L1C_041-263-6_D_V1-0.zip
run script
2024-01-10T02:29:43.389    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T02:29:43.390    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930418-111950-031_L1C_041-263-6_D_V1-0.zip
2024-01-10T02:29:43.390    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:29:43.390    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:29:43.390    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:29:43.390    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:29:43.390    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:29:43.391    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:29:43.391    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:29:43.391    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930418-111950-031_L1C_041-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/11/22/SPOT2-HRV2-XS_19931122-112516-995_L1C_038-262-4_D_V1-0/SPOT2-HRV2-XS_19931122-112516-995_L1C_038-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19931122-112516-995_L1C_038-262-4_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19931122-112516-995_L1C_038-262-4_D_V1-0.zip
run script
2024-01-10T02:33:44.108    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T02:33:44.110    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19931122-112516-995_L1C_038-262-4_D_V1-0.zip
2024-01-10T02:33:44.110    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:33:44.110    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:33:44.110    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:33:44.110    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:33:44.110    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:33:44.110    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:33:44.110    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:33:44.110    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19931122-112516-995_L1C_038-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/04/19/SPOT2-HRV1-XS_19930419-110031-178_L1C_038-263-0_D_V1-0/SPOT2-HRV1-XS_19930419-110031-178_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930419-110031-178_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930419-110031-178_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T02:34:51.593    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T02:34:51.594    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930419-110031-178_L1C_038-263-0_D_V1-0.zip
2024-01-10T02:34:51.595    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:34:51.595    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:34:51.595    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:34:51.595    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:34:51.595    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:34:51.595    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:34:51.595    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:34:51.595    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930419-110031-178_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/04/19/SPOT2-HRV2-XS_19930419-110027-225_L1C_042-263-0_D_V1-0/SPOT2-HRV2-XS_19930419-110027-225_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930419-110027-225_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930419-110027-225_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T02:36:45.670    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T02:36:45.671    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930419-110027-225_L1C_042-263-0_D_V1-0.zip
2024-01-10T02:36:45.671    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:36:45.671    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:36:45.671    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:36:45.671    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:36:45.671    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:36:45.671    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:36:45.671    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:36:45.671    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930419-110027-225_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/04/19/SPOT2-HRV2-XS_19930419-110030-835_L1C_042-263-4_D_V1-0/SPOT2-HRV2-XS_19930419-110030-835_L1C_042-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930419-110030-835_L1C_042-263-4_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930419-110030-835_L1C_042-263-4_D_V1-0.zip
run script
2024-01-10T02:38:51.376    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T02:38:51.377    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930419-110030-835_L1C_042-263-4_D_V1-0.zip
2024-01-10T02:38:51.377    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:38:51.377    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:38:51.377    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:38:51.377    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:38:51.377    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:38:51.377    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:38:51.378    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:38:51.378    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930419-110030-835_L1C_042-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/08/05/SPOT2-HRV1-XS_19930805-112244-865_L1C_038-263-0_D_V1-0/SPOT2-HRV1-XS_19930805-112244-865_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930805-112244-865_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930805-112244-865_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T02:41:51.879    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T02:41:51.881    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930805-112244-865_L1C_038-263-0_D_V1-0.zip
2024-01-10T02:41:51.881    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:41:51.881    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:41:51.881    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:41:51.881    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:41:51.881    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:41:51.881    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:41:51.881    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:41:51.881    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930805-112244-865_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/08/05/SPOT2-HRV1-XS_19930805-112253-330_L1C_038-264-0_D_V1-0/SPOT2-HRV1-XS_19930805-112253-330_L1C_038-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930805-112253-330_L1C_038-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930805-112253-330_L1C_038-264-0_D_V1-0.zip
run script
2024-01-10T02:44:17.350    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T02:44:17.352    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930805-112253-330_L1C_038-264-0_D_V1-0.zip
2024-01-10T02:44:17.352    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:44:17.352    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:44:17.352    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:44:17.352    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:44:17.352    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:44:17.352    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:44:17.352    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:44:17.352    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930805-112253-330_L1C_038-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/09/12/SPOT2-HRV1-XS_19930912-105132-574_L1C_038-263-0_D_V1-0/SPOT2-HRV1-XS_19930912-105132-574_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930912-105132-574_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930912-105132-574_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T02:47:46.766    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T02:47:46.768    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930912-105132-574_L1C_038-263-0_D_V1-0.zip
2024-01-10T02:47:46.768    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:47:46.768    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:47:46.768    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:47:46.768    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:47:46.768    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:47:46.768    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:47:46.768    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:47:46.768    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930912-105132-574_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/09/12/SPOT2-HRV1-XS_19930912-105140-864_L1C_038-264-0_D_V1-0/SPOT2-HRV1-XS_19930912-105140-864_L1C_038-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930912-105140-864_L1C_038-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930912-105140-864_L1C_038-264-0_D_V1-0.zip
run script
2024-01-10T02:49:41.059    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T02:49:41.060    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930912-105140-864_L1C_038-264-0_D_V1-0.zip
2024-01-10T02:49:41.060    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:49:41.060    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:49:41.060    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:49:41.060    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:49:41.060    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:49:41.060    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:49:41.060    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:49:41.060    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930912-105140-864_L1C_038-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/09/01/SPOT2-HRV1-XS_19930901-110310-334_L1C_039-262-6_D_V1-0/SPOT2-HRV1-XS_19930901-110310-334_L1C_039-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930901-110310-334_L1C_039-262-6_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930901-110310-334_L1C_039-262-6_D_V1-0.zip
run script
2024-01-10T02:52:17.087    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T02:52:17.088    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930901-110310-334_L1C_039-262-6_D_V1-0.zip
2024-01-10T02:52:17.088    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:52:17.088    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:52:17.089    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:52:17.089    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:52:17.089    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:52:17.089    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:52:17.089    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:52:17.089    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T02:53:17.979    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (84 x 1). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930901-110310-334_L1C_039-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/1993/09/01/SPOT2-HRV1-XS_19930901-110320-483_L1C_039-263-8_D_V1-0/SPOT2-HRV1-XS_19930901-110320-483_L1C_039-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930901-110320-483_L1C_039-263-8_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930901-110320-483_L1C_039-263-8_D_V1-0.zip
run script
2024-01-10T02:53:20.867    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T02:53:20.868    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930901-110320-483_L1C_039-263-8_D_V1-0.zip
2024-01-10T02:53:20.868    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:53:20.868    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:53:20.868    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:53:20.868    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:53:20.868    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:53:20.868    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:53:20.868    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:53:20.868    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930901-110320-483_L1C_039-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/09/01/SPOT2-HRV1-XS_19930901-110321-608_L1C_039-264-0_D_V1-0/SPOT2-HRV1-XS_19930901-110321-608_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930901-110321-608_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930901-110321-608_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T02:55:39.317    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T02:55:39.318    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930901-110321-608_L1C_039-264-0_D_V1-0.zip
2024-01-10T02:55:39.318    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:55:39.319    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:55:39.319    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:55:39.319    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:55:39.319    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:55:39.319    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:55:39.319    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:55:39.319    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930901-110321-608_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/09/01/SPOT2-HRV2-XS_19930901-110310-794_L1C_041-263-0_D_V1-0/SPOT2-HRV2-XS_19930901-110310-794_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930901-110310-794_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930901-110310-794_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T02:57:57.874    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T02:57:57.875    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930901-110310-794_L1C_041-263-0_D_V1-0.zip
2024-01-10T02:57:57.875    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:57:57.875    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:57:57.875    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:57:57.875    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:57:57.876    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:57:57.876    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:57:57.876    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:57:57.876    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930901-110310-794_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/09/01/SPOT2-HRV2-XS_19930901-110319-162_L1C_041-264-0_D_V1-0/SPOT2-HRV2-XS_19930901-110319-162_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930901-110319-162_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930901-110319-162_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T02:59:46.691    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T02:59:46.692    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930901-110319-162_L1C_041-264-0_D_V1-0.zip
2024-01-10T02:59:46.692    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:59:46.692    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:59:46.692    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:59:46.692    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:59:46.692    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:59:46.693    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:59:46.693    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:59:46.693    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930901-110319-162_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/09/05/SPOT2-HRV2-XS_19930905-112617-132_L1C_039-262-6_D_V1-0/SPOT2-HRV2-XS_19930905-112617-132_L1C_039-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930905-112617-132_L1C_039-262-6_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930905-112617-132_L1C_039-262-6_D_V1-0.zip
run script
2024-01-10T03:02:19.093    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:02:19.094    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930905-112617-132_L1C_039-262-6_D_V1-0.zip
2024-01-10T03:02:19.094    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:02:19.094    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:02:19.095    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:02:19.095    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:02:19.095    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:02:19.095    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:02:19.095    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:02:19.095    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930905-112617-132_L1C_039-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/03/29/SPOT2-HRV1-XS_19930329-110433-084_L1C_039-263-5_D_V1-0/SPOT2-HRV1-XS_19930329-110433-084_L1C_039-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930329-110433-084_L1C_039-263-5_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930329-110433-084_L1C_039-263-5_D_V1-0.zip
run script
2024-01-10T03:04:25.978    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:04:25.979    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930329-110433-084_L1C_039-263-5_D_V1-0.zip
2024-01-10T03:04:25.979    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:04:25.979    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:04:25.980    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:04:25.980    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:04:25.980    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:04:25.980    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:04:25.980    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:04:25.980    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930329-110433-084_L1C_039-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/03/29/SPOT2-HRV1-XS_19930329-110436-910_L1C_039-264-0_D_V1-0/SPOT2-HRV1-XS_19930329-110436-910_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930329-110436-910_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930329-110436-910_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T03:06:40.913    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:06:40.915    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930329-110436-910_L1C_039-264-0_D_V1-0.zip
2024-01-10T03:06:40.915    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:06:40.915    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:06:40.915    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:06:40.915    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:06:40.915    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:06:40.915    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:06:40.915    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:06:40.915    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930329-110436-910_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/03/29/SPOT2-HRV1-XS_19930329-110437-813_L1C_039-264-1_D_V1-0/SPOT2-HRV1-XS_19930329-110437-813_L1C_039-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930329-110437-813_L1C_039-264-1_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930329-110437-813_L1C_039-264-1_D_V1-0.zip
run script
2024-01-10T03:09:01.664    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:09:01.666    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930329-110437-813_L1C_039-264-1_D_V1-0.zip
2024-01-10T03:09:01.666    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:09:01.666    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:09:01.666    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:09:01.666    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:09:01.666    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:09:01.666    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:09:01.666    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:09:01.666    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930329-110437-813_L1C_039-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/03/29/SPOT2-HRV2-XS_19930329-110433-334_L1C_040-263-7_D_V1-0/SPOT2-HRV2-XS_19930329-110433-334_L1C_040-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930329-110433-334_L1C_040-263-7_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930329-110433-334_L1C_040-263-7_D_V1-0.zip
run script
2024-01-10T03:11:24.857    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:11:24.859    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930329-110433-334_L1C_040-263-7_D_V1-0.zip
2024-01-10T03:11:24.859    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:11:24.859    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:11:24.859    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:11:24.859    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:11:24.859    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:11:24.859    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:11:24.859    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:11:24.859    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930329-110433-334_L1C_040-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/03/29/SPOT2-HRV2-XS_19930329-110435-367_L1C_040-264-0_D_V1-0/SPOT2-HRV2-XS_19930329-110435-367_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930329-110435-367_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930329-110435-367_L1C_040-264-0_D_V1-0.zip
run script
2024-01-10T03:13:37.204    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:13:37.206    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930329-110435-367_L1C_040-264-0_D_V1-0.zip
2024-01-10T03:13:37.206    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:13:37.206    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:13:37.206    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:13:37.206    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:13:37.206    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:13:37.206    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:13:37.206    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:13:37.206    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930329-110435-367_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/03/29/SPOT2-HRV1-XS_19930329-110406-972_L1C_048-262-0_D_V1-0/SPOT2-HRV1-XS_19930329-110406-972_L1C_048-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930329-110406-972_L1C_048-262-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930329-110406-972_L1C_048-262-0_D_V1-0.zip
run script
2024-01-10T03:15:45.630    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:15:45.632    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930329-110406-972_L1C_048-262-0_D_V1-0.zip
2024-01-10T03:15:45.632    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:15:45.632    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:15:45.632    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:15:45.632    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:15:45.632    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:15:45.632    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:15:45.632    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:15:45.632    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930329-110406-972_L1C_048-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1993/07/16/SPOT2-HRV1-XS_19930716-110731-525_L1C_039-263-0_D_V1-0/SPOT2-HRV1-XS_19930716-110731-525_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930716-110731-525_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930716-110731-525_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T03:15:48.694    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:15:48.695    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930716-110731-525_L1C_039-263-0_D_V1-0.zip
2024-01-10T03:15:48.695    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:15:48.695    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:15:48.695    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:15:48.696    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:15:48.696    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:15:48.696    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:15:48.696    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:15:48.696    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930716-110731-525_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/07/16/SPOT2-HRV2-XS_19930716-110730-767_L1C_039-263-0_D_V1-0/SPOT2-HRV2-XS_19930716-110730-767_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930716-110730-767_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930716-110730-767_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T03:17:23.791    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:17:23.793    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930716-110730-767_L1C_039-263-0_D_V1-0.zip
2024-01-10T03:17:23.793    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:17:23.793    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:17:23.793    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:17:23.793    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:17:23.793    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:17:23.793    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:17:23.793    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:17:23.793    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T03:17:25.615    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (308 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930716-110730-767_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/1993/07/16/SPOT2-HRV1-XS_19930716-110739-885_L1C_039-264-0_D_V1-0/SPOT2-HRV1-XS_19930716-110739-885_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930716-110739-885_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930716-110739-885_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T03:17:28.508    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:17:28.508    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930716-110739-885_L1C_039-264-0_D_V1-0.zip
2024-01-10T03:17:28.508    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:17:28.508    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:17:28.508    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:17:28.508    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:17:28.508    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:17:28.508    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:17:28.508    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:17:28.508    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930716-110739-885_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/07/16/SPOT2-HRV2-XS_19930716-110739-136_L1C_039-264-0_D_V1-0/SPOT2-HRV2-XS_19930716-110739-136_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930716-110739-136_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930716-110739-136_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T03:19:41.675    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:19:41.676    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930716-110739-136_L1C_039-264-0_D_V1-0.zip
2024-01-10T03:19:41.676    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:19:41.676    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:19:41.676    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:19:41.676    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:19:41.676    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:19:41.676    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:19:41.676    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:19:41.677    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930716-110739-136_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/07/17/SPOT2-HRV1-XS_19930717-104811-768_L1C_039-263-0_D_V1-0/SPOT2-HRV1-XS_19930717-104811-768_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930717-104811-768_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930717-104811-768_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T03:22:02.569    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:22:02.570    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930717-104811-768_L1C_039-263-0_D_V1-0.zip
2024-01-10T03:22:02.570    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:22:02.571    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:22:02.571    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:22:02.571    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:22:02.571    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:22:02.571    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:22:02.571    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:22:02.571    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930717-104811-768_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/07/17/SPOT2-HRV1-XS_19930717-104820-046_L1C_039-264-0_D_V1-0/SPOT2-HRV1-XS_19930717-104820-046_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930717-104820-046_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930717-104820-046_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T03:23:49.984    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:23:49.985    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930717-104820-046_L1C_039-264-0_D_V1-0.zip
2024-01-10T03:23:49.985    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:23:49.985    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:23:49.985    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:23:49.986    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:23:49.986    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:23:49.986    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:23:49.986    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:23:49.986    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930717-104820-046_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/07/17/SPOT2-HRV2-XS_19930717-104819-123_L1C_040-264-0_D_V1-0/SPOT2-HRV2-XS_19930717-104819-123_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930717-104819-123_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930717-104819-123_L1C_040-264-0_D_V1-0.zip
run script
2024-01-10T03:26:23.049    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:26:23.050    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930717-104819-123_L1C_040-264-0_D_V1-0.zip
2024-01-10T03:26:23.050    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:26:23.050    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:26:23.050    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:26:23.051    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:26:23.051    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:26:23.051    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:26:23.051    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:26:23.051    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930717-104819-123_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/07/21/SPOT2-HRV1-XS_19930721-111119-515_L1C_039-263-0_D_V1-0/SPOT2-HRV1-XS_19930721-111119-515_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930721-111119-515_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930721-111119-515_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T03:28:48.161    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:28:48.163    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930721-111119-515_L1C_039-263-0_D_V1-0.zip
2024-01-10T03:28:48.163    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:28:48.163    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:28:48.163    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:28:48.163    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:28:48.163    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:28:48.163    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:28:48.163    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:28:48.163    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930721-111119-515_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 2]
 [2 2 2 2]
 [2 2 2 2]
 ...
 [2 2 2 2]
 [2 2 2 2]
 [2 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/07/21/SPOT2-HRV1-XS_19930721-111127-904_L1C_039-264-0_D_V1-0/SPOT2-HRV1-XS_19930721-111127-904_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930721-111127-904_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930721-111127-904_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T03:30:23.859    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:30:23.860    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930721-111127-904_L1C_039-264-0_D_V1-0.zip
2024-01-10T03:30:23.860    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:30:23.861    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:30:23.861    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:30:23.861    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:30:23.861    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:30:23.861    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:30:23.861    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:30:23.861    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930721-111127-904_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/07/21/SPOT2-HRV2-XS_19930721-111122-872_L1C_043-264-0_D_V1-0/SPOT2-HRV2-XS_19930721-111122-872_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930721-111122-872_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930721-111122-872_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T03:32:50.542    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:32:50.544    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930721-111122-872_L1C_043-264-0_D_V1-0.zip
2024-01-10T03:32:50.544    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:32:50.544    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:32:50.544    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:32:50.544    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:32:50.544    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:32:50.544    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:32:50.544    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:32:50.544    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930721-111122-872_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/07/22/SPOT2-HRV1-XS_19930722-105200-204_L1C_039-263-0_D_V1-0/SPOT2-HRV1-XS_19930722-105200-204_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930722-105200-204_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930722-105200-204_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T03:35:29.333    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:35:29.334    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930722-105200-204_L1C_039-263-0_D_V1-0.zip
2024-01-10T03:35:29.334    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:35:29.334    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:35:29.334    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:35:29.334    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:35:29.334    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:35:29.335    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:35:29.335    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:35:29.335    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T03:35:31.818    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (296 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930722-105200-204_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/1993/07/22/SPOT2-HRV1-XS_19930722-105208-497_L1C_039-264-0_D_V1-0/SPOT2-HRV1-XS_19930722-105208-497_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930722-105208-497_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930722-105208-497_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T03:35:34.820    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:35:34.820    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930722-105208-497_L1C_039-264-0_D_V1-0.zip
2024-01-10T03:35:34.820    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:35:34.820    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:35:34.820    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:35:34.820    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:35:34.820    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:35:34.820    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:35:34.820    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:35:34.820    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930722-105208-497_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/07/22/SPOT2-HRV2-XS_19930722-105156-396_L1C_043-263-0_D_V1-0/SPOT2-HRV2-XS_19930722-105156-396_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930722-105156-396_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930722-105156-396_L1C_043-263-0_D_V1-0.zip
run script
2024-01-10T03:37:56.880    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:37:56.882    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930722-105156-396_L1C_043-263-0_D_V1-0.zip
2024-01-10T03:37:56.882    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:37:56.882    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:37:56.882    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:37:56.882    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:37:56.882    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:37:56.882    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:37:56.882    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:37:56.882    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930722-105156-396_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/07/22/SPOT2-HRV2-XS_19930722-105204-716_L1C_043-264-0_D_V1-0/SPOT2-HRV2-XS_19930722-105204-716_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930722-105204-716_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930722-105204-716_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T03:39:39.378    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:39:39.380    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930722-105204-716_L1C_043-264-0_D_V1-0.zip
2024-01-10T03:39:39.380    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:39:39.380    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:39:39.380    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:39:39.380    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:39:39.380    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:39:39.380    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:39:39.380    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:39:39.380    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930722-105204-716_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/07/26/SPOT2-HRV1-XS_19930726-111507-892_L1C_039-263-0_D_V1-0/SPOT2-HRV1-XS_19930726-111507-892_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930726-111507-892_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930726-111507-892_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T03:41:52.748    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:41:52.750    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930726-111507-892_L1C_039-263-0_D_V1-0.zip
2024-01-10T03:41:52.750    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:41:52.750    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:41:52.750    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:41:52.750    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:41:52.750    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:41:52.750    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:41:52.750    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:41:52.750    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930726-111507-892_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/07/26/SPOT2-HRV1-XS_19930726-111516-308_L1C_039-264-0_D_V1-0/SPOT2-HRV1-XS_19930726-111516-308_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930726-111516-308_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930726-111516-308_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T03:43:37.965    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:43:37.967    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930726-111516-308_L1C_039-264-0_D_V1-0.zip
2024-01-10T03:43:37.967    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:43:37.967    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:43:37.967    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:43:37.967    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:43:37.967    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:43:37.967    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:43:37.967    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:43:37.967    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930726-111516-308_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/09/02/SPOT2-HRV1-XS_19930902-104352-864_L1C_039-263-0_D_V1-0/SPOT2-HRV1-XS_19930902-104352-864_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930902-104352-864_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930902-104352-864_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T03:46:08.622    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:46:08.623    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930902-104352-864_L1C_039-263-0_D_V1-0.zip
2024-01-10T03:46:08.623    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:46:08.624    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:46:08.624    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:46:08.624    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:46:08.624    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:46:08.624    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:46:08.624    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:46:08.624    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T03:47:47.972    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (142 x 1). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930902-104352-864_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/1993/09/02/SPOT2-HRV1-XS_19930902-104401-142_L1C_039-264-0_D_V1-0/SPOT2-HRV1-XS_19930902-104401-142_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930902-104401-142_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930902-104401-142_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T03:47:51.178    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:47:51.178    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930902-104401-142_L1C_039-264-0_D_V1-0.zip
2024-01-10T03:47:51.178    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:47:51.178    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:47:51.178    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:47:51.178    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:47:51.178    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:47:51.178    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:47:51.178    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:47:51.178    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930902-104401-142_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/09/02/SPOT2-HRV2-XS_19930902-104350-885_L1C_041-263-0_D_V1-0/SPOT2-HRV2-XS_19930902-104350-885_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930902-104350-885_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930902-104350-885_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T03:50:32.223    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:50:32.224    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930902-104350-885_L1C_041-263-0_D_V1-0.zip
2024-01-10T03:50:32.224    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:50:32.224    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:50:32.224    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:50:32.224    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:50:32.224    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:50:32.224    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:50:32.224    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:50:32.225    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930902-104350-885_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 0]
 [2 2 2 ... 2 2 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/09/02/SPOT2-HRV2-XS_19930902-104359-172_L1C_042-264-0_D_V1-0/SPOT2-HRV2-XS_19930902-104359-172_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930902-104359-172_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930902-104359-172_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T03:52:26.537    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:52:26.537    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930902-104359-172_L1C_042-264-0_D_V1-0.zip
2024-01-10T03:52:26.537    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:52:26.537    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:52:26.537    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:52:26.538    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:52:26.538    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:52:26.538    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:52:26.538    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:52:26.538    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930902-104359-172_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/09/28/SPOT2-HRV1-XS_19930928-104344-454_L1C_039-263-8_D_V1-0/SPOT2-HRV1-XS_19930928-104344-454_L1C_039-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930928-104344-454_L1C_039-263-8_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930928-104344-454_L1C_039-263-8_D_V1-0.zip
run script
2024-01-10T03:55:07.466    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:55:07.466    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930928-104344-454_L1C_039-263-8_D_V1-0.zip
2024-01-10T03:55:07.467    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:55:07.467    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:55:07.467    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:55:07.467    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:55:07.467    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:55:07.467    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:55:07.467    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:55:07.467    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930928-104344-454_L1C_039-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/09/28/SPOT2-HRV1-XS_19930928-104345-504_L1C_039-264-0_D_V1-0/SPOT2-HRV1-XS_19930928-104345-504_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930928-104345-504_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930928-104345-504_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T03:57:55.475    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T03:57:55.477    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930928-104345-504_L1C_039-264-0_D_V1-0.zip
2024-01-10T03:57:55.477    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:57:55.477    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:57:55.477    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:57:55.477    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:57:55.477    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:57:55.477    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:57:55.477    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:57:55.477    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930928-104345-504_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/12/18/SPOT2-HRV2-XS_19931218-112517-297_L1C_039-263-0_D_V1-0/SPOT2-HRV2-XS_19931218-112517-297_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19931218-112517-297_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19931218-112517-297_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T04:00:41.397    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:00:41.399    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19931218-112517-297_L1C_039-263-0_D_V1-0.zip
2024-01-10T04:00:41.399    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:00:41.399    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:00:41.399    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:00:41.399    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:00:41.399    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:00:41.399    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:00:41.399    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:00:41.399    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19931218-112517-297_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/12/18/SPOT2-HRV2-XS_19931218-112525-798_L1C_039-264-0_D_V1-0/SPOT2-HRV2-XS_19931218-112525-798_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19931218-112525-798_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19931218-112525-798_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T04:03:02.768    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:03:02.769    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19931218-112525-798_L1C_039-264-0_D_V1-0.zip
2024-01-10T04:03:02.769    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:03:02.769    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:03:02.769    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:03:02.769    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:03:02.769    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:03:02.770    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:03:02.770    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:03:02.770    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19931218-112525-798_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/06/14/SPOT2-HRV2-XS_19930614-112313-291_L1C_040-263-0_D_V1-0/SPOT2-HRV2-XS_19930614-112313-291_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930614-112313-291_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930614-112313-291_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T04:06:33.439    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:06:33.439    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930614-112313-291_L1C_040-263-0_D_V1-0.zip
2024-01-10T04:06:33.439    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:06:33.439    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:06:33.439    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:06:33.439    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:06:33.439    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:06:33.439    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:06:33.440    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:06:33.440    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930614-112313-291_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/06/14/SPOT2-HRV2-XS_19930614-112321-779_L1C_040-264-0_D_V1-0/SPOT2-HRV2-XS_19930614-112321-779_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930614-112321-779_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930614-112321-779_L1C_040-264-0_D_V1-0.zip
run script
2024-01-10T04:09:04.832    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:09:04.833    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930614-112321-779_L1C_040-264-0_D_V1-0.zip
2024-01-10T04:09:04.833    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:09:04.833    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:09:04.833    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:09:04.833    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:09:04.834    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:09:04.834    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:09:04.834    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:09:04.834    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T04:09:07.449    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (496 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930614-112321-779_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/1993/01/09/SPOT2-HRV2-XS_19930109-112401-613_L1C_041-263-0_D_V1-0/SPOT2-HRV2-XS_19930109-112401-613_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930109-112401-613_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930109-112401-613_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T04:09:10.486    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:09:10.488    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930109-112401-613_L1C_041-263-0_D_V1-0.zip
2024-01-10T04:09:10.488    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:09:10.488    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:09:10.488    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:09:10.488    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:09:10.488    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:09:10.488    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:09:10.488    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:09:10.488    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930109-112401-613_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/01/09/SPOT2-HRV2-XS_19930109-112410-114_L1C_041-264-0_D_V1-0/SPOT2-HRV2-XS_19930109-112410-114_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930109-112410-114_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930109-112410-114_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T04:11:40.125    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:11:40.126    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930109-112410-114_L1C_041-264-0_D_V1-0.zip
2024-01-10T04:11:40.126    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:11:40.126    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:11:40.126    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:11:40.126    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:11:40.126    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:11:40.126    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:11:40.127    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:11:40.127    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930109-112410-114_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/04/03/SPOT2-HRV2-XS_19930403-110813-327_L1C_041-263-0_D_V1-0/SPOT2-HRV2-XS_19930403-110813-327_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930403-110813-327_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930403-110813-327_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T04:15:28.391    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:15:28.392    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930403-110813-327_L1C_041-263-0_D_V1-0.zip
2024-01-10T04:15:28.392    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:15:28.393    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:15:28.393    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:15:28.393    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:15:28.393    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:15:28.393    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:15:28.393    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:15:28.393    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930403-110813-327_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/04/03/SPOT2-HRV2-XS_19930403-110814-229_L1C_041-263-1_D_V1-0/SPOT2-HRV2-XS_19930403-110814-229_L1C_041-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930403-110814-229_L1C_041-263-1_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930403-110814-229_L1C_041-263-1_D_V1-0.zip
run script
2024-01-10T04:17:31.381    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:17:31.382    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930403-110814-229_L1C_041-263-1_D_V1-0.zip
2024-01-10T04:17:31.382    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:17:31.382    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:17:31.383    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:17:31.383    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:17:31.383    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:17:31.383    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:17:31.383    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:17:31.383    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930403-110814-229_L1C_041-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/04/29/SPOT2-HRV1-XS_19930429-110810-931_L1C_041-263-1_D_V1-0/SPOT2-HRV1-XS_19930429-110810-931_L1C_041-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930429-110810-931_L1C_041-263-1_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930429-110810-931_L1C_041-263-1_D_V1-0.zip
run script
2024-01-10T04:19:41.573    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:19:41.574    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930429-110810-931_L1C_041-263-1_D_V1-0.zip
2024-01-10T04:19:41.575    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:19:41.575    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:19:41.575    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:19:41.575    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:19:41.575    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:19:41.575    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:19:41.575    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:19:41.575    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930429-110810-931_L1C_041-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/04/29/SPOT2-HRV1-XS_19930429-110816-345_L1C_041-263-7_D_V1-0/SPOT2-HRV1-XS_19930429-110816-345_L1C_041-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930429-110816-345_L1C_041-263-7_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930429-110816-345_L1C_041-263-7_D_V1-0.zip
run script
2024-01-10T04:21:55.439    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:21:55.440    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930429-110816-345_L1C_041-263-7_D_V1-0.zip
2024-01-10T04:21:55.440    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:21:55.440    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:21:55.440    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:21:55.440    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:21:55.440    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:21:55.440    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:21:55.441    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:21:55.441    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930429-110816-345_L1C_041-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/05/16/SPOT2-HRV1-XS_19930516-104100-561_L1C_042-262-8_D_V1-0/SPOT2-HRV1-XS_19930516-104100-561_L1C_042-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930516-104100-561_L1C_042-262-8_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930516-104100-561_L1C_042-262-8_D_V1-0.zip
run script
2024-01-10T04:24:50.570    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:24:50.570    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930516-104100-561_L1C_042-262-8_D_V1-0.zip
2024-01-10T04:24:50.570    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:24:50.570    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:24:50.571    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:24:50.571    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:24:50.571    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:24:50.571    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:24:50.571    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:24:50.571    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930516-104100-561_L1C_042-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/07/12/SPOT2-HRV1-XS_19930712-104427-547_L1C_042-264-0_D_V1-0/SPOT2-HRV1-XS_19930712-104427-547_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930712-104427-547_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930712-104427-547_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T04:26:39.177    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:26:39.179    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930712-104427-547_L1C_042-264-0_D_V1-0.zip
2024-01-10T04:26:39.179    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:26:39.179    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:26:39.179    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:26:39.179    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:26:39.179    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:26:39.179    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:26:39.179    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:26:39.179    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930712-104427-547_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/12/04/SPOT2-HRV2-XS_19931204-105419-318_L1C_043-263-6_D_V1-0/SPOT2-HRV2-XS_19931204-105419-318_L1C_043-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19931204-105419-318_L1C_043-263-6_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19931204-105419-318_L1C_043-263-6_D_V1-0.zip
run script
2024-01-10T04:29:30.854    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:29:30.855    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19931204-105419-318_L1C_043-263-6_D_V1-0.zip
2024-01-10T04:29:30.855    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:29:30.855    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:29:30.856    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:29:30.856    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:29:30.856    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:29:30.856    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:29:30.856    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:29:30.856    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19931204-105419-318_L1C_043-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/12/04/SPOT2-HRV2-XS_19931204-105422-242_L1C_043-264-0_D_V1-0/SPOT2-HRV2-XS_19931204-105422-242_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19931204-105422-242_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19931204-105422-242_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T04:31:58.373    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:31:58.375    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19931204-105422-242_L1C_043-264-0_D_V1-0.zip
2024-01-10T04:31:58.375    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:31:58.375    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:31:58.375    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:31:58.375    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:31:58.375    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:31:58.375    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:31:58.375    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:31:58.375    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19931204-105422-242_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/03/20/SPOT2-HRV1-XS_19930320-103734-410_L1C_043-264-1_D_V1-0/SPOT2-HRV1-XS_19930320-103734-410_L1C_043-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930320-103734-410_L1C_043-264-1_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930320-103734-410_L1C_043-264-1_D_V1-0.zip
run script
2024-01-10T04:34:24.109    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:34:24.110    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930320-103734-410_L1C_043-264-1_D_V1-0.zip
2024-01-10T04:34:24.110    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:34:24.110    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:34:24.110    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:34:24.110    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:34:24.110    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:34:24.110    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:34:24.110    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:34:24.111    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930320-103734-410_L1C_043-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/12/05/SPOT2-HRV1-XS_19931205-103501-500_L1C_043-264-0_D_V1-0/SPOT2-HRV1-XS_19931205-103501-500_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19931205-103501-500_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19931205-103501-500_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T04:37:16.957    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:37:16.958    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19931205-103501-500_L1C_043-264-0_D_V1-0.zip
2024-01-10T04:37:16.958    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:37:16.958    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:37:16.958    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:37:16.958    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:37:16.958    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:37:16.958    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:37:16.958    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:37:16.959    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19931205-103501-500_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/03/18/SPOT2-HRV1-XS_19930318-111600-842_L1C_044-263-0_D_V1-0/SPOT2-HRV1-XS_19930318-111600-842_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930318-111600-842_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930318-111600-842_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T04:40:07.898    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:40:07.899    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930318-111600-842_L1C_044-263-0_D_V1-0.zip
2024-01-10T04:40:07.899    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:40:07.899    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:40:07.899    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:40:07.899    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:40:07.900    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:40:07.900    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:40:07.900    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:40:07.900    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930318-111600-842_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/03/18/SPOT2-HRV1-XS_19930318-111609-331_L1C_044-264-0_D_V1-0/SPOT2-HRV1-XS_19930318-111609-331_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930318-111609-331_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930318-111609-331_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T04:42:30.180    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:42:30.181    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930318-111609-331_L1C_044-264-0_D_V1-0.zip
2024-01-10T04:42:30.181    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:42:30.181    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:42:30.181    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:42:30.181    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:42:30.181    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:42:30.181    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:42:30.181    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:42:30.181    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930318-111609-331_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/03/18/SPOT2-HRV1-XS_19930318-111613-843_L1C_044-264-5_D_V1-0/SPOT2-HRV1-XS_19930318-111613-843_L1C_044-264-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930318-111613-843_L1C_044-264-5_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930318-111613-843_L1C_044-264-5_D_V1-0.zip
run script
2024-01-10T04:46:01.507    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:46:01.508    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930318-111613-843_L1C_044-264-5_D_V1-0.zip
2024-01-10T04:46:01.508    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:46:01.508    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:46:01.508    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:46:01.508    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:46:01.508    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:46:01.509    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:46:01.509    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:46:01.509    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930318-111613-843_L1C_044-264-5_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/08/12/SPOT2-HRV1-XS_19930812-104749-461_L1C_044-263-0_D_V1-0/SPOT2-HRV1-XS_19930812-104749-461_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930812-104749-461_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930812-104749-461_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T04:48:19.526    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:48:19.528    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930812-104749-461_L1C_044-263-0_D_V1-0.zip
2024-01-10T04:48:19.528    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:48:19.528    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:48:19.528    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:48:19.528    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:48:19.528    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:48:19.528    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:48:19.528    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:48:19.528    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930812-104749-461_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/08/12/SPOT2-HRV1-XS_19930812-104757-778_L1C_044-264-0_D_V1-0/SPOT2-HRV1-XS_19930812-104757-778_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930812-104757-778_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930812-104757-778_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T04:50:15.762    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:50:15.764    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930812-104757-778_L1C_044-264-0_D_V1-0.zip
2024-01-10T04:50:15.764    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:50:15.764    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:50:15.764    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:50:15.764    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:50:15.764    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:50:15.764    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:50:15.764    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:50:15.764    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930812-104757-778_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/08/12/SPOT2-HRV1-XS_19930812-104806-101_L1C_044-265-0_D_V1-0/SPOT2-HRV1-XS_19930812-104806-101_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930812-104806-101_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930812-104806-101_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T04:53:00.540    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:53:00.541    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930812-104806-101_L1C_044-265-0_D_V1-0.zip
2024-01-10T04:53:00.541    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:53:00.541    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:53:00.541    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:53:00.541    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:53:00.541    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:53:00.542    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:53:00.542    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:53:00.542    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930812-104806-101_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/12/30/SPOT2-HRV2-XS_19931230-105424-026_L1C_044-263-5_D_V1-0/SPOT2-HRV2-XS_19931230-105424-026_L1C_044-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19931230-105424-026_L1C_044-263-5_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19931230-105424-026_L1C_044-263-5_D_V1-0.zip
run script
2024-01-10T04:53:40.128    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:53:40.129    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19931230-105424-026_L1C_044-263-5_D_V1-0.zip
2024-01-10T04:53:40.129    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:53:40.129    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:53:40.129    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:53:40.129    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:53:40.129    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:53:40.129    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:53:40.129    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:53:40.129    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19931230-105424-026_L1C_044-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/12/30/SPOT2-HRV2-XS_19931230-105427-873_L1C_044-264-0_D_V1-0/SPOT2-HRV2-XS_19931230-105427-873_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19931230-105427-873_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19931230-105427-873_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T04:56:10.847    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:56:10.849    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19931230-105427-873_L1C_044-264-0_D_V1-0.zip
2024-01-10T04:56:10.849    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:56:10.849    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:56:10.849    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:56:10.849    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:56:10.849    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:56:10.849    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:56:10.849    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:56:10.849    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T04:56:13.932    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (212 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19931230-105427-873_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/1993/12/30/SPOT2-HRV2-XS_19931230-105436-238_L1C_044-265-0_D_V1-0/SPOT2-HRV2-XS_19931230-105436-238_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19931230-105436-238_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19931230-105436-238_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T04:56:17.188    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:56:17.189    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19931230-105436-238_L1C_044-265-0_D_V1-0.zip
2024-01-10T04:56:17.189    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:56:17.189    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:56:17.189    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:56:17.189    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:56:17.189    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:56:17.189    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:56:17.189    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:56:17.189    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19931230-105436-238_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/11/28/SPOT2-HRV1-XS_19931128-110941-920_L1C_045-263-0_D_V1-0/SPOT2-HRV1-XS_19931128-110941-920_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19931128-110941-920_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19931128-110941-920_L1C_045-263-0_D_V1-0.zip
run script
2024-01-10T04:57:02.410    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:57:02.411    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19931128-110941-920_L1C_045-263-0_D_V1-0.zip
2024-01-10T04:57:02.411    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:57:02.411    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:57:02.411    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:57:02.411    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:57:02.411    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:57:02.411    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:57:02.412    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:57:02.412    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19931128-110941-920_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/11/28/SPOT2-HRV1-XS_19931128-110949-139_L1C_045-263-8_D_V1-0/SPOT2-HRV1-XS_19931128-110949-139_L1C_045-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19931128-110949-139_L1C_045-263-8_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19931128-110949-139_L1C_045-263-8_D_V1-0.zip
run script
2024-01-10T04:59:02.331    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T04:59:02.332    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19931128-110949-139_L1C_045-263-8_D_V1-0.zip
2024-01-10T04:59:02.333    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:59:02.333    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:59:02.333    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:59:02.333    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:59:02.333    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:59:02.333    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:59:02.333    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:59:02.333    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19931128-110949-139_L1C_045-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/05/25/SPOT2-HRV1-XS_19930525-110753-703_L1C_046-263-0_D_V1-0/SPOT2-HRV1-XS_19930525-110753-703_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930525-110753-703_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930525-110753-703_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T05:02:20.212    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:02:20.214    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930525-110753-703_L1C_046-263-0_D_V1-0.zip
2024-01-10T05:02:20.214    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:02:20.214    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:02:20.214    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:02:20.214    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:02:20.214    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:02:20.214    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:02:20.214    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:02:20.214    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930525-110753-703_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/05/25/SPOT2-HRV1-XS_19930525-110801-824_L1C_046-263-9_D_V1-0/SPOT2-HRV1-XS_19930525-110801-824_L1C_046-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930525-110801-824_L1C_046-263-9_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930525-110801-824_L1C_046-263-9_D_V1-0.zip
run script
2024-01-10T05:03:07.381    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:03:07.382    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930525-110801-824_L1C_046-263-9_D_V1-0.zip
2024-01-10T05:03:07.382    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:03:07.382    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:03:07.382    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:03:07.382    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:03:07.382    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:03:07.382    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:03:07.383    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:03:07.383    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930525-110801-824_L1C_046-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/06/16/SPOT2-HRV1-XS_19930616-104429-007_L1C_046-263-0_D_V1-0/SPOT2-HRV1-XS_19930616-104429-007_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930616-104429-007_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930616-104429-007_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T05:04:50.003    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:04:50.004    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930616-104429-007_L1C_046-263-0_D_V1-0.zip
2024-01-10T05:04:50.004    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:04:50.005    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:04:50.005    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:04:50.005    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:04:50.005    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:04:50.005    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:04:50.005    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:04:50.005    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930616-104429-007_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/06/16/SPOT2-HRV1-XS_19930616-104437-322_L1C_046-264-0_D_V1-0/SPOT2-HRV1-XS_19930616-104437-322_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930616-104437-322_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930616-104437-322_L1C_046-264-0_D_V1-0.zip
run script
2024-01-10T05:05:33.049    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:05:33.050    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930616-104437-322_L1C_046-264-0_D_V1-0.zip
2024-01-10T05:05:33.051    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:05:33.051    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:05:33.051    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:05:33.051    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:05:33.051    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:05:33.051    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:05:33.051    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:05:33.051    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930616-104437-322_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/06/16/SPOT2-HRV1-XS_19930616-104438-224_L1C_046-264-1_D_V1-0/SPOT2-HRV1-XS_19930616-104438-224_L1C_046-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930616-104438-224_L1C_046-264-1_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930616-104438-224_L1C_046-264-1_D_V1-0.zip
run script
2024-01-10T05:06:57.782    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:06:57.783    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930616-104438-224_L1C_046-264-1_D_V1-0.zip
2024-01-10T05:06:57.783    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:06:57.783    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:06:57.783    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:06:57.783    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:06:57.784    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:06:57.784    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:06:57.784    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:06:57.784    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930616-104438-224_L1C_046-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/08/28/SPOT2-HRV1-XS_19930828-104001-751_L1C_046-263-6_D_V1-0/SPOT2-HRV1-XS_19930828-104001-751_L1C_046-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930828-104001-751_L1C_046-263-6_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930828-104001-751_L1C_046-263-6_D_V1-0.zip
run script
2024-01-10T05:08:18.317    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:08:18.318    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930828-104001-751_L1C_046-263-6_D_V1-0.zip
2024-01-10T05:08:18.319    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:08:18.319    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:08:18.319    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:08:18.319    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:08:18.319    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:08:18.319    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:08:18.319    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:08:18.319    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930828-104001-751_L1C_046-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/08/28/SPOT2-HRV1-XS_19930828-104004-636_L1C_046-264-0_D_V1-0/SPOT2-HRV1-XS_19930828-104004-636_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930828-104004-636_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930828-104004-636_L1C_046-264-0_D_V1-0.zip
run script
2024-01-10T05:09:06.435    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:09:06.436    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930828-104004-636_L1C_046-264-0_D_V1-0.zip
2024-01-10T05:09:06.437    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:09:06.437    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:09:06.437    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:09:06.437    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:09:06.437    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:09:06.437    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:09:06.437    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:09:06.437    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930828-104004-636_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 2 0 0]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/08/28/SPOT2-HRV1-XS_19930828-104012-947_L1C_046-265-0_D_V1-0/SPOT2-HRV1-XS_19930828-104012-947_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19930828-104012-947_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930828-104012-947_L1C_046-265-0_D_V1-0.zip
run script
2024-01-10T05:10:03.776    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:10:03.777    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930828-104012-947_L1C_046-265-0_D_V1-0.zip
2024-01-10T05:10:03.777    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:10:03.778    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:10:03.778    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:10:03.778    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:10:03.778    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:10:03.778    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:10:03.778    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:10:03.778    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19930828-104012-947_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/07/06/SPOT2-HRV2-XS_19930706-105959-682_L1C_047-265-0_D_V1-0/SPOT2-HRV2-XS_19930706-105959-682_L1C_047-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930706-105959-682_L1C_047-265-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930706-105959-682_L1C_047-265-0_D_V1-0.zip
run script
2024-01-10T05:10:28.176    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:10:28.177    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930706-105959-682_L1C_047-265-0_D_V1-0.zip
2024-01-10T05:10:28.177    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:10:28.177    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:10:28.177    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:10:28.177    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:10:28.177    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:10:28.177    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:10:28.177    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:10:28.177    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930706-105959-682_L1C_047-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1993/05/20/SPOT2-HRV2-XS_19930520-110353-422_L1C_048-262-0_D_V1-0/SPOT2-HRV2-XS_19930520-110353-422_L1C_048-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19930520-110353-422_L1C_048-262-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930520-110353-422_L1C_048-262-0_D_V1-0.zip
run script
2024-01-10T05:10:43.107    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:10:43.108    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930520-110353-422_L1C_048-262-0_D_V1-0.zip
2024-01-10T05:10:43.108    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:10:43.109    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:10:43.109    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:10:43.109    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:10:43.109    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:10:43.109    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:10:43.109    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:10:43.109    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19930520-110353-422_L1C_048-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1994/02/13/SPOT2-HRV1-XS_19940213-112911-623_L1C_036-262-0_D_V1-0/SPOT2-HRV1-XS_19940213-112911-623_L1C_036-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940213-112911-623_L1C_036-262-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940213-112911-623_L1C_036-262-0_D_V1-0.zip
run script
2024-01-10T05:10:46.068    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:10:46.069    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940213-112911-623_L1C_036-262-0_D_V1-0.zip
2024-01-10T05:10:46.070    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:10:46.070    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:10:46.070    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:10:46.070    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:10:46.070    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:10:46.070    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:10:46.070    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:10:46.070    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T05:10:48.548    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 424). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940213-112911-623_L1C_036-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/1994/04/12/SPOT2-HRV1-XS_19940412-111353-190_L1C_036-262-0_D_V1-0/SPOT2-HRV1-XS_19940412-111353-190_L1C_036-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940412-111353-190_L1C_036-262-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940412-111353-190_L1C_036-262-0_D_V1-0.zip
run script
2024-01-10T05:10:51.603    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:10:51.604    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940412-111353-190_L1C_036-262-0_D_V1-0.zip
2024-01-10T05:10:51.604    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:10:51.605    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:10:51.605    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:10:51.605    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:10:51.605    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:10:51.605    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:10:51.605    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:10:51.605    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940412-111353-190_L1C_036-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1994/05/30/SPOT2-HRV1-XS_19940530-105045-161_L1C_036-262-8_D_V1-0/SPOT2-HRV1-XS_19940530-105045-161_L1C_036-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940530-105045-161_L1C_036-262-8_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940530-105045-161_L1C_036-262-8_D_V1-0.zip
run script
2024-01-10T05:10:54.847    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:10:54.848    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940530-105045-161_L1C_036-262-8_D_V1-0.zip
2024-01-10T05:10:54.848    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:10:54.848    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:10:54.849    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:10:54.849    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:10:54.849    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:10:54.849    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:10:54.849    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:10:54.849    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940530-105045-161_L1C_036-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/05/30/SPOT2-HRV1-XS_19940530-105046-211_L1C_037-263-0_D_V1-0/SPOT2-HRV1-XS_19940530-105046-211_L1C_037-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940530-105046-211_L1C_037-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940530-105046-211_L1C_037-263-0_D_V1-0.zip
run script
2024-01-10T05:12:30.818    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:12:30.820    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940530-105046-211_L1C_037-263-0_D_V1-0.zip
2024-01-10T05:12:30.820    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:12:30.820    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:12:30.820    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:12:30.820    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:12:30.820    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:12:30.820    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:12:30.820    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:12:30.820    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940530-105046-211_L1C_037-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/05/30/SPOT2-HRV2-XS_19940530-105045-143_L1C_039-263-1_D_V1-0/SPOT2-HRV2-XS_19940530-105045-143_L1C_039-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940530-105045-143_L1C_039-263-1_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940530-105045-143_L1C_039-263-1_D_V1-0.zip
run script
2024-01-10T05:14:20.924    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:14:20.925    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940530-105045-143_L1C_039-263-1_D_V1-0.zip
2024-01-10T05:14:20.925    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:14:20.925    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:14:20.925    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:14:20.925    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:14:20.925    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:14:20.925    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:14:20.925    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:14:20.926    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940530-105045-143_L1C_039-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/05/30/SPOT2-HRV2-XS_19940530-105052-531_L1C_039-264-0_D_V1-0/SPOT2-HRV2-XS_19940530-105052-531_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940530-105052-531_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940530-105052-531_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T05:16:37.522    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:16:37.523    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940530-105052-531_L1C_039-264-0_D_V1-0.zip
2024-01-10T05:16:37.524    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:16:37.524    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:16:37.524    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:16:37.524    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:16:37.524    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:16:37.524    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:16:37.524    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:16:37.524    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940530-105052-531_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/10/05/SPOT2-HRV1-XS_19941005-112855-136_L1C_036-262-0_D_V1-0/SPOT2-HRV1-XS_19941005-112855-136_L1C_036-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19941005-112855-136_L1C_036-262-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941005-112855-136_L1C_036-262-0_D_V1-0.zip
run script
2024-01-10T05:19:30.687    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:19:30.688    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941005-112855-136_L1C_036-262-0_D_V1-0.zip
2024-01-10T05:19:30.688    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:19:30.688    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:19:30.688    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:19:30.689    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:19:30.689    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:19:30.689    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:19:30.689    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:19:30.689    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T05:19:34.013    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 402). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941005-112855-136_L1C_036-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/1994/01/29/SPOT2-HRV2-XS_19940129-111741-851_L1C_036-263-0_D_V1-0/SPOT2-HRV2-XS_19940129-111741-851_L1C_036-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940129-111741-851_L1C_036-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940129-111741-851_L1C_036-263-0_D_V1-0.zip
run script
2024-01-10T05:19:37.312    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:19:37.312    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940129-111741-851_L1C_036-263-0_D_V1-0.zip
2024-01-10T05:19:37.312    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:19:37.312    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:19:37.312    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:19:37.312    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:19:37.312    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:19:37.312    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:19:37.312    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:19:37.312    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940129-111741-851_L1C_036-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/03/27/SPOT2-HRV1-XS_19940327-112143-867_L1C_036-263-0_D_V1-0/SPOT2-HRV1-XS_19940327-112143-867_L1C_036-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940327-112143-867_L1C_036-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940327-112143-867_L1C_036-263-0_D_V1-0.zip
run script
2024-01-10T05:21:04.288    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:21:04.289    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940327-112143-867_L1C_036-263-0_D_V1-0.zip
2024-01-10T05:21:04.289    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:21:04.289    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:21:04.289    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:21:04.289    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:21:04.289    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:21:04.289    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:21:04.290    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:21:04.290    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940327-112143-867_L1C_036-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/03/27/SPOT2-HRV2-XS_19940327-112141-310_L1C_038-263-0_D_V1-0/SPOT2-HRV2-XS_19940327-112141-310_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940327-112141-310_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940327-112141-310_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T05:22:40.714    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:22:40.716    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940327-112141-310_L1C_038-263-0_D_V1-0.zip
2024-01-10T05:22:40.716    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:22:40.716    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:22:40.716    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:22:40.716    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:22:40.716    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:22:40.716    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:22:40.716    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:22:40.716    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940327-112141-310_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/04/23/SPOT2-HRV1-XS_19940423-110220-015_L1C_037-262-5_D_V1-0/SPOT2-HRV1-XS_19940423-110220-015_L1C_037-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940423-110220-015_L1C_037-262-5_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940423-110220-015_L1C_037-262-5_D_V1-0.zip
run script
2024-01-10T05:24:58.809    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:24:58.810    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940423-110220-015_L1C_037-262-5_D_V1-0.zip
2024-01-10T05:24:58.810    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:24:58.811    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:24:58.811    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:24:58.811    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:24:58.811    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:24:58.811    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:24:58.811    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:24:58.811    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940423-110220-015_L1C_037-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/04/23/SPOT2-HRV2-XS_19940423-110219-540_L1C_040-262-8_D_V1-0/SPOT2-HRV2-XS_19940423-110219-540_L1C_040-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940423-110219-540_L1C_040-262-8_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940423-110219-540_L1C_040-262-8_D_V1-0.zip
run script
2024-01-10T05:25:53.147    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:25:53.148    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940423-110219-540_L1C_040-262-8_D_V1-0.zip
2024-01-10T05:25:53.148    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:25:53.148    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:25:53.148    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:25:53.148    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:25:53.148    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:25:53.148    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:25:53.148    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:25:53.148    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940423-110219-540_L1C_040-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/05/28/SPOT2-HRV1-XS_19940528-112922-138_L1C_037-262-9_D_V1-0/SPOT2-HRV1-XS_19940528-112922-138_L1C_037-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940528-112922-138_L1C_037-262-9_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940528-112922-138_L1C_037-262-9_D_V1-0.zip
run script
2024-01-10T05:27:17.148    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:27:17.149    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940528-112922-138_L1C_037-262-9_D_V1-0.zip
2024-01-10T05:27:17.149    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:27:17.149    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:27:17.149    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:27:17.149    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:27:17.149    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:27:17.149    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:27:17.150    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:27:17.150    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940528-112922-138_L1C_037-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/04/22/SPOT2-HRV1-XS_19940422-112142-140_L1C_037-263-0_D_V1-0/SPOT2-HRV1-XS_19940422-112142-140_L1C_037-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940422-112142-140_L1C_037-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940422-112142-140_L1C_037-263-0_D_V1-0.zip
run script
2024-01-10T05:29:14.064    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:29:14.071    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940422-112142-140_L1C_037-263-0_D_V1-0.zip
2024-01-10T05:29:14.071    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:29:14.071    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:29:14.071    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:29:14.071    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:29:14.071    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:29:14.071    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:29:14.071    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:29:14.071    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940422-112142-140_L1C_037-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/04/22/SPOT2-HRV2-XS_19940422-112137-369_L1C_040-263-0_D_V1-0/SPOT2-HRV2-XS_19940422-112137-369_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940422-112137-369_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940422-112137-369_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T05:31:05.995    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:31:05.996    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940422-112137-369_L1C_040-263-0_D_V1-0.zip
2024-01-10T05:31:05.996    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:31:05.996    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:31:05.996    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:31:05.996    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:31:05.996    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:31:05.996    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:31:05.996    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:31:05.996    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940422-112137-369_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/04/22/SPOT2-HRV2-XS_19940422-112143-686_L1C_040-263-7_D_V1-0/SPOT2-HRV2-XS_19940422-112143-686_L1C_040-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940422-112143-686_L1C_040-263-7_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940422-112143-686_L1C_040-263-7_D_V1-0.zip
run script
2024-01-10T05:33:47.452    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:33:47.453    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940422-112143-686_L1C_040-263-7_D_V1-0.zip
2024-01-10T05:33:47.453    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:33:47.453    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:33:47.454    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:33:47.454    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:33:47.454    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:33:47.454    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:33:47.454    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:33:47.454    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940422-112143-686_L1C_040-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/06/13/SPOT2-HRV1-XS_19940613-112138-066_L1C_037-263-0_D_V1-0/SPOT2-HRV1-XS_19940613-112138-066_L1C_037-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940613-112138-066_L1C_037-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940613-112138-066_L1C_037-263-0_D_V1-0.zip
run script
2024-01-10T05:37:20.828    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:37:20.829    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940613-112138-066_L1C_037-263-0_D_V1-0.zip
2024-01-10T05:37:20.829    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:37:20.829    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:37:20.829    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:37:20.829    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:37:20.830    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:37:20.830    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:37:20.830    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:37:20.830    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940613-112138-066_L1C_037-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/07/09/SPOT2-HRV1-XS_19940709-112134-231_L1C_037-263-0_D_V1-0/SPOT2-HRV1-XS_19940709-112134-231_L1C_037-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940709-112134-231_L1C_037-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940709-112134-231_L1C_037-263-0_D_V1-0.zip
run script
2024-01-10T05:39:10.524    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:39:10.526    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940709-112134-231_L1C_037-263-0_D_V1-0.zip
2024-01-10T05:39:10.526    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:39:10.526    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:39:10.526    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:39:10.526    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:39:10.526    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:39:10.526    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:39:10.526    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:39:10.526    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940709-112134-231_L1C_037-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/07/09/SPOT2-HRV2-XS_19940709-112131-629_L1C_038-263-0_D_V1-0/SPOT2-HRV2-XS_19940709-112131-629_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940709-112131-629_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940709-112131-629_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T05:40:53.333    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:40:53.334    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940709-112131-629_L1C_038-263-0_D_V1-0.zip
2024-01-10T05:40:53.334    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:40:53.334    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:40:53.334    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:40:53.335    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:40:53.335    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:40:53.335    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:40:53.335    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:40:53.335    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940709-112131-629_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/07/09/SPOT2-HRV2-XS_19940709-112140-091_L1C_038-264-0_D_V1-0/SPOT2-HRV2-XS_19940709-112140-091_L1C_038-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940709-112140-091_L1C_038-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940709-112140-091_L1C_038-264-0_D_V1-0.zip
run script
2024-01-10T05:42:58.839    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:42:58.840    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940709-112140-091_L1C_038-264-0_D_V1-0.zip
2024-01-10T05:42:58.840    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:42:58.841    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:42:58.841    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:42:58.841    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:42:58.841    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:42:58.841    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:42:58.841    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:42:58.841    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940709-112140-091_L1C_038-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/04/SPOT2-HRV1-XS_19940804-112133-751_L1C_037-263-0_D_V1-0/SPOT2-HRV1-XS_19940804-112133-751_L1C_037-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940804-112133-751_L1C_037-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940804-112133-751_L1C_037-263-0_D_V1-0.zip
run script
2024-01-10T05:45:47.213    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:45:47.214    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940804-112133-751_L1C_037-263-0_D_V1-0.zip
2024-01-10T05:45:47.214    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:45:47.214    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:45:47.214    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:45:47.214    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:45:47.214    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:45:47.215    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:45:47.215    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:45:47.215    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940804-112133-751_L1C_037-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/04/SPOT2-HRV2-XS_19940804-112128-439_L1C_040-263-0_D_V1-0/SPOT2-HRV2-XS_19940804-112128-439_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940804-112128-439_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940804-112128-439_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T05:47:36.810    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:47:36.811    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940804-112128-439_L1C_040-263-0_D_V1-0.zip
2024-01-10T05:47:36.811    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:47:36.811    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:47:36.811    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:47:36.811    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:47:36.811    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:47:36.811    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:47:36.811    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:47:36.812    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940804-112128-439_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/04/SPOT2-HRV2-XS_19940804-112136-934_L1C_040-264-0_D_V1-0/SPOT2-HRV2-XS_19940804-112136-934_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940804-112136-934_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940804-112136-934_L1C_040-264-0_D_V1-0.zip
run script
2024-01-10T05:50:05.431    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:50:05.432    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940804-112136-934_L1C_040-264-0_D_V1-0.zip
2024-01-10T05:50:05.432    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:50:05.433    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:50:05.433    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:50:05.433    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:50:05.433    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:50:05.433    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:50:05.433    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:50:05.433    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940804-112136-934_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/11/06/SPOT2-HRV2-XS_19941106-111318-761_L1C_037-263-0_D_V1-0/SPOT2-HRV2-XS_19941106-111318-761_L1C_037-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19941106-111318-761_L1C_037-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19941106-111318-761_L1C_037-263-0_D_V1-0.zip
run script
2024-01-10T05:53:52.340    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:53:52.341    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19941106-111318-761_L1C_037-263-0_D_V1-0.zip
2024-01-10T05:53:52.342    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:53:52.342    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:53:52.342    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:53:52.342    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:53:52.342    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:53:52.342    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:53:52.342    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:53:52.342    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19941106-111318-761_L1C_037-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/03/28/SPOT2-HRV2-XS_19940328-110223-944_L1C_038-263-0_D_V1-0/SPOT2-HRV2-XS_19940328-110223-944_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940328-110223-944_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940328-110223-944_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T05:55:34.193    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:55:34.194    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940328-110223-944_L1C_038-263-0_D_V1-0.zip
2024-01-10T05:55:34.194    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:55:34.195    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:55:34.195    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:55:34.195    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:55:34.195    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:55:34.195    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:55:34.195    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:55:34.195    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940328-110223-944_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/03/28/SPOT2-HRV2-XS_19940328-110232-276_L1C_038-264-0_D_V1-0/SPOT2-HRV2-XS_19940328-110232-276_L1C_038-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940328-110232-276_L1C_038-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940328-110232-276_L1C_038-264-0_D_V1-0.zip
run script
2024-01-10T05:57:11.232    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:57:11.233    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940328-110232-276_L1C_038-264-0_D_V1-0.zip
2024-01-10T05:57:11.233    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:57:11.233    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:57:11.233    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:57:11.233    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:57:11.233    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:57:11.234    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:57:11.234    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:57:11.234    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940328-110232-276_L1C_038-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/05/03/SPOT2-HRV1-XS_19940503-111003-235_L1C_038-263-0_D_V1-0/SPOT2-HRV1-XS_19940503-111003-235_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940503-111003-235_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940503-111003-235_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T05:59:26.027    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T05:59:26.032    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940503-111003-235_L1C_038-263-0_D_V1-0.zip
2024-01-10T05:59:26.032    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:59:26.032    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:59:26.032    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:59:26.032    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:59:26.032    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:59:26.032    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:59:26.032    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:59:26.032    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940503-111003-235_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/05/03/SPOT2-HRV1-XS_19940503-111011-613_L1C_038-264-0_D_V1-0/SPOT2-HRV1-XS_19940503-111011-613_L1C_038-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940503-111011-613_L1C_038-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940503-111011-613_L1C_038-264-0_D_V1-0.zip
run script
2024-01-10T06:01:09.769    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:01:09.770    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940503-111011-613_L1C_038-264-0_D_V1-0.zip
2024-01-10T06:01:09.770    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:01:09.770    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:01:09.770    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:01:09.770    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:01:09.770    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:01:09.770    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:01:09.771    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:01:09.771    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940503-111011-613_L1C_038-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/05/03/SPOT2-HRV2-XS_19940503-110959-133_L1C_041-263-0_D_V1-0/SPOT2-HRV2-XS_19940503-110959-133_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940503-110959-133_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940503-110959-133_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T06:03:34.682    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:03:34.684    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940503-110959-133_L1C_041-263-0_D_V1-0.zip
2024-01-10T06:03:34.684    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:03:34.684    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:03:34.684    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:03:34.684    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:03:34.684    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:03:34.684    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:03:34.684    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:03:34.684    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940503-110959-133_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/05/03/SPOT2-HRV2-XS_19940503-111007-549_L1C_041-264-0_D_V1-0/SPOT2-HRV2-XS_19940503-111007-549_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940503-111007-549_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940503-111007-549_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T06:05:35.552    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:05:35.554    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940503-111007-549_L1C_041-264-0_D_V1-0.zip
2024-01-10T06:05:35.554    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:05:35.554    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:05:35.554    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:05:35.554    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:05:35.554    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:05:35.554    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:05:35.554    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:05:35.554    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940503-111007-549_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 0 ... 2 2 2]
 [2 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/06/18/SPOT2-HRV2-XS_19940618-112525-411_L1C_038-263-0_D_V1-0/SPOT2-HRV2-XS_19940618-112525-411_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940618-112525-411_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940618-112525-411_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T06:08:25.565    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:08:25.566    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940618-112525-411_L1C_038-263-0_D_V1-0.zip
2024-01-10T06:08:25.566    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:08:25.566    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:08:25.566    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:08:25.567    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:08:25.567    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:08:25.567    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:08:25.567    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:08:25.567    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940618-112525-411_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/07/04/SPOT2-HRV1-XS_19940704-111740-359_L1C_038-263-0_D_V1-0/SPOT2-HRV1-XS_19940704-111740-359_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940704-111740-359_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940704-111740-359_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T06:10:34.514    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:10:34.516    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940704-111740-359_L1C_038-263-0_D_V1-0.zip
2024-01-10T06:10:34.516    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:10:34.516    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:10:34.516    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:10:34.516    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:10:34.516    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:10:34.516    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:10:34.516    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:10:34.516    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940704-111740-359_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/07/04/SPOT2-HRV1-XS_19940704-111748-785_L1C_038-264-0_D_V1-0/SPOT2-HRV1-XS_19940704-111748-785_L1C_038-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940704-111748-785_L1C_038-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940704-111748-785_L1C_038-264-0_D_V1-0.zip
run script
2024-01-10T06:12:21.820    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:12:21.821    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940704-111748-785_L1C_038-264-0_D_V1-0.zip
2024-01-10T06:12:21.821    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:12:21.821    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:12:21.821    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:12:21.821    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:12:21.822    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:12:21.822    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:12:21.822    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:12:21.822    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940704-111748-785_L1C_038-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/07/04/SPOT2-HRV2-XS_19940704-111735-742_L1C_041-263-0_D_V1-0/SPOT2-HRV2-XS_19940704-111735-742_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940704-111735-742_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940704-111735-742_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T06:14:56.976    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:14:56.977    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940704-111735-742_L1C_041-263-0_D_V1-0.zip
2024-01-10T06:14:56.977    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:14:56.977    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:14:56.978    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:14:56.978    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:14:56.978    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:14:56.978    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:14:56.978    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:14:56.978    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940704-111735-742_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/07/04/SPOT2-HRV2-XS_19940704-111744-216_L1C_041-264-0_D_V1-0/SPOT2-HRV2-XS_19940704-111744-216_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940704-111744-216_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940704-111744-216_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T06:17:13.169    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:17:13.170    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940704-111744-216_L1C_041-264-0_D_V1-0.zip
2024-01-10T06:17:13.170    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:17:13.170    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:17:13.170    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:17:13.170    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:17:13.170    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:17:13.171    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:17:13.171    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:17:13.171    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940704-111744-216_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/07/10/SPOT2-HRV1-XS_19940710-110214-814_L1C_038-263-0_D_V1-0/SPOT2-HRV1-XS_19940710-110214-814_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940710-110214-814_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940710-110214-814_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T06:20:47.248    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:20:47.249    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940710-110214-814_L1C_038-263-0_D_V1-0.zip
2024-01-10T06:20:47.249    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:20:47.249    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:20:47.249    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:20:47.249    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:20:47.249    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:20:47.249    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:20:47.249    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:20:47.249    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940710-110214-814_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/07/10/SPOT2-HRV1-XS_19940710-110223-147_L1C_038-264-0_D_V1-0/SPOT2-HRV1-XS_19940710-110223-147_L1C_038-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940710-110223-147_L1C_038-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940710-110223-147_L1C_038-264-0_D_V1-0.zip
run script
2024-01-10T06:22:33.535    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:22:33.536    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940710-110223-147_L1C_038-264-0_D_V1-0.zip
2024-01-10T06:22:33.536    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:22:33.536    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:22:33.536    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:22:33.536    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:22:33.537    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:22:33.537    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:22:33.537    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:22:33.537    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940710-110223-147_L1C_038-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/07/10/SPOT2-HRV2-XS_19940710-110207-261_L1C_044-263-0_D_V1-0/SPOT2-HRV2-XS_19940710-110207-261_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940710-110207-261_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940710-110207-261_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T06:24:58.303    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:24:58.305    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940710-110207-261_L1C_044-263-0_D_V1-0.zip
2024-01-10T06:24:58.305    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:24:58.305    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:24:58.305    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:24:58.305    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:24:58.305    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:24:58.305    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:24:58.305    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:24:58.305    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940710-110207-261_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/07/10/SPOT2-HRV2-XS_19940710-110215-660_L1C_044-264-0_D_V1-0/SPOT2-HRV2-XS_19940710-110215-660_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940710-110215-660_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940710-110215-660_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T06:26:50.065    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:26:50.066    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940710-110215-660_L1C_044-264-0_D_V1-0.zip
2024-01-10T06:26:50.066    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:26:50.066    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:26:50.066    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:26:50.066    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:26:50.067    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:26:50.067    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:26:50.067    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:26:50.067    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940710-110215-660_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/07/10/SPOT2-HRV2-XS_19940710-110224-064_L1C_044-265-0_D_V1-0/SPOT2-HRV2-XS_19940710-110224-064_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940710-110224-064_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940710-110224-064_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T06:29:18.279    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:29:18.281    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940710-110224-064_L1C_044-265-0_D_V1-0.zip
2024-01-10T06:29:18.281    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:29:18.281    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:29:18.281    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:29:18.281    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:29:18.281    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:29:18.281    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:29:18.281    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:29:18.281    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940710-110224-064_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/09/05/SPOT2-HRV1-XS_19940905-110601-669_L1C_038-263-0_D_V1-0/SPOT2-HRV1-XS_19940905-110601-669_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940905-110601-669_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940905-110601-669_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T06:30:00.496    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:30:00.497    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940905-110601-669_L1C_038-263-0_D_V1-0.zip
2024-01-10T06:30:00.497    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:30:00.497    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:30:00.497    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:30:00.497    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:30:00.498    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:30:00.498    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:30:00.498    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:30:00.498    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940905-110601-669_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 2 2]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/09/05/SPOT2-HRV1-XS_19940905-110610-022_L1C_038-264-0_D_V1-0/SPOT2-HRV1-XS_19940905-110610-022_L1C_038-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940905-110610-022_L1C_038-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940905-110610-022_L1C_038-264-0_D_V1-0.zip
run script
2024-01-10T06:31:41.724    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:31:41.725    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940905-110610-022_L1C_038-264-0_D_V1-0.zip
2024-01-10T06:31:41.725    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:31:41.725    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:31:41.725    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:31:41.725    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:31:41.725    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:31:41.725    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:31:41.725    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:31:41.725    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940905-110610-022_L1C_038-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/09/05/SPOT2-HRV2-XS_19940905-110557-587_L1C_041-263-0_D_V1-0/SPOT2-HRV2-XS_19940905-110557-587_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940905-110557-587_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940905-110557-587_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T06:33:59.130    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:33:59.132    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940905-110557-587_L1C_041-263-0_D_V1-0.zip
2024-01-10T06:33:59.132    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:33:59.132    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:33:59.132    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:33:59.132    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:33:59.132    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:33:59.132    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:33:59.132    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:33:59.132    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940905-110557-587_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/09/05/SPOT2-HRV2-XS_19940905-110605-979_L1C_041-264-0_D_V1-0/SPOT2-HRV2-XS_19940905-110605-979_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940905-110605-979_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940905-110605-979_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T06:35:53.481    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:35:53.482    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940905-110605-979_L1C_041-264-0_D_V1-0.zip
2024-01-10T06:35:53.482    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:35:53.482    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:35:53.482    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:35:53.482    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:35:53.482    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:35:53.482    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:35:53.482    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:35:53.482    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940905-110605-979_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/09/06/SPOT2-HRV1-XS_19940906-104641-664_L1C_038-263-0_D_V1-0/SPOT2-HRV1-XS_19940906-104641-664_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940906-104641-664_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940906-104641-664_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T06:38:40.303    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:38:40.305    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940906-104641-664_L1C_038-263-0_D_V1-0.zip
2024-01-10T06:38:40.305    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:38:40.305    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:38:40.305    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:38:40.305    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:38:40.305    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:38:40.305    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:38:40.305    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:38:40.305    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940906-104641-664_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/09/06/SPOT2-HRV1-XS_19940906-104645-274_L1C_038-263-4_D_V1-0/SPOT2-HRV1-XS_19940906-104645-274_L1C_038-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940906-104645-274_L1C_038-263-4_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940906-104645-274_L1C_038-263-4_D_V1-0.zip
run script
2024-01-10T06:40:28.126    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:40:28.127    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940906-104645-274_L1C_038-263-4_D_V1-0.zip
2024-01-10T06:40:28.127    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:40:28.127    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:40:28.127    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:40:28.127    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:40:28.127    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:40:28.127    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:40:28.127    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:40:28.128    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940906-104645-274_L1C_038-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/07/11/SPOT2-HRV1-XS_19940711-104248-341_L1C_039-262-3_D_V1-0/SPOT2-HRV1-XS_19940711-104248-341_L1C_039-262-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940711-104248-341_L1C_039-262-3_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940711-104248-341_L1C_039-262-3_D_V1-0.zip
run script
2024-01-10T06:43:04.282    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:43:04.283    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940711-104248-341_L1C_039-262-3_D_V1-0.zip
2024-01-10T06:43:04.283    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:43:04.283    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:43:04.283    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:43:04.283    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:43:04.283    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:43:04.284    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:43:04.284    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:43:04.284    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940711-104248-341_L1C_039-262-3_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/07/11/SPOT2-HRV2-XS_19940711-104248-410_L1C_041-262-5_D_V1-0/SPOT2-HRV2-XS_19940711-104248-410_L1C_041-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940711-104248-410_L1C_041-262-5_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940711-104248-410_L1C_041-262-5_D_V1-0.zip
run script
2024-01-10T06:43:35.165    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:43:35.166    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940711-104248-410_L1C_041-262-5_D_V1-0.zip
2024-01-10T06:43:35.166    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:43:35.166    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:43:35.166    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:43:35.166    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:43:35.167    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:43:35.167    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:43:35.167    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:43:35.167    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940711-104248-410_L1C_041-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/05/20/SPOT2-HRV1-XS_19940520-104301-086_L1C_039-263-1_D_V1-0/SPOT2-HRV1-XS_19940520-104301-086_L1C_039-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940520-104301-086_L1C_039-263-1_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940520-104301-086_L1C_039-263-1_D_V1-0.zip
run script
2024-01-10T06:44:36.600    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:44:36.601    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940520-104301-086_L1C_039-263-1_D_V1-0.zip
2024-01-10T06:44:36.601    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:44:36.601    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:44:36.602    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:44:36.602    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:44:36.602    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:44:36.602    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:44:36.602    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:44:36.602    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940520-104301-086_L1C_039-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/05/20/SPOT2-HRV2-XS_19940520-104301-516_L1C_043-263-6_D_V1-0/SPOT2-HRV2-XS_19940520-104301-516_L1C_043-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940520-104301-516_L1C_043-263-6_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940520-104301-516_L1C_043-263-6_D_V1-0.zip
run script
2024-01-10T06:46:45.116    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:46:45.118    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940520-104301-516_L1C_043-263-6_D_V1-0.zip
2024-01-10T06:46:45.118    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:46:45.118    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:46:45.118    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:46:45.118    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:46:45.118    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:46:45.118    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:46:45.118    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:46:45.118    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940520-104301-516_L1C_043-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/05/20/SPOT2-HRV2-XS_19940520-104304-392_L1C_043-264-0_D_V1-0/SPOT2-HRV2-XS_19940520-104304-392_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940520-104304-392_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940520-104304-392_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T06:49:09.740    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:49:09.741    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940520-104304-392_L1C_043-264-0_D_V1-0.zip
2024-01-10T06:49:09.741    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:49:09.741    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:49:09.741    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:49:09.741    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:49:09.741    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:49:09.741    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:49:09.741    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:49:09.742    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940520-104304-392_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/05/25/SPOT2-HRV1-XS_19940525-104656-645_L1C_039-263-5_D_V1-0/SPOT2-HRV1-XS_19940525-104656-645_L1C_039-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940525-104656-645_L1C_039-263-5_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940525-104656-645_L1C_039-263-5_D_V1-0.zip
run script
2024-01-10T06:51:31.499    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:51:31.500    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940525-104656-645_L1C_039-263-5_D_V1-0.zip
2024-01-10T06:51:31.500    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:51:31.500    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:51:31.500    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:51:31.500    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:51:31.500    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:51:31.500    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:51:31.500    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:51:31.500    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940525-104656-645_L1C_039-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/05/25/SPOT2-HRV1-XS_19940525-104700-414_L1C_039-264-0_D_V1-0/SPOT2-HRV1-XS_19940525-104700-414_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940525-104700-414_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940525-104700-414_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T06:54:05.646    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:54:05.647    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940525-104700-414_L1C_039-264-0_D_V1-0.zip
2024-01-10T06:54:05.647    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:54:05.647    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:54:05.647    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:54:05.647    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:54:05.647    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:54:05.647    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:54:05.647    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:54:05.647    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940525-104700-414_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/05/25/SPOT2-HRV2-XS_19940525-104656-384_L1C_043-264-0_D_V1-0/SPOT2-HRV2-XS_19940525-104656-384_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940525-104656-384_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940525-104656-384_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T06:56:37.493    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:56:37.494    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940525-104656-384_L1C_043-264-0_D_V1-0.zip
2024-01-10T06:56:37.494    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:56:37.494    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:56:37.494    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:56:37.495    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:56:37.495    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:56:37.495    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:56:37.495    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:56:37.495    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940525-104656-384_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/11/22/SPOT2-HRV2-XS_19941122-110524-368_L1C_039-263-0_D_V1-0/SPOT2-HRV2-XS_19941122-110524-368_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19941122-110524-368_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19941122-110524-368_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T06:58:52.979    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T06:58:52.981    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19941122-110524-368_L1C_039-263-0_D_V1-0.zip
2024-01-10T06:58:52.981    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:58:52.981    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:58:52.981    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:58:52.981    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:58:52.981    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:58:52.981    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:58:52.981    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:58:52.981    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19941122-110524-368_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/11/22/SPOT2-HRV2-XS_19941122-110532-730_L1C_039-264-0_D_V1-0/SPOT2-HRV2-XS_19941122-110532-730_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19941122-110532-730_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19941122-110532-730_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T07:00:26.897    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:00:26.898    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19941122-110532-730_L1C_039-264-0_D_V1-0.zip
2024-01-10T07:00:26.898    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:00:26.898    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:00:26.899    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:00:26.899    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:00:26.899    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:00:26.899    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:00:26.899    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:00:26.899    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19941122-110532-730_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/05/13/SPOT2-HRV2-XS_19940513-111753-041_L1C_039-264-0_D_V1-0/SPOT2-HRV2-XS_19940513-111753-041_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940513-111753-041_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940513-111753-041_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T07:02:54.053    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:02:54.053    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940513-111753-041_L1C_039-264-0_D_V1-0.zip
2024-01-10T07:02:54.053    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:02:54.053    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:02:54.053    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:02:54.053    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:02:54.053    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:02:54.053    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:02:54.054    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:02:54.054    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940513-111753-041_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/05/13/SPOT2-HRV2-XS_19940513-111744-592_L1C_040-263-0_D_V1-0/SPOT2-HRV2-XS_19940513-111744-592_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940513-111744-592_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940513-111744-592_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T07:05:43.903    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:05:43.904    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940513-111744-592_L1C_040-263-0_D_V1-0.zip
2024-01-10T07:05:43.904    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:05:43.904    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:05:43.904    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:05:43.904    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:05:43.904    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:05:43.904    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:05:43.904    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:05:43.904    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T07:05:45.572    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2604 x 0). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940513-111744-592_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/1994/10/23/SPOT2-HRV1-XS_19941023-104225-814_L1C_040-262-4_D_V1-0/SPOT2-HRV1-XS_19941023-104225-814_L1C_040-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19941023-104225-814_L1C_040-262-4_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941023-104225-814_L1C_040-262-4_D_V1-0.zip
run script
2024-01-10T07:05:48.624    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:05:48.625    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941023-104225-814_L1C_040-262-4_D_V1-0.zip
2024-01-10T07:05:48.625    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:05:48.625    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:05:48.625    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:05:48.625    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:05:48.625    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:05:48.625    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:05:48.625    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:05:48.625    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941023-104225-814_L1C_040-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/10/23/SPOT2-HRV1-XS_19941023-104230-470_L1C_040-263-0_D_V1-0/SPOT2-HRV1-XS_19941023-104230-470_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19941023-104230-470_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941023-104230-470_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T07:06:34.594    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:06:34.595    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941023-104230-470_L1C_040-263-0_D_V1-0.zip
2024-01-10T07:06:34.595    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:06:34.595    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:06:34.595    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:06:34.595    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:06:34.595    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:06:34.595    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:06:34.595    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:06:34.595    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941023-104230-470_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/10/23/SPOT2-HRV1-XS_19941023-104238-748_L1C_040-264-0_D_V1-0/SPOT2-HRV1-XS_19941023-104238-748_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19941023-104238-748_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941023-104238-748_L1C_040-264-0_D_V1-0.zip
run script
2024-01-10T07:08:24.996    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:08:24.997    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941023-104238-748_L1C_040-264-0_D_V1-0.zip
2024-01-10T07:08:24.997    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:08:24.997    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:08:24.997    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:08:24.997    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:08:24.998    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:08:24.998    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:08:24.998    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:08:24.998    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T07:08:28.511    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (438 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941023-104238-748_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/1994/10/23/SPOT2-HRV2-XS_19941023-104225-633_L1C_042-262-6_D_V1-0/SPOT2-HRV2-XS_19941023-104225-633_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19941023-104225-633_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19941023-104225-633_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T07:08:31.525    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:08:31.526    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19941023-104225-633_L1C_042-262-6_D_V1-0.zip
2024-01-10T07:08:31.526    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:08:31.526    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:08:31.526    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:08:31.526    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:08:31.526    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:08:31.526    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:08:31.526    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:08:31.527    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19941023-104225-633_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/10/23/SPOT2-HRV2-XS_19941023-104228-494_L1C_042-263-0_D_V1-0/SPOT2-HRV2-XS_19941023-104228-494_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19941023-104228-494_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19941023-104228-494_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T07:09:40.623    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:09:40.624    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19941023-104228-494_L1C_042-263-0_D_V1-0.zip
2024-01-10T07:09:40.624    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:09:40.624    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:09:40.624    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:09:40.624    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:09:40.624    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:09:40.624    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:09:40.624    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:09:40.624    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19941023-104228-494_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/06/09/SPOT2-HRV2-XS_19940609-105825-803_L1C_040-263-0_D_V1-0/SPOT2-HRV2-XS_19940609-105825-803_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940609-105825-803_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940609-105825-803_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T07:11:28.016    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:11:28.017    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940609-105825-803_L1C_040-263-0_D_V1-0.zip
2024-01-10T07:11:28.017    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:11:28.017    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:11:28.017    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:11:28.018    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:11:28.018    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:11:28.018    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:11:28.018    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:11:28.018    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T07:12:50.682    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (143 x 1). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940609-105825-803_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/1994/06/09/SPOT2-HRV2-XS_19940609-105834-132_L1C_040-264-0_D_V1-0/SPOT2-HRV2-XS_19940609-105834-132_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940609-105834-132_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940609-105834-132_L1C_040-264-0_D_V1-0.zip
run script
2024-01-10T07:12:53.716    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:12:53.718    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940609-105834-132_L1C_040-264-0_D_V1-0.zip
2024-01-10T07:12:53.718    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:12:53.718    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:12:53.718    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:12:53.718    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:12:53.718    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:12:53.718    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:12:53.718    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:12:53.718    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940609-105834-132_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/06/14/SPOT2-HRV2-XS_19940614-110216-569_L1C_040-263-0_D_V1-0/SPOT2-HRV2-XS_19940614-110216-569_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940614-110216-569_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940614-110216-569_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T07:15:02.352    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:15:02.353    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940614-110216-569_L1C_040-263-0_D_V1-0.zip
2024-01-10T07:15:02.354    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:15:02.354    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:15:02.354    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:15:02.354    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:15:02.354    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:15:02.354    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:15:02.354    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:15:02.354    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940614-110216-569_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/06/15/SPOT2-HRV1-XS_19940615-104256-406_L1C_040-263-0_D_V1-0/SPOT2-HRV1-XS_19940615-104256-406_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940615-104256-406_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940615-104256-406_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T07:16:33.440    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:16:33.441    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940615-104256-406_L1C_040-263-0_D_V1-0.zip
2024-01-10T07:16:33.441    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:16:33.442    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:16:33.442    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:16:33.442    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:16:33.442    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:16:33.442    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:16:33.442    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:16:33.442    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940615-104256-406_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/06/15/SPOT2-HRV1-XS_19940615-104304-681_L1C_040-264-0_D_V1-0/SPOT2-HRV1-XS_19940615-104304-681_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940615-104304-681_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940615-104304-681_L1C_040-264-0_D_V1-0.zip
run script
2024-01-10T07:18:24.411    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:18:24.412    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940615-104304-681_L1C_040-264-0_D_V1-0.zip
2024-01-10T07:18:24.412    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:18:24.412    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:18:24.412    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:18:24.413    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:18:24.413    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:18:24.413    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:18:24.413    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:18:24.413    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T07:18:26.740    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (454 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940615-104304-681_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/1994/06/04/SPOT2-HRV2-XS_19940604-105441-994_L1C_040-264-0_D_V1-0/SPOT2-HRV2-XS_19940604-105441-994_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940604-105441-994_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940604-105441-994_L1C_040-264-0_D_V1-0.zip
run script
2024-01-10T07:18:29.928    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:18:29.929    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940604-105441-994_L1C_040-264-0_D_V1-0.zip
2024-01-10T07:18:29.929    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:18:29.929    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:18:29.929    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:18:29.929    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:18:29.929    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:18:29.929    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:18:29.929    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:18:29.929    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940604-105441-994_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/15/SPOT2-HRV1-XS_19940815-111001-905_L1C_040-264-0_D_V1-0/SPOT2-HRV1-XS_19940815-111001-905_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940815-111001-905_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940815-111001-905_L1C_040-264-0_D_V1-0.zip
run script
2024-01-10T07:21:28.390    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:21:28.391    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940815-111001-905_L1C_040-264-0_D_V1-0.zip
2024-01-10T07:21:28.391    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:21:28.391    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:21:28.391    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:21:28.391    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:21:28.391    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:21:28.392    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:21:28.392    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:21:28.392    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940815-111001-905_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/15/SPOT2-HRV1-XS_19940815-110953-497_L1C_041-263-0_D_V1-0/SPOT2-HRV1-XS_19940815-110953-497_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940815-110953-497_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940815-110953-497_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T07:24:59.375    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:24:59.376    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940815-110953-497_L1C_041-263-0_D_V1-0.zip
2024-01-10T07:24:59.376    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:24:59.376    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:24:59.377    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:24:59.377    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:24:59.377    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:24:59.377    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:24:59.377    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:24:59.377    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940815-110953-497_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/15/SPOT2-HRV2-XS_19940815-110951-175_L1C_042-263-0_D_V1-0/SPOT2-HRV2-XS_19940815-110951-175_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940815-110951-175_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940815-110951-175_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T07:27:24.387    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:27:24.388    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940815-110951-175_L1C_042-263-0_D_V1-0.zip
2024-01-10T07:27:24.388    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:27:24.388    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:27:24.388    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:27:24.388    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:27:24.388    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:27:24.388    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:27:24.388    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:27:24.388    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940815-110951-175_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/15/SPOT2-HRV2-XS_19940815-110959-604_L1C_042-264-0_D_V1-0/SPOT2-HRV2-XS_19940815-110959-604_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940815-110959-604_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940815-110959-604_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T07:29:50.183    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:29:50.184    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940815-110959-604_L1C_042-264-0_D_V1-0.zip
2024-01-10T07:29:50.184    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:29:50.184    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:29:50.184    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:29:50.184    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:29:50.184    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:29:50.185    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:29:50.185    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:29:50.185    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940815-110959-604_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/16/SPOT2-HRV1-XS_19940816-105033-928_L1C_041-262-8_D_V1-0/SPOT2-HRV1-XS_19940816-105033-928_L1C_041-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940816-105033-928_L1C_041-262-8_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940816-105033-928_L1C_041-262-8_D_V1-0.zip
run script
2024-01-10T07:33:06.342    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:33:06.343    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940816-105033-928_L1C_041-262-8_D_V1-0.zip
2024-01-10T07:33:06.343    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:33:06.343    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:33:06.343    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:33:06.343    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:33:06.343    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:33:06.343    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:33:06.344    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:33:06.344    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940816-105033-928_L1C_041-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/16/SPOT2-HRV2-XS_19940816-105033-287_L1C_042-263-0_D_V1-0/SPOT2-HRV2-XS_19940816-105033-287_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940816-105033-287_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940816-105033-287_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T07:35:06.315    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:35:06.316    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940816-105033-287_L1C_042-263-0_D_V1-0.zip
2024-01-10T07:35:06.316    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:35:06.316    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:35:06.316    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:35:06.316    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:35:06.316    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:35:06.316    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:35:06.316    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:35:06.317    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940816-105033-287_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 2 ... 2 2 2]
 [0 0 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/16/SPOT2-HRV2-XS_19940816-105034-190_L1C_042-263-1_D_V1-0/SPOT2-HRV2-XS_19940816-105034-190_L1C_042-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940816-105034-190_L1C_042-263-1_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940816-105034-190_L1C_042-263-1_D_V1-0.zip
run script
2024-01-10T07:37:09.123    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:37:09.125    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940816-105034-190_L1C_042-263-1_D_V1-0.zip
2024-01-10T07:37:09.125    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:37:09.125    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:37:09.125    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:37:09.125    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:37:09.125    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:37:09.125    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:37:09.125    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:37:09.125    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T07:39:18.656    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (171 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940816-105034-190_L1C_042-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/1994/03/18/SPOT2-HRV2-XS_19940318-105435-937_L1C_041-263-0_D_V1-0/SPOT2-HRV2-XS_19940318-105435-937_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940318-105435-937_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940318-105435-937_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T07:39:21.886    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:39:21.887    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940318-105435-937_L1C_041-263-0_D_V1-0.zip
2024-01-10T07:39:21.887    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:39:21.887    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:39:21.887    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:39:21.887    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:39:21.887    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:39:21.888    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:39:21.888    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:39:21.888    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940318-105435-937_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/03/18/SPOT2-HRV2-XS_19940318-105444-258_L1C_041-264-0_D_V1-0/SPOT2-HRV2-XS_19940318-105444-258_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940318-105444-258_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940318-105444-258_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T07:41:36.386    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:41:36.387    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940318-105444-258_L1C_041-264-0_D_V1-0.zip
2024-01-10T07:41:36.388    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:41:36.388    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:41:36.388    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:41:36.388    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:41:36.388    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:41:36.388    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:41:36.388    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:41:36.388    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940318-105444-258_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/10/SPOT2-HRV2-XS_19940810-110602-662_L1C_041-263-0_D_V1-0/SPOT2-HRV2-XS_19940810-110602-662_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940810-110602-662_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940810-110602-662_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T07:44:49.571    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:44:49.571    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940810-110602-662_L1C_041-263-0_D_V1-0.zip
2024-01-10T07:44:49.571    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:44:49.571    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:44:49.571    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:44:49.571    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:44:49.571    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:44:49.571    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:44:49.571    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:44:49.571    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940810-110602-662_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/10/SPOT2-HRV2-XS_19940810-110606-271_L1C_041-263-4_D_V1-0/SPOT2-HRV2-XS_19940810-110606-271_L1C_041-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940810-110606-271_L1C_041-263-4_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940810-110606-271_L1C_041-263-4_D_V1-0.zip
run script
2024-01-10T07:47:07.377    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:47:07.378    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940810-110606-271_L1C_041-263-4_D_V1-0.zip
2024-01-10T07:47:07.378    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:47:07.378    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:47:07.378    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:47:07.379    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:47:07.379    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:47:07.379    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:47:07.379    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:47:07.379    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940810-110606-271_L1C_041-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 2 2 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/10/SPOT2-HRV1-XS_19940810-110600-607_L1C_042-263-0_D_V1-0/SPOT2-HRV1-XS_19940810-110600-607_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940810-110600-607_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940810-110600-607_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T07:50:23.198    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:50:23.199    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940810-110600-607_L1C_042-263-0_D_V1-0.zip
2024-01-10T07:50:23.199    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:50:23.199    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:50:23.199    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:50:23.200    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:50:23.200    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:50:23.200    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:50:23.200    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:50:23.200    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T07:52:03.505    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (606 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940810-110600-607_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/1994/08/10/SPOT2-HRV1-XS_19940810-110606-022_L1C_042-263-6_D_V1-0/SPOT2-HRV1-XS_19940810-110606-022_L1C_042-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940810-110606-022_L1C_042-263-6_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940810-110606-022_L1C_042-263-6_D_V1-0.zip
run script
2024-01-10T07:52:06.756    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:52:06.756    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940810-110606-022_L1C_042-263-6_D_V1-0.zip
2024-01-10T07:52:06.756    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:52:06.756    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:52:06.756    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:52:06.756    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:52:06.756    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:52:06.756    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:52:06.757    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:52:06.757    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940810-110606-022_L1C_042-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/21/SPOT2-HRV1-XS_19940821-105426-106_L1C_041-263-0_D_V1-0/SPOT2-HRV1-XS_19940821-105426-106_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940821-105426-106_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940821-105426-106_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T07:54:30.615    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:54:30.616    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940821-105426-106_L1C_041-263-0_D_V1-0.zip
2024-01-10T07:54:30.616    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:54:30.616    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:54:30.616    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:54:30.616    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:54:30.616    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:54:30.616    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:54:30.616    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:54:30.616    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940821-105426-106_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/21/SPOT2-HRV1-XS_19940821-105434-429_L1C_041-264-0_D_V1-0/SPOT2-HRV1-XS_19940821-105434-429_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940821-105434-429_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940821-105434-429_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T07:56:17.685    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:56:17.686    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940821-105434-429_L1C_041-264-0_D_V1-0.zip
2024-01-10T07:56:17.686    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:56:17.686    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:56:17.687    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:56:17.687    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:56:17.687    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:56:17.687    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:56:17.687    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:56:17.687    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940821-105434-429_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/21/SPOT2-HRV2-XS_19940821-105424-340_L1C_042-263-0_D_V1-0/SPOT2-HRV2-XS_19940821-105424-340_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940821-105424-340_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940821-105424-340_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T07:58:49.503    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T07:58:49.504    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940821-105424-340_L1C_042-263-0_D_V1-0.zip
2024-01-10T07:58:49.504    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:58:49.504    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:58:49.504    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:58:49.505    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:58:49.505    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:58:49.505    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:58:49.505    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:58:49.505    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940821-105424-340_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/21/SPOT2-HRV2-XS_19940821-105432-675_L1C_042-264-0_D_V1-0/SPOT2-HRV2-XS_19940821-105432-675_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940821-105432-675_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940821-105432-675_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T08:00:24.429    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:00:24.430    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940821-105432-675_L1C_042-264-0_D_V1-0.zip
2024-01-10T08:00:24.430    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:00:24.430    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:00:24.431    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:00:24.431    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:00:24.431    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:00:24.431    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:00:24.431    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:00:24.431    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940821-105432-675_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/09/11/SPOT2-HRV2-XS_19940911-105029-212_L1C_041-263-0_D_V1-0/SPOT2-HRV2-XS_19940911-105029-212_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940911-105029-212_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940911-105029-212_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T08:02:33.017    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:02:33.018    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940911-105029-212_L1C_041-263-0_D_V1-0.zip
2024-01-10T08:02:33.018    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:02:33.018    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:02:33.018    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:02:33.018    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:02:33.018    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:02:33.018    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:02:33.018    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:02:33.018    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940911-105029-212_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/09/11/SPOT2-HRV2-XS_19940911-105037-523_L1C_041-264-0_D_V1-0/SPOT2-HRV2-XS_19940911-105037-523_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940911-105037-523_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940911-105037-523_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T08:04:25.217    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:04:25.218    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940911-105037-523_L1C_041-264-0_D_V1-0.zip
2024-01-10T08:04:25.219    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:04:25.219    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:04:25.219    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:04:25.219    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:04:25.219    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:04:25.219    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:04:25.219    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:04:25.219    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940911-105037-523_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/10/06/SPOT2-HRV1-XS_19941006-110939-299_L1C_041-263-0_D_V1-0/SPOT2-HRV1-XS_19941006-110939-299_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19941006-110939-299_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941006-110939-299_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T08:06:58.406    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:06:58.407    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941006-110939-299_L1C_041-263-0_D_V1-0.zip
2024-01-10T08:06:58.408    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:06:58.408    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:06:58.408    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:06:58.408    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:06:58.408    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:06:58.408    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:06:58.408    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:06:58.408    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941006-110939-299_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/10/06/SPOT2-HRV1-XS_19941006-110942-006_L1C_041-263-3_D_V1-0/SPOT2-HRV1-XS_19941006-110942-006_L1C_041-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19941006-110942-006_L1C_041-263-3_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941006-110942-006_L1C_041-263-3_D_V1-0.zip
run script
2024-01-10T08:08:59.126    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:08:59.127    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941006-110942-006_L1C_041-263-3_D_V1-0.zip
2024-01-10T08:08:59.127    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:08:59.127    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:08:59.127    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:08:59.127    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:08:59.127    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:08:59.127    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:08:59.128    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:08:59.128    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941006-110942-006_L1C_041-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/05/SPOT2-HRV1-XS_19940805-110218-988_L1C_041-264-0_D_V1-0/SPOT2-HRV1-XS_19940805-110218-988_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940805-110218-988_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940805-110218-988_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T08:11:42.015    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:11:42.017    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940805-110218-988_L1C_041-264-0_D_V1-0.zip
2024-01-10T08:11:42.017    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:11:42.017    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:11:42.017    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:11:42.017    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:11:42.017    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:11:42.017    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:11:42.017    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:11:42.017    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940805-110218-988_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/05/SPOT2-HRV2-XS_19940805-110208-623_L1C_043-263-0_D_V1-0/SPOT2-HRV2-XS_19940805-110208-623_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940805-110208-623_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940805-110208-623_L1C_043-263-0_D_V1-0.zip
run script
2024-01-10T08:14:19.221    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:14:19.222    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940805-110208-623_L1C_043-263-0_D_V1-0.zip
2024-01-10T08:14:19.223    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:14:19.223    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:14:19.223    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:14:19.223    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:14:19.223    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:14:19.223    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:14:19.223    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:14:19.223    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940805-110208-623_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/05/SPOT2-HRV2-XS_19940805-110217-006_L1C_043-264-0_D_V1-0/SPOT2-HRV2-XS_19940805-110217-006_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940805-110217-006_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940805-110217-006_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T08:16:10.729    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:16:10.731    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940805-110217-006_L1C_043-264-0_D_V1-0.zip
2024-01-10T08:16:10.731    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:16:10.731    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:16:10.731    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:16:10.731    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:16:10.731    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:16:10.731    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:16:10.731    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:16:10.731    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940805-110217-006_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/01/04/SPOT2-HRV2-XS_19940104-105810-700_L1C_042-262-7_D_V1-0/SPOT2-HRV2-XS_19940104-105810-700_L1C_042-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940104-105810-700_L1C_042-262-7_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940104-105810-700_L1C_042-262-7_D_V1-0.zip
run script
2024-01-10T08:18:36.239    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:18:36.240    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940104-105810-700_L1C_042-262-7_D_V1-0.zip
2024-01-10T08:18:36.240    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:18:36.240    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:18:36.240    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:18:36.240    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:18:36.240    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:18:36.240    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:18:36.240    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:18:36.241    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940104-105810-700_L1C_042-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/01/04/SPOT2-HRV2-XS_19940104-105811-602_L1C_042-262-8_D_V1-0/SPOT2-HRV2-XS_19940104-105811-602_L1C_042-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940104-105811-602_L1C_042-262-8_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940104-105811-602_L1C_042-262-8_D_V1-0.zip
run script
2024-01-10T08:19:48.270    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:19:48.271    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940104-105811-602_L1C_042-262-8_D_V1-0.zip
2024-01-10T08:19:48.271    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:19:48.271    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:19:48.271    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:19:48.271    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:19:48.272    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:19:48.272    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:19:48.272    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:19:48.272    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940104-105811-602_L1C_042-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/01/14/SPOT2-HRV1-XS_19940114-110558-788_L1C_042-263-6_D_V1-0/SPOT2-HRV1-XS_19940114-110558-788_L1C_042-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940114-110558-788_L1C_042-263-6_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940114-110558-788_L1C_042-263-6_D_V1-0.zip
run script
2024-01-10T08:21:15.878    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:21:15.880    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940114-110558-788_L1C_042-263-6_D_V1-0.zip
2024-01-10T08:21:15.880    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:21:15.880    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:21:15.880    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:21:15.880    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:21:15.880    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:21:15.880    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:21:15.880    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:21:15.880    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940114-110558-788_L1C_042-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/01/14/SPOT2-HRV1-XS_19940114-110601-769_L1C_042-264-0_D_V1-0/SPOT2-HRV1-XS_19940114-110601-769_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940114-110601-769_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940114-110601-769_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T08:23:59.687    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:23:59.688    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940114-110601-769_L1C_042-264-0_D_V1-0.zip
2024-01-10T08:23:59.688    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:23:59.688    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:23:59.688    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:23:59.688    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:23:59.688    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:23:59.688    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:23:59.689    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:23:59.689    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940114-110601-769_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/06/SPOT2-HRV1-XS_19940806-104250-369_L1C_042-263-0_D_V1-0/SPOT2-HRV1-XS_19940806-104250-369_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940806-104250-369_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940806-104250-369_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T08:27:08.637    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:27:08.638    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940806-104250-369_L1C_042-263-0_D_V1-0.zip
2024-01-10T08:27:08.638    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:27:08.638    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:27:08.638    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:27:08.638    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:27:08.638    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:27:08.638    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:27:08.638    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:27:08.638    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940806-104250-369_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 2 2]
 [2 2 2 ... 0 2 2]
 [2 2 2 ... 0 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/06/SPOT2-HRV1-XS_19940806-104258-656_L1C_042-264-0_D_V1-0/SPOT2-HRV1-XS_19940806-104258-656_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940806-104258-656_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940806-104258-656_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T08:29:13.543    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:29:13.544    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940806-104258-656_L1C_042-264-0_D_V1-0.zip
2024-01-10T08:29:13.544    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:29:13.544    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:29:13.545    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:29:13.545    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:29:13.545    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:29:13.545    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:29:13.545    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:29:13.545    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T08:29:16.539    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (446 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940806-104258-656_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/1994/10/07/SPOT2-HRV1-XS_19941007-105020-518_L1C_042-263-0_D_V1-0/SPOT2-HRV1-XS_19941007-105020-518_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19941007-105020-518_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941007-105020-518_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T08:29:19.554    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:29:19.555    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941007-105020-518_L1C_042-263-0_D_V1-0.zip
2024-01-10T08:29:19.556    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:29:19.556    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:29:19.556    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:29:19.556    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:29:19.556    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:29:19.556    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:29:19.556    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:29:19.556    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941007-105020-518_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/10/07/SPOT2-HRV1-XS_19941007-105023-225_L1C_042-263-3_D_V1-0/SPOT2-HRV1-XS_19941007-105023-225_L1C_042-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19941007-105023-225_L1C_042-263-3_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941007-105023-225_L1C_042-263-3_D_V1-0.zip
run script
2024-01-10T08:31:21.544    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:31:21.545    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941007-105023-225_L1C_042-263-3_D_V1-0.zip
2024-01-10T08:31:21.545    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:31:21.545    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:31:21.545    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:31:21.545    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:31:21.545    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:31:21.545    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:31:21.545    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:31:21.546    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941007-105023-225_L1C_042-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/03/07/SPOT2-HRV2-XS_19940307-110601-803_L1C_043-262-6_D_V1-0/SPOT2-HRV2-XS_19940307-110601-803_L1C_043-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940307-110601-803_L1C_043-262-6_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940307-110601-803_L1C_043-262-6_D_V1-0.zip
run script
2024-01-10T08:33:59.685    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:33:59.687    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940307-110601-803_L1C_043-262-6_D_V1-0.zip
2024-01-10T08:33:59.687    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:33:59.687    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:33:59.687    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:33:59.687    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:33:59.687    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:33:59.687    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:33:59.687    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:33:59.687    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940307-110601-803_L1C_043-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/04/28/SPOT2-HRV2-XS_19940428-110604-347_L1C_043-262-6_D_V1-0/SPOT2-HRV2-XS_19940428-110604-347_L1C_043-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940428-110604-347_L1C_043-262-6_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940428-110604-347_L1C_043-262-6_D_V1-0.zip
run script
2024-01-10T08:35:25.495    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:35:25.496    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940428-110604-347_L1C_043-262-6_D_V1-0.zip
2024-01-10T08:35:25.496    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:35:25.496    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:35:25.496    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:35:25.496    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:35:25.496    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:35:25.496    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:35:25.496    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:35:25.496    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940428-110604-347_L1C_043-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/02/15/SPOT2-HRV1-XS_19940215-105041-086_L1C_043-263-5_D_V1-0/SPOT2-HRV1-XS_19940215-105041-086_L1C_043-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940215-105041-086_L1C_043-263-5_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940215-105041-086_L1C_043-263-5_D_V1-0.zip
run script
2024-01-10T08:36:58.391    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:36:58.393    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940215-105041-086_L1C_043-263-5_D_V1-0.zip
2024-01-10T08:36:58.393    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:36:58.393    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:36:58.393    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:36:58.393    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:36:58.393    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:36:58.393    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:36:58.393    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:36:58.393    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940215-105041-086_L1C_043-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/02/15/SPOT2-HRV1-XS_19940215-105044-897_L1C_043-264-0_D_V1-0/SPOT2-HRV1-XS_19940215-105044-897_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940215-105044-897_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940215-105044-897_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T08:39:17.723    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:39:17.724    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940215-105044-897_L1C_043-264-0_D_V1-0.zip
2024-01-10T08:39:17.724    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:39:17.724    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:39:17.724    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:39:17.724    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:39:17.724    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:39:17.724    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:39:17.724    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:39:17.724    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940215-105044-897_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/02/19/SPOT2-HRV1-XS_19940219-111345-724_L1C_043-263-0_D_V1-0/SPOT2-HRV1-XS_19940219-111345-724_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940219-111345-724_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940219-111345-724_L1C_043-263-0_D_V1-0.zip
run script
2024-01-10T08:41:36.849    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:41:36.851    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940219-111345-724_L1C_043-263-0_D_V1-0.zip
2024-01-10T08:41:36.851    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:41:36.851    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:41:36.851    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:41:36.851    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:41:36.851    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:41:36.851    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:41:36.851    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:41:36.851    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940219-111345-724_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/02/19/SPOT2-HRV1-XS_19940219-111354-198_L1C_043-264-0_D_V1-0/SPOT2-HRV1-XS_19940219-111354-198_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940219-111354-198_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940219-111354-198_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T08:43:47.374    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:43:47.376    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940219-111354-198_L1C_043-264-0_D_V1-0.zip
2024-01-10T08:43:47.376    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:43:47.376    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:43:47.376    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:43:47.376    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:43:47.376    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:43:47.376    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:43:47.376    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:43:47.376    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940219-111354-198_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/02/25/SPOT2-HRV1-XS_19940225-105824-581_L1C_043-263-4_D_V1-0/SPOT2-HRV1-XS_19940225-105824-581_L1C_043-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940225-105824-581_L1C_043-263-4_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940225-105824-581_L1C_043-263-4_D_V1-0.zip
run script
2024-01-10T08:46:43.779    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:46:43.781    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940225-105824-581_L1C_043-263-4_D_V1-0.zip
2024-01-10T08:46:43.781    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:46:43.781    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:46:43.781    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:46:43.781    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:46:43.781    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:46:43.781    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:46:43.781    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:46:43.781    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940225-105824-581_L1C_043-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/02/25/SPOT2-HRV1-XS_19940225-105829-331_L1C_043-264-0_D_V1-0/SPOT2-HRV1-XS_19940225-105829-331_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940225-105829-331_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940225-105829-331_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T08:49:05.574    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:49:05.577    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940225-105829-331_L1C_043-264-0_D_V1-0.zip
2024-01-10T08:49:05.577    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:49:05.577    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:49:05.577    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:49:05.577    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:49:05.577    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:49:05.577    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:49:05.578    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:49:05.578    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940225-105829-331_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/03/02/SPOT2-HRV1-XS_19940302-110216-452_L1C_043-263-5_D_V1-0/SPOT2-HRV1-XS_19940302-110216-452_L1C_043-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940302-110216-452_L1C_043-263-5_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940302-110216-452_L1C_043-263-5_D_V1-0.zip
run script
2024-01-10T08:51:24.429    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:51:24.431    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940302-110216-452_L1C_043-263-5_D_V1-0.zip
2024-01-10T08:51:24.431    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:51:24.431    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:51:24.431    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:51:24.431    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:51:24.431    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:51:24.431    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:51:24.431    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:51:24.431    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940302-110216-452_L1C_043-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/03/02/SPOT2-HRV1-XS_19940302-110220-330_L1C_043-264-0_D_V1-0/SPOT2-HRV1-XS_19940302-110220-330_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940302-110220-330_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940302-110220-330_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T08:54:14.104    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:54:14.112    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940302-110220-330_L1C_043-264-0_D_V1-0.zip
2024-01-10T08:54:14.141    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:54:15.581    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:54:15.588    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:54:15.591    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:54:15.592    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:54:15.592    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:54:15.592    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:54:15.592    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940302-110220-330_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/11/01/SPOT2-HRV1-XS_19941101-110923-045_L1C_043-263-0_D_V1-0/SPOT2-HRV1-XS_19941101-110923-045_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19941101-110923-045_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941101-110923-045_L1C_043-263-0_D_V1-0.zip
run script
2024-01-10T08:56:41.388    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:56:41.390    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941101-110923-045_L1C_043-263-0_D_V1-0.zip
2024-01-10T08:56:41.390    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:56:41.390    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:56:41.390    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:56:41.390    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:56:41.390    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:56:41.390    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:56:41.390    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:56:41.390    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941101-110923-045_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/11/01/SPOT2-HRV1-XS_19941101-110931-485_L1C_043-264-0_D_V1-0/SPOT2-HRV1-XS_19941101-110931-485_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19941101-110931-485_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941101-110931-485_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T08:58:39.573    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T08:58:39.575    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941101-110931-485_L1C_043-264-0_D_V1-0.zip
2024-01-10T08:58:39.575    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:58:39.575    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:58:39.575    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:58:39.575    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:58:39.575    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:58:39.575    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:58:39.575    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:58:39.575    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941101-110931-485_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/01/30/SPOT2-HRV1-XS_19940130-105813-940_L1C_044-263-0_D_V1-0/SPOT2-HRV1-XS_19940130-105813-940_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940130-105813-940_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940130-105813-940_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T09:01:26.565    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:01:26.566    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940130-105813-940_L1C_044-263-0_D_V1-0.zip
2024-01-10T09:01:26.566    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:01:26.566    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:01:26.566    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:01:26.566    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:01:26.566    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:01:26.566    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:01:26.566    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:01:26.566    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940130-105813-940_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/01/30/SPOT2-HRV1-XS_19940130-105822-320_L1C_044-264-0_D_V1-0/SPOT2-HRV1-XS_19940130-105822-320_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940130-105822-320_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940130-105822-320_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T09:03:03.107    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:03:03.109    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940130-105822-320_L1C_044-264-0_D_V1-0.zip
2024-01-10T09:03:03.109    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:03:03.109    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:03:03.109    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:03:03.109    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:03:03.109    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:03:03.109    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:03:03.109    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:03:03.109    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940130-105822-320_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/01/30/SPOT2-HRV1-XS_19940130-105830-706_L1C_044-265-0_D_V1-0/SPOT2-HRV1-XS_19940130-105830-706_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940130-105830-706_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940130-105830-706_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T09:05:19.768    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:05:19.770    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940130-105830-706_L1C_044-265-0_D_V1-0.zip
2024-01-10T09:05:19.770    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:05:19.770    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:05:19.770    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:05:19.770    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:05:19.770    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:05:19.770    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:05:19.770    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:05:19.770    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940130-105830-706_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/04/13/SPOT2-HRV2-XS_19940413-105441-375_L1C_044-263-9_D_V1-0/SPOT2-HRV2-XS_19940413-105441-375_L1C_044-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940413-105441-375_L1C_044-263-9_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940413-105441-375_L1C_044-263-9_D_V1-0.zip
run script
2024-01-10T09:05:59.568    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:05:59.569    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940413-105441-375_L1C_044-263-9_D_V1-0.zip
2024-01-10T09:05:59.569    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:05:59.570    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:05:59.570    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:05:59.570    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:05:59.570    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:05:59.570    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:05:59.570    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:05:59.570    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940413-105441-375_L1C_044-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/05/14/SPOT2-HRV1-XS_19940514-105821-101_L1C_044-263-0_D_V1-0/SPOT2-HRV1-XS_19940514-105821-101_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940514-105821-101_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940514-105821-101_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T09:08:19.178    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:08:19.180    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940514-105821-101_L1C_044-263-0_D_V1-0.zip
2024-01-10T09:08:19.180    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:08:19.180    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:08:19.180    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:08:19.180    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:08:19.180    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:08:19.180    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:08:19.180    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:08:19.180    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940514-105821-101_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/05/14/SPOT2-HRV1-XS_19940514-105829-482_L1C_044-264-0_D_V1-0/SPOT2-HRV1-XS_19940514-105829-482_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940514-105829-482_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940514-105829-482_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T09:10:00.384    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:10:00.386    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940514-105829-482_L1C_044-264-0_D_V1-0.zip
2024-01-10T09:10:00.386    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:10:00.386    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:10:00.386    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:10:00.386    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:10:00.386    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:10:00.386    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:10:00.386    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:10:00.386    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940514-105829-482_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/05/14/SPOT2-HRV1-XS_19940514-105837-868_L1C_044-265-0_D_V1-0/SPOT2-HRV1-XS_19940514-105837-868_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940514-105837-868_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940514-105837-868_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T09:12:13.682    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:12:13.684    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940514-105837-868_L1C_044-265-0_D_V1-0.zip
2024-01-10T09:12:13.684    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:12:13.684    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:12:13.684    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:12:13.684    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:12:13.684    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:12:13.684    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:12:13.684    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:12:13.684    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940514-105837-868_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 2]
 [2 2 2 ... 1 1 2]
 [2 2 2 ... 1 1 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/05/14/SPOT2-HRV2-XS_19940514-105819-008_L1C_046-263-0_D_V1-0/SPOT2-HRV2-XS_19940514-105819-008_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940514-105819-008_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940514-105819-008_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T09:12:55.956    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:12:55.957    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940514-105819-008_L1C_046-263-0_D_V1-0.zip
2024-01-10T09:12:55.957    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:12:55.957    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:12:55.957    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:12:55.957    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:12:55.957    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:12:55.958    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:12:55.958    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:12:55.958    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940514-105819-008_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/05/14/SPOT2-HRV2-XS_19940514-105827-409_L1C_046-264-0_D_V1-0/SPOT2-HRV2-XS_19940514-105827-409_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940514-105827-409_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940514-105827-409_L1C_046-264-0_D_V1-0.zip
run script
2024-01-10T09:13:36.978    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:13:36.979    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940514-105827-409_L1C_046-264-0_D_V1-0.zip
2024-01-10T09:13:36.979    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:13:36.979    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:13:36.979    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:13:36.979    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:13:36.979    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:13:36.979    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:13:36.979    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:13:36.979    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940514-105827-409_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/05/14/SPOT2-HRV2-XS_19940514-105835-814_L1C_046-265-0_D_V1-0/SPOT2-HRV2-XS_19940514-105835-814_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940514-105835-814_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940514-105835-814_L1C_046-265-0_D_V1-0.zip
run script
2024-01-10T09:14:54.602    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:14:54.626    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940514-105835-814_L1C_046-265-0_D_V1-0.zip
2024-01-10T09:14:54.644    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:14:54.686    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:14:54.712    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:14:54.790    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:14:54.814    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:14:54.815    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:14:54.815    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:14:54.815    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940514-105835-814_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/06/10/SPOT2-HRV1-XS_19940610-103900-597_L1C_044-263-0_D_V1-0/SPOT2-HRV1-XS_19940610-103900-597_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940610-103900-597_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940610-103900-597_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T09:15:23.361    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:15:23.362    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940610-103900-597_L1C_044-263-0_D_V1-0.zip
2024-01-10T09:15:23.362    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:15:23.363    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:15:23.363    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:15:23.363    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:15:23.363    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:15:23.363    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:15:23.363    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:15:23.363    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940610-103900-597_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/06/10/SPOT2-HRV1-XS_19940610-103908-887_L1C_044-264-0_D_V1-0/SPOT2-HRV1-XS_19940610-103908-887_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940610-103908-887_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940610-103908-887_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T09:16:58.734    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:16:58.735    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940610-103908-887_L1C_044-264-0_D_V1-0.zip
2024-01-10T09:16:58.735    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:16:58.735    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:16:58.735    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:16:58.735    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:16:58.735    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:16:58.735    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:16:58.735    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:16:58.735    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940610-103908-887_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/06/10/SPOT2-HRV1-XS_19940610-103917-186_L1C_045-265-0_D_V1-0/SPOT2-HRV1-XS_19940610-103917-186_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940610-103917-186_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940610-103917-186_L1C_045-265-0_D_V1-0.zip
run script
2024-01-10T09:19:17.049    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:19:17.050    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940610-103917-186_L1C_045-265-0_D_V1-0.zip
2024-01-10T09:19:17.050    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:19:17.050    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:19:17.050    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:19:17.050    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:19:17.050    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:19:17.050    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:19:17.050    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:19:17.050    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940610-103917-186_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/06/24/SPOT2-HRV1-XS_19940624-110951-069_L1C_044-263-0_D_V1-0/SPOT2-HRV1-XS_19940624-110951-069_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940624-110951-069_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940624-110951-069_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T09:19:57.847    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:19:57.848    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940624-110951-069_L1C_044-263-0_D_V1-0.zip
2024-01-10T09:19:57.849    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:19:57.849    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:19:57.849    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:19:57.849    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:19:57.849    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:19:57.849    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:19:57.849    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:19:57.849    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940624-110951-069_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/06/24/SPOT2-HRV1-XS_19940624-110959-524_L1C_044-264-0_D_V1-0/SPOT2-HRV1-XS_19940624-110959-524_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940624-110959-524_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940624-110959-524_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T09:22:02.048    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:22:02.049    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940624-110959-524_L1C_044-264-0_D_V1-0.zip
2024-01-10T09:22:02.049    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:22:02.049    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:22:02.049    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:22:02.049    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:22:02.049    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:22:02.049    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:22:02.050    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:22:02.050    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940624-110959-524_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/06/24/SPOT2-HRV1-XS_19940624-111007-983_L1C_044-265-0_D_V1-0/SPOT2-HRV1-XS_19940624-111007-983_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940624-111007-983_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940624-111007-983_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T09:24:51.766    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:24:51.768    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940624-111007-983_L1C_044-265-0_D_V1-0.zip
2024-01-10T09:24:51.768    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:24:51.768    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:24:51.768    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:24:51.768    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:24:51.768    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:24:51.768    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:24:51.768    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:24:51.768    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940624-111007-983_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/06/24/SPOT2-HRV2-XS_19940624-110949-141_L1C_045-263-0_D_V1-0/SPOT2-HRV2-XS_19940624-110949-141_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940624-110949-141_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940624-110949-141_L1C_045-263-0_D_V1-0.zip
run script
2024-01-10T09:25:42.967    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:25:42.968    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940624-110949-141_L1C_045-263-0_D_V1-0.zip
2024-01-10T09:25:42.968    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:25:42.968    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:25:42.968    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:25:42.969    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:25:42.969    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:25:42.969    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:25:42.969    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:25:42.969    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940624-110949-141_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/06/24/SPOT2-HRV2-XS_19940624-110957-614_L1C_045-264-0_D_V1-0/SPOT2-HRV2-XS_19940624-110957-614_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940624-110957-614_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940624-110957-614_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T09:27:14.175    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:27:14.176    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940624-110957-614_L1C_045-264-0_D_V1-0.zip
2024-01-10T09:27:14.176    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:27:14.176    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:27:14.176    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:27:14.176    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:27:14.177    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:27:14.177    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:27:14.177    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:27:14.177    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940624-110957-614_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/06/24/SPOT2-HRV2-XS_19940624-111006-094_L1C_045-265-0_D_V1-0/SPOT2-HRV2-XS_19940624-111006-094_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940624-111006-094_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940624-111006-094_L1C_045-265-0_D_V1-0.zip
run script
2024-01-10T09:29:52.360    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:29:52.361    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940624-111006-094_L1C_045-265-0_D_V1-0.zip
2024-01-10T09:29:52.361    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:29:52.361    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:29:52.361    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:29:52.361    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:29:52.361    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:29:52.361    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:29:52.361    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:29:52.361    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T09:29:54.044    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (62 x 1). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940624-111006-094_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/1994/07/27/SPOT2-HRV1-XS_19940727-103504-995_L1C_044-263-0_D_V1-0/SPOT2-HRV1-XS_19940727-103504-995_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940727-103504-995_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940727-103504-995_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T09:29:57.293    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:29:57.293    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940727-103504-995_L1C_044-263-0_D_V1-0.zip
2024-01-10T09:29:57.293    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:29:57.293    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:29:57.293    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:29:57.293    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:29:57.293    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:29:57.293    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:29:57.294    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:29:57.294    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940727-103504-995_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/07/27/SPOT2-HRV1-XS_19940727-103513-270_L1C_044-264-0_D_V1-0/SPOT2-HRV1-XS_19940727-103513-270_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940727-103513-270_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940727-103513-270_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T09:31:57.366    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:31:57.388    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940727-103513-270_L1C_044-264-0_D_V1-0.zip
2024-01-10T09:31:57.388    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:31:57.388    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:31:57.388    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:31:57.388    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:31:57.388    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:31:57.388    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:31:57.388    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:31:57.388    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940727-103513-270_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/07/27/SPOT2-HRV1-XS_19940727-103521-551_L1C_044-265-0_D_V1-0/SPOT2-HRV1-XS_19940727-103521-551_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940727-103521-551_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940727-103521-551_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T09:34:31.244    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:34:31.245    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940727-103521-551_L1C_044-265-0_D_V1-0.zip
2024-01-10T09:34:31.245    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:34:31.245    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:34:31.245    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:34:31.245    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:34:31.245    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:34:31.245    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:34:31.245    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:34:31.246    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940727-103521-551_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/07/27/SPOT2-HRV2-XS_19940727-103503-274_L1C_046-263-0_D_V1-0/SPOT2-HRV2-XS_19940727-103503-274_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940727-103503-274_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940727-103503-274_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T09:35:11.930    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:35:11.931    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940727-103503-274_L1C_046-263-0_D_V1-0.zip
2024-01-10T09:35:11.931    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:35:11.931    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:35:11.931    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:35:11.931    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:35:11.932    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:35:11.932    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:35:11.932    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:35:11.932    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940727-103503-274_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/07/27/SPOT2-HRV2-XS_19940727-103511-555_L1C_046-264-0_D_V1-0/SPOT2-HRV2-XS_19940727-103511-555_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940727-103511-555_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940727-103511-555_L1C_046-264-0_D_V1-0.zip
run script
2024-01-10T09:36:18.929    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:36:18.936    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940727-103511-555_L1C_046-264-0_D_V1-0.zip
2024-01-10T09:36:18.936    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:36:18.936    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:36:18.936    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:36:18.936    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:36:18.936    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:36:18.937    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:36:18.937    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:36:18.937    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940727-103511-555_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/07/27/SPOT2-HRV2-XS_19940727-103519-848_L1C_046-265-0_D_V1-0/SPOT2-HRV2-XS_19940727-103519-848_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940727-103519-848_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940727-103519-848_L1C_046-265-0_D_V1-0.zip
run script
2024-01-10T09:37:59.139    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:37:59.141    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940727-103519-848_L1C_046-265-0_D_V1-0.zip
2024-01-10T09:37:59.141    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:37:59.141    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:37:59.141    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:37:59.141    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:37:59.141    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:37:59.141    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:37:59.141    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:37:59.141    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940727-103519-848_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/01/15/SPOT2-HRV1-XS_19940115-104645-493_L1C_044-264-5_D_V1-0/SPOT2-HRV1-XS_19940115-104645-493_L1C_044-264-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19940115-104645-493_L1C_044-264-5_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940115-104645-493_L1C_044-264-5_D_V1-0.zip
run script
2024-01-10T09:38:32.430    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:38:32.431    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940115-104645-493_L1C_044-264-5_D_V1-0.zip
2024-01-10T09:38:32.431    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:38:32.431    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:38:32.431    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:38:32.431    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:38:32.431    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:38:32.432    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:38:32.432    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:38:32.432    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19940115-104645-493_L1C_044-264-5_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 1 1 ... 2 2 2]
 [0 0 1 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/01/25/SPOT2-HRV2-XS_19940125-105432-617_L1C_044-264-4_D_V1-0/SPOT2-HRV2-XS_19940125-105432-617_L1C_044-264-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940125-105432-617_L1C_044-264-4_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940125-105432-617_L1C_044-264-4_D_V1-0.zip
run script
2024-01-10T09:39:59.878    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:39:59.879    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940125-105432-617_L1C_044-264-4_D_V1-0.zip
2024-01-10T09:39:59.879    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:39:59.879    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:39:59.879    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:39:59.880    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:39:59.880    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:39:59.880    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:39:59.880    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:39:59.880    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940125-105432-617_L1C_044-264-4_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 0]
 [2 2 2 ... 2 2 0]
 ...
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 2 2 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/01/25/SPOT2-HRV2-XS_19940125-105437-370_L1C_044-265-0_D_V1-0/SPOT2-HRV2-XS_19940125-105437-370_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940125-105437-370_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940125-105437-370_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T09:41:38.367    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:41:38.368    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940125-105437-370_L1C_044-265-0_D_V1-0.zip
2024-01-10T09:41:38.368    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:41:38.368    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:41:38.368    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:41:38.368    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:41:38.368    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:41:38.368    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:41:38.368    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:41:38.368    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940125-105437-370_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 1]
 [2 2 2 ... 2 2 1]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/17/SPOT2-HRV2-XS_19940817-103109-341_L1C_045-262-9_D_V1-0/SPOT2-HRV2-XS_19940817-103109-341_L1C_045-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940817-103109-341_L1C_045-262-9_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940817-103109-341_L1C_045-262-9_D_V1-0.zip
run script
2024-01-10T09:42:19.018    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:42:19.020    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940817-103109-341_L1C_045-262-9_D_V1-0.zip
2024-01-10T09:42:19.020    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:42:19.020    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:42:19.020    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:42:19.020    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:42:19.020    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:42:19.020    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:42:19.020    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:42:19.020    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940817-103109-341_L1C_045-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/17/SPOT2-HRV2-XS_19940817-103109-482_L1C_045-263-0_D_V1-0/SPOT2-HRV2-XS_19940817-103109-482_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940817-103109-482_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940817-103109-482_L1C_045-263-0_D_V1-0.zip
run script
2024-01-10T09:43:35.306    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:43:35.307    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940817-103109-482_L1C_045-263-0_D_V1-0.zip
2024-01-10T09:43:35.307    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:43:35.308    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:43:35.308    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:43:35.308    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:43:35.308    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:43:35.308    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:43:35.308    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:43:35.308    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940817-103109-482_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/17/SPOT2-HRV2-XS_19940817-103117-757_L1C_045-264-0_D_V1-0/SPOT2-HRV2-XS_19940817-103117-757_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940817-103117-757_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940817-103117-757_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T09:44:55.350    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:44:55.352    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940817-103117-757_L1C_045-264-0_D_V1-0.zip
2024-01-10T09:44:55.352    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:44:55.352    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:44:55.352    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:44:55.352    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:44:55.352    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:44:55.352    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:44:55.352    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:44:55.352    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940817-103117-757_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/22/SPOT2-HRV2-XS_19940822-103500-841_L1C_045-263-0_D_V1-0/SPOT2-HRV2-XS_19940822-103500-841_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940822-103500-841_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940822-103500-841_L1C_045-263-0_D_V1-0.zip
run script
2024-01-10T09:46:56.465    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:46:56.466    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940822-103500-841_L1C_045-263-0_D_V1-0.zip
2024-01-10T09:46:56.466    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:46:56.466    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:46:56.466    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:46:56.466    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:46:56.466    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:46:56.466    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:46:56.466    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:46:56.466    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940822-103500-841_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/22/SPOT2-HRV2-XS_19940822-103509-125_L1C_046-264-0_D_V1-0/SPOT2-HRV2-XS_19940822-103509-125_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940822-103509-125_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940822-103509-125_L1C_046-264-0_D_V1-0.zip
run script
2024-01-10T09:48:04.838    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:48:04.840    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940822-103509-125_L1C_046-264-0_D_V1-0.zip
2024-01-10T09:48:04.840    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:48:04.840    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:48:04.840    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:48:04.840    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:48:04.840    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:48:04.840    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:48:04.840    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:48:04.840    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940822-103509-125_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/08/22/SPOT2-HRV2-XS_19940822-103517-418_L1C_046-265-0_D_V1-0/SPOT2-HRV2-XS_19940822-103517-418_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940822-103517-418_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940822-103517-418_L1C_046-265-0_D_V1-0.zip
run script
2024-01-10T09:49:50.668    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:49:50.670    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940822-103517-418_L1C_046-265-0_D_V1-0.zip
2024-01-10T09:49:50.670    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:49:50.670    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:49:50.670    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:49:50.670    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:49:50.670    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:49:50.670    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:49:50.670    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:49:50.670    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940822-103517-418_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/11/02/SPOT2-HRV1-XS_19941102-105011-159_L1C_045-264-0_D_V1-0/SPOT2-HRV1-XS_19941102-105011-159_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19941102-105011-159_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941102-105011-159_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T09:50:25.856    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:50:25.859    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941102-105011-159_L1C_045-264-0_D_V1-0.zip
2024-01-10T09:50:25.859    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:50:25.859    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:50:25.859    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:50:25.859    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:50:25.859    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:50:25.859    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:50:25.859    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:50:25.859    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941102-105011-159_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/11/02/SPOT2-HRV1-XS_19941102-105019-503_L1C_045-265-0_D_V1-0/SPOT2-HRV1-XS_19941102-105019-503_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19941102-105019-503_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941102-105019-503_L1C_045-265-0_D_V1-0.zip
run script
2024-01-10T09:52:30.380    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:52:30.381    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941102-105019-503_L1C_045-265-0_D_V1-0.zip
2024-01-10T09:52:30.381    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:52:30.381    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:52:30.381    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:52:30.381    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:52:30.381    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:52:30.381    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:52:30.381    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:52:30.381    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941102-105019-503_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/03/29/SPOT2-HRV2-XS_19940329-104256-252_L1C_046-263-0_D_V1-0/SPOT2-HRV2-XS_19940329-104256-252_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940329-104256-252_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940329-104256-252_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T09:53:06.154    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:53:06.155    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940329-104256-252_L1C_046-263-0_D_V1-0.zip
2024-01-10T09:53:06.155    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:53:06.155    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:53:06.155    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:53:06.155    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:53:06.155    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:53:06.155    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:53:06.156    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:53:06.156    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940329-104256-252_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/03/29/SPOT2-HRV2-XS_19940329-104257-154_L1C_046-263-1_D_V1-0/SPOT2-HRV2-XS_19940329-104257-154_L1C_046-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940329-104257-154_L1C_046-263-1_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940329-104257-154_L1C_046-263-1_D_V1-0.zip
run script
2024-01-10T09:53:59.361    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:53:59.362    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940329-104257-154_L1C_046-263-1_D_V1-0.zip
2024-01-10T09:53:59.362    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:53:59.362    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:53:59.362    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:53:59.362    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:53:59.362    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:53:59.363    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:53:59.363    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:53:59.363    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940329-104257-154_L1C_046-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/01/20/SPOT2-HRV2-XS_19940120-105034-334_L1C_046-264-1_D_V1-0/SPOT2-HRV2-XS_19940120-105034-334_L1C_046-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940120-105034-334_L1C_046-264-1_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940120-105034-334_L1C_046-264-1_D_V1-0.zip
run script
2024-01-10T09:54:58.243    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:54:58.244    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940120-105034-334_L1C_046-264-1_D_V1-0.zip
2024-01-10T09:54:58.244    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:54:58.244    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:54:58.244    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:54:58.245    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:54:58.245    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:54:58.245    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:54:58.245    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:54:58.245    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940120-105034-334_L1C_046-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/01/20/SPOT2-HRV2-XS_19940120-105041-788_L1C_046-265-0_D_V1-0/SPOT2-HRV2-XS_19940120-105041-788_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19940120-105041-788_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940120-105041-788_L1C_046-265-0_D_V1-0.zip
run script
2024-01-10T09:56:29.017    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:56:29.018    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940120-105041-788_L1C_046-265-0_D_V1-0.zip
2024-01-10T09:56:29.018    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:56:29.018    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:56:29.019    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:56:29.019    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:56:29.019    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:56:29.019    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:56:29.019    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:56:29.019    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV2-XS_19940120-105041-788_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1994/11/08/SPOT2-HRV1-XS_19941108-103445-742_L1C_046-264-9_D_V1-0/SPOT2-HRV1-XS_19941108-103445-742_L1C_046-264-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19941108-103445-742_L1C_046-264-9_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941108-103445-742_L1C_046-264-9_D_V1-0.zip
run script
2024-01-10T09:57:02.493    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:57:02.494    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941108-103445-742_L1C_046-264-9_D_V1-0.zip
2024-01-10T09:57:02.494    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:57:02.494    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:57:02.494    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:57:02.494    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:57:02.495    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:57:02.495    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:57:02.495    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:57:02.495    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT2-HRV1-XS_19941108-103445-742_L1C_046-264-9_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/10/27/SPOT4-HRVIR2-XS_20051027-111055-816_L1C_036-262-9_D_V1-0/SPOT4-HRVIR2-XS_20051027-111055-816_L1C_036-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20051027-111055-816_L1C_036-262-9_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT4-HRVIR2-XS_20051027-111055-816_L1C_036-262-9_D_V1-0.zip
run script
2024-01-10T09:57:26.622    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:57:26.623    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT4-HRVIR2-XS_20051027-111055-816_L1C_036-262-9_D_V1-0.zip
2024-01-10T09:57:26.623    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:57:26.623    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:57:26.623    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:57:26.623    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:57:26.623    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:57:26.623    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:57:26.624    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:57:26.624    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT4-HRVIR2-XS_20051027-111055-816_L1C_036-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/10/27/SPOT4-HRVIR2-XS_20051027-111056-038_L1C_036-263-0_D_V1-0/SPOT4-HRVIR2-XS_20051027-111056-038_L1C_036-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20051027-111056-038_L1C_036-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT4-HRVIR2-XS_20051027-111056-038_L1C_036-263-0_D_V1-0.zip
run script
2024-01-10T09:58:23.982    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:58:23.984    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT4-HRVIR2-XS_20051027-111056-038_L1C_036-263-0_D_V1-0.zip
2024-01-10T09:58:23.984    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:58:23.984    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:58:23.984    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:58:23.984    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:58:23.984    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:58:23.984    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:58:23.984    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:58:23.984    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT4-HRVIR2-XS_20051027-111056-038_L1C_036-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/10/27/SPOT4-HRVIR1-XS_20051027-111045-245_L1C_041-262-4_D_V1-0/SPOT4-HRVIR1-XS_20051027-111045-245_L1C_041-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051027-111045-245_L1C_041-262-4_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051027-111045-245_L1C_041-262-4_D_V1-0.zip
run script
2024-01-10T09:59:17.406    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T09:59:17.407    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051027-111045-245_L1C_041-262-4_D_V1-0.zip
2024-01-10T09:59:17.407    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:59:17.407    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:59:17.407    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:59:17.407    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:59:17.407    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:59:17.407    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:59:17.407    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:59:17.408    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051027-111045-245_L1C_041-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/06/SPOT4-HRVIR1-XS_20051106-111832-284_L1C_036-262-8_D_V1-0/SPOT4-HRVIR1-XS_20051106-111832-284_L1C_036-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051106-111832-284_L1C_036-262-8_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051106-111832-284_L1C_036-262-8_D_V1-0.zip
run script
2024-01-10T10:00:07.337    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T10:00:07.338    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051106-111832-284_L1C_036-262-8_D_V1-0.zip
2024-01-10T10:00:07.338    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:00:07.338    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:00:07.338    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T10:00:07.338    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:00:07.338    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:00:07.338    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:00:07.338    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:00:07.338    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051106-111832-284_L1C_036-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/06/SPOT4-HRVIR1-XS_20051106-111833-460_L1C_036-263-0_D_V1-0/SPOT4-HRVIR1-XS_20051106-111833-460_L1C_036-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051106-111833-460_L1C_036-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051106-111833-460_L1C_036-263-0_D_V1-0.zip
run script
2024-01-10T10:01:03.553    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T10:01:03.555    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051106-111833-460_L1C_036-263-0_D_V1-0.zip
2024-01-10T10:01:03.556    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:01:03.556    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:01:03.556    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T10:01:03.556    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:01:03.556    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:01:03.556    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:01:03.556    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:01:03.556    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051106-111833-460_L1C_036-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/10/26/SPOT4-HRVIR1-XS_20051026-113012-382_L1C_036-263-0_D_V1-0/SPOT4-HRVIR1-XS_20051026-113012-382_L1C_036-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051026-113012-382_L1C_036-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051026-113012-382_L1C_036-263-0_D_V1-0.zip
run script
2024-01-10T10:02:04.852    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T10:02:04.853    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051026-113012-382_L1C_036-263-0_D_V1-0.zip
2024-01-10T10:02:04.853    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:02:04.853    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:02:04.853    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T10:02:04.853    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:02:04.853    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:02:04.853    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:02:04.853    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:02:04.853    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051026-113012-382_L1C_036-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/12/29/SPOT4-HRVIR1-XS_20051229-105830-148_L1C_037-263-0_D_V1-0/SPOT4-HRVIR1-XS_20051229-105830-148_L1C_037-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051229-105830-148_L1C_037-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051229-105830-148_L1C_037-263-0_D_V1-0.zip
run script
2024-01-10T10:03:41.872    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T10:03:41.873    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051229-105830-148_L1C_037-263-0_D_V1-0.zip
2024-01-10T10:03:41.873    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:03:41.873    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:03:41.873    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T10:03:41.874    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:03:41.874    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:03:41.874    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:03:41.874    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:03:41.874    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051229-105830-148_L1C_037-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/12/29/SPOT4-HRVIR2-XS_20051229-105828-448_L1C_038-263-0_D_V1-0/SPOT4-HRVIR2-XS_20051229-105828-448_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20051229-105828-448_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT4-HRVIR2-XS_20051229-105828-448_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T10:05:04.019    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T10:05:04.019    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT4-HRVIR2-XS_20051229-105828-448_L1C_038-263-0_D_V1-0.zip
2024-01-10T10:05:04.019    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:05:04.019    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:05:04.019    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T10:05:04.019    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:05:04.019    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:05:04.019    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:05:04.019    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:05:04.019    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT4-HRVIR2-XS_20051229-105828-448_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 2]
 [0 0 0 ... 0 0 2]
 [0 0 0 ... 0 0 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/12/29/SPOT4-HRVIR2-XS_20051229-105830-253_L1C_038-263-2_D_V1-0/SPOT4-HRVIR2-XS_20051229-105830-253_L1C_038-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20051229-105830-253_L1C_038-263-2_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT4-HRVIR2-XS_20051229-105830-253_L1C_038-263-2_D_V1-0.zip
run script
2024-01-10T10:06:47.252    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T10:06:47.253    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT4-HRVIR2-XS_20051229-105830-253_L1C_038-263-2_D_V1-0.zip
2024-01-10T10:06:47.253    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:06:47.253    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:06:47.253    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T10:06:47.253    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:06:47.254    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:06:47.254    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:06:47.254    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:06:47.254    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT4-HRVIR2-XS_20051229-105830-253_L1C_038-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/18/SPOT4-HRVIR2-XS_20051118-104736-470_L1C_038-263-9_D_V1-0/SPOT4-HRVIR2-XS_20051118-104736-470_L1C_038-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20051118-104736-470_L1C_038-263-9_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT4-HRVIR2-XS_20051118-104736-470_L1C_038-263-9_D_V1-0.zip
run script
2024-01-10T10:08:53.191    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T10:08:53.193    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT4-HRVIR2-XS_20051118-104736-470_L1C_038-263-9_D_V1-0.zip
2024-01-10T10:08:53.193    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:08:53.193    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:08:53.193    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T10:08:53.193    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:08:53.193    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:08:53.193    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:08:53.193    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:08:53.193    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT4-HRVIR2-XS_20051118-104736-470_L1C_038-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/18/SPOT4-HRVIR2-XS_20051118-104736-629_L1C_038-264-0_D_V1-0/SPOT4-HRVIR2-XS_20051118-104736-629_L1C_038-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20051118-104736-629_L1C_038-264-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT4-HRVIR2-XS_20051118-104736-629_L1C_038-264-0_D_V1-0.zip
run script
2024-01-10T10:11:29.326    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T10:11:29.327    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT4-HRVIR2-XS_20051118-104736-629_L1C_038-264-0_D_V1-0.zip
2024-01-10T10:11:29.328    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:11:29.328    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:11:29.328    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T10:11:29.328    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:11:29.328    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:11:29.328    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:11:29.328    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:11:29.328    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT4-HRVIR2-XS_20051118-104736-629_L1C_038-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/18/SPOT4-HRVIR2-XS_20051118-104722-040_L1C_041-262-5_D_V1-0/SPOT4-HRVIR2-XS_20051118-104722-040_L1C_041-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20051118-104722-040_L1C_041-262-5_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT4-HRVIR2-XS_20051118-104722-040_L1C_041-262-5_D_V1-0.zip
run script
2024-01-10T10:14:08.852    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T10:14:08.853    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT4-HRVIR2-XS_20051118-104722-040_L1C_041-262-5_D_V1-0.zip
2024-01-10T10:14:08.853    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:14:08.854    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:14:08.854    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T10:14:08.854    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:14:08.854    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:14:08.854    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:14:08.854    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:14:08.854    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT4-HRVIR2-XS_20051118-104722-040_L1C_041-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/18/SPOT4-HRVIR1-XS_20051118-104725-198_L1C_042-263-0_D_V1-0/SPOT4-HRVIR1-XS_20051118-104725-198_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051118-104725-198_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051118-104725-198_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T10:15:05.565    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T10:15:05.567    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051118-104725-198_L1C_042-263-0_D_V1-0.zip
2024-01-10T10:15:05.567    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:15:05.567    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:15:05.567    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T10:15:05.567    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:15:05.567    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:15:05.567    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:15:05.567    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:15:05.567    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051118-104725-198_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/18/SPOT4-HRVIR1-XS_20051118-104726-100_L1C_042-263-1_D_V1-0/SPOT4-HRVIR1-XS_20051118-104726-100_L1C_042-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051118-104726-100_L1C_042-263-1_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051118-104726-100_L1C_042-263-1_D_V1-0.zip
run script
2024-01-10T10:16:57.904    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T10:16:57.904    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051118-104726-100_L1C_042-263-1_D_V1-0.zip
2024-01-10T10:16:57.904    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:16:57.904    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:16:57.905    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T10:16:57.905    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:16:57.905    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:16:57.905    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:16:57.905    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:16:57.905    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051118-104726-100_L1C_042-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/11/SPOT4-HRVIR1-XS_20051111-112215-092_L1C_040-262-8_D_V1-0/SPOT4-HRVIR1-XS_20051111-112215-092_L1C_040-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051111-112215-092_L1C_040-262-8_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051111-112215-092_L1C_040-262-8_D_V1-0.zip
run script
2024-01-10T10:19:00.735    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T10:19:00.737    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051111-112215-092_L1C_040-262-8_D_V1-0.zip
2024-01-10T10:19:00.737    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:19:00.737    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:19:00.737    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T10:19:00.737    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:19:00.737    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:19:00.737    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:19:00.737    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:19:00.737    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051111-112215-092_L1C_040-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4016301/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 2]
 [2 2 2 2]
 [2 2 2 2]
 ...
 [2 2 2 2]
 [2 2 2 2]
 [2 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/10/22/SPOT4-HRVIR1-XS_20051022-110705-819_L1C_040-263-5_D_V1-0/SPOT4-HRVIR1-XS_20051022-110705-819_L1C_040-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051022-110705-819_L1C_040-263-5_D_V1-0.zip
/tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051022-110705-819_L1C_040-263-5_D_V1-0.zip
run script
2024-01-10T10:20:52.479    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T10:20:52.481    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016301/INPUT/SPOT4-HRVIR1-XS_20051022-110705-819_L1C_040-263-5_D_V1-0.zip
2024-01-10T10:20:52.481    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:20:52.481    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:20:52.481    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T10:20:52.481    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:20:52.481    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:20:52.481    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:20:52.481    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:20:52.481    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
