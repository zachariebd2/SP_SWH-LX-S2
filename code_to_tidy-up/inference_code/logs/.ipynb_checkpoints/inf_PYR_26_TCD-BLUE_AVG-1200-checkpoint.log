unload conda/22.11.1  : OK 
load conda/22.11.1  : OK 
envs_dirs : /work/scratch/env/barrouz/conda_env/
pkgs_dirs : /work/scratch/env/barrouz/pkgs_conda
INPUT_PATH /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/PYR/26.txt
OUTPUT_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
DEM_PATH /work/CAMPUS/etudes/Neige/DEM
TCD_PATH /work/datalake/static_aux/TreeCoverDensity
MODELS_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
KEEP_REFL 0
MASK 1
start
/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/PYR/26.txt
muscate/SPOTWORLDHERITAGE/1989/07/13/SPOT1-HRV2-XS_19890713-111002-649_L1C_039-263-9_D_V1-0/SPOT1-HRV2-XS_19890713-111002-649_L1C_039-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890713-111002-649_L1C_039-263-9_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890713-111002-649_L1C_039-263-9_D_V1-0.zip
run script
2024-01-10T19:52:40.066    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T19:52:40.067    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890713-111002-649_L1C_039-263-9_D_V1-0.zip
2024-01-10T19:52:40.067    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T19:52:40.067    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T19:52:40.067    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T19:52:40.068    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T19:52:40.068    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T19:52:40.068    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T19:52:40.068    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T19:52:40.068    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890713-111002-649_L1C_039-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/09/18/SPOT1-HRV2-XS_19890918-112147-855_L1C_039-263-0_D_V1-0/SPOT1-HRV2-XS_19890918-112147-855_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890918-112147-855_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890918-112147-855_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T19:54:36.322    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T19:54:36.323    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890918-112147-855_L1C_039-263-0_D_V1-0.zip
2024-01-10T19:54:36.323    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T19:54:36.323    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T19:54:36.323    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T19:54:36.323    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T19:54:36.324    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T19:54:36.324    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T19:54:36.324    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T19:54:36.324    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890918-112147-855_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/07/02/SPOT1-HRV1-XS_19890702-112128-398_L1C_039-264-0_D_V1-0/SPOT1-HRV1-XS_19890702-112128-398_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890702-112128-398_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890702-112128-398_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T19:56:16.227    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T19:56:16.228    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890702-112128-398_L1C_039-264-0_D_V1-0.zip
2024-01-10T19:56:16.228    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T19:56:16.228    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T19:56:16.229    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T19:56:16.229    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T19:56:16.229    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T19:56:16.229    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T19:56:16.229    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T19:56:16.229    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890702-112128-398_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/09/SPOT1-HRV1-XS_19890809-105049-690_L1C_039-264-0_D_V1-0/SPOT1-HRV1-XS_19890809-105049-690_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890809-105049-690_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890809-105049-690_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T19:58:40.775    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T19:58:40.776    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890809-105049-690_L1C_039-264-0_D_V1-0.zip
2024-01-10T19:58:40.776    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T19:58:40.776    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T19:58:40.776    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T19:58:40.776    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T19:58:40.776    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T19:58:40.776    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T19:58:40.776    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T19:58:40.776    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890809-105049-690_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/09/SPOT1-HRV2-XS_19890809-105047-465_L1C_041-264-0_D_V1-0/SPOT1-HRV2-XS_19890809-105047-465_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890809-105047-465_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890809-105047-465_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T20:00:39.246    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:00:39.248    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890809-105047-465_L1C_041-264-0_D_V1-0.zip
2024-01-10T20:00:39.248    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:00:39.248    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:00:39.248    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:00:39.248    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:00:39.248    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:00:39.248    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:00:39.248    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:00:39.248    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890809-105047-465_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/10/05/SPOT1-HRV1-XS_19891005-105507-696_L1C_039-264-0_D_V1-0/SPOT1-HRV1-XS_19891005-105507-696_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19891005-105507-696_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19891005-105507-696_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T20:02:43.743    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:02:43.744    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19891005-105507-696_L1C_039-264-0_D_V1-0.zip
2024-01-10T20:02:43.744    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:02:43.744    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:02:43.744    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:02:43.744    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:02:43.744    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:02:43.744    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:02:43.744    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:02:43.744    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19891005-105507-696_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/10/09/SPOT1-HRV1-XS_19891009-111817-075_L1C_039-264-0_D_V1-0/SPOT1-HRV1-XS_19891009-111817-075_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19891009-111817-075_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19891009-111817-075_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T20:04:36.847    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:04:36.848    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19891009-111817-075_L1C_039-264-0_D_V1-0.zip
2024-01-10T20:04:36.849    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:04:36.849    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:04:36.849    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:04:36.849    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:04:36.849    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:04:36.849    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:04:36.849    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:04:36.849    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19891009-111817-075_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/09/14/SPOT1-HRV1-XS_19890914-105841-617_L1C_040-263-0_D_V1-0/SPOT1-HRV1-XS_19890914-105841-617_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890914-105841-617_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890914-105841-617_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T20:06:49.106    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:06:49.107    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890914-105841-617_L1C_040-263-0_D_V1-0.zip
2024-01-10T20:06:49.107    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:06:49.107    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:06:49.107    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:06:49.107    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:06:49.107    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:06:49.107    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:06:49.108    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:06:49.108    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890914-105841-617_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/09/14/SPOT1-HRV1-XS_19890914-105849-947_L1C_040-264-0_D_V1-0/SPOT1-HRV1-XS_19890914-105849-947_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890914-105849-947_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890914-105849-947_L1C_040-264-0_D_V1-0.zip
run script
2024-01-10T20:08:02.324    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:08:02.325    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890914-105849-947_L1C_040-264-0_D_V1-0.zip
2024-01-10T20:08:02.325    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:08:02.325    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:08:02.325    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:08:02.325    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:08:02.325    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:08:02.325    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:08:02.325    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:08:02.325    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T20:08:05.127    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (434 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890914-105849-947_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/1989/09/20/SPOT1-HRV1-XS_19890920-104308-423_L1C_040-263-0_D_V1-0/SPOT1-HRV1-XS_19890920-104308-423_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890920-104308-423_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890920-104308-423_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T20:08:08.053    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:08:08.053    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890920-104308-423_L1C_040-263-0_D_V1-0.zip
2024-01-10T20:08:08.054    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:08:08.054    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:08:08.054    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:08:08.054    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:08:08.054    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:08:08.054    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:08:08.054    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:08:08.054    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890920-104308-423_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/09/20/SPOT1-HRV1-XS_19890920-104316-701_L1C_040-264-0_D_V1-0/SPOT1-HRV1-XS_19890920-104316-701_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890920-104316-701_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890920-104316-701_L1C_040-264-0_D_V1-0.zip
run script
2024-01-10T20:09:39.077    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:09:39.078    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890920-104316-701_L1C_040-264-0_D_V1-0.zip
2024-01-10T20:09:39.078    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:09:39.078    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:09:39.078    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:09:39.078    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:09:39.078    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:09:39.079    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:09:39.079    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:09:39.079    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T20:09:41.032    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (454 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890920-104316-701_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/1989/09/20/SPOT1-HRV2-XS_19890920-104302-260_L1C_046-263-0_D_V1-0/SPOT1-HRV2-XS_19890920-104302-260_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890920-104302-260_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890920-104302-260_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T20:09:43.751    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:09:43.751    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890920-104302-260_L1C_046-263-0_D_V1-0.zip
2024-01-10T20:09:43.751    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:09:43.751    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:09:43.751    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:09:43.751    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:09:43.751    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:09:43.751    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:09:43.751    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:09:43.751    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890920-104302-260_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/09/20/SPOT1-HRV2-XS_19890920-104318-894_L1C_046-265-0_D_V1-0/SPOT1-HRV2-XS_19890920-104318-894_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890920-104318-894_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890920-104318-894_L1C_046-265-0_D_V1-0.zip
run script
2024-01-10T20:10:23.893    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:10:23.894    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890920-104318-894_L1C_046-265-0_D_V1-0.zip
2024-01-10T20:10:23.894    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:10:23.894    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:10:23.894    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:10:23.894    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:10:23.895    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:10:23.895    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:10:23.895    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:10:23.895    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890920-104318-894_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/04/11/SPOT1-HRV2-XS_19890411-105752-782_L1C_041-262-9_D_V1-0/SPOT1-HRV2-XS_19890411-105752-782_L1C_041-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890411-105752-782_L1C_041-262-9_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890411-105752-782_L1C_041-262-9_D_V1-0.zip
run script
2024-01-10T20:10:48.542    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:10:48.543    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890411-105752-782_L1C_041-262-9_D_V1-0.zip
2024-01-10T20:10:48.543    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:10:48.543    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:10:48.543    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:10:48.543    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:10:48.543    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:10:48.543    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:10:48.544    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:10:48.544    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890411-105752-782_L1C_041-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/01/23/SPOT1-HRV2-XS_19890123-105821-093_L1C_041-263-0_D_V1-0/SPOT1-HRV2-XS_19890123-105821-093_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890123-105821-093_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890123-105821-093_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T20:12:12.905    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:12:12.906    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890123-105821-093_L1C_041-263-0_D_V1-0.zip
2024-01-10T20:12:12.907    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:12:12.907    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:12:12.907    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:12:12.907    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:12:12.907    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:12:12.907    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:12:12.907    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:12:12.907    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890123-105821-093_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/01/23/SPOT1-HRV2-XS_19890123-105829-431_L1C_041-264-0_D_V1-0/SPOT1-HRV2-XS_19890123-105829-431_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890123-105829-431_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890123-105829-431_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T20:13:36.833    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:13:36.833    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890123-105829-431_L1C_041-264-0_D_V1-0.zip
2024-01-10T20:13:36.833    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:13:36.833    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:13:36.833    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:13:36.833    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:13:36.833    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:13:36.833    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:13:36.833    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:13:36.833    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890123-105829-431_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/02/03/SPOT1-HRV2-XS_19890203-104642-207_L1C_041-263-0_D_V1-0/SPOT1-HRV2-XS_19890203-104642-207_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890203-104642-207_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890203-104642-207_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T20:15:37.572    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:15:37.573    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890203-104642-207_L1C_041-263-0_D_V1-0.zip
2024-01-10T20:15:37.573    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:15:37.573    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:15:37.573    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:15:37.573    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:15:37.573    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:15:37.573    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:15:37.573    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:15:37.573    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890203-104642-207_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/02/03/SPOT1-HRV2-XS_19890203-104650-328_L1C_041-263-9_D_V1-0/SPOT1-HRV2-XS_19890203-104650-328_L1C_041-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890203-104650-328_L1C_041-263-9_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890203-104650-328_L1C_041-263-9_D_V1-0.zip
run script
2024-01-10T20:17:04.849    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:17:04.851    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890203-104650-328_L1C_041-263-9_D_V1-0.zip
2024-01-10T20:17:04.851    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:17:04.851    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:17:04.851    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:17:04.851    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:17:04.851    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:17:04.851    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:17:04.851    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:17:04.851    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890203-104650-328_L1C_041-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/06/12/SPOT1-HRV1-XS_19890612-110541-985_L1C_041-263-0_D_V1-0/SPOT1-HRV1-XS_19890612-110541-985_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890612-110541-985_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890612-110541-985_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T20:19:11.674    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:19:11.675    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890612-110541-985_L1C_041-263-0_D_V1-0.zip
2024-01-10T20:19:11.676    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:19:11.676    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:19:11.676    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:19:11.676    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:19:11.676    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:19:11.676    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:19:11.676    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:19:11.676    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890612-110541-985_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/06/12/SPOT1-HRV1-XS_19890612-110550-106_L1C_041-263-9_D_V1-0/SPOT1-HRV1-XS_19890612-110550-106_L1C_041-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890612-110550-106_L1C_041-263-9_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890612-110550-106_L1C_041-263-9_D_V1-0.zip
run script
2024-01-10T20:20:45.105    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:20:45.106    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890612-110550-106_L1C_041-263-9_D_V1-0.zip
2024-01-10T20:20:45.107    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:20:45.107    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:20:45.107    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:20:45.107    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:20:45.107    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:20:45.107    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:20:45.107    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:20:45.107    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890612-110550-106_L1C_041-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/03/SPOT1-HRV1-XS_19890803-110559-020_L1C_041-263-0_D_V1-0/SPOT1-HRV1-XS_19890803-110559-020_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890803-110559-020_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890803-110559-020_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T20:22:53.693    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:22:53.695    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890803-110559-020_L1C_041-263-0_D_V1-0.zip
2024-01-10T20:22:53.695    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:22:53.695    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:22:53.695    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:22:53.695    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:22:53.695    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:22:53.695    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:22:53.695    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:22:53.695    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890803-110559-020_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/03/SPOT1-HRV1-XS_19890803-110607-407_L1C_041-264-0_D_V1-0/SPOT1-HRV1-XS_19890803-110607-407_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890803-110607-407_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890803-110607-407_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T20:24:24.778    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:24:24.779    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890803-110607-407_L1C_041-264-0_D_V1-0.zip
2024-01-10T20:24:24.779    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:24:24.779    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:24:24.779    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:24:24.779    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:24:24.779    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:24:24.780    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:24:24.780    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:24:24.780    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890803-110607-407_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/06/29/SPOT1-HRV1-XS_19890629-103853-418_L1C_041-264-0_D_V1-0/SPOT1-HRV1-XS_19890629-103853-418_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890629-103853-418_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890629-103853-418_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T20:26:34.466    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:26:34.467    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890629-103853-418_L1C_041-264-0_D_V1-0.zip
2024-01-10T20:26:34.467    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:26:34.468    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:26:34.468    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:26:34.468    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:26:34.468    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:26:34.468    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:26:34.468    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:26:34.468    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890629-103853-418_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/07/08/SPOT1-HRV1-XS_19890708-110605-979_L1C_041-264-0_D_V1-0/SPOT1-HRV1-XS_19890708-110605-979_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890708-110605-979_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890708-110605-979_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T20:28:56.706    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:28:56.708    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890708-110605-979_L1C_041-264-0_D_V1-0.zip
2024-01-10T20:28:56.708    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:28:56.708    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:28:56.708    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:28:56.708    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:28:56.708    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:28:56.708    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:28:56.708    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:28:56.708    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890708-110605-979_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/07/18/SPOT1-HRV1-XS_19890718-111352-963_L1C_041-264-0_D_V1-0/SPOT1-HRV1-XS_19890718-111352-963_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890718-111352-963_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890718-111352-963_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T20:31:08.550    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:31:08.551    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890718-111352-963_L1C_041-264-0_D_V1-0.zip
2024-01-10T20:31:08.551    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:31:08.551    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:31:08.551    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:31:08.551    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:31:08.551    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:31:08.551    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:31:08.551    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:31:08.552    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890718-111352-963_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/07/18/SPOT1-HRV2-XS_19890718-111347-672_L1C_044-264-0_D_V1-0/SPOT1-HRV2-XS_19890718-111347-672_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890718-111347-672_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890718-111347-672_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T20:33:29.086    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:33:29.088    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890718-111347-672_L1C_044-264-0_D_V1-0.zip
2024-01-10T20:33:29.088    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:33:29.088    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:33:29.088    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:33:29.088    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:33:29.088    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:33:29.088    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:33:29.088    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:33:29.088    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890718-111347-672_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/07/18/SPOT1-HRV2-XS_19890718-111356-170_L1C_044-265-0_D_V1-0/SPOT1-HRV2-XS_19890718-111356-170_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890718-111356-170_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890718-111356-170_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T20:36:03.749    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:36:03.749    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890718-111356-170_L1C_044-265-0_D_V1-0.zip
2024-01-10T20:36:03.750    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:36:03.750    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:36:03.750    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:36:03.750    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:36:03.750    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:36:03.750    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:36:03.750    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:36:03.750    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890718-111356-170_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/07/29/SPOT1-HRV1-XS_19890729-110217-407_L1C_041-264-0_D_V1-0/SPOT1-HRV1-XS_19890729-110217-407_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890729-110217-407_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890729-110217-407_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T20:36:46.799    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:36:46.799    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890729-110217-407_L1C_041-264-0_D_V1-0.zip
2024-01-10T20:36:46.799    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:36:46.799    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:36:46.799    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:36:46.799    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:36:46.800    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:36:46.800    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:36:46.800    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:36:46.800    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890729-110217-407_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/19/SPOT1-HRV2-XS_19890819-105835-779_L1C_041-264-0_D_V1-0/SPOT1-HRV2-XS_19890819-105835-779_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890819-105835-779_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890819-105835-779_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T20:38:50.037    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:38:50.038    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890819-105835-779_L1C_041-264-0_D_V1-0.zip
2024-01-10T20:38:50.038    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:38:50.038    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:38:50.038    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:38:50.038    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:38:50.038    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:38:50.038    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:38:50.038    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:38:50.038    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890819-105835-779_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/20/SPOT1-HRV1-XS_19890820-103915-700_L1C_041-264-0_D_V1-0/SPOT1-HRV1-XS_19890820-103915-700_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890820-103915-700_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890820-103915-700_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T20:40:51.289    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:40:51.290    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890820-103915-700_L1C_041-264-0_D_V1-0.zip
2024-01-10T20:40:51.290    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:40:51.290    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:40:51.290    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:40:51.290    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:40:51.290    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:40:51.290    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:40:51.290    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:40:51.290    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890820-103915-700_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/11/16/SPOT1-HRV2-XS_19891116-104702-375_L1C_042-262-9_D_V1-0/SPOT1-HRV2-XS_19891116-104702-375_L1C_042-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19891116-104702-375_L1C_042-262-9_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19891116-104702-375_L1C_042-262-9_D_V1-0.zip
run script
2024-01-10T20:43:13.910    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:43:13.911    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19891116-104702-375_L1C_042-262-9_D_V1-0.zip
2024-01-10T20:43:13.911    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:43:13.911    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:43:13.911    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:43:13.911    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:43:13.912    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:43:13.912    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:43:13.912    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:43:13.912    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19891116-104702-375_L1C_042-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/12/22/SPOT1-HRV1-XS_19891222-105500-099_L1C_042-262-9_D_V1-0/SPOT1-HRV1-XS_19891222-105500-099_L1C_042-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19891222-105500-099_L1C_042-262-9_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19891222-105500-099_L1C_042-262-9_D_V1-0.zip
run script
2024-01-10T20:44:36.607    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:44:36.608    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19891222-105500-099_L1C_042-262-9_D_V1-0.zip
2024-01-10T20:44:36.608    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:44:36.608    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:44:36.609    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:44:36.609    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:44:36.609    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:44:36.609    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:44:36.609    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:44:36.609    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19891222-105500-099_L1C_042-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/12/27/SPOT1-HRV1-XS_19891227-105851-300_L1C_042-262-9_D_V1-0/SPOT1-HRV1-XS_19891227-105851-300_L1C_042-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19891227-105851-300_L1C_042-262-9_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19891227-105851-300_L1C_042-262-9_D_V1-0.zip
run script
2024-01-10T20:45:57.433    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:45:57.433    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19891227-105851-300_L1C_042-262-9_D_V1-0.zip
2024-01-10T20:45:57.433    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:45:57.433    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:45:57.433    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:45:57.433    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:45:57.433    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:45:57.433    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:45:57.433    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:45:57.433    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19891227-105851-300_L1C_042-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 0 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/05/17/SPOT1-HRV1-XS_19890517-110526-347_L1C_042-263-0_D_V1-0/SPOT1-HRV1-XS_19890517-110526-347_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890517-110526-347_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890517-110526-347_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T20:47:19.207    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:47:19.208    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890517-110526-347_L1C_042-263-0_D_V1-0.zip
2024-01-10T20:47:19.208    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:47:19.208    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:47:19.208    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:47:19.208    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:47:19.208    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:47:19.209    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:47:19.209    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:47:19.209    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T20:47:21.612    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (554 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890517-110526-347_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/1989/05/17/SPOT1-HRV1-XS_19890517-110534-745_L1C_042-264-0_D_V1-0/SPOT1-HRV1-XS_19890517-110534-745_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890517-110534-745_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890517-110534-745_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T20:47:24.536    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:47:24.537    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890517-110534-745_L1C_042-264-0_D_V1-0.zip
2024-01-10T20:47:24.537    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:47:24.537    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:47:24.537    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:47:24.537    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:47:24.537    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:47:24.537    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:47:24.537    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:47:24.537    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890517-110534-745_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/05/17/SPOT1-HRV2-XS_19890517-110524-085_L1C_043-263-0_D_V1-0/SPOT1-HRV2-XS_19890517-110524-085_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890517-110524-085_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890517-110524-085_L1C_043-263-0_D_V1-0.zip
run script
2024-01-10T20:49:35.970    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:49:35.971    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890517-110524-085_L1C_043-263-0_D_V1-0.zip
2024-01-10T20:49:35.971    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:49:35.971    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:49:35.971    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:49:35.971    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:49:35.971    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:49:35.971    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:49:35.971    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:49:35.972    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890517-110524-085_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/05/17/SPOT1-HRV2-XS_19890517-110532-504_L1C_043-264-0_D_V1-0/SPOT1-HRV2-XS_19890517-110532-504_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890517-110532-504_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890517-110532-504_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T20:51:07.467    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:51:07.468    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890517-110532-504_L1C_043-264-0_D_V1-0.zip
2024-01-10T20:51:07.468    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:51:07.468    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:51:07.468    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:51:07.468    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:51:07.468    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:51:07.468    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:51:07.469    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:51:07.469    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890517-110532-504_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/18/SPOT1-HRV2-XS_19890818-111741-686_L1C_042-263-0_D_V1-0/SPOT1-HRV2-XS_19890818-111741-686_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890818-111741-686_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890818-111741-686_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T20:53:12.214    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:53:12.215    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890818-111741-686_L1C_042-263-0_D_V1-0.zip
2024-01-10T20:53:12.215    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:53:12.215    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:53:12.215    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:53:12.215    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:53:12.215    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:53:12.215    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:53:12.215    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:53:12.215    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890818-111741-686_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/18/SPOT1-HRV2-XS_19890818-111750-184_L1C_042-264-0_D_V1-0/SPOT1-HRV2-XS_19890818-111750-184_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890818-111750-184_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890818-111750-184_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T20:55:01.029    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:55:01.030    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890818-111750-184_L1C_042-264-0_D_V1-0.zip
2024-01-10T20:55:01.030    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:55:01.030    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:55:01.030    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:55:01.030    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:55:01.030    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:55:01.030    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:55:01.030    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:55:01.031    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T20:57:38.719    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (898 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890818-111750-184_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/1989/08/29/SPOT1-HRV1-XS_19890829-110614-111_L1C_042-263-0_D_V1-0/SPOT1-HRV1-XS_19890829-110614-111_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890829-110614-111_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890829-110614-111_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T20:57:41.594    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:57:41.594    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890829-110614-111_L1C_042-263-0_D_V1-0.zip
2024-01-10T20:57:41.594    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:57:41.594    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:57:41.594    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:57:41.594    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:57:41.594    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:57:41.594    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:57:41.595    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:57:41.595    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890829-110614-111_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/29/SPOT1-HRV1-XS_19890829-110622-519_L1C_042-264-0_D_V1-0/SPOT1-HRV1-XS_19890829-110622-519_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890829-110622-519_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890829-110622-519_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T20:59:11.793    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T20:59:11.794    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890829-110622-519_L1C_042-264-0_D_V1-0.zip
2024-01-10T20:59:11.794    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:59:11.794    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:59:11.794    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T20:59:11.795    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:59:11.795    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:59:11.795    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:59:11.795    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:59:11.795    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890829-110622-519_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/30/SPOT1-HRV1-XS_19890830-104656-717_L1C_042-263-0_D_V1-0/SPOT1-HRV1-XS_19890830-104656-717_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890830-104656-717_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890830-104656-717_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T21:01:02.033    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:01:02.034    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890830-104656-717_L1C_042-263-0_D_V1-0.zip
2024-01-10T21:01:02.034    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:01:02.034    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:01:02.034    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:01:02.035    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:01:02.035    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:01:02.035    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:01:02.035    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:01:02.035    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890830-104656-717_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/30/SPOT1-HRV1-XS_19890830-104705-022_L1C_042-264-0_D_V1-0/SPOT1-HRV1-XS_19890830-104705-022_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890830-104705-022_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890830-104705-022_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T21:02:28.378    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:02:28.379    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890830-104705-022_L1C_042-264-0_D_V1-0.zip
2024-01-10T21:02:28.379    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:02:28.379    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:02:28.379    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:02:28.379    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:02:28.379    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:02:28.379    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:02:28.379    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:02:28.379    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T21:04:05.821    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1698 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890830-104705-022_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/1989/08/30/SPOT1-HRV2-XS_19890830-104654-981_L1C_044-263-0_D_V1-0/SPOT1-HRV2-XS_19890830-104654-981_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890830-104654-981_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890830-104654-981_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T21:04:08.666    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:04:08.666    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890830-104654-981_L1C_044-263-0_D_V1-0.zip
2024-01-10T21:04:08.666    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:04:08.666    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:04:08.666    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:04:08.667    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:04:08.667    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:04:08.667    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:04:08.667    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:04:08.667    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890830-104654-981_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/30/SPOT1-HRV2-XS_19890830-104703-296_L1C_044-264-0_D_V1-0/SPOT1-HRV2-XS_19890830-104703-296_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890830-104703-296_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890830-104703-296_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T21:05:32.580    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:05:32.581    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890830-104703-296_L1C_044-264-0_D_V1-0.zip
2024-01-10T21:05:32.581    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:05:32.581    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:05:32.581    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:05:32.581    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:05:32.581    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:05:32.581    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:05:32.581    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:05:32.581    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890830-104703-296_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/30/SPOT1-HRV2-XS_19890830-104711-622_L1C_044-265-0_D_V1-0/SPOT1-HRV2-XS_19890830-104711-622_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890830-104711-622_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890830-104711-622_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T21:07:23.372    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:07:23.373    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890830-104711-622_L1C_044-265-0_D_V1-0.zip
2024-01-10T21:07:23.373    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:07:23.373    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:07:23.373    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:07:23.373    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:07:23.373    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:07:23.373    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:07:23.373    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:07:23.374    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890830-104711-622_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/12/06/SPOT1-HRV2-XS_19891206-110238-965_L1C_042-263-0_D_V1-0/SPOT1-HRV2-XS_19891206-110238-965_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19891206-110238-965_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19891206-110238-965_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T21:07:54.982    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:07:54.994    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19891206-110238-965_L1C_042-263-0_D_V1-0.zip
2024-01-10T21:07:54.994    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:07:54.994    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:07:54.994    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:07:54.994    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:07:54.994    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:07:54.994    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:07:54.994    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:07:54.994    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19891206-110238-965_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/12/06/SPOT1-HRV2-XS_19891206-110247-086_L1C_042-263-9_D_V1-0/SPOT1-HRV2-XS_19891206-110247-086_L1C_042-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19891206-110247-086_L1C_042-263-9_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19891206-110247-086_L1C_042-263-9_D_V1-0.zip
run script
2024-01-10T21:09:23.357    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:09:23.358    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19891206-110247-086_L1C_042-263-9_D_V1-0.zip
2024-01-10T21:09:23.358    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:09:23.358    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:09:23.358    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:09:23.358    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:09:23.359    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:09:23.359    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:09:23.359    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:09:23.359    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19891206-110247-086_L1C_042-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/05/02/SPOT1-HRV1-XS_19890502-105401-923_L1C_043-263-0_D_V1-0/SPOT1-HRV1-XS_19890502-105401-923_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890502-105401-923_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890502-105401-923_L1C_043-263-0_D_V1-0.zip
run script
2024-01-10T21:11:07.874    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:11:07.876    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890502-105401-923_L1C_043-263-0_D_V1-0.zip
2024-01-10T21:11:07.876    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:11:07.876    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:11:07.876    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:11:07.876    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:11:07.876    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:11:07.876    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:11:07.876    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:11:07.876    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890502-105401-923_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/05/02/SPOT1-HRV1-XS_19890502-105410-265_L1C_043-264-0_D_V1-0/SPOT1-HRV1-XS_19890502-105410-265_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890502-105410-265_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890502-105410-265_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T21:12:30.606    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:12:30.607    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890502-105410-265_L1C_043-264-0_D_V1-0.zip
2024-01-10T21:12:30.608    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:12:30.608    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:12:30.608    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:12:30.608    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:12:30.608    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:12:30.608    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:12:30.608    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:12:30.608    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890502-105410-265_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/05/02/SPOT1-HRV2-XS_19890502-105400-064_L1C_044-263-0_D_V1-0/SPOT1-HRV2-XS_19890502-105400-064_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890502-105400-064_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890502-105400-064_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T21:14:16.480    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:14:16.482    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890502-105400-064_L1C_044-263-0_D_V1-0.zip
2024-01-10T21:14:16.482    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:14:16.482    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:14:16.482    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:14:16.482    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:14:16.482    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:14:16.482    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:14:16.482    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:14:16.482    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T21:14:18.419    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (160 x 1). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890502-105400-064_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/1989/05/02/SPOT1-HRV2-XS_19890502-105408-421_L1C_044-264-0_D_V1-0/SPOT1-HRV2-XS_19890502-105408-421_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890502-105408-421_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890502-105408-421_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T21:14:21.143    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:14:21.143    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890502-105408-421_L1C_044-264-0_D_V1-0.zip
2024-01-10T21:14:21.143    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:14:21.143    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:14:21.143    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:14:21.143    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:14:21.143    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:14:21.143    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:14:21.144    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:14:21.144    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890502-105408-421_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/05/02/SPOT1-HRV2-XS_19890502-105416-780_L1C_044-265-0_D_V1-0/SPOT1-HRV2-XS_19890502-105416-780_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890502-105416-780_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890502-105416-780_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T21:16:09.707    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:16:09.709    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890502-105416-780_L1C_044-265-0_D_V1-0.zip
2024-01-10T21:16:09.709    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:16:09.709    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:16:09.709    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:16:09.709    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:16:09.709    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:16:09.709    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:16:09.709    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:16:09.709    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890502-105416-780_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/11/01/SPOT1-HRV1-XS_19891101-103530-816_L1C_043-263-0_D_V1-0/SPOT1-HRV1-XS_19891101-103530-816_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19891101-103530-816_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19891101-103530-816_L1C_043-263-0_D_V1-0.zip
run script
2024-01-10T21:16:40.329    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:16:40.330    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19891101-103530-816_L1C_043-263-0_D_V1-0.zip
2024-01-10T21:16:40.330    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:16:40.330    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:16:40.330    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:16:40.330    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:16:40.330    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:16:40.330    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:16:40.330    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:16:40.330    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19891101-103530-816_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/11/01/SPOT1-HRV1-XS_19891101-103539-085_L1C_043-264-0_D_V1-0/SPOT1-HRV1-XS_19891101-103539-085_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19891101-103539-085_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19891101-103539-085_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T21:18:15.344    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:18:15.345    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19891101-103539-085_L1C_043-264-0_D_V1-0.zip
2024-01-10T21:18:15.345    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:18:15.346    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:18:15.346    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:18:15.346    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:18:15.346    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:18:15.346    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:18:15.346    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:18:15.346    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19891101-103539-085_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/04/27/SPOT1-HRV2-XS_19890427-105020-146_L1C_043-264-0_D_V1-0/SPOT1-HRV2-XS_19890427-105020-146_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890427-105020-146_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890427-105020-146_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T21:20:21.103    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:20:21.104    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890427-105020-146_L1C_043-264-0_D_V1-0.zip
2024-01-10T21:20:21.104    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:20:21.104    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:20:21.104    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:20:21.104    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:20:21.104    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:20:21.104    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:20:21.105    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:20:21.105    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890427-105020-146_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/06/23/SPOT1-HRV1-XS_19890623-105410-128_L1C_043-264-0_D_V1-0/SPOT1-HRV1-XS_19890623-105410-128_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890623-105410-128_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890623-105410-128_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T21:22:09.108    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:22:09.110    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890623-105410-128_L1C_043-264-0_D_V1-0.zip
2024-01-10T21:22:09.110    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:22:09.110    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:22:09.110    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:22:09.110    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:22:09.111    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:22:09.111    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:22:09.111    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:22:09.111    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890623-105410-128_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/06/28/SPOT1-HRV1-XS_19890628-105809-526_L1C_043-264-0_D_V1-0/SPOT1-HRV1-XS_19890628-105809-526_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890628-105809-526_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890628-105809-526_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T21:23:54.941    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:23:54.942    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890628-105809-526_L1C_043-264-0_D_V1-0.zip
2024-01-10T21:23:54.943    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:23:54.943    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:23:54.943    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:23:54.943    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:23:54.943    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:23:54.943    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:23:54.943    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:23:54.943    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890628-105809-526_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/07/03/SPOT1-HRV1-XS_19890703-110207-017_L1C_043-264-0_D_V1-0/SPOT1-HRV1-XS_19890703-110207-017_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890703-110207-017_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890703-110207-017_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T21:25:44.269    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:25:44.270    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890703-110207-017_L1C_043-264-0_D_V1-0.zip
2024-01-10T21:25:44.270    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:25:44.270    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:25:44.270    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:25:44.270    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:25:44.270    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:25:44.270    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:25:44.270    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:25:44.270    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890703-110207-017_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/02/14/SPOT1-HRV2-XS_19890214-103501-768_L1C_044-263-0_D_V1-0/SPOT1-HRV2-XS_19890214-103501-768_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890214-103501-768_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890214-103501-768_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T21:27:40.711    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:27:40.712    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890214-103501-768_L1C_044-263-0_D_V1-0.zip
2024-01-10T21:27:40.712    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:27:40.712    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:27:40.712    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:27:40.712    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:27:40.712    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:27:40.712    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:27:40.713    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:27:40.713    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890214-103501-768_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/02/14/SPOT1-HRV2-XS_19890214-103510-046_L1C_044-264-0_D_V1-0/SPOT1-HRV2-XS_19890214-103510-046_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890214-103510-046_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890214-103510-046_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T21:29:03.477    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:29:03.478    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890214-103510-046_L1C_044-264-0_D_V1-0.zip
2024-01-10T21:29:03.478    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:29:03.478    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:29:03.478    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:29:03.478    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:29:03.478    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:29:03.478    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:29:03.478    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:29:03.478    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890214-103510-046_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/15/SPOT1-HRV2-XS_19890815-103511-152_L1C_044-263-0_D_V1-0/SPOT1-HRV2-XS_19890815-103511-152_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890815-103511-152_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890815-103511-152_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T21:30:59.170    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:30:59.171    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890815-103511-152_L1C_044-263-0_D_V1-0.zip
2024-01-10T21:30:59.171    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:30:59.171    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:30:59.171    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:30:59.171    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:30:59.171    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:30:59.171    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:30:59.171    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:30:59.171    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890815-103511-152_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/15/SPOT1-HRV2-XS_19890815-103519-433_L1C_044-264-0_D_V1-0/SPOT1-HRV2-XS_19890815-103519-433_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890815-103519-433_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890815-103519-433_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T21:32:28.089    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:32:28.091    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890815-103519-433_L1C_044-264-0_D_V1-0.zip
2024-01-10T21:32:28.091    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:32:28.091    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:32:28.091    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:32:28.091    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:32:28.091    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:32:28.091    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:32:28.091    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:32:28.091    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890815-103519-433_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/15/SPOT1-HRV2-XS_19890815-103527-720_L1C_044-265-0_D_V1-0/SPOT1-HRV2-XS_19890815-103527-720_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890815-103527-720_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890815-103527-720_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T21:34:27.067    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:34:27.068    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890815-103527-720_L1C_044-265-0_D_V1-0.zip
2024-01-10T21:34:27.068    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:34:27.068    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:34:27.069    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:34:27.069    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:34:27.069    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:34:27.069    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:34:27.069    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:34:27.069    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890815-103527-720_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/25/SPOT1-HRV2-XS_19890825-104257-003_L1C_044-263-0_D_V1-0/SPOT1-HRV2-XS_19890825-104257-003_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890825-104257-003_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890825-104257-003_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T21:35:01.570    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:35:01.571    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890825-104257-003_L1C_044-263-0_D_V1-0.zip
2024-01-10T21:35:01.571    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:35:01.572    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:35:01.572    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:35:01.572    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:35:01.572    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:35:01.572    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:35:01.572    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:35:01.572    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890825-104257-003_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/25/SPOT1-HRV2-XS_19890825-104305-306_L1C_044-264-0_D_V1-0/SPOT1-HRV2-XS_19890825-104305-306_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890825-104305-306_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890825-104305-306_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T21:36:15.726    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:36:15.728    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890825-104305-306_L1C_044-264-0_D_V1-0.zip
2024-01-10T21:36:15.728    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:36:15.728    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:36:15.728    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:36:15.728    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:36:15.728    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:36:15.728    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:36:15.728    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:36:15.728    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890825-104305-306_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/25/SPOT1-HRV2-XS_19890825-104313-427_L1C_044-264-9_D_V1-0/SPOT1-HRV2-XS_19890825-104313-427_L1C_044-264-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890825-104313-427_L1C_044-264-9_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890825-104313-427_L1C_044-264-9_D_V1-0.zip
run script
2024-01-10T21:38:04.069    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:38:04.069    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890825-104313-427_L1C_044-264-9_D_V1-0.zip
2024-01-10T21:38:04.069    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:38:04.069    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:38:04.069    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:38:04.069    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:38:04.069    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:38:04.069    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:38:04.070    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:38:04.070    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV2-XS_19890825-104313-427_L1C_044-264-9_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [2 0 0 ... 2 2 2]
 [2 2 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/05/07/SPOT1-HRV1-XS_19890507-105745-948_L1C_046-263-0_D_V1-0/SPOT1-HRV1-XS_19890507-105745-948_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890507-105745-948_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890507-105745-948_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T21:38:37.046    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:38:37.047    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890507-105745-948_L1C_046-263-0_D_V1-0.zip
2024-01-10T21:38:37.047    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:38:37.047    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:38:37.047    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:38:37.047    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:38:37.047    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:38:37.047    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:38:37.048    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:38:37.048    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890507-105745-948_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/05/07/SPOT1-HRV1-XS_19890507-105754-070_L1C_046-263-9_D_V1-0/SPOT1-HRV1-XS_19890507-105754-070_L1C_046-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890507-105754-070_L1C_046-263-9_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890507-105754-070_L1C_046-263-9_D_V1-0.zip
run script
2024-01-10T21:39:20.225    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:39:20.226    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890507-105754-070_L1C_046-263-9_D_V1-0.zip
2024-01-10T21:39:20.226    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:39:20.227    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:39:20.227    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:39:20.227    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:39:20.227    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:39:20.227    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:39:20.227    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:39:20.227    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890507-105754-070_L1C_046-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/09/25/SPOT1-HRV1-XS_19890925-104659-009_L1C_046-263-0_D_V1-0/SPOT1-HRV1-XS_19890925-104659-009_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890925-104659-009_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890925-104659-009_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T21:40:38.759    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:40:38.760    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890925-104659-009_L1C_046-263-0_D_V1-0.zip
2024-01-10T21:40:38.760    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:40:38.760    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:40:38.760    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:40:38.760    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:40:38.760    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:40:38.760    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:40:38.760    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:40:38.760    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890925-104659-009_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/09/25/SPOT1-HRV1-XS_19890925-104707-131_L1C_046-263-9_D_V1-0/SPOT1-HRV1-XS_19890925-104707-131_L1C_046-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890925-104707-131_L1C_046-263-9_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890925-104707-131_L1C_046-263-9_D_V1-0.zip
run script
2024-01-10T21:41:21.889    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:41:21.889    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890925-104707-131_L1C_046-263-9_D_V1-0.zip
2024-01-10T21:41:21.890    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:41:21.890    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:41:21.890    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:41:21.890    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:41:21.890    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:41:21.890    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:41:21.890    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:41:21.890    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890925-104707-131_L1C_046-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/07/04/SPOT1-HRV1-XS_19890704-104245-488_L1C_046-264-0_D_V1-0/SPOT1-HRV1-XS_19890704-104245-488_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890704-104245-488_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890704-104245-488_L1C_046-264-0_D_V1-0.zip
run script
2024-01-10T21:42:36.645    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:42:36.646    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890704-104245-488_L1C_046-264-0_D_V1-0.zip
2024-01-10T21:42:36.647    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:42:36.647    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:42:36.647    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:42:36.647    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:42:36.647    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:42:36.647    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:42:36.647    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:42:36.647    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890704-104245-488_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/07/04/SPOT1-HRV1-XS_19890704-104253-811_L1C_046-265-0_D_V1-0/SPOT1-HRV1-XS_19890704-104253-811_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890704-104253-811_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890704-104253-811_L1C_046-265-0_D_V1-0.zip
run script
2024-01-10T21:43:17.929    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:43:17.930    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890704-104253-811_L1C_046-265-0_D_V1-0.zip
2024-01-10T21:43:17.930    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:43:17.930    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:43:17.930    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:43:17.930    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:43:17.930    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:43:17.931    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:43:17.931    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:43:17.931    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890704-104253-811_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/07/09/SPOT1-HRV1-XS_19890709-104641-456_L1C_046-264-0_D_V1-0/SPOT1-HRV1-XS_19890709-104641-456_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890709-104641-456_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890709-104641-456_L1C_046-264-0_D_V1-0.zip
run script
2024-01-10T21:43:34.138    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:43:34.139    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890709-104641-456_L1C_046-264-0_D_V1-0.zip
2024-01-10T21:43:34.139    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:43:34.139    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:43:34.139    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:43:34.139    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:43:34.139    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:43:34.139    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:43:34.139    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:43:34.139    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890709-104641-456_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/07/09/SPOT1-HRV1-XS_19890709-104649-797_L1C_046-265-0_D_V1-0/SPOT1-HRV1-XS_19890709-104649-797_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890709-104649-797_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890709-104649-797_L1C_046-265-0_D_V1-0.zip
run script
2024-01-10T21:44:14.550    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:44:14.551    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890709-104649-797_L1C_046-265-0_D_V1-0.zip
2024-01-10T21:44:14.551    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:44:14.551    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:44:14.551    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:44:14.551    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:44:14.551    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:44:14.551    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:44:14.551    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:44:14.551    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890709-104649-797_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/07/14/SPOT1-HRV1-XS_19890714-105035-780_L1C_046-264-0_D_V1-0/SPOT1-HRV1-XS_19890714-105035-780_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890714-105035-780_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890714-105035-780_L1C_046-264-0_D_V1-0.zip
run script
2024-01-10T21:44:31.390    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:44:31.391    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890714-105035-780_L1C_046-264-0_D_V1-0.zip
2024-01-10T21:44:31.392    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:44:31.392    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:44:31.392    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:44:31.392    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:44:31.392    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:44:31.392    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:44:31.392    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:44:31.392    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890714-105035-780_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/07/14/SPOT1-HRV1-XS_19890714-105044-143_L1C_046-265-0_D_V1-0/SPOT1-HRV1-XS_19890714-105044-143_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890714-105044-143_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890714-105044-143_L1C_046-265-0_D_V1-0.zip
run script
2024-01-10T21:45:10.382    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:45:10.383    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890714-105044-143_L1C_046-265-0_D_V1-0.zip
2024-01-10T21:45:10.383    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:45:10.383    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:45:10.383    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:45:10.383    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:45:10.383    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:45:10.383    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:45:10.383    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:45:10.384    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890714-105044-143_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/07/19/SPOT1-HRV1-XS_19890719-105428-479_L1C_046-264-0_D_V1-0/SPOT1-HRV1-XS_19890719-105428-479_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890719-105428-479_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890719-105428-479_L1C_046-264-0_D_V1-0.zip
run script
2024-01-10T21:45:26.996    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:45:26.997    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890719-105428-479_L1C_046-264-0_D_V1-0.zip
2024-01-10T21:45:26.997    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:45:26.997    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:45:26.997    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:45:26.997    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:45:26.997    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:45:26.997    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:45:26.997    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:45:26.997    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890719-105428-479_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/07/19/SPOT1-HRV1-XS_19890719-105436-862_L1C_046-265-0_D_V1-0/SPOT1-HRV1-XS_19890719-105436-862_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890719-105436-862_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890719-105436-862_L1C_046-265-0_D_V1-0.zip
run script
2024-01-10T21:46:03.440    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:46:03.442    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890719-105436-862_L1C_046-265-0_D_V1-0.zip
2024-01-10T21:46:03.442    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:46:03.442    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:46:03.442    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:46:03.442    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:46:03.442    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:46:03.442    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:46:03.442    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:46:03.442    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_19890719-105436-862_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/04/20/SPOT2-HRV2-XS_19960420-110140-205_L1C_038-262-7_D_V1-0/SPOT2-HRV2-XS_19960420-110140-205_L1C_038-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19960420-110140-205_L1C_038-262-7_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960420-110140-205_L1C_038-262-7_D_V1-0.zip
run script
2024-01-10T21:46:20.667    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:46:20.668    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960420-110140-205_L1C_038-262-7_D_V1-0.zip
2024-01-10T21:46:20.668    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:46:20.668    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:46:20.668    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:46:20.668    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:46:20.668    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:46:20.668    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:46:20.669    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:46:20.669    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960420-110140-205_L1C_038-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/07/17/SPOT2-HRV1-XS_19960717-110835-091_L1C_038-262-8_D_V1-0/SPOT2-HRV1-XS_19960717-110835-091_L1C_038-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960717-110835-091_L1C_038-262-8_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960717-110835-091_L1C_038-262-8_D_V1-0.zip
run script
2024-01-10T21:47:16.612    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:47:16.613    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960717-110835-091_L1C_038-262-8_D_V1-0.zip
2024-01-10T21:47:16.613    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:47:16.613    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:47:16.614    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:47:16.614    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:47:16.614    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:47:16.614    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:47:16.614    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:47:16.614    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960717-110835-091_L1C_038-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/07/17/SPOT2-HRV2-XS_19960717-110835-133_L1C_039-263-0_D_V1-0/SPOT2-HRV2-XS_19960717-110835-133_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19960717-110835-133_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960717-110835-133_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T21:48:23.727    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:48:23.728    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960717-110835-133_L1C_039-263-0_D_V1-0.zip
2024-01-10T21:48:23.728    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:48:23.728    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:48:23.728    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:48:23.728    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:48:23.728    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:48:23.728    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:48:23.728    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:48:23.728    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960717-110835-133_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/07/18/SPOT2-HRV1-XS_19960718-104915-222_L1C_038-262-8_D_V1-0/SPOT2-HRV1-XS_19960718-104915-222_L1C_038-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960718-104915-222_L1C_038-262-8_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960718-104915-222_L1C_038-262-8_D_V1-0.zip
run script
2024-01-10T21:49:42.280    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:49:42.282    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960718-104915-222_L1C_038-262-8_D_V1-0.zip
2024-01-10T21:49:42.282    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:49:42.282    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:49:42.282    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:49:42.282    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:49:42.282    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:49:42.282    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:49:42.282    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:49:42.282    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960718-104915-222_L1C_038-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/04/19/SPOT2-HRV1-XS_19960419-112100-201_L1C_038-263-0_D_V1-0/SPOT2-HRV1-XS_19960419-112100-201_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960419-112100-201_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960419-112100-201_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T21:50:52.481    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:50:52.482    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960419-112100-201_L1C_038-263-0_D_V1-0.zip
2024-01-10T21:50:52.482    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:50:52.482    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:50:52.482    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:50:52.482    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:50:52.482    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:50:52.482    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:50:52.482    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:50:52.482    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960419-112100-201_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/04/19/SPOT2-HRV1-XS_19960419-112102-006_L1C_038-263-2_D_V1-0/SPOT2-HRV1-XS_19960419-112102-006_L1C_038-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960419-112102-006_L1C_038-263-2_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960419-112102-006_L1C_038-263-2_D_V1-0.zip
run script
2024-01-10T21:52:28.594    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:52:28.595    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960419-112102-006_L1C_038-263-2_D_V1-0.zip
2024-01-10T21:52:28.596    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:52:28.596    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:52:28.596    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:52:28.596    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:52:28.596    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:52:28.596    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:52:28.596    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:52:28.596    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960419-112102-006_L1C_038-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/04/19/SPOT2-HRV2-XS_19960419-112100-367_L1C_038-263-0_D_V1-0/SPOT2-HRV2-XS_19960419-112100-367_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19960419-112100-367_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960419-112100-367_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T21:54:26.470    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:54:26.471    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960419-112100-367_L1C_038-263-0_D_V1-0.zip
2024-01-10T21:54:26.471    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:54:26.471    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:54:26.471    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:54:26.472    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:54:26.472    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:54:26.472    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:54:26.472    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:54:26.472    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960419-112100-367_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/04/19/SPOT2-HRV2-XS_19960419-112102-172_L1C_038-263-2_D_V1-0/SPOT2-HRV2-XS_19960419-112102-172_L1C_038-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19960419-112102-172_L1C_038-263-2_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960419-112102-172_L1C_038-263-2_D_V1-0.zip
run script
2024-01-10T21:56:02.388    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:56:02.390    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960419-112102-172_L1C_038-263-2_D_V1-0.zip
2024-01-10T21:56:02.390    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:56:02.390    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:56:02.390    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:56:02.390    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:56:02.390    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:56:02.390    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:56:02.390    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:56:02.390    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960419-112102-172_L1C_038-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/04/26/SPOT2-HRV1-XS_19960426-104609-949_L1C_038-263-0_D_V1-0/SPOT2-HRV1-XS_19960426-104609-949_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960426-104609-949_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960426-104609-949_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T21:57:57.620    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:57:57.621    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960426-104609-949_L1C_038-263-0_D_V1-0.zip
2024-01-10T21:57:57.621    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:57:57.621    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:57:57.621    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:57:57.621    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:57:57.621    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:57:57.621    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:57:57.621    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:57:57.621    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960426-104609-949_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/04/26/SPOT2-HRV1-XS_19960426-104618-227_L1C_038-264-0_D_V1-0/SPOT2-HRV1-XS_19960426-104618-227_L1C_038-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960426-104618-227_L1C_038-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960426-104618-227_L1C_038-264-0_D_V1-0.zip
run script
2024-01-10T21:59:23.039    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T21:59:23.040    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960426-104618-227_L1C_038-264-0_D_V1-0.zip
2024-01-10T21:59:23.040    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:59:23.040    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:59:23.040    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T21:59:23.040    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:59:23.041    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:59:23.041    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:59:23.041    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:59:23.041    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960426-104618-227_L1C_038-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/05/16/SPOT2-HRV1-XS_19960516-110128-803_L1C_038-263-0_D_V1-0/SPOT2-HRV1-XS_19960516-110128-803_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960516-110128-803_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960516-110128-803_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T22:01:25.395    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:01:25.396    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960516-110128-803_L1C_038-263-0_D_V1-0.zip
2024-01-10T22:01:25.396    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:01:25.396    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:01:25.396    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:01:25.396    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:01:25.396    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:01:25.396    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:01:25.396    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:01:25.396    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960516-110128-803_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/05/16/SPOT2-HRV1-XS_19960516-110133-315_L1C_038-263-5_D_V1-0/SPOT2-HRV1-XS_19960516-110133-315_L1C_038-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960516-110133-315_L1C_038-263-5_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960516-110133-315_L1C_038-263-5_D_V1-0.zip
run script
2024-01-10T22:02:40.327    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:02:40.328    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960516-110133-315_L1C_038-263-5_D_V1-0.zip
2024-01-10T22:02:40.328    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:02:40.328    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:02:40.328    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:02:40.328    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:02:40.328    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:02:40.329    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:02:40.329    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:02:40.329    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960516-110133-315_L1C_038-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/05/16/SPOT2-HRV2-XS_19960516-110124-962_L1C_041-263-0_D_V1-0/SPOT2-HRV2-XS_19960516-110124-962_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19960516-110124-962_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960516-110124-962_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T22:04:29.048    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:04:29.050    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960516-110124-962_L1C_041-263-0_D_V1-0.zip
2024-01-10T22:04:29.050    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:04:29.050    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:04:29.050    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:04:29.050    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:04:29.050    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:04:29.050    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:04:29.050    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:04:29.050    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960516-110124-962_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/05/16/SPOT2-HRV2-XS_19960516-110133-327_L1C_041-264-0_D_V1-0/SPOT2-HRV2-XS_19960516-110133-327_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19960516-110133-327_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960516-110133-327_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T22:05:58.436    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:05:58.438    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960516-110133-327_L1C_041-264-0_D_V1-0.zip
2024-01-10T22:05:58.438    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:05:58.438    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:05:58.438    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:05:58.438    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:05:58.438    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:05:58.438    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:05:58.438    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:05:58.438    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960516-110133-327_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/22/SPOT2-HRV2-XS_19960822-111550-651_L1C_038-263-0_D_V1-0/SPOT2-HRV2-XS_19960822-111550-651_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19960822-111550-651_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960822-111550-651_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T22:08:01.272    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:08:01.274    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960822-111550-651_L1C_038-263-0_D_V1-0.zip
2024-01-10T22:08:01.274    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:08:01.274    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:08:01.274    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:08:01.274    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:08:01.274    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:08:01.274    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:08:01.274    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:08:01.274    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960822-111550-651_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/22/SPOT2-HRV2-XS_19960822-111559-076_L1C_038-264-0_D_V1-0/SPOT2-HRV2-XS_19960822-111559-076_L1C_038-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19960822-111559-076_L1C_038-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960822-111559-076_L1C_038-264-0_D_V1-0.zip
run script
2024-01-10T22:09:30.047    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:09:30.048    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960822-111559-076_L1C_038-264-0_D_V1-0.zip
2024-01-10T22:09:30.048    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:09:30.048    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:09:30.048    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:09:30.048    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:09:30.049    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:09:30.049    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:09:30.049    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:09:30.049    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960822-111559-076_L1C_038-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/22/SPOT2-HRV1-XS_19960822-111548-590_L1C_040-263-0_D_V1-0/SPOT2-HRV1-XS_19960822-111548-590_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960822-111548-590_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960822-111548-590_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T22:11:38.371    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:11:38.372    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960822-111548-590_L1C_040-263-0_D_V1-0.zip
2024-01-10T22:11:38.372    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:11:38.372    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:11:38.372    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:11:38.372    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:11:38.372    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:11:38.372    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:11:38.372    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:11:38.372    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960822-111548-590_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 2]
 [0 0 0 ... 0 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/22/SPOT2-HRV1-XS_19960822-111557-037_L1C_040-264-0_D_V1-0/SPOT2-HRV1-XS_19960822-111557-037_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960822-111557-037_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960822-111557-037_L1C_040-264-0_D_V1-0.zip
run script
2024-01-10T22:13:10.626    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:13:10.627    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960822-111557-037_L1C_040-264-0_D_V1-0.zip
2024-01-10T22:13:10.627    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:13:10.628    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:13:10.628    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:13:10.628    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:13:10.628    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:13:10.628    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:13:10.628    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:13:10.628    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960822-111557-037_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/28/SPOT2-HRV2-XS_19960828-110019-390_L1C_038-263-0_D_V1-0/SPOT2-HRV2-XS_19960828-110019-390_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19960828-110019-390_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960828-110019-390_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T22:15:25.038    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:15:25.039    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960828-110019-390_L1C_038-263-0_D_V1-0.zip
2024-01-10T22:15:25.039    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:15:25.039    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:15:25.039    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:15:25.039    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:15:25.039    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:15:25.039    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:15:25.039    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:15:25.039    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960828-110019-390_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/28/SPOT2-HRV2-XS_19960828-110026-609_L1C_038-263-8_D_V1-0/SPOT2-HRV2-XS_19960828-110026-609_L1C_038-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19960828-110026-609_L1C_038-263-8_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960828-110026-609_L1C_038-263-8_D_V1-0.zip
run script
2024-01-10T22:16:40.753    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:16:40.755    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960828-110026-609_L1C_038-263-8_D_V1-0.zip
2024-01-10T22:16:40.755    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:16:40.755    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:16:40.755    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:16:40.755    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:16:40.755    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:16:40.755    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:16:40.755    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:16:40.755    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960828-110026-609_L1C_038-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/28/SPOT2-HRV1-XS_19960828-110022-172_L1C_043-264-0_D_V1-0/SPOT2-HRV1-XS_19960828-110022-172_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960828-110022-172_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960828-110022-172_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T22:18:28.939    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:18:28.940    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960828-110022-172_L1C_043-264-0_D_V1-0.zip
2024-01-10T22:18:28.940    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:18:28.941    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:18:28.941    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:18:28.941    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:18:28.941    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:18:28.941    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:18:28.941    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:18:28.941    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960828-110022-172_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/07/SPOT2-HRV1-XS_19960907-110754-042_L1C_038-263-0_D_V1-0/SPOT2-HRV1-XS_19960907-110754-042_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960907-110754-042_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960907-110754-042_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T22:20:21.020    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:20:21.021    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960907-110754-042_L1C_038-263-0_D_V1-0.zip
2024-01-10T22:20:21.021    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:20:21.021    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:20:21.021    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:20:21.021    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:20:21.021    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:20:21.021    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:20:21.021    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:20:21.021    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960907-110754-042_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/07/SPOT2-HRV1-XS_19960907-110802-420_L1C_038-264-0_D_V1-0/SPOT2-HRV1-XS_19960907-110802-420_L1C_038-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960907-110802-420_L1C_038-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960907-110802-420_L1C_038-264-0_D_V1-0.zip
run script
2024-01-10T22:21:38.819    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:21:38.820    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960907-110802-420_L1C_038-264-0_D_V1-0.zip
2024-01-10T22:21:38.820    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:21:38.820    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:21:38.820    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:21:38.820    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:21:38.820    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:21:38.820    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:21:38.820    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:21:38.820    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960907-110802-420_L1C_038-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/07/SPOT2-HRV1-XS_19960907-110803-322_L1C_038-264-1_D_V1-0/SPOT2-HRV1-XS_19960907-110803-322_L1C_038-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960907-110803-322_L1C_038-264-1_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960907-110803-322_L1C_038-264-1_D_V1-0.zip
run script
2024-01-10T22:23:32.073    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:23:32.073    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960907-110803-322_L1C_038-264-1_D_V1-0.zip
2024-01-10T22:23:32.073    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:23:32.073    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:23:32.073    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:23:32.073    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:23:32.073    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:23:32.073    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:23:32.074    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:23:32.074    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960907-110803-322_L1C_038-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/07/SPOT2-HRV2-XS_19960907-110744-997_L1C_044-262-8_D_V1-0/SPOT2-HRV2-XS_19960907-110744-997_L1C_044-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19960907-110744-997_L1C_044-262-8_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960907-110744-997_L1C_044-262-8_D_V1-0.zip
run script
2024-01-10T22:25:23.014    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:25:23.016    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960907-110744-997_L1C_044-262-8_D_V1-0.zip
2024-01-10T22:25:23.016    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:25:23.016    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:25:23.016    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:25:23.016    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:25:23.016    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:25:23.016    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:25:23.016    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:25:23.016    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960907-110744-997_L1C_044-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/07/SPOT2-HRV2-XS_19960907-110746-225_L1C_044-263-0_D_V1-0/SPOT2-HRV2-XS_19960907-110746-225_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19960907-110746-225_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960907-110746-225_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T22:26:44.193    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:26:44.193    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960907-110746-225_L1C_044-263-0_D_V1-0.zip
2024-01-10T22:26:44.194    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:26:44.194    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:26:44.194    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:26:44.194    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:26:44.194    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:26:44.194    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:26:44.194    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:26:44.194    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960907-110746-225_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/07/SPOT2-HRV2-XS_19960907-110754-677_L1C_044-264-0_D_V1-0/SPOT2-HRV2-XS_19960907-110754-677_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19960907-110754-677_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960907-110754-677_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T22:28:23.596    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:28:23.596    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960907-110754-677_L1C_044-264-0_D_V1-0.zip
2024-01-10T22:28:23.596    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:28:23.596    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:28:23.596    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:28:23.596    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:28:23.596    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:28:23.597    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:28:23.597    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:28:23.597    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960907-110754-677_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/07/SPOT2-HRV2-XS_19960907-110803-133_L1C_044-265-0_D_V1-0/SPOT2-HRV2-XS_19960907-110803-133_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19960907-110803-133_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960907-110803-133_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T22:30:41.584    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:30:41.586    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960907-110803-133_L1C_044-265-0_D_V1-0.zip
2024-01-10T22:30:41.586    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:30:41.586    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:30:41.586    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:30:41.586    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:30:41.586    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:30:41.586    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:30:41.586    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:30:41.586    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960907-110803-133_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/28/SPOT2-HRV1-XS_19960928-110358-478_L1C_038-263-0_D_V1-0/SPOT2-HRV1-XS_19960928-110358-478_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960928-110358-478_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960928-110358-478_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T22:31:21.017    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:31:21.019    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960928-110358-478_L1C_038-263-0_D_V1-0.zip
2024-01-10T22:31:21.019    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:31:21.019    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:31:21.019    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:31:21.019    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:31:21.019    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:31:21.019    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:31:21.019    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:31:21.019    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960928-110358-478_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/28/SPOT2-HRV1-XS_19960928-110403-892_L1C_038-263-6_D_V1-0/SPOT2-HRV1-XS_19960928-110403-892_L1C_038-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960928-110403-892_L1C_038-263-6_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960928-110403-892_L1C_038-263-6_D_V1-0.zip
run script
2024-01-10T22:32:37.401    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:32:37.403    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960928-110403-892_L1C_038-263-6_D_V1-0.zip
2024-01-10T22:32:37.403    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:32:37.403    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:32:37.403    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:32:37.403    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:32:37.403    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:32:37.403    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:32:37.403    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:32:37.403    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960928-110403-892_L1C_038-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 2]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/29/SPOT2-HRV2-XS_19960929-104439-568_L1C_038-263-0_D_V1-0/SPOT2-HRV2-XS_19960929-104439-568_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19960929-104439-568_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960929-104439-568_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T22:34:26.247    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:34:26.249    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960929-104439-568_L1C_038-263-0_D_V1-0.zip
2024-01-10T22:34:26.249    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:34:26.249    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:34:26.249    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:34:26.249    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:34:26.249    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:34:26.249    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:34:26.249    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:34:26.249    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960929-104439-568_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/29/SPOT2-HRV2-XS_19960929-104447-849_L1C_038-264-0_D_V1-0/SPOT2-HRV2-XS_19960929-104447-849_L1C_038-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19960929-104447-849_L1C_038-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960929-104447-849_L1C_038-264-0_D_V1-0.zip
run script
2024-01-10T22:35:52.116    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:35:52.117    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960929-104447-849_L1C_038-264-0_D_V1-0.zip
2024-01-10T22:35:52.117    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:35:52.117    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:35:52.117    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:35:52.117    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:35:52.117    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:35:52.117    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:35:52.117    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:35:52.117    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960929-104447-849_L1C_038-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/29/SPOT2-HRV1-XS_19960929-104430-152_L1C_044-262-5_D_V1-0/SPOT2-HRV1-XS_19960929-104430-152_L1C_044-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960929-104430-152_L1C_044-262-5_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960929-104430-152_L1C_044-262-5_D_V1-0.zip
run script
2024-01-10T22:37:56.969    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:37:56.970    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960929-104430-152_L1C_044-262-5_D_V1-0.zip
2024-01-10T22:37:56.970    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:37:56.970    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:37:56.970    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:37:56.970    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:37:56.970    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:37:56.971    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:37:56.971    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:37:56.971    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960929-104430-152_L1C_044-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/29/SPOT2-HRV1-XS_19960929-104433-946_L1C_044-263-0_D_V1-0/SPOT2-HRV1-XS_19960929-104433-946_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960929-104433-946_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960929-104433-946_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T22:38:40.243    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:38:40.244    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960929-104433-946_L1C_044-263-0_D_V1-0.zip
2024-01-10T22:38:40.244    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:38:40.244    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:38:40.244    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:38:40.244    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:38:40.245    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:38:40.245    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:38:40.245    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:38:40.245    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960929-104433-946_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/29/SPOT2-HRV1-XS_19960929-104442-260_L1C_044-264-0_D_V1-0/SPOT2-HRV1-XS_19960929-104442-260_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960929-104442-260_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960929-104442-260_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T22:40:02.410    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:40:02.412    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960929-104442-260_L1C_044-264-0_D_V1-0.zip
2024-01-10T22:40:02.412    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:40:02.412    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:40:02.412    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:40:02.412    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:40:02.412    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:40:02.412    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:40:02.412    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:40:02.412    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960929-104442-260_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/29/SPOT2-HRV1-XS_19960929-104450-580_L1C_044-265-0_D_V1-0/SPOT2-HRV1-XS_19960929-104450-580_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960929-104450-580_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960929-104450-580_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T22:41:50.918    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:41:50.919    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960929-104450-580_L1C_044-265-0_D_V1-0.zip
2024-01-10T22:41:50.919    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:41:50.919    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:41:50.919    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:41:50.919    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:41:50.919    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:41:50.919    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:41:50.919    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:41:50.919    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960929-104450-580_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/04/04/SPOT2-HRV1-XS_19960404-110934-761_L1C_039-263-0_D_V1-0/SPOT2-HRV1-XS_19960404-110934-761_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960404-110934-761_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960404-110934-761_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T22:42:22.101    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:42:22.102    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960404-110934-761_L1C_039-263-0_D_V1-0.zip
2024-01-10T22:42:22.103    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:42:22.103    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:42:22.103    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:42:22.103    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:42:22.103    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:42:22.103    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:42:22.103    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:42:22.103    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960404-110934-761_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/04/04/SPOT2-HRV1-XS_19960404-110943-144_L1C_039-264-0_D_V1-0/SPOT2-HRV1-XS_19960404-110943-144_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960404-110943-144_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960404-110943-144_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T22:43:40.169    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:43:40.171    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960404-110943-144_L1C_039-264-0_D_V1-0.zip
2024-01-10T22:43:40.171    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:43:40.171    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:43:40.171    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:43:40.171    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:43:40.171    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:43:40.171    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:43:40.171    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:43:40.171    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960404-110943-144_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/05/22/SPOT2-HRV1-XS_19960522-104557-914_L1C_039-263-0_D_V1-0/SPOT2-HRV1-XS_19960522-104557-914_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960522-104557-914_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960522-104557-914_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T22:45:36.286    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:45:36.287    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960522-104557-914_L1C_039-263-0_D_V1-0.zip
2024-01-10T22:45:36.287    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:45:36.287    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:45:36.287    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:45:36.287    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:45:36.287    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:45:36.287    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:45:36.287    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:45:36.287    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960522-104557-914_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/05/22/SPOT2-HRV1-XS_19960522-104605-133_L1C_039-263-8_D_V1-0/SPOT2-HRV1-XS_19960522-104605-133_L1C_039-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960522-104605-133_L1C_039-263-8_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960522-104605-133_L1C_039-263-8_D_V1-0.zip
run script
2024-01-10T22:47:00.199    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:47:00.201    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960522-104605-133_L1C_039-263-8_D_V1-0.zip
2024-01-10T22:47:00.201    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:47:00.201    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:47:00.201    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:47:00.201    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:47:00.201    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:47:00.201    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:47:00.201    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:47:00.201    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960522-104605-133_L1C_039-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/10/13/SPOT2-HRV2-XS_19961013-111545-500_L1C_039-263-0_D_V1-0/SPOT2-HRV2-XS_19961013-111545-500_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19961013-111545-500_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19961013-111545-500_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T22:49:02.420    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:49:02.421    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19961013-111545-500_L1C_039-263-0_D_V1-0.zip
2024-01-10T22:49:02.421    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:49:02.421    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:49:02.421    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:49:02.421    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:49:02.421    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:49:02.421    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:49:02.421    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:49:02.421    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T22:50:31.316    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (302 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19961013-111545-500_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/1996/10/13/SPOT2-HRV2-XS_19961013-111550-012_L1C_039-263-5_D_V1-0/SPOT2-HRV2-XS_19961013-111550-012_L1C_039-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19961013-111550-012_L1C_039-263-5_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19961013-111550-012_L1C_039-263-5_D_V1-0.zip
run script
2024-01-10T22:50:34.102    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:50:34.102    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19961013-111550-012_L1C_039-263-5_D_V1-0.zip
2024-01-10T22:50:34.102    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:50:34.102    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:50:34.102    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:50:34.103    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:50:34.103    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:50:34.103    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:50:34.103    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:50:34.103    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19961013-111550-012_L1C_039-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/12/10/SPOT2-HRV2-XS_19961210-110108-079_L1C_040-262-6_D_V1-0/SPOT2-HRV2-XS_19961210-110108-079_L1C_040-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19961210-110108-079_L1C_040-262-6_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19961210-110108-079_L1C_040-262-6_D_V1-0.zip
run script
2024-01-10T22:52:54.711    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:52:54.711    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19961210-110108-079_L1C_040-262-6_D_V1-0.zip
2024-01-10T22:52:54.711    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:52:54.711    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:52:54.711    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:52:54.711    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:52:54.711    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:52:54.711    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:52:54.711    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:52:54.711    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19961210-110108-079_L1C_040-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/18/SPOT2-HRV2-XS_19960818-105241-888_L1C_040-263-0_D_V1-0/SPOT2-HRV2-XS_19960818-105241-888_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19960818-105241-888_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960818-105241-888_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T22:53:49.584    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:53:49.586    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960818-105241-888_L1C_040-263-0_D_V1-0.zip
2024-01-10T22:53:49.586    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:53:49.586    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:53:49.586    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:53:49.586    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:53:49.586    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:53:49.586    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:53:49.586    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:53:49.586    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960818-105241-888_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/18/SPOT2-HRV2-XS_19960818-105250-203_L1C_040-264-0_D_V1-0/SPOT2-HRV2-XS_19960818-105250-203_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19960818-105250-203_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960818-105250-203_L1C_040-264-0_D_V1-0.zip
run script
2024-01-10T22:55:15.208    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:55:15.209    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960818-105250-203_L1C_040-264-0_D_V1-0.zip
2024-01-10T22:55:15.209    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:55:15.209    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:55:15.209    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:55:15.209    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:55:15.209    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:55:15.209    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:55:15.209    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:55:15.209    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960818-105250-203_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/18/SPOT2-HRV1-XS_19960818-105232-961_L1C_044-262-4_D_V1-0/SPOT2-HRV1-XS_19960818-105232-961_L1C_044-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960818-105232-961_L1C_044-262-4_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960818-105232-961_L1C_044-262-4_D_V1-0.zip
run script
2024-01-10T22:57:16.416    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:57:16.417    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960818-105232-961_L1C_044-262-4_D_V1-0.zip
2024-01-10T22:57:16.417    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:57:16.417    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:57:16.417    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:57:16.417    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:57:16.417    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:57:16.417    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:57:16.417    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:57:16.417    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T22:57:18.009    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (118 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960818-105232-961_L1C_044-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/1996/08/18/SPOT2-HRV1-XS_19960818-105237-695_L1C_044-263-0_D_V1-0/SPOT2-HRV1-XS_19960818-105237-695_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960818-105237-695_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960818-105237-695_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T22:57:20.939    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:57:20.939    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960818-105237-695_L1C_044-263-0_D_V1-0.zip
2024-01-10T22:57:20.939    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:57:20.939    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:57:20.939    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:57:20.939    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:57:20.939    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:57:20.939    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:57:20.940    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:57:20.940    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960818-105237-695_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/18/SPOT2-HRV1-XS_19960818-105246-042_L1C_044-264-0_D_V1-0/SPOT2-HRV1-XS_19960818-105246-042_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960818-105246-042_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960818-105246-042_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T22:58:43.179    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T22:58:43.181    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960818-105246-042_L1C_044-264-0_D_V1-0.zip
2024-01-10T22:58:43.181    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:58:43.181    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:58:43.181    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T22:58:43.181    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:58:43.181    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:58:43.181    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:58:43.181    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:58:43.181    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960818-105246-042_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/18/SPOT2-HRV1-XS_19960818-105254-399_L1C_044-265-0_D_V1-0/SPOT2-HRV1-XS_19960818-105254-399_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960818-105254-399_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960818-105254-399_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T23:00:33.210    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:00:33.211    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960818-105254-399_L1C_044-265-0_D_V1-0.zip
2024-01-10T23:00:33.211    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:00:33.211    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:00:33.211    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:00:33.211    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:00:33.211    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:00:33.211    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:00:33.211    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:00:33.211    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960818-105254-399_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/11/03/SPOT2-HRV2-XS_19961103-111211-569_L1C_040-263-0_D_V1-0/SPOT2-HRV2-XS_19961103-111211-569_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19961103-111211-569_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19961103-111211-569_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T23:01:04.757    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:01:04.758    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19961103-111211-569_L1C_040-263-0_D_V1-0.zip
2024-01-10T23:01:04.758    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:01:04.758    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:01:04.758    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:01:04.758    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:01:04.758    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:01:04.758    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:01:04.759    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:01:04.759    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19961103-111211-569_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/11/03/SPOT2-HRV2-XS_19961103-111219-997_L1C_040-264-0_D_V1-0/SPOT2-HRV2-XS_19961103-111219-997_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19961103-111219-997_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19961103-111219-997_L1C_040-264-0_D_V1-0.zip
run script
2024-01-10T23:02:45.744    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:02:45.746    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19961103-111219-997_L1C_040-264-0_D_V1-0.zip
2024-01-10T23:02:45.746    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:02:45.746    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:02:45.746    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:02:45.746    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:02:45.746    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:02:45.746    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:02:45.746    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:02:45.746    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19961103-111219-997_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/11/03/SPOT2-HRV2-XS_19961103-111220-899_L1C_040-264-1_D_V1-0/SPOT2-HRV2-XS_19961103-111220-899_L1C_040-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19961103-111220-899_L1C_040-264-1_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19961103-111220-899_L1C_040-264-1_D_V1-0.zip
run script
2024-01-10T23:04:54.951    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:04:54.953    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19961103-111220-899_L1C_040-264-1_D_V1-0.zip
2024-01-10T23:04:54.953    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:04:54.953    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:04:54.953    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:04:54.953    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:04:54.953    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:04:54.953    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:04:54.953    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:04:54.953    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19961103-111220-899_L1C_040-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/11/03/SPOT2-HRV1-XS_19961103-111207-469_L1C_043-263-0_D_V1-0/SPOT2-HRV1-XS_19961103-111207-469_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19961103-111207-469_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19961103-111207-469_L1C_043-263-0_D_V1-0.zip
run script
2024-01-10T23:06:55.306    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:06:55.308    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19961103-111207-469_L1C_043-263-0_D_V1-0.zip
2024-01-10T23:06:55.308    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:06:55.308    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:06:55.308    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:06:55.308    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:06:55.308    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:06:55.308    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:06:55.309    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:06:55.309    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19961103-111207-469_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/11/03/SPOT2-HRV1-XS_19961103-111215-939_L1C_043-264-0_D_V1-0/SPOT2-HRV1-XS_19961103-111215-939_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19961103-111215-939_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19961103-111215-939_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T23:08:37.792    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:08:37.793    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19961103-111215-939_L1C_043-264-0_D_V1-0.zip
2024-01-10T23:08:37.793    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:08:37.793    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:08:37.794    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:08:37.794    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:08:37.794    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:08:37.794    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:08:37.794    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:08:37.794    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19961103-111215-939_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/11/03/SPOT2-HRV1-XS_19961103-111220-451_L1C_043-264-5_D_V1-0/SPOT2-HRV1-XS_19961103-111220-451_L1C_043-264-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19961103-111220-451_L1C_043-264-5_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19961103-111220-451_L1C_043-264-5_D_V1-0.zip
run script
2024-01-10T23:11:01.207    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:11:01.208    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19961103-111220-451_L1C_043-264-5_D_V1-0.zip
2024-01-10T23:11:01.208    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:11:01.208    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:11:01.208    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:11:01.208    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:11:01.208    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:11:01.209    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:11:01.209    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:11:01.209    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19961103-111220-451_L1C_043-264-5_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/11/04/SPOT2-HRV1-XS_19961104-105254-446_L1C_040-263-0_D_V1-0/SPOT2-HRV1-XS_19961104-105254-446_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19961104-105254-446_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19961104-105254-446_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T23:12:31.760    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:12:31.761    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19961104-105254-446_L1C_040-263-0_D_V1-0.zip
2024-01-10T23:12:31.761    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:12:31.761    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:12:31.761    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:12:31.761    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:12:31.761    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:12:31.761    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:12:31.761    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:12:31.761    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19961104-105254-446_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/11/04/SPOT2-HRV1-XS_19961104-105302-763_L1C_040-264-0_D_V1-0/SPOT2-HRV1-XS_19961104-105302-763_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19961104-105302-763_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19961104-105302-763_L1C_040-264-0_D_V1-0.zip
run script
2024-01-10T23:13:56.763    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:13:56.764    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19961104-105302-763_L1C_040-264-0_D_V1-0.zip
2024-01-10T23:13:56.764    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:13:56.764    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:13:56.764    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:13:56.764    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:13:56.764    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:13:56.764    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:13:56.764    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:13:56.764    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19961104-105302-763_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/11/04/SPOT2-HRV2-XS_19961104-105259-665_L1C_043-264-0_D_V1-0/SPOT2-HRV2-XS_19961104-105259-665_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19961104-105259-665_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19961104-105259-665_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T23:15:50.306    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:15:50.307    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19961104-105259-665_L1C_043-264-0_D_V1-0.zip
2024-01-10T23:15:50.307    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:15:50.307    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:15:50.307    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:15:50.307    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:15:50.307    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:15:50.307    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:15:50.307    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:15:50.307    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19961104-105259-665_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/05/05/SPOT2-HRV2-XS_19960505-111301-668_L1C_041-262-7_D_V1-0/SPOT2-HRV2-XS_19960505-111301-668_L1C_041-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19960505-111301-668_L1C_041-262-7_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960505-111301-668_L1C_041-262-7_D_V1-0.zip
run script
2024-01-10T23:17:40.038    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:17:40.039    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960505-111301-668_L1C_041-262-7_D_V1-0.zip
2024-01-10T23:17:40.039    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:17:40.039    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:17:40.039    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:17:40.039    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:17:40.040    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:17:40.040    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:17:40.040    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:17:40.040    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960505-111301-668_L1C_041-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/03/21/SPOT2-HRV1-XS_19960321-103844-638_L1C_041-263-0_D_V1-0/SPOT2-HRV1-XS_19960321-103844-638_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960321-103844-638_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960321-103844-638_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T23:18:54.526    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:18:54.528    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960321-103844-638_L1C_041-263-0_D_V1-0.zip
2024-01-10T23:18:54.528    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:18:54.528    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:18:54.528    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:18:54.528    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:18:54.528    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:18:54.528    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:18:54.528    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:18:54.528    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960321-103844-638_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/03/21/SPOT2-HRV1-XS_19960321-103845-541_L1C_041-263-1_D_V1-0/SPOT2-HRV1-XS_19960321-103845-541_L1C_041-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960321-103845-541_L1C_041-263-1_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960321-103845-541_L1C_041-263-1_D_V1-0.zip
run script
2024-01-10T23:20:29.324    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:20:29.326    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960321-103845-541_L1C_041-263-1_D_V1-0.zip
2024-01-10T23:20:29.326    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:20:29.326    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:20:29.326    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:20:29.326    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:20:29.326    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:20:29.326    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:20:29.326    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:20:29.326    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960321-103845-541_L1C_041-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/23/SPOT2-HRV1-XS_19960823-105636-450_L1C_041-264-0_D_V1-0/SPOT2-HRV1-XS_19960823-105636-450_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960823-105636-450_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960823-105636-450_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T23:22:14.071    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:22:14.073    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960823-105636-450_L1C_041-264-0_D_V1-0.zip
2024-01-10T23:22:14.073    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:22:14.073    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:22:14.073    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:22:14.073    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:22:14.073    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:22:14.073    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:22:14.073    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:22:14.073    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960823-105636-450_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/23/SPOT2-HRV2-XS_19960823-105634-883_L1C_043-264-0_D_V1-0/SPOT2-HRV2-XS_19960823-105634-883_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19960823-105634-883_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960823-105634-883_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T23:24:14.329    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:24:14.331    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960823-105634-883_L1C_043-264-0_D_V1-0.zip
2024-01-10T23:24:14.331    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:24:14.331    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:24:14.331    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:24:14.331    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:24:14.331    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:24:14.331    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:24:14.331    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:24:14.331    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960823-105634-883_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/17/SPOT2-HRV1-XS_19960817-111157-910_L1C_042-263-0_D_V1-0/SPOT2-HRV1-XS_19960817-111157-910_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960817-111157-910_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960817-111157-910_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T23:26:04.841    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:26:04.843    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960817-111157-910_L1C_042-263-0_D_V1-0.zip
2024-01-10T23:26:04.843    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:26:04.843    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:26:04.843    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:26:04.843    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:26:04.843    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:26:04.843    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:26:04.843    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:26:04.843    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960817-111157-910_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/17/SPOT2-HRV1-XS_19960817-111206-369_L1C_042-264-0_D_V1-0/SPOT2-HRV1-XS_19960817-111206-369_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19960817-111206-369_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960817-111206-369_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T23:27:45.850    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:27:45.851    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960817-111206-369_L1C_042-264-0_D_V1-0.zip
2024-01-10T23:27:45.851    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:27:45.851    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:27:45.851    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:27:45.851    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:27:45.852    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:27:45.852    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:27:45.852    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:27:45.852    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960817-111206-369_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/08/SPOT2-HRV1-XS_19960908-104836-093_L1C_042-263-6_D_V1-0/SPOT2-HRV1-XS_19960908-104836-093_L1C_042-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960908-104836-093_L1C_042-263-6_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960908-104836-093_L1C_042-263-6_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/1996/09/08/SPOT2-HRV1-XS_19960908-104838-987_L1C_042-264-0_D_V1-0/SPOT2-HRV1-XS_19960908-104838-987_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960908-104838-987_L1C_042-264-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960908-104838-987_L1C_042-264-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/1996/09/08/SPOT2-HRV2-XS_19960908-104836-433_L1C_043-263-8_D_V1-0/SPOT2-HRV2-XS_19960908-104836-433_L1C_043-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960908-104836-433_L1C_043-263-8_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960908-104836-433_L1C_043-263-8_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/1996/09/08/SPOT2-HRV2-XS_19960908-104837-534_L1C_043-264-0_D_V1-0/SPOT2-HRV2-XS_19960908-104837-534_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960908-104837-534_L1C_043-264-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960908-104837-534_L1C_043-264-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/1996/08/08/SPOT2-HRV1-XS_19960808-104503-545_L1C_043-263-0_D_V1-0/SPOT2-HRV1-XS_19960808-104503-545_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960808-104503-545_L1C_043-263-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960808-104503-545_L1C_043-263-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/1996/08/08/SPOT2-HRV1-XS_19960808-104511-850_L1C_043-264-0_D_V1-0/SPOT2-HRV1-XS_19960808-104511-850_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960808-104511-850_L1C_043-264-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19960808-104511-850_L1C_043-264-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/1996/12/16/SPOT2-HRV1-XS_19961216-104546-456_L1C_043-263-1_D_V1-0/SPOT2-HRV1-XS_19961216-104546-456_L1C_043-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19961216-104546-456_L1C_043-263-1_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT2-HRV1-XS_19961216-104546-456_L1C_043-263-1_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/1996/03/31/SPOT2-HRV2-XS_19960331-104630-436_L1C_043-264-0_D_V1-0/SPOT2-HRV2-XS_19960331-104630-436_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960331-104630-436_L1C_043-264-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960331-104630-436_L1C_043-264-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/1996/08/19/SPOT2-HRV2-XS_19960819-103330-151_L1C_044-264-5_D_V1-0/SPOT2-HRV2-XS_19960819-103330-151_L1C_044-264-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960819-103330-151_L1C_044-264-5_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960819-103330-151_L1C_044-264-5_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/1996/08/19/SPOT2-HRV2-XS_19960819-103333-923_L1C_044-265-0_D_V1-0/SPOT2-HRV2-XS_19960819-103333-923_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960819-103333-923_L1C_044-265-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT2-HRV2-XS_19960819-103333-923_L1C_044-265-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2003/09/18/SPOT1-HRV1-XS_20030918-103443-767_L1C_046-263-0_D_V1-0/SPOT1-HRV1-XS_20030918-103443-767_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_20030918-103443-767_L1C_046-263-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_20030918-103443-767_L1C_046-263-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2003/09/18/SPOT1-HRV1-XS_20030918-103452-054_L1C_046-264-0_D_V1-0/SPOT1-HRV1-XS_20030918-103452-054_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_20030918-103452-054_L1C_046-264-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_20030918-103452-054_L1C_046-264-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2003/09/18/SPOT1-HRV1-XS_20030918-103500-347_L1C_046-265-0_D_V1-0/SPOT1-HRV1-XS_20030918-103500-347_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_20030918-103500-347_L1C_046-265-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT1-HRV1-XS_20030918-103500-347_L1C_046-265-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2010/06/20/SPOT4-HRVIR1-XS_20100620-105835-785_L1C_036-262-0_D_V1-0/SPOT4-HRVIR1-XS_20100620-105835-785_L1C_036-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100620-105835-785_L1C_036-262-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100620-105835-785_L1C_036-262-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2010/06/20/SPOT4-HRVIR1-XS_20100620-105844-150_L1C_036-263-0_D_V1-0/SPOT4-HRVIR1-XS_20100620-105844-150_L1C_036-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100620-105844-150_L1C_036-263-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100620-105844-150_L1C_036-263-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2010/06/25/SPOT4-HRVIR1-XS_20100625-110229-126_L1C_036-263-1_D_V1-0/SPOT4-HRVIR1-XS_20100625-110229-126_L1C_036-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100625-110229-126_L1C_036-263-1_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100625-110229-126_L1C_036-263-1_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2010/08/26/SPOT4-HRVIR2-XS_20100826-110823-011_L1C_037-262-9_D_V1-0/SPOT4-HRVIR2-XS_20100826-110823-011_L1C_037-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100826-110823-011_L1C_037-262-9_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100826-110823-011_L1C_037-262-9_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2010/08/26/SPOT4-HRVIR2-XS_20100826-110823-363_L1C_037-263-0_D_V1-0/SPOT4-HRVIR2-XS_20100826-110823-363_L1C_037-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100826-110823-363_L1C_037-263-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100826-110823-363_L1C_037-263-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2010/10/08/SPOT4-HRVIR1-XS_20101008-103958-684_L1C_037-262-9_D_V1-0/SPOT4-HRVIR1-XS_20101008-103958-684_L1C_037-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101008-103958-684_L1C_037-262-9_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101008-103958-684_L1C_037-262-9_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2010/10/13/SPOT4-HRVIR1-XS_20101013-104339-884_L1C_037-262-9_D_V1-0/SPOT4-HRVIR1-XS_20101013-104339-884_L1C_037-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101013-104339-884_L1C_037-262-9_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101013-104339-884_L1C_037-262-9_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2010/12/19/SPOT4-HRVIR2-XS_20101219-105253-854_L1C_037-262-9_D_V1-0/SPOT4-HRVIR2-XS_20101219-105253-854_L1C_037-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101219-105253-854_L1C_037-262-9_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101219-105253-854_L1C_037-262-9_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2010/12/19/SPOT4-HRVIR2-XS_20101219-105254-116_L1C_037-263-0_D_V1-0/SPOT4-HRVIR2-XS_20101219-105254-116_L1C_037-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101219-105254-116_L1C_037-263-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101219-105254-116_L1C_037-263-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2010/12/25/SPOT4-HRVIR2-XS_20101225-103713-421_L1C_037-262-9_D_V1-0/SPOT4-HRVIR2-XS_20101225-103713-421_L1C_037-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101225-103713-421_L1C_037-262-9_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101225-103713-421_L1C_037-262-9_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2010/08/06/SPOT4-HRVIR2-XS_20100806-105334-459_L1C_037-263-0_D_V1-0/SPOT4-HRVIR2-XS_20100806-105334-459_L1C_037-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100806-105334-459_L1C_037-263-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100806-105334-459_L1C_037-263-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2010/08/17/SPOT4-HRVIR1-XS_20100817-104139-499_L1C_037-263-0_D_V1-0/SPOT4-HRVIR1-XS_20100817-104139-499_L1C_037-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100817-104139-499_L1C_037-263-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100817-104139-499_L1C_037-263-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2010/10/28/SPOT4-HRVIR1-XS_20101028-105438-478_L1C_038-262-6_D_V1-0/SPOT4-HRVIR1-XS_20101028-105438-478_L1C_038-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101028-105438-478_L1C_038-262-6_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101028-105438-478_L1C_038-262-6_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2010/10/28/SPOT4-HRVIR1-XS_20101028-105440-283_L1C_038-262-8_D_V1-0/SPOT4-HRVIR1-XS_20101028-105440-283_L1C_038-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101028-105440-283_L1C_038-262-8_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101028-105440-283_L1C_038-262-8_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2010/10/28/SPOT4-HRVIR2-XS_20101028-105438-493_L1C_040-263-0_D_V1-0/SPOT4-HRVIR2-XS_20101028-105438-493_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101028-105438-493_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101028-105438-493_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T23:31:00.733    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:31:00.735    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101028-105438-493_L1C_040-263-0_D_V1-0.zip
2024-01-10T23:31:00.735    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:31:00.735    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:31:00.735    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:31:00.735    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:31:00.735    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:31:00.735    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:31:00.735    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:31:00.735    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101028-105438-493_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 0]
 [2 2 2 ... 2 0 0]
 [2 2 2 ... 2 2 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/10/28/SPOT4-HRVIR2-XS_20101028-105444-810_L1C_040-263-7_D_V1-0/SPOT4-HRVIR2-XS_20101028-105444-810_L1C_040-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101028-105444-810_L1C_040-263-7_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101028-105444-810_L1C_040-263-7_D_V1-0.zip
run script
2024-01-10T23:32:36.057    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:32:36.058    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101028-105444-810_L1C_040-263-7_D_V1-0.zip
2024-01-10T23:32:36.058    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:32:36.058    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:32:36.058    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:32:36.058    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:32:36.058    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:32:36.058    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:32:36.058    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:32:36.059    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T23:34:31.713    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (214 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101028-105444-810_L1C_040-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/09/22/SPOT4-HRVIR1-XS_20100922-104812-158_L1C_039-262-8_D_V1-0/SPOT4-HRVIR1-XS_20100922-104812-158_L1C_039-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100922-104812-158_L1C_039-262-8_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100922-104812-158_L1C_039-262-8_D_V1-0.zip
run script
2024-01-10T23:34:34.752    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:34:34.752    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100922-104812-158_L1C_039-262-8_D_V1-0.zip
2024-01-10T23:34:34.753    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:34:34.753    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:34:34.753    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:34:34.753    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:34:34.753    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:34:34.753    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:34:34.753    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:34:34.753    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100922-104812-158_L1C_039-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/22/SPOT4-HRVIR1-XS_20100922-104813-292_L1C_039-263-0_D_V1-0/SPOT4-HRVIR1-XS_20100922-104813-292_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100922-104813-292_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100922-104813-292_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T23:35:40.876    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:35:40.877    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100922-104813-292_L1C_039-263-0_D_V1-0.zip
2024-01-10T23:35:40.877    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:35:40.877    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:35:40.877    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:35:40.877    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:35:40.877    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:35:40.877    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:35:40.877    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:35:40.877    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100922-104813-292_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 2 2]
 [0 0 0 ... 0 2 2]
 [0 0 0 ... 0 2 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/10/18/SPOT4-HRVIR2-XS_20101018-104727-562_L1C_039-263-9_D_V1-0/SPOT4-HRVIR2-XS_20101018-104727-562_L1C_039-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101018-104727-562_L1C_039-263-9_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101018-104727-562_L1C_039-263-9_D_V1-0.zip
run script
2024-01-10T23:37:02.017    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:37:02.019    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101018-104727-562_L1C_039-263-9_D_V1-0.zip
2024-01-10T23:37:02.019    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:37:02.019    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:37:02.019    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:37:02.019    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:37:02.019    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:37:02.019    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:37:02.019    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:37:02.020    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101018-104727-562_L1C_039-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/10/18/SPOT4-HRVIR2-XS_20101018-104727-799_L1C_039-264-0_D_V1-0/SPOT4-HRVIR2-XS_20101018-104727-799_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101018-104727-799_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101018-104727-799_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T23:38:54.265    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:38:54.266    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101018-104727-799_L1C_039-264-0_D_V1-0.zip
2024-01-10T23:38:54.266    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:38:54.266    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:38:54.266    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:38:54.266    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:38:54.266    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:38:54.266    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:38:54.267    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:38:54.267    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101018-104727-799_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/11/SPOT4-HRVIR2-XS_20100711-105424-293_L1C_039-264-0_D_V1-0/SPOT4-HRVIR2-XS_20100711-105424-293_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100711-105424-293_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100711-105424-293_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T23:40:49.096    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:40:49.097    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100711-105424-293_L1C_039-264-0_D_V1-0.zip
2024-01-10T23:40:49.097    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:40:49.098    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:40:49.098    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:40:49.098    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:40:49.098    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:40:49.098    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:40:49.098    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:40:49.098    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100711-105424-293_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/11/SPOT4-HRVIR2-XS_20100711-105408-901_L1C_042-262-6_D_V1-0/SPOT4-HRVIR2-XS_20100711-105408-901_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100711-105408-901_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100711-105408-901_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T23:42:45.526    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:42:45.527    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100711-105408-901_L1C_042-262-6_D_V1-0.zip
2024-01-10T23:42:45.527    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:42:45.528    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:42:45.528    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:42:45.528    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:42:45.528    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:42:45.528    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:42:45.528    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:42:45.528    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100711-105408-901_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/11/SPOT4-HRVIR1-XS_20100711-105405-632_L1C_046-263-0_D_V1-0/SPOT4-HRVIR1-XS_20100711-105405-632_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100711-105405-632_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100711-105405-632_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T23:43:45.636    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:43:45.637    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100711-105405-632_L1C_046-263-0_D_V1-0.zip
2024-01-10T23:43:45.637    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:43:45.637    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:43:45.637    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:43:45.637    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:43:45.637    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:43:45.637    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:43:45.637    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:43:45.638    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100711-105405-632_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/11/SPOT4-HRVIR1-XS_20100711-105409-242_L1C_046-263-4_D_V1-0/SPOT4-HRVIR1-XS_20100711-105409-242_L1C_046-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100711-105409-242_L1C_046-263-4_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100711-105409-242_L1C_046-263-4_D_V1-0.zip
run script
2024-01-10T23:44:37.328    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:44:37.330    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100711-105409-242_L1C_046-263-4_D_V1-0.zip
2024-01-10T23:44:37.330    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:44:37.330    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:44:37.330    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:44:37.330    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:44:37.330    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:44:37.330    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:44:37.330    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:44:37.330    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100711-105409-242_L1C_046-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/05/20/SPOT4-HRVIR1-XS_20100520-105538-243_L1C_040-262-5_D_V1-0/SPOT4-HRVIR1-XS_20100520-105538-243_L1C_040-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100520-105538-243_L1C_040-262-5_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100520-105538-243_L1C_040-262-5_D_V1-0.zip
run script
2024-01-10T23:45:58.397    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:45:58.398    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100520-105538-243_L1C_040-262-5_D_V1-0.zip
2024-01-10T23:45:58.398    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:45:58.398    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:45:58.398    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:45:58.398    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:45:58.398    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:45:58.398    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:45:58.398    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:45:58.398    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100520-105538-243_L1C_040-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/05/20/SPOT4-HRVIR1-XS_20100520-105542-130_L1C_040-263-0_D_V1-0/SPOT4-HRVIR1-XS_20100520-105542-130_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100520-105542-130_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100520-105542-130_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T23:46:45.341    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:46:45.342    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100520-105542-130_L1C_040-263-0_D_V1-0.zip
2024-01-10T23:46:45.342    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:46:45.342    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:46:45.342    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:46:45.342    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:46:45.342    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:46:45.342    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:46:45.342    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:46:45.342    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100520-105542-130_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/05/20/SPOT4-HRVIR1-XS_20100520-105543-032_L1C_040-263-1_D_V1-0/SPOT4-HRVIR1-XS_20100520-105543-032_L1C_040-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100520-105543-032_L1C_040-263-1_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100520-105543-032_L1C_040-263-1_D_V1-0.zip
run script
2024-01-10T23:48:19.731    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:48:19.732    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100520-105543-032_L1C_040-263-1_D_V1-0.zip
2024-01-10T23:48:19.732    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:48:19.732    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:48:19.732    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:48:19.733    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:48:19.733    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:48:19.733    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:48:19.733    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:48:19.733    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100520-105543-032_L1C_040-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/05/20/SPOT4-HRVIR2-XS_20100520-105537-558_L1C_043-262-9_D_V1-0/SPOT4-HRVIR2-XS_20100520-105537-558_L1C_043-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100520-105537-558_L1C_043-262-9_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100520-105537-558_L1C_043-262-9_D_V1-0.zip
run script
2024-01-10T23:50:09.178    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:50:09.179    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100520-105537-558_L1C_043-262-9_D_V1-0.zip
2024-01-10T23:50:09.179    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:50:09.179    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:50:09.179    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:50:09.179    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:50:09.179    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:50:09.179    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:50:09.180    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:50:09.180    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100520-105537-558_L1C_043-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/05/20/SPOT4-HRVIR2-XS_20100520-105537-880_L1C_043-263-0_D_V1-0/SPOT4-HRVIR2-XS_20100520-105537-880_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100520-105537-880_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100520-105537-880_L1C_043-263-0_D_V1-0.zip
run script
2024-01-10T23:51:43.644    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:51:43.645    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100520-105537-880_L1C_043-263-0_D_V1-0.zip
2024-01-10T23:51:43.645    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:51:43.645    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:51:43.646    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:51:43.646    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:51:43.646    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:51:43.646    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:51:43.646    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:51:43.646    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100520-105537-880_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/05/20/SPOT4-HRVIR2-XS_20100520-105543-294_L1C_043-263-6_D_V1-0/SPOT4-HRVIR2-XS_20100520-105543-294_L1C_043-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100520-105543-294_L1C_043-263-6_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100520-105543-294_L1C_043-263-6_D_V1-0.zip
run script
2024-01-10T23:53:23.179    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:53:23.179    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100520-105543-294_L1C_043-263-6_D_V1-0.zip
2024-01-10T23:53:23.179    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:53:23.179    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:53:23.179    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:53:23.179    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:53:23.179    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:53:23.179    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:53:23.179    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:53:23.180    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100520-105543-294_L1C_043-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/05/21/SPOT4-HRVIR2-XS_20100521-103619-078_L1C_040-262-6_D_V1-0/SPOT4-HRVIR2-XS_20100521-103619-078_L1C_040-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100521-103619-078_L1C_040-262-6_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100521-103619-078_L1C_040-262-6_D_V1-0.zip
run script
2024-01-10T23:55:41.609    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:55:41.611    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100521-103619-078_L1C_040-262-6_D_V1-0.zip
2024-01-10T23:55:41.611    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:55:41.611    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:55:41.611    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:55:41.611    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:55:41.611    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:55:41.611    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:55:41.611    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:55:41.611    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100521-103619-078_L1C_040-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/05/21/SPOT4-HRVIR1-XS_20100521-103617-815_L1C_041-262-5_D_V1-0/SPOT4-HRVIR1-XS_20100521-103617-815_L1C_041-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100521-103617-815_L1C_041-262-5_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100521-103617-815_L1C_041-262-5_D_V1-0.zip
run script
2024-01-10T23:56:36.668    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:56:36.669    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100521-103617-815_L1C_041-262-5_D_V1-0.zip
2024-01-10T23:56:36.669    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:56:36.670    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:56:36.670    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:56:36.670    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:56:36.670    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:56:36.670    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:56:36.670    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:56:36.670    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100521-103617-815_L1C_041-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/05/21/SPOT4-HRVIR1-XS_20100521-103618-717_L1C_041-262-6_D_V1-0/SPOT4-HRVIR1-XS_20100521-103618-717_L1C_041-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100521-103618-717_L1C_041-262-6_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100521-103618-717_L1C_041-262-6_D_V1-0.zip
run script
2024-01-10T23:57:20.955    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:57:20.956    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100521-103618-717_L1C_041-262-6_D_V1-0.zip
2024-01-10T23:57:20.956    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:57:20.956    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:57:20.957    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:57:20.957    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:57:20.957    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:57:20.957    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:57:20.957    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:57:20.957    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100521-103618-717_L1C_041-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/05/25/SPOT4-HRVIR2-XS_20100525-105924-562_L1C_040-263-0_D_V1-0/SPOT4-HRVIR2-XS_20100525-105924-562_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100525-105924-562_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100525-105924-562_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T23:58:16.220    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:58:16.221    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100525-105924-562_L1C_040-263-0_D_V1-0.zip
2024-01-10T23:58:16.221    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:58:16.221    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:58:16.221    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:58:16.221    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:58:16.221    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:58:16.221    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:58:16.221    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:58:16.221    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100525-105924-562_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/05/25/SPOT4-HRVIR1-XS_20100525-105921-269_L1C_043-263-1_D_V1-0/SPOT4-HRVIR1-XS_20100525-105921-269_L1C_043-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100525-105921-269_L1C_043-263-1_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100525-105921-269_L1C_043-263-1_D_V1-0.zip
run script
2024-01-10T23:59:58.175    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-10T23:59:58.176    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100525-105921-269_L1C_043-263-1_D_V1-0.zip
2024-01-10T23:59:58.176    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:59:58.176    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:59:58.176    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T23:59:58.176    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:59:58.176    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:59:58.177    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:59:58.177    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:59:58.177    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100525-105921-269_L1C_043-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/05/25/SPOT4-HRVIR1-XS_20100525-105924-879_L1C_043-263-5_D_V1-0/SPOT4-HRVIR1-XS_20100525-105924-879_L1C_043-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100525-105924-879_L1C_043-263-5_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100525-105924-879_L1C_043-263-5_D_V1-0.zip
run script
2024-01-11T00:01:54.983    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:01:54.984    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100525-105924-879_L1C_043-263-5_D_V1-0.zip
2024-01-11T00:01:54.984    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:01:54.984    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:01:54.984    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:01:54.984    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:01:54.984    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:01:54.984    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:01:54.984    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:01:54.984    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100525-105924-879_L1C_043-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/01/SPOT4-HRVIR2-XS_20100901-105248-763_L1C_040-263-6_D_V1-0/SPOT4-HRVIR2-XS_20100901-105248-763_L1C_040-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100901-105248-763_L1C_040-263-6_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100901-105248-763_L1C_040-263-6_D_V1-0.zip
run script
2024-01-11T00:04:20.396    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:04:20.397    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100901-105248-763_L1C_040-263-6_D_V1-0.zip
2024-01-11T00:04:20.397    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:04:20.397    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:04:20.397    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:04:20.397    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:04:20.397    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:04:20.397    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:04:20.397    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:04:20.397    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100901-105248-763_L1C_040-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/01/SPOT4-HRVIR2-XS_20100901-105251-747_L1C_040-264-0_D_V1-0/SPOT4-HRVIR2-XS_20100901-105251-747_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100901-105251-747_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100901-105251-747_L1C_040-264-0_D_V1-0.zip
run script
2024-01-11T00:06:29.462    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:06:29.463    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100901-105251-747_L1C_040-264-0_D_V1-0.zip
2024-01-11T00:06:29.463    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:06:29.463    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:06:29.463    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:06:29.463    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:06:29.463    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:06:29.463    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:06:29.463    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:06:29.463    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100901-105251-747_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/01/SPOT4-HRVIR1-XS_20100901-105238-481_L1C_041-262-6_D_V1-0/SPOT4-HRVIR1-XS_20100901-105238-481_L1C_041-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100901-105238-481_L1C_041-262-6_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100901-105238-481_L1C_041-262-6_D_V1-0.zip
run script
2024-01-11T00:08:31.595    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:08:31.596    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100901-105238-481_L1C_041-262-6_D_V1-0.zip
2024-01-11T00:08:31.596    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:08:31.596    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:08:31.596    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:08:31.596    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:08:31.596    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:08:31.596    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:08:31.596    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:08:31.596    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100901-105238-481_L1C_041-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/27/SPOT4-HRVIR2-XS_20100927-105158-637_L1C_040-263-6_D_V1-0/SPOT4-HRVIR2-XS_20100927-105158-637_L1C_040-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100927-105158-637_L1C_040-263-6_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100927-105158-637_L1C_040-263-6_D_V1-0.zip
run script
2024-01-11T00:09:35.956    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:09:35.958    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100927-105158-637_L1C_040-263-6_D_V1-0.zip
2024-01-11T00:09:35.958    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:09:35.958    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:09:35.958    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:09:35.958    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:09:35.958    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:09:35.958    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:09:35.958    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:09:35.958    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-11T00:11:28.047    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (822 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100927-105158-637_L1C_040-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/09/27/SPOT4-HRVIR2-XS_20100927-105201-618_L1C_040-264-0_D_V1-0/SPOT4-HRVIR2-XS_20100927-105201-618_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100927-105201-618_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100927-105201-618_L1C_040-264-0_D_V1-0.zip
run script
2024-01-11T00:11:31.328    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:11:31.329    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100927-105201-618_L1C_040-264-0_D_V1-0.zip
2024-01-11T00:11:31.329    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:11:31.329    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:11:31.329    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:11:31.329    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:11:31.329    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:11:31.329    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:11:31.329    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:11:31.329    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100927-105201-618_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/27/SPOT4-HRVIR1-XS_20100927-105148-021_L1C_041-262-6_D_V1-0/SPOT4-HRVIR1-XS_20100927-105148-021_L1C_041-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100927-105148-021_L1C_041-262-6_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100927-105148-021_L1C_041-262-6_D_V1-0.zip
run script
2024-01-11T00:13:23.416    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:13:23.417    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100927-105148-021_L1C_041-262-6_D_V1-0.zip
2024-01-11T00:13:23.417    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:13:23.418    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:13:23.418    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:13:23.418    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:13:23.418    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:13:23.418    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:13:23.418    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:13:23.418    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100927-105148-021_L1C_041-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/03/20/SPOT4-HRVIR2-XS_20100320-103011-422_L1C_041-262-6_D_V1-0/SPOT4-HRVIR2-XS_20100320-103011-422_L1C_041-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100320-103011-422_L1C_041-262-6_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100320-103011-422_L1C_041-262-6_D_V1-0.zip
run script
2024-01-11T00:14:27.111    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:14:27.113    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100320-103011-422_L1C_041-262-6_D_V1-0.zip
2024-01-11T00:14:27.113    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:14:27.113    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:14:27.113    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:14:27.113    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:14:27.113    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:14:27.113    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:14:27.113    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:14:27.113    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100320-103011-422_L1C_041-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 0 ... 2 2 2]
 [2 2 0 ... 2 2 2]
 [2 2 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/04/09/SPOT4-HRVIR1-XS_20100409-104514-555_L1C_041-262-5_D_V1-0/SPOT4-HRVIR1-XS_20100409-104514-555_L1C_041-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100409-104514-555_L1C_041-262-5_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100409-104514-555_L1C_041-262-5_D_V1-0.zip
run script
2024-01-11T00:15:29.076    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:15:29.078    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100409-104514-555_L1C_041-262-5_D_V1-0.zip
2024-01-11T00:15:29.078    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:15:29.078    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:15:29.078    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:15:29.078    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:15:29.078    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:15:29.078    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:15:29.078    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:15:29.078    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100409-104514-555_L1C_041-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/04/09/SPOT4-HRVIR1-XS_20100409-104515-458_L1C_041-262-6_D_V1-0/SPOT4-HRVIR1-XS_20100409-104515-458_L1C_041-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100409-104515-458_L1C_041-262-6_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100409-104515-458_L1C_041-262-6_D_V1-0.zip
run script
2024-01-11T00:16:13.975    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:16:13.977    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100409-104515-458_L1C_041-262-6_D_V1-0.zip
2024-01-11T00:16:13.977    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:16:13.977    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:16:13.977    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:16:13.977    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:16:13.977    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:16:13.977    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:16:13.977    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:16:13.977    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100409-104515-458_L1C_041-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/04/09/SPOT4-HRVIR2-XS_20100409-104515-368_L1C_041-262-7_D_V1-0/SPOT4-HRVIR2-XS_20100409-104515-368_L1C_041-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100409-104515-368_L1C_041-262-7_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100409-104515-368_L1C_041-262-7_D_V1-0.zip
run script
2024-01-11T00:17:07.282    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:17:07.283    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100409-104515-368_L1C_041-262-7_D_V1-0.zip
2024-01-11T00:17:07.283    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:17:07.283    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:17:07.283    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:17:07.283    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:17:07.283    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:17:07.283    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:17:07.283    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:17:07.283    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100409-104515-368_L1C_041-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/23/SPOT4-HRVIR1-XS_20100923-102846-021_L1C_041-262-6_D_V1-0/SPOT4-HRVIR1-XS_20100923-102846-021_L1C_041-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100923-102846-021_L1C_041-262-6_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100923-102846-021_L1C_041-262-6_D_V1-0.zip
run script
2024-01-11T00:18:11.929    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:18:11.930    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100923-102846-021_L1C_041-262-6_D_V1-0.zip
2024-01-11T00:18:11.930    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:18:11.930    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:18:11.931    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:18:11.931    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:18:11.931    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:18:11.931    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:18:11.931    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:18:11.931    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100923-102846-021_L1C_041-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/02/SPOT4-HRVIR1-XS_20101102-105814-950_L1C_041-262-7_D_V1-0/SPOT4-HRVIR1-XS_20101102-105814-950_L1C_041-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101102-105814-950_L1C_041-262-7_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101102-105814-950_L1C_041-262-7_D_V1-0.zip
run script
2024-01-11T00:19:10.899    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:19:10.900    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101102-105814-950_L1C_041-262-7_D_V1-0.zip
2024-01-11T00:19:10.900    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:19:10.901    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:19:10.901    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:19:10.901    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:19:10.901    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:19:10.901    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:19:10.901    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:19:10.901    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101102-105814-950_L1C_041-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/28/SPOT4-HRVIR2-XS_20101128-105719-191_L1C_041-262-6_D_V1-0/SPOT4-HRVIR2-XS_20101128-105719-191_L1C_041-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101128-105719-191_L1C_041-262-6_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101128-105719-191_L1C_041-262-6_D_V1-0.zip
run script
2024-01-11T00:20:33.312    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:20:33.313    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101128-105719-191_L1C_041-262-6_D_V1-0.zip
2024-01-11T00:20:33.313    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:20:33.313    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:20:33.313    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:20:33.313    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:20:33.313    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:20:33.313    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:20:33.314    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:20:33.314    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101128-105719-191_L1C_041-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/10/SPOT4-HRVIR1-XS_20101210-102603-913_L1C_041-262-6_D_V1-0/SPOT4-HRVIR1-XS_20101210-102603-913_L1C_041-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101210-102603-913_L1C_041-262-6_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101210-102603-913_L1C_041-262-6_D_V1-0.zip
run script
2024-01-11T00:21:46.986    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:21:46.987    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101210-102603-913_L1C_041-262-6_D_V1-0.zip
2024-01-11T00:21:46.987    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:21:46.987    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:21:46.987    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:21:46.987    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:21:46.987    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:21:46.987    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:21:46.988    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:21:46.988    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101210-102603-913_L1C_041-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 0 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/10/SPOT4-HRVIR2-XS_20101210-102603-877_L1C_041-262-5_D_V1-0/SPOT4-HRVIR2-XS_20101210-102603-877_L1C_041-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101210-102603-877_L1C_041-262-5_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101210-102603-877_L1C_041-262-5_D_V1-0.zip
run script
2024-01-11T00:22:44.804    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:22:44.804    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101210-102603-877_L1C_041-262-5_D_V1-0.zip
2024-01-11T00:22:44.805    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:22:44.805    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:22:44.805    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:22:44.805    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:22:44.805    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:22:44.805    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:22:44.805    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:22:44.805    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101210-102603-877_L1C_041-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 0 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/10/SPOT4-HRVIR1-XS_20101210-102619-642_L1C_045-264-9_D_V1-0/SPOT4-HRVIR1-XS_20101210-102619-642_L1C_045-264-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101210-102619-642_L1C_045-264-9_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101210-102619-642_L1C_045-264-9_D_V1-0.zip
run script
2024-01-11T00:23:31.401    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:23:31.402    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101210-102619-642_L1C_045-264-9_D_V1-0.zip
2024-01-11T00:23:31.402    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:23:31.402    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:23:31.402    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:23:31.402    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:23:31.403    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:23:31.403    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:23:31.403    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:23:31.403    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-11T00:23:33.123    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (112 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101210-102619-642_L1C_045-264-9_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2010/12/10/SPOT4-HRVIR1-XS_20101210-102619-846_L1C_045-265-0_D_V1-0/SPOT4-HRVIR1-XS_20101210-102619-846_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101210-102619-846_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101210-102619-846_L1C_045-265-0_D_V1-0.zip
run script
2024-01-11T00:23:36.216    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:23:36.217    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101210-102619-846_L1C_045-265-0_D_V1-0.zip
2024-01-11T00:23:36.217    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:23:36.217    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:23:36.217    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:23:36.218    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:23:36.218    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:23:36.218    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:23:36.218    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:23:36.218    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-11T00:23:38.098    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (100 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101210-102619-846_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2010/11/14/SPOT4-HRVIR2-XS_20101114-102656-018_L1C_041-263-0_D_V1-0/SPOT4-HRVIR2-XS_20101114-102656-018_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101114-102656-018_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101114-102656-018_L1C_041-263-0_D_V1-0.zip
run script
2024-01-11T00:23:41.217    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:23:41.217    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101114-102656-018_L1C_041-263-0_D_V1-0.zip
2024-01-11T00:23:41.217    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:23:41.217    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:23:41.217    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:23:41.217    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:23:41.218    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:23:41.218    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:23:41.218    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:23:41.218    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101114-102656-018_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/14/SPOT4-HRVIR2-XS_20101114-102657-821_L1C_041-263-2_D_V1-0/SPOT4-HRVIR2-XS_20101114-102657-821_L1C_041-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101114-102657-821_L1C_041-263-2_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101114-102657-821_L1C_041-263-2_D_V1-0.zip
run script
2024-01-11T00:25:11.029    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:25:11.031    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101114-102657-821_L1C_041-263-2_D_V1-0.zip
2024-01-11T00:25:11.031    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:25:11.031    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:25:11.031    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:25:11.031    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:25:11.031    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:25:11.031    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:25:11.031    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:25:11.031    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101114-102657-821_L1C_041-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/14/SPOT4-HRVIR1-XS_20101114-102650-215_L1C_045-262-8_D_V1-0/SPOT4-HRVIR1-XS_20101114-102650-215_L1C_045-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101114-102650-215_L1C_045-262-8_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101114-102650-215_L1C_045-262-8_D_V1-0.zip
run script
2024-01-11T00:27:00.005    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:27:00.005    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101114-102650-215_L1C_045-262-8_D_V1-0.zip
2024-01-11T00:27:00.005    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:27:00.005    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:27:00.005    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:27:00.005    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:27:00.005    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:27:00.005    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:27:00.005    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:27:00.005    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101114-102650-215_L1C_045-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/14/SPOT4-HRVIR1-XS_20101114-102651-310_L1C_045-263-0_D_V1-0/SPOT4-HRVIR1-XS_20101114-102651-310_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101114-102651-310_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101114-102651-310_L1C_045-263-0_D_V1-0.zip
run script
2024-01-11T00:27:54.897    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:27:54.898    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101114-102651-310_L1C_045-263-0_D_V1-0.zip
2024-01-11T00:27:54.899    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:27:54.899    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:27:54.899    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:27:54.899    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:27:54.899    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:27:54.899    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:27:54.899    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:27:54.899    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101114-102651-310_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/14/SPOT4-HRVIR1-XS_20101114-102659-633_L1C_045-264-0_D_V1-0/SPOT4-HRVIR1-XS_20101114-102659-633_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101114-102659-633_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101114-102659-633_L1C_045-264-0_D_V1-0.zip
run script
2024-01-11T00:29:00.277    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:29:00.278    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101114-102659-633_L1C_045-264-0_D_V1-0.zip
2024-01-11T00:29:00.278    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:29:00.278    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:29:00.278    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:29:00.279    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:29:00.279    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:29:00.279    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:29:00.279    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:29:00.279    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101114-102659-633_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/14/SPOT4-HRVIR1-XS_20101114-102703-241_L1C_045-264-4_D_V1-0/SPOT4-HRVIR1-XS_20101114-102703-241_L1C_045-264-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101114-102703-241_L1C_045-264-4_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101114-102703-241_L1C_045-264-4_D_V1-0.zip
run script
2024-01-11T00:30:40.108    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:30:40.108    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101114-102703-241_L1C_045-264-4_D_V1-0.zip
2024-01-11T00:30:40.108    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:30:40.108    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:30:40.108    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:30:40.109    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:30:40.109    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:30:40.109    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:30:40.109    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:30:40.109    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101114-102703-241_L1C_045-264-4_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/15/SPOT4-HRVIR1-XS_20101215-102956-763_L1C_041-263-9_D_V1-0/SPOT4-HRVIR1-XS_20101215-102956-763_L1C_041-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101215-102956-763_L1C_041-263-9_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101215-102956-763_L1C_041-263-9_D_V1-0.zip
run script
2024-01-11T00:31:52.066    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:31:52.067    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101215-102956-763_L1C_041-263-9_D_V1-0.zip
2024-01-11T00:31:52.067    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:31:52.067    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:31:52.067    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:31:52.067    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:31:52.067    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:31:52.067    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:31:52.068    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:31:52.068    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101215-102956-763_L1C_041-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/15/SPOT4-HRVIR1-XS_20101215-102956-944_L1C_041-264-0_D_V1-0/SPOT4-HRVIR1-XS_20101215-102956-944_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101215-102956-944_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101215-102956-944_L1C_041-264-0_D_V1-0.zip
run script
2024-01-11T00:33:59.091    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:33:59.093    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101215-102956-944_L1C_041-264-0_D_V1-0.zip
2024-01-11T00:33:59.093    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:33:59.093    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:33:59.093    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:33:59.093    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:33:59.093    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:33:59.093    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:33:59.093    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:33:59.093    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101215-102956-944_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/03/15/SPOT4-HRVIR1-XS_20100315-102623-805_L1C_042-262-6_D_V1-0/SPOT4-HRVIR1-XS_20100315-102623-805_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100315-102623-805_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100315-102623-805_L1C_042-262-6_D_V1-0.zip
run script
2024-01-11T00:36:09.081    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:36:09.082    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100315-102623-805_L1C_042-262-6_D_V1-0.zip
2024-01-11T00:36:09.082    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:36:09.082    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:36:09.082    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:36:09.082    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:36:09.082    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:36:09.082    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:36:09.082    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:36:09.082    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100315-102623-805_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/05/10/SPOT4-HRVIR1-XS_20100510-104813-060_L1C_042-262-6_D_V1-0/SPOT4-HRVIR1-XS_20100510-104813-060_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100510-104813-060_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100510-104813-060_L1C_042-262-6_D_V1-0.zip
run script
2024-01-11T00:37:15.243    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:37:15.244    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100510-104813-060_L1C_042-262-6_D_V1-0.zip
2024-01-11T00:37:15.244    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:37:15.244    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:37:15.244    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:37:15.244    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:37:15.244    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:37:15.245    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:37:15.245    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:37:15.245    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100510-104813-060_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/05/11/SPOT4-HRVIR2-XS_20100511-102851-975_L1C_042-262-6_D_V1-0/SPOT4-HRVIR2-XS_20100511-102851-975_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100511-102851-975_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100511-102851-975_L1C_042-262-6_D_V1-0.zip
run script
2024-01-11T00:38:13.413    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:38:13.414    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100511-102851-975_L1C_042-262-6_D_V1-0.zip
2024-01-11T00:38:13.414    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:38:13.415    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:38:13.415    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:38:13.415    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:38:13.415    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:38:13.415    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:38:13.415    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:38:13.415    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100511-102851-975_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/05/SPOT4-HRVIR2-XS_20100605-104724-395_L1C_042-262-6_D_V1-0/SPOT4-HRVIR2-XS_20100605-104724-395_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100605-104724-395_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100605-104724-395_L1C_042-262-6_D_V1-0.zip
run script
2024-01-11T00:39:14.699    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:39:14.700    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100605-104724-395_L1C_042-262-6_D_V1-0.zip
2024-01-11T00:39:14.700    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:39:14.700    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:39:14.700    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:39:14.700    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:39:14.700    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:39:14.700    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:39:14.700    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:39:14.700    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100605-104724-395_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/18/SPOT4-HRVIR2-XS_20101118-104954-734_L1C_042-262-6_D_V1-0/SPOT4-HRVIR2-XS_20101118-104954-734_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101118-104954-734_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101118-104954-734_L1C_042-262-6_D_V1-0.zip
run script
2024-01-11T00:40:18.176    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:40:18.177    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101118-104954-734_L1C_042-262-6_D_V1-0.zip
2024-01-11T00:40:18.177    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:40:18.177    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:40:18.178    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:40:18.178    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:40:18.178    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:40:18.178    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:40:18.178    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:40:18.178    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101118-104954-734_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/18/SPOT4-HRVIR1-XS_20101118-104949-326_L1C_045-262-6_D_V1-0/SPOT4-HRVIR1-XS_20101118-104949-326_L1C_045-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101118-104949-326_L1C_045-262-6_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101118-104949-326_L1C_045-262-6_D_V1-0.zip
run script
2024-01-11T00:41:54.557    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:41:54.559    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101118-104949-326_L1C_045-262-6_D_V1-0.zip
2024-01-11T00:41:54.559    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:41:54.559    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:41:54.560    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:41:54.560    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:41:54.560    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:41:54.560    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:41:54.560    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:41:54.560    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101118-104949-326_L1C_045-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/18/SPOT4-HRVIR1-XS_20101118-104952-382_L1C_045-263-0_D_V1-0/SPOT4-HRVIR1-XS_20101118-104952-382_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101118-104952-382_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101118-104952-382_L1C_045-263-0_D_V1-0.zip
run script
2024-01-11T00:42:40.613    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:42:40.614    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101118-104952-382_L1C_045-263-0_D_V1-0.zip
2024-01-11T00:42:40.614    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:42:40.614    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:42:40.614    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:42:40.614    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:42:40.614    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:42:40.614    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:42:40.614    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:42:40.614    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101118-104952-382_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/18/SPOT4-HRVIR1-XS_20101118-104955-089_L1C_045-263-3_D_V1-0/SPOT4-HRVIR1-XS_20101118-104955-089_L1C_045-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101118-104955-089_L1C_045-263-3_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101118-104955-089_L1C_045-263-3_D_V1-0.zip
run script
2024-01-11T00:43:57.707    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:43:57.709    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101118-104955-089_L1C_045-263-3_D_V1-0.zip
2024-01-11T00:43:57.709    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:43:57.709    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:43:57.709    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:43:57.709    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:43:57.709    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:43:57.709    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:43:57.709    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:43:57.709    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101118-104955-089_L1C_045-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/14/SPOT4-HRVIR2-XS_20101214-104905-258_L1C_042-262-6_D_V1-0/SPOT4-HRVIR2-XS_20101214-104905-258_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101214-104905-258_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101214-104905-258_L1C_042-262-6_D_V1-0.zip
run script
2024-01-11T00:45:45.038    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:45:45.038    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101214-104905-258_L1C_042-262-6_D_V1-0.zip
2024-01-11T00:45:45.039    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:45:45.039    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:45:45.039    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:45:45.039    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:45:45.039    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:45:45.039    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:45:45.039    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:45:45.039    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101214-104905-258_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/04/10/SPOT4-HRVIR2-XS_20100410-102555-445_L1C_042-263-0_D_V1-0/SPOT4-HRVIR2-XS_20100410-102555-445_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100410-102555-445_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100410-102555-445_L1C_042-263-0_D_V1-0.zip
run script
2024-01-11T00:46:52.412    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:46:52.414    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100410-102555-445_L1C_042-263-0_D_V1-0.zip
2024-01-11T00:46:52.414    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:46:52.414    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:46:52.414    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:46:52.414    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:46:52.414    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:46:52.414    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:46:52.414    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:46:52.414    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100410-102555-445_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 1 1]
 [2 2 2 ... 2 1 1]
 [2 2 2 ... 2 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/04/10/SPOT4-HRVIR2-XS_20100410-102600-860_L1C_042-263-6_D_V1-0/SPOT4-HRVIR2-XS_20100410-102600-860_L1C_042-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100410-102600-860_L1C_042-263-6_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100410-102600-860_L1C_042-263-6_D_V1-0.zip
run script
2024-01-11T00:48:32.005    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:48:32.006    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100410-102600-860_L1C_042-263-6_D_V1-0.zip
2024-01-11T00:48:32.006    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:48:32.006    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:48:32.006    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:48:32.006    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:48:32.006    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:48:32.007    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:48:32.007    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:48:32.007    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100410-102600-860_L1C_042-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/21/SPOT4-HRVIR1-XS_20100621-103917-035_L1C_042-263-0_D_V1-0/SPOT4-HRVIR1-XS_20100621-103917-035_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100621-103917-035_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100621-103917-035_L1C_042-263-0_D_V1-0.zip
run script
2024-01-11T00:51:41.085    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:51:41.086    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100621-103917-035_L1C_042-263-0_D_V1-0.zip
2024-01-11T00:51:41.086    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:51:41.086    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:51:41.087    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:51:41.087    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:51:41.087    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:51:41.087    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:51:41.087    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:51:41.087    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100621-103917-035_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/21/SPOT4-HRVIR1-XS_20100621-103926-264_L1C_042-264-1_D_V1-0/SPOT4-HRVIR1-XS_20100621-103926-264_L1C_042-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100621-103926-264_L1C_042-264-1_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100621-103926-264_L1C_042-264-1_D_V1-0.zip
run script
2024-01-11T00:53:49.226    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:53:49.228    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100621-103926-264_L1C_042-264-1_D_V1-0.zip
2024-01-11T00:53:49.228    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:53:49.228    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:53:49.228    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:53:49.228    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:53:49.228    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:53:49.228    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:53:49.228    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:53:49.228    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100621-103926-264_L1C_042-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/26/SPOT4-HRVIR1-XS_20100626-104301-131_L1C_042-263-0_D_V1-0/SPOT4-HRVIR1-XS_20100626-104301-131_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100626-104301-131_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100626-104301-131_L1C_042-263-0_D_V1-0.zip
run script
2024-01-11T00:55:51.356    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:55:51.357    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100626-104301-131_L1C_042-263-0_D_V1-0.zip
2024-01-11T00:55:51.357    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:55:51.357    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:55:51.357    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:55:51.357    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:55:51.358    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:55:51.358    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:55:51.358    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:55:51.358    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100626-104301-131_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/26/SPOT4-HRVIR2-XS_20100626-104311-996_L1C_046-265-0_D_V1-0/SPOT4-HRVIR2-XS_20100626-104311-996_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100626-104311-996_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100626-104311-996_L1C_046-265-0_D_V1-0.zip
run script
2024-01-11T00:57:17.042    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:57:17.044    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100626-104311-996_L1C_046-265-0_D_V1-0.zip
2024-01-11T00:57:17.044    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:57:17.044    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:57:17.044    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:57:17.044    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:57:17.044    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:57:17.044    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:57:17.044    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:57:17.044    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100626-104311-996_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/01/SPOT4-HRVIR2-XS_20100701-104645-050_L1C_042-263-0_D_V1-0/SPOT4-HRVIR2-XS_20100701-104645-050_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100701-104645-050_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100701-104645-050_L1C_042-263-0_D_V1-0.zip
run script
2024-01-11T00:57:40.252    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:57:40.253    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100701-104645-050_L1C_042-263-0_D_V1-0.zip
2024-01-11T00:57:40.253    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:57:40.253    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:57:40.253    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:57:40.253    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:57:40.253    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:57:40.253    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:57:40.253    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:57:40.253    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100701-104645-050_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/01/SPOT4-HRVIR2-XS_20100701-104653-415_L1C_042-264-0_D_V1-0/SPOT4-HRVIR2-XS_20100701-104653-415_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100701-104653-415_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100701-104653-415_L1C_042-264-0_D_V1-0.zip
run script
2024-01-11T00:59:08.819    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T00:59:08.820    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100701-104653-415_L1C_042-264-0_D_V1-0.zip
2024-01-11T00:59:08.820    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:59:08.820    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:59:08.820    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T00:59:08.820    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:59:08.820    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:59:08.820    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:59:08.820    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:59:08.820    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100701-104653-415_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/07/SPOT4-HRVIR2-XS_20100807-103416-701_L1C_042-263-9_D_V1-0/SPOT4-HRVIR2-XS_20100807-103416-701_L1C_042-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100807-103416-701_L1C_042-263-9_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100807-103416-701_L1C_042-263-9_D_V1-0.zip
run script
2024-01-11T01:01:11.083    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:01:11.083    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100807-103416-701_L1C_042-263-9_D_V1-0.zip
2024-01-11T01:01:11.084    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:01:11.084    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:01:11.084    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:01:11.084    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:01:11.084    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:01:11.084    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:01:11.084    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:01:11.084    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100807-103416-701_L1C_042-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/07/SPOT4-HRVIR2-XS_20100807-103416-888_L1C_042-264-0_D_V1-0/SPOT4-HRVIR2-XS_20100807-103416-888_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100807-103416-888_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100807-103416-888_L1C_042-264-0_D_V1-0.zip
run script
2024-01-11T01:03:12.679    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:03:12.680    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100807-103416-888_L1C_042-264-0_D_V1-0.zip
2024-01-11T01:03:12.680    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:03:12.680    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:03:12.680    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:03:12.681    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:03:12.681    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:03:12.681    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:03:12.681    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:03:12.681    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100807-103416-888_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/04/SPOT4-HRVIR2-XS_20101104-101937-708_L1C_042-263-4_D_V1-0/SPOT4-HRVIR2-XS_20101104-101937-708_L1C_042-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101104-101937-708_L1C_042-263-4_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101104-101937-708_L1C_042-263-4_D_V1-0.zip
run script
2024-01-11T01:05:12.092    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:05:12.093    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101104-101937-708_L1C_042-263-4_D_V1-0.zip
2024-01-11T01:05:12.093    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:05:12.093    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:05:12.093    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:05:12.093    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:05:12.094    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:05:12.094    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:05:12.094    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:05:12.094    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101104-101937-708_L1C_042-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/04/SPOT4-HRVIR2-XS_20101104-101939-513_L1C_042-263-6_D_V1-0/SPOT4-HRVIR2-XS_20101104-101939-513_L1C_042-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101104-101939-513_L1C_042-263-6_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101104-101939-513_L1C_042-263-6_D_V1-0.zip
run script
2024-01-11T01:07:22.976    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:07:22.977    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101104-101939-513_L1C_042-263-6_D_V1-0.zip
2024-01-11T01:07:22.977    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:07:22.977    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:07:22.977    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:07:22.977    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:07:22.977    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:07:22.977    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:07:22.977    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:07:22.977    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101104-101939-513_L1C_042-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/04/SPOT4-HRVIR2-XS_20101204-104152-491_L1C_042-263-9_D_V1-0/SPOT4-HRVIR2-XS_20101204-104152-491_L1C_042-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101204-104152-491_L1C_042-263-9_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101204-104152-491_L1C_042-263-9_D_V1-0.zip
run script
2024-01-11T01:09:32.684    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:09:32.685    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101204-104152-491_L1C_042-263-9_D_V1-0.zip
2024-01-11T01:09:32.685    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:09:32.685    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:09:32.685    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:09:32.685    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:09:32.686    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:09:32.686    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:09:32.686    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:09:32.686    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101204-104152-491_L1C_042-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/04/SPOT4-HRVIR2-XS_20101204-104152-746_L1C_042-264-0_D_V1-0/SPOT4-HRVIR2-XS_20101204-104152-746_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101204-104152-746_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101204-104152-746_L1C_042-264-0_D_V1-0.zip
run script
2024-01-11T01:11:15.609    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:11:15.611    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101204-104152-746_L1C_042-264-0_D_V1-0.zip
2024-01-11T01:11:15.611    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:11:15.611    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:11:15.611    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:11:15.611    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:11:15.611    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:11:15.611    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:11:15.611    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:11:15.611    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101204-104152-746_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/04/SPOT4-HRVIR2-XS_20101204-104128-213_L1C_048-262-1_D_V1-0/SPOT4-HRVIR2-XS_20101204-104128-213_L1C_048-262-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101204-104128-213_L1C_048-262-1_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101204-104128-213_L1C_048-262-1_D_V1-0.zip
run script
2024-01-11T01:13:00.877    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:13:00.878    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101204-104128-213_L1C_048-262-1_D_V1-0.zip
2024-01-11T01:13:00.878    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:13:00.878    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:13:00.878    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:13:00.879    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:13:00.879    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:13:00.879    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:13:00.879    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:13:00.879    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101204-104128-213_L1C_048-262-1_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/08/01/SPOT4-HRVIR1-XS_20100801-104953-841_L1C_042-264-0_D_V1-0/SPOT4-HRVIR1-XS_20100801-104953-841_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100801-104953-841_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100801-104953-841_L1C_042-264-0_D_V1-0.zip
run script
2024-01-11T01:13:03.945    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:13:03.945    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100801-104953-841_L1C_042-264-0_D_V1-0.zip
2024-01-11T01:13:03.945    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:13:03.945    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:13:03.946    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:13:03.946    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:13:03.946    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:13:03.946    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:13:03.946    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:13:03.946    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100801-104953-841_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/04/04/SPOT4-HRVIR1-XS_20100404-104131-414_L1C_043-262-9_D_V1-0/SPOT4-HRVIR1-XS_20100404-104131-414_L1C_043-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100404-104131-414_L1C_043-262-9_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100404-104131-414_L1C_043-262-9_D_V1-0.zip
run script
2024-01-11T01:15:11.315    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:15:11.317    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100404-104131-414_L1C_043-262-9_D_V1-0.zip
2024-01-11T01:15:11.317    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:15:11.317    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:15:11.318    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:15:11.318    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:15:11.318    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:15:11.318    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:15:11.318    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:15:11.318    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100404-104131-414_L1C_043-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/04/05/SPOT4-HRVIR2-XS_20100405-102207-832_L1C_043-262-7_D_V1-0/SPOT4-HRVIR2-XS_20100405-102207-832_L1C_043-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100405-102207-832_L1C_043-262-7_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100405-102207-832_L1C_043-262-7_D_V1-0.zip
run script
2024-01-11T01:16:32.728    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:16:32.730    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100405-102207-832_L1C_043-262-7_D_V1-0.zip
2024-01-11T01:16:32.730    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:16:32.730    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:16:32.730    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:16:32.730    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:16:32.730    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:16:32.730    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:16:32.730    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:16:32.730    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100405-102207-832_L1C_043-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/04/05/SPOT4-HRVIR2-XS_20100405-102209-778_L1C_043-263-0_D_V1-0/SPOT4-HRVIR2-XS_20100405-102209-778_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100405-102209-778_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100405-102209-778_L1C_043-263-0_D_V1-0.zip
run script
2024-01-11T01:17:43.784    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:17:43.785    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100405-102209-778_L1C_043-263-0_D_V1-0.zip
2024-01-11T01:17:43.785    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:17:43.785    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:17:43.785    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:17:43.785    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:17:43.785    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:17:43.786    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:17:43.786    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:17:43.786    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100405-102209-778_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/04/05/SPOT4-HRVIR2-XS_20100405-102216-997_L1C_043-263-8_D_V1-0/SPOT4-HRVIR2-XS_20100405-102216-997_L1C_043-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100405-102216-997_L1C_043-263-8_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100405-102216-997_L1C_043-263-8_D_V1-0.zip
run script
2024-01-11T01:19:16.765    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:19:16.766    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100405-102216-997_L1C_043-263-8_D_V1-0.zip
2024-01-11T01:19:16.766    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:19:16.766    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:19:16.766    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:19:16.766    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:19:16.766    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:19:16.766    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:19:16.766    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:19:16.766    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100405-102216-997_L1C_043-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/06/SPOT4-HRVIR2-XS_20100706-105026-165_L1C_043-262-9_D_V1-0/SPOT4-HRVIR2-XS_20100706-105026-165_L1C_043-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100706-105026-165_L1C_043-262-9_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100706-105026-165_L1C_043-262-9_D_V1-0.zip
run script
2024-01-11T01:21:19.705    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:21:19.706    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100706-105026-165_L1C_043-262-9_D_V1-0.zip
2024-01-11T01:21:19.706    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:21:19.706    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:21:19.706    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:21:19.706    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:21:19.706    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:21:19.707    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:21:19.707    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:21:19.707    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100706-105026-165_L1C_043-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/06/SPOT4-HRVIR2-XS_20100706-105034-865_L1C_043-264-0_D_V1-0/SPOT4-HRVIR2-XS_20100706-105034-865_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100706-105034-865_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100706-105034-865_L1C_043-264-0_D_V1-0.zip
run script
2024-01-11T01:22:46.730    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:22:46.731    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100706-105034-865_L1C_043-264-0_D_V1-0.zip
2024-01-11T01:22:46.731    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:22:46.731    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:22:46.731    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:22:46.731    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:22:46.731    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:22:46.731    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:22:46.731    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:22:46.732    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100706-105034-865_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/07/SPOT4-HRVIR1-XS_20100707-103105-727_L1C_043-262-8_D_V1-0/SPOT4-HRVIR1-XS_20100707-103105-727_L1C_043-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100707-103105-727_L1C_043-262-8_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100707-103105-727_L1C_043-262-8_D_V1-0.zip
run script
2024-01-11T01:24:50.102    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:24:50.103    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100707-103105-727_L1C_043-262-8_D_V1-0.zip
2024-01-11T01:24:50.103    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:24:50.103    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:24:50.103    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:24:50.103    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:24:50.103    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:24:50.103    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:24:50.103    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:24:50.103    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100707-103105-727_L1C_043-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/07/SPOT4-HRVIR1-XS_20100707-103106-804_L1C_043-263-0_D_V1-0/SPOT4-HRVIR1-XS_20100707-103106-804_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100707-103106-804_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100707-103106-804_L1C_043-263-0_D_V1-0.zip
run script
2024-01-11T01:26:04.057    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:26:04.058    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100707-103106-804_L1C_043-263-0_D_V1-0.zip
2024-01-11T01:26:04.058    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:26:04.058    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:26:04.058    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:26:04.058    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:26:04.058    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:26:04.058    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:26:04.058    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:26:04.058    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100707-103106-804_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 2 2 ... 0 0 0]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/07/SPOT4-HRVIR1-XS_20100707-103115-109_L1C_043-264-0_D_V1-0/SPOT4-HRVIR1-XS_20100707-103115-109_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100707-103115-109_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100707-103115-109_L1C_043-264-0_D_V1-0.zip
run script
2024-01-11T01:27:25.906    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:27:25.906    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100707-103115-109_L1C_043-264-0_D_V1-0.zip
2024-01-11T01:27:25.906    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:27:25.906    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:27:25.906    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:27:25.906    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:27:25.906    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:27:25.906    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:27:25.906    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:27:25.906    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100707-103115-109_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/05/15/SPOT4-HRVIR2-XS_20100515-105200-306_L1C_043-263-4_D_V1-0/SPOT4-HRVIR2-XS_20100515-105200-306_L1C_043-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100515-105200-306_L1C_043-263-4_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100515-105200-306_L1C_043-263-4_D_V1-0.zip
run script
2024-01-11T01:29:15.119    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:29:15.120    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100515-105200-306_L1C_043-263-4_D_V1-0.zip
2024-01-11T01:29:15.120    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:29:15.120    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:29:15.120    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:29:15.120    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:29:15.120    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:29:15.120    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:29:15.120    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:29:15.120    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100515-105200-306_L1C_043-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/05/16/SPOT4-HRVIR2-XS_20100516-103239-680_L1C_043-263-4_D_V1-0/SPOT4-HRVIR2-XS_20100516-103239-680_L1C_043-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100516-103239-680_L1C_043-263-4_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100516-103239-680_L1C_043-263-4_D_V1-0.zip
run script
2024-01-11T01:31:15.639    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:31:15.641    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100516-103239-680_L1C_043-263-4_D_V1-0.zip
2024-01-11T01:31:15.641    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:31:15.641    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:31:15.641    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:31:15.641    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:31:15.641    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:31:15.641    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:31:15.641    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:31:15.641    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100516-103239-680_L1C_043-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/05/16/SPOT4-HRVIR2-XS_20100516-103241-485_L1C_043-263-6_D_V1-0/SPOT4-HRVIR2-XS_20100516-103241-485_L1C_043-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100516-103241-485_L1C_043-263-6_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100516-103241-485_L1C_043-263-6_D_V1-0.zip
run script
2024-01-11T01:33:04.059    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:33:04.060    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100516-103241-485_L1C_043-263-6_D_V1-0.zip
2024-01-11T01:33:04.061    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:33:04.061    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:33:04.061    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:33:04.061    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:33:04.061    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:33:04.061    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:33:04.061    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:33:04.061    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100516-103241-485_L1C_043-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/10/30/SPOT4-HRVIR2-XS_20101030-101559-399_L1C_043-263-8_D_V1-0/SPOT4-HRVIR2-XS_20101030-101559-399_L1C_043-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101030-101559-399_L1C_043-263-8_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101030-101559-399_L1C_043-263-8_D_V1-0.zip
run script
2024-01-11T01:34:52.433    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:34:52.434    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101030-101559-399_L1C_043-263-8_D_V1-0.zip
2024-01-11T01:34:52.434    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:34:52.434    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:34:52.434    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:34:52.434    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:34:52.434    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:34:52.434    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:34:52.435    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:34:52.435    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101030-101559-399_L1C_043-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/10/30/SPOT4-HRVIR1-XS_20101030-101558-590_L1C_045-264-0_D_V1-0/SPOT4-HRVIR1-XS_20101030-101558-590_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101030-101558-590_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101030-101558-590_L1C_045-264-0_D_V1-0.zip
run script
2024-01-11T01:36:59.030    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:36:59.031    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101030-101558-590_L1C_045-264-0_D_V1-0.zip
2024-01-11T01:36:59.031    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:36:59.031    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:36:59.031    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:36:59.031    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:36:59.032    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:36:59.032    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:36:59.032    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:36:59.032    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101030-101558-590_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/09/SPOT4-HRVIR1-XS_20101109-102313-706_L1C_043-263-0_D_V1-0/SPOT4-HRVIR1-XS_20101109-102313-706_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101109-102313-706_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101109-102313-706_L1C_043-263-0_D_V1-0.zip
run script
2024-01-11T01:38:46.700    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:38:46.701    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101109-102313-706_L1C_043-263-0_D_V1-0.zip
2024-01-11T01:38:46.701    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:38:46.701    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:38:46.701    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:38:46.701    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:38:46.701    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:38:46.701    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:38:46.702    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:38:46.702    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101109-102313-706_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 1]
 [2 2 2 ... 2 2 1]
 [2 2 2 ... 2 2 1]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/09/SPOT4-HRVIR1-XS_20101109-102320-023_L1C_043-263-7_D_V1-0/SPOT4-HRVIR1-XS_20101109-102320-023_L1C_043-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101109-102320-023_L1C_043-263-7_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101109-102320-023_L1C_043-263-7_D_V1-0.zip
run script
2024-01-11T01:40:12.200    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:40:12.201    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101109-102320-023_L1C_043-263-7_D_V1-0.zip
2024-01-11T01:40:12.202    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:40:12.202    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:40:12.202    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:40:12.202    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:40:12.202    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:40:12.202    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:40:12.202    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:40:12.202    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101109-102320-023_L1C_043-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/09/SPOT4-HRVIR2-XS_20101109-102312-175_L1C_045-263-1_D_V1-0/SPOT4-HRVIR2-XS_20101109-102312-175_L1C_045-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101109-102312-175_L1C_045-263-1_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101109-102312-175_L1C_045-263-1_D_V1-0.zip
run script
2024-01-11T01:42:06.550    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:42:06.551    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101109-102312-175_L1C_045-263-1_D_V1-0.zip
2024-01-11T01:42:06.551    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:42:06.551    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:42:06.551    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:42:06.551    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:42:06.551    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:42:06.551    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:42:06.551    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:42:06.551    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101109-102312-175_L1C_045-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/09/SPOT4-HRVIR2-XS_20101109-102319-577_L1C_045-264-0_D_V1-0/SPOT4-HRVIR2-XS_20101109-102319-577_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101109-102319-577_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101109-102319-577_L1C_045-264-0_D_V1-0.zip
run script
2024-01-11T01:43:18.891    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:43:18.891    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101109-102319-577_L1C_045-264-0_D_V1-0.zip
2024-01-11T01:43:18.891    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:43:18.891    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:43:18.891    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:43:18.891    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:43:18.891    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:43:18.891    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:43:18.891    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:43:18.891    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101109-102319-577_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/13/SPOT4-HRVIR2-XS_20101113-104614-804_L1C_043-263-0_D_V1-0/SPOT4-HRVIR2-XS_20101113-104614-804_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101113-104614-804_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101113-104614-804_L1C_043-263-0_D_V1-0.zip
run script
2024-01-11T01:44:55.871    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:44:55.872    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101113-104614-804_L1C_043-263-0_D_V1-0.zip
2024-01-11T01:44:55.872    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:44:55.872    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:44:55.872    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:44:55.872    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:44:55.872    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:44:55.873    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:44:55.873    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:44:55.873    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101113-104614-804_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/13/SPOT4-HRVIR2-XS_20101113-104616-609_L1C_043-263-2_D_V1-0/SPOT4-HRVIR2-XS_20101113-104616-609_L1C_043-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101113-104616-609_L1C_043-263-2_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101113-104616-609_L1C_043-263-2_D_V1-0.zip
run script
2024-01-11T01:46:26.728    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:46:26.729    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101113-104616-609_L1C_043-263-2_D_V1-0.zip
2024-01-11T01:46:26.729    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:46:26.729    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:46:26.729    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:46:26.729    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:46:26.729    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:46:26.729    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:46:26.729    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:46:26.729    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101113-104616-609_L1C_043-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/13/SPOT4-HRVIR1-XS_20101113-104610-978_L1C_045-263-0_D_V1-0/SPOT4-HRVIR1-XS_20101113-104610-978_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101113-104610-978_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101113-104610-978_L1C_045-263-0_D_V1-0.zip
run script
2024-01-11T01:48:15.063    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:48:15.064    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101113-104610-978_L1C_045-263-0_D_V1-0.zip
2024-01-11T01:48:15.064    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:48:15.065    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:48:15.065    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:48:15.065    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:48:15.065    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:48:15.065    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:48:15.065    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:48:15.065    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101113-104610-978_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/13/SPOT4-HRVIR1-XS_20101113-104619-422_L1C_045-264-0_D_V1-0/SPOT4-HRVIR1-XS_20101113-104619-422_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101113-104619-422_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101113-104619-422_L1C_045-264-0_D_V1-0.zip
run script
2024-01-11T01:49:22.992    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:49:22.994    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101113-104619-422_L1C_045-264-0_D_V1-0.zip
2024-01-11T01:49:22.994    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:49:22.994    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:49:22.994    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:49:22.994    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:49:22.994    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:49:22.994    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:49:22.994    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:49:22.994    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101113-104619-422_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/13/SPOT4-HRVIR1-XS_20101113-104622-129_L1C_045-264-3_D_V1-0/SPOT4-HRVIR1-XS_20101113-104622-129_L1C_045-264-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101113-104622-129_L1C_045-264-3_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101113-104622-129_L1C_045-264-3_D_V1-0.zip
run script
2024-01-11T01:51:17.302    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:51:17.303    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101113-104622-129_L1C_045-264-3_D_V1-0.zip
2024-01-11T01:51:17.303    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:51:17.303    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:51:17.303    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:51:17.303    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:51:17.303    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:51:17.303    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:51:17.303    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:51:17.303    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101113-104622-129_L1C_045-264-3_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/28/SPOT4-HRVIR1-XS_20100828-102953-179_L1C_043-264-9_D_V1-0/SPOT4-HRVIR1-XS_20100828-102953-179_L1C_043-264-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100828-102953-179_L1C_043-264-9_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100828-102953-179_L1C_043-264-9_D_V1-0.zip
run script
2024-01-11T01:52:54.070    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:52:54.071    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100828-102953-179_L1C_043-264-9_D_V1-0.zip
2024-01-11T01:52:54.071    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:52:54.071    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:52:54.071    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:52:54.071    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:52:54.071    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:52:54.071    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:52:54.071    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:52:54.071    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100828-102953-179_L1C_043-264-9_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/28/SPOT4-HRVIR1-XS_20100828-102953-375_L1C_043-265-0_D_V1-0/SPOT4-HRVIR1-XS_20100828-102953-375_L1C_043-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100828-102953-375_L1C_043-265-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100828-102953-375_L1C_043-265-0_D_V1-0.zip
run script
2024-01-11T01:53:27.275    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:53:27.276    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100828-102953-375_L1C_043-265-0_D_V1-0.zip
2024-01-11T01:53:27.276    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:53:27.276    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:53:27.276    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:53:27.276    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:53:27.276    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:53:27.276    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:53:27.276    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:53:27.276    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100828-102953-375_L1C_043-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/28/SPOT4-HRVIR2-XS_20100828-102938-224_L1C_046-263-5_D_V1-0/SPOT4-HRVIR2-XS_20100828-102938-224_L1C_046-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100828-102938-224_L1C_046-263-5_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100828-102938-224_L1C_046-263-5_D_V1-0.zip
run script
2024-01-11T01:53:58.646    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:53:58.647    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100828-102938-224_L1C_046-263-5_D_V1-0.zip
2024-01-11T01:53:58.647    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:53:58.647    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:53:58.647    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:53:58.648    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:53:58.648    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:53:58.648    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:53:58.648    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:53:58.648    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100828-102938-224_L1C_046-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/28/SPOT4-HRVIR2-XS_20100828-102942-044_L1C_046-264-0_D_V1-0/SPOT4-HRVIR2-XS_20100828-102942-044_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100828-102942-044_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100828-102942-044_L1C_046-264-0_D_V1-0.zip
run script
2024-01-11T01:54:43.487    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:54:43.487    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100828-102942-044_L1C_046-264-0_D_V1-0.zip
2024-01-11T01:54:43.487    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:54:43.487    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:54:43.487    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:54:43.487    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:54:43.487    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:54:43.487    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:54:43.487    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:54:43.487    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100828-102942-044_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/23/SPOT4-HRVIR1-XS_20100823-102552-659_L1C_044-262-9_D_V1-0/SPOT4-HRVIR1-XS_20100823-102552-659_L1C_044-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100823-102552-659_L1C_044-262-9_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100823-102552-659_L1C_044-262-9_D_V1-0.zip
run script
2024-01-11T01:55:34.887    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:55:34.888    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100823-102552-659_L1C_044-262-9_D_V1-0.zip
2024-01-11T01:55:34.888    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:55:34.888    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:55:34.889    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:55:34.889    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:55:34.889    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:55:34.889    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:55:34.889    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:55:34.889    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100823-102552-659_L1C_044-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/23/SPOT4-HRVIR1-XS_20100823-102552-834_L1C_044-263-0_D_V1-0/SPOT4-HRVIR1-XS_20100823-102552-834_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100823-102552-834_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100823-102552-834_L1C_044-263-0_D_V1-0.zip
run script
2024-01-11T01:56:50.264    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:56:50.265    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100823-102552-834_L1C_044-263-0_D_V1-0.zip
2024-01-11T01:56:50.265    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:56:50.265    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:56:50.265    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:56:50.265    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:56:50.265    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:56:50.265    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:56:50.265    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:56:50.265    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100823-102552-834_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/23/SPOT4-HRVIR1-XS_20100823-102601-133_L1C_045-264-0_D_V1-0/SPOT4-HRVIR1-XS_20100823-102601-133_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100823-102601-133_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100823-102601-133_L1C_045-264-0_D_V1-0.zip
run script
2024-01-11T01:58:07.135    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:58:07.137    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100823-102601-133_L1C_045-264-0_D_V1-0.zip
2024-01-11T01:58:07.137    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:58:07.137    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:58:07.137    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:58:07.137    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:58:07.137    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:58:07.137    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:58:07.137    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:58:07.137    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-11T01:58:09.659    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (211 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100823-102601-133_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2010/07/12/SPOT4-HRVIR1-XS_20100712-103457-138_L1C_044-263-9_D_V1-0/SPOT4-HRVIR1-XS_20100712-103457-138_L1C_044-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100712-103457-138_L1C_044-263-9_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100712-103457-138_L1C_044-263-9_D_V1-0.zip
run script
2024-01-11T01:58:12.729    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:58:12.729    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100712-103457-138_L1C_044-263-9_D_V1-0.zip
2024-01-11T01:58:12.729    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:58:12.729    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:58:12.729    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:58:12.729    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:58:12.729    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:58:12.729    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:58:12.729    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:58:12.729    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-11T01:58:15.671    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (416 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100712-103457-138_L1C_044-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2010/07/12/SPOT4-HRVIR1-XS_20100712-103505-692_L1C_044-265-0_D_V1-0/SPOT4-HRVIR1-XS_20100712-103505-692_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100712-103505-692_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100712-103505-692_L1C_044-265-0_D_V1-0.zip
run script
2024-01-11T01:58:19.039    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:58:19.039    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100712-103505-692_L1C_044-265-0_D_V1-0.zip
2024-01-11T01:58:19.039    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:58:19.039    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:58:19.039    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:58:19.039    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:58:19.039    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:58:19.039    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:58:19.039    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:58:19.039    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100712-103505-692_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/12/SPOT4-HRVIR2-XS_20100712-103446-911_L1C_046-263-0_D_V1-0/SPOT4-HRVIR2-XS_20100712-103446-911_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100712-103446-911_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100712-103446-911_L1C_046-263-0_D_V1-0.zip
run script
2024-01-11T01:58:50.060    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:58:50.061    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100712-103446-911_L1C_046-263-0_D_V1-0.zip
2024-01-11T01:58:50.062    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:58:50.062    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:58:50.062    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:58:50.062    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:58:50.062    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:58:50.062    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:58:50.062    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:58:50.062    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100712-103446-911_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/28/SPOT4-HRVIR1-XS_20100728-102645-920_L1C_044-263-8_D_V1-0/SPOT4-HRVIR1-XS_20100728-102645-920_L1C_044-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100728-102645-920_L1C_044-263-8_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100728-102645-920_L1C_044-263-8_D_V1-0.zip
run script
2024-01-11T01:59:15.252    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T01:59:15.253    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100728-102645-920_L1C_044-263-8_D_V1-0.zip
2024-01-11T01:59:15.253    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:59:15.253    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:59:15.253    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T01:59:15.253    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:59:15.253    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:59:15.253    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:59:15.253    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:59:15.254    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100728-102645-920_L1C_044-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/28/SPOT4-HRVIR1-XS_20100728-102647-003_L1C_045-264-0_D_V1-0/SPOT4-HRVIR1-XS_20100728-102647-003_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100728-102647-003_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100728-102647-003_L1C_045-264-0_D_V1-0.zip
run script
2024-01-11T02:00:53.604    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T02:00:53.605    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100728-102647-003_L1C_045-264-0_D_V1-0.zip
2024-01-11T02:00:53.605    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T02:00:53.605    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T02:00:53.606    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T02:00:53.606    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T02:00:53.606    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T02:00:53.606    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T02:00:53.606    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T02:00:53.606    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-11T02:00:55.854    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (426 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100728-102647-003_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2010/10/03/SPOT4-HRVIR1-XS_20101003-103618-152_L1C_044-263-9_D_V1-0/SPOT4-HRVIR1-XS_20101003-103618-152_L1C_044-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101003-103618-152_L1C_044-263-9_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101003-103618-152_L1C_044-263-9_D_V1-0.zip
run script
2024-01-11T02:00:58.866    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T02:00:58.867    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101003-103618-152_L1C_044-263-9_D_V1-0.zip
2024-01-11T02:00:58.867    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T02:00:58.867    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T02:00:58.867    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T02:00:58.868    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T02:00:58.868    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T02:00:58.868    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T02:00:58.868    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T02:00:58.868    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101003-103618-152_L1C_044-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/10/03/SPOT4-HRVIR1-XS_20101003-103618-377_L1C_044-264-0_D_V1-0/SPOT4-HRVIR1-XS_20101003-103618-377_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101003-103618-377_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101003-103618-377_L1C_044-264-0_D_V1-0.zip
run script
2024-01-11T02:02:46.884    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T02:02:46.886    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101003-103618-377_L1C_044-264-0_D_V1-0.zip
2024-01-11T02:02:46.886    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T02:02:46.886    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T02:02:46.886    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T02:02:46.886    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T02:02:46.886    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T02:02:46.886    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T02:02:46.886    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T02:02:46.886    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101003-103618-377_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/02/SPOT4-HRVIR2-XS_20100702-102737-810_L1C_044-265-0_D_V1-0/SPOT4-HRVIR2-XS_20100702-102737-810_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100702-102737-810_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100702-102737-810_L1C_044-265-0_D_V1-0.zip
run script
2024-01-11T02:04:35.514    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T02:04:35.514    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100702-102737-810_L1C_044-265-0_D_V1-0.zip
2024-01-11T02:04:35.514    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T02:04:35.514    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T02:04:35.514    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T02:04:35.514    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T02:04:35.514    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T02:04:35.514    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T02:04:35.514    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T02:04:35.515    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100702-102737-810_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/22/SPOT4-HRVIR2-XS_20100822-104509-023_L1C_045-262-5_D_V1-0/SPOT4-HRVIR2-XS_20100822-104509-023_L1C_045-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100822-104509-023_L1C_045-262-5_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100822-104509-023_L1C_045-262-5_D_V1-0.zip
run script
2024-01-11T02:05:07.271    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T02:05:07.272    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100822-104509-023_L1C_045-262-5_D_V1-0.zip
2024-01-11T02:05:07.272    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T02:05:07.272    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T02:05:07.272    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T02:05:07.272    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T02:05:07.272    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T02:05:07.272    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T02:05:07.272    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T02:05:07.272    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100822-104509-023_L1C_045-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/22/SPOT4-HRVIR2-XS_20100822-104512-909_L1C_045-263-0_D_V1-0/SPOT4-HRVIR2-XS_20100822-104512-909_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100822-104512-909_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100822-104512-909_L1C_045-263-0_D_V1-0.zip
run script
2024-01-11T02:05:51.484    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T02:05:51.485    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100822-104512-909_L1C_045-263-0_D_V1-0.zip
2024-01-11T02:05:51.485    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T02:05:51.485    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T02:05:51.486    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T02:05:51.486    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T02:05:51.486    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T02:05:51.486    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T02:05:51.486    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T02:05:51.486    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100822-104512-909_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/22/SPOT4-HRVIR2-XS_20100822-104521-313_L1C_045-264-0_D_V1-0/SPOT4-HRVIR2-XS_20100822-104521-313_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100822-104521-313_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100822-104521-313_L1C_045-264-0_D_V1-0.zip
run script
2024-01-11T02:07:12.981    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T02:07:12.983    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100822-104521-313_L1C_045-264-0_D_V1-0.zip
2024-01-11T02:07:12.983    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T02:07:12.983    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T02:07:12.983    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T02:07:12.983    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T02:07:12.983    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T02:07:12.983    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T02:07:12.983    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T02:07:12.983    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20100822-104521-313_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/24/SPOT4-HRVIR1-XS_20101124-103414-096_L1C_045-262-7_D_V1-0/SPOT4-HRVIR1-XS_20101124-103414-096_L1C_045-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101124-103414-096_L1C_045-262-7_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101124-103414-096_L1C_045-262-7_D_V1-0.zip
run script
2024-01-11T02:09:09.523    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T02:09:09.525    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101124-103414-096_L1C_045-262-7_D_V1-0.zip
2024-01-11T02:09:09.525    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T02:09:09.525    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T02:09:09.525    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T02:09:09.525    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T02:09:09.525    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T02:09:09.525    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T02:09:09.525    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T02:09:09.525    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101124-103414-096_L1C_045-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/24/SPOT4-HRVIR1-XS_20101124-103416-138_L1C_045-263-0_D_V1-0/SPOT4-HRVIR1-XS_20101124-103416-138_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101124-103416-138_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101124-103416-138_L1C_045-263-0_D_V1-0.zip
run script
2024-01-11T02:09:48.072    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T02:09:48.073    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101124-103416-138_L1C_045-263-0_D_V1-0.zip
2024-01-11T02:09:48.073    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T02:09:48.073    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T02:09:48.073    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T02:09:48.073    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T02:09:48.073    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T02:09:48.073    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T02:09:48.073    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T02:09:48.073    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101124-103416-138_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/24/SPOT4-HRVIR2-XS_20101124-103433-330_L1C_045-264-9_D_V1-0/SPOT4-HRVIR2-XS_20101124-103433-330_L1C_045-264-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101124-103433-330_L1C_045-264-9_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101124-103433-330_L1C_045-264-9_D_V1-0.zip
run script
2024-01-11T02:10:41.808    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T02:10:41.809    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101124-103433-330_L1C_045-264-9_D_V1-0.zip
2024-01-11T02:10:41.809    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T02:10:41.809    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T02:10:41.810    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T02:10:41.810    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T02:10:41.810    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T02:10:41.810    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T02:10:41.810    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T02:10:41.810    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101124-103433-330_L1C_045-264-9_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/24/SPOT4-HRVIR2-XS_20101124-103433-574_L1C_045-265-0_D_V1-0/SPOT4-HRVIR2-XS_20101124-103433-574_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101124-103433-574_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101124-103433-574_L1C_045-265-0_D_V1-0.zip
run script
2024-01-11T02:11:14.936    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T02:11:14.937    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101124-103433-574_L1C_045-265-0_D_V1-0.zip
2024-01-11T02:11:14.937    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T02:11:14.937    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T02:11:14.937    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T02:11:14.937    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T02:11:14.937    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T02:11:14.937    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T02:11:14.938    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T02:11:14.938    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101124-103433-574_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/25/SPOT4-HRVIR2-XS_20101125-101453-787_L1C_045-262-8_D_V1-0/SPOT4-HRVIR2-XS_20101125-101453-787_L1C_045-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101125-101453-787_L1C_045-262-8_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101125-101453-787_L1C_045-262-8_D_V1-0.zip
run script
2024-01-11T02:11:44.499    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T02:11:44.500    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101125-101453-787_L1C_045-262-8_D_V1-0.zip
2024-01-11T02:11:44.500    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T02:11:44.500    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T02:11:44.501    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T02:11:44.501    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T02:11:44.501    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T02:11:44.501    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T02:11:44.501    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T02:11:44.501    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101125-101453-787_L1C_045-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/25/SPOT4-HRVIR2-XS_20101125-101454-840_L1C_045-263-0_D_V1-0/SPOT4-HRVIR2-XS_20101125-101454-840_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101125-101454-840_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101125-101454-840_L1C_045-263-0_D_V1-0.zip
run script
2024-01-11T02:12:32.609    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T02:12:32.610    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101125-101454-840_L1C_045-263-0_D_V1-0.zip
2024-01-11T02:12:32.610    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T02:12:32.610    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T02:12:32.610    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T02:12:32.610    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T02:12:32.610    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T02:12:32.610    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T02:12:32.610    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T02:12:32.610    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101125-101454-840_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/10/29/SPOT4-HRVIR2-XS_20101029-103512-056_L1C_045-263-0_D_V1-0/SPOT4-HRVIR2-XS_20101029-103512-056_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101029-103512-056_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101029-103512-056_L1C_045-263-0_D_V1-0.zip
run script
2024-01-11T02:13:30.282    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T02:13:30.283    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101029-103512-056_L1C_045-263-0_D_V1-0.zip
2024-01-11T02:13:30.283    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T02:13:30.283    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T02:13:30.283    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T02:13:30.283    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T02:13:30.284    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T02:13:30.284    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T02:13:30.284    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T02:13:30.284    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101029-103512-056_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/10/29/SPOT4-HRVIR1-XS_20101029-103520-000_L1C_045-264-0_D_V1-0/SPOT4-HRVIR1-XS_20101029-103520-000_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101029-103520-000_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101029-103520-000_L1C_045-264-0_D_V1-0.zip
run script
2024-01-11T02:14:38.994    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T02:14:38.995    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101029-103520-000_L1C_045-264-0_D_V1-0.zip
2024-01-11T02:14:38.995    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T02:14:38.995    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T02:14:38.995    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T02:14:38.995    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T02:14:38.996    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T02:14:38.996    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T02:14:38.996    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T02:14:38.996    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101029-103520-000_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/10/29/SPOT4-HRVIR2-XS_20101029-103521-320_L1C_045-264-1_D_V1-0/SPOT4-HRVIR2-XS_20101029-103521-320_L1C_045-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101029-103521-320_L1C_045-264-1_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101029-103521-320_L1C_045-264-1_D_V1-0.zip
run script
2024-01-11T02:16:08.720    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T02:16:08.721    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101029-103521-320_L1C_045-264-1_D_V1-0.zip
2024-01-11T02:16:08.721    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T02:16:08.721    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T02:16:08.721    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T02:16:08.721    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T02:16:08.721    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T02:16:08.721    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T02:16:08.721    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T02:16:08.721    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101029-103521-320_L1C_045-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/03/SPOT4-HRVIR1-XS_20101103-103852-189_L1C_045-263-0_D_V1-0/SPOT4-HRVIR1-XS_20101103-103852-189_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101103-103852-189_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101103-103852-189_L1C_045-263-0_D_V1-0.zip
run script
2024-01-11T02:17:44.347    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T02:17:44.348    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101103-103852-189_L1C_045-263-0_D_V1-0.zip
2024-01-11T02:17:44.348    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T02:17:44.349    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T02:17:44.349    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T02:17:44.349    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T02:17:44.349    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T02:17:44.349    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T02:17:44.349    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T02:17:44.349    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101103-103852-189_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/03/SPOT4-HRVIR2-XS_20101103-103851-681_L1C_045-263-0_D_V1-0/SPOT4-HRVIR2-XS_20101103-103851-681_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101103-103851-681_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101103-103851-681_L1C_045-263-0_D_V1-0.zip
run script
2024-01-11T02:18:56.513    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T02:18:56.514    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101103-103851-681_L1C_045-263-0_D_V1-0.zip
2024-01-11T02:18:56.515    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T02:18:56.515    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T02:18:56.515    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T02:18:56.515    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T02:18:56.515    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T02:18:56.515    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T02:18:56.515    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T02:18:56.515    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101103-103851-681_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/03/SPOT4-HRVIR1-XS_20101103-103900-573_L1C_045-264-0_D_V1-0/SPOT4-HRVIR1-XS_20101103-103900-573_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101103-103900-573_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101103-103900-573_L1C_045-264-0_D_V1-0.zip
run script
2024-01-11T02:19:53.128    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T02:19:53.129    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101103-103900-573_L1C_045-264-0_D_V1-0.zip
2024-01-11T02:19:53.129    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T02:19:53.130    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T02:19:53.130    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T02:19:53.130    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T02:19:53.130    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T02:19:53.130    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T02:19:53.130    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T02:19:53.130    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101103-103900-573_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/03/SPOT4-HRVIR1-XS_20101103-103901-475_L1C_045-264-1_D_V1-0/SPOT4-HRVIR1-XS_20101103-103901-475_L1C_045-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101103-103901-475_L1C_045-264-1_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101103-103901-475_L1C_045-264-1_D_V1-0.zip
run script
2024-01-11T02:21:40.120    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T02:21:40.121    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101103-103901-475_L1C_045-264-1_D_V1-0.zip
2024-01-11T02:21:40.121    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T02:21:40.121    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T02:21:40.121    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T02:21:40.121    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T02:21:40.121    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T02:21:40.121    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T02:21:40.121    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T02:21:40.121    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20101103-103901-475_L1C_045-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/11/03/SPOT4-HRVIR2-XS_20101103-103900-071_L1C_045-264-0_D_V1-0/SPOT4-HRVIR2-XS_20101103-103900-071_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20101103-103900-071_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101103-103900-071_L1C_045-264-0_D_V1-0.zip
run script
2024-01-11T02:23:08.277    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T02:23:08.279    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101103-103900-071_L1C_045-264-0_D_V1-0.zip
2024-01-11T02:23:08.279    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T02:23:08.279    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T02:23:08.279    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T02:23:08.279    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T02:23:08.279    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T02:23:08.279    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T02:23:08.279    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T02:23:08.279    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR2-XS_20101103-103900-071_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/18/SPOT4-HRVIR1-XS_20100818-102208-106_L1C_046-262-9_D_V1-0/SPOT4-HRVIR1-XS_20100818-102208-106_L1C_046-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100818-102208-106_L1C_046-262-9_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100818-102208-106_L1C_046-262-9_D_V1-0.zip
run script
2024-01-11T02:24:33.665    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T02:24:33.666    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100818-102208-106_L1C_046-262-9_D_V1-0.zip
2024-01-11T02:24:33.666    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T02:24:33.666    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T02:24:33.667    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T02:24:33.667    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T02:24:33.667    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T02:24:33.667    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T02:24:33.667    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T02:24:33.667    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100818-102208-106_L1C_046-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/18/SPOT4-HRVIR1-XS_20100818-102208-274_L1C_046-263-0_D_V1-0/SPOT4-HRVIR1-XS_20100818-102208-274_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100818-102208-274_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100818-102208-274_L1C_046-263-0_D_V1-0.zip
run script
2024-01-11T02:25:01.781    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200
2024-01-11T02:25:01.783    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100818-102208-274_L1C_046-263-0_D_V1-0.zip
2024-01-11T02:25:01.783    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T02:25:01.783    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T02:25:01.783    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-11T02:25:01.783    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T02:25:01.783    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T02:25:01.783    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T02:25:01.783    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T02:25:01.783    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122224/INPUT/SPOT4-HRVIR1-XS_20100818-102208-274_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122224/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
end
[2024-01-11 02:25:27.985552623+00:00] cnes_level2/barrouz/4122224:  Account (env) = cnes_level2
[2024-01-11 02:25:27.986925371+00:00] cnes_level2/barrouz/4122224:     User (env) = barrouz
[2024-01-11 02:25:27.988213890+00:00] cnes_level2/barrouz/4122224:        GroupId = cesbio(426000053)
[2024-01-11 02:25:27.989525368+00:00] cnes_level2/barrouz/4122224:         UserId = barrouz(9134)
[2024-01-11 02:25:27.990894886+00:00] cnes_level2/barrouz/4122224:        Account = cnes_level2
[2024-01-11 02:25:27.992327654+00:00] cnes_level2/barrouz/4122224:        Account = cnes_level2
[2024-01-11 02:25:27.993970920+00:00] cnes_level2/barrouz/4122224:      Partition = cpu2022
[2024-01-11 02:25:27.995465347+00:00] cnes_level2/barrouz/4122224:            QOS = cpu_2022_1280
[2024-01-11 02:25:27.996893484+00:00] cnes_level2/barrouz/4122224:        JobName = inf_PYR_26_TCD-BLUE_AVG-1200
[2024-01-11 02:25:27.998274722+00:00] cnes_level2/barrouz/4122224:     SubmitTime = 2024-01-10T19:51:31
[2024-01-11 02:25:27.999608031+00:00] cnes_level2/barrouz/4122224:        RunTime = 06:32:54
[2024-01-11 02:25:28.000906899+00:00] cnes_level2/barrouz/4122224:      TimeLimit = 1-16:00:00
[2024-01-11 02:25:28.002186758+00:00] cnes_level2/barrouz/4122224:   EligibleTime = 2024-01-10T19:51:31
[2024-01-11 02:25:28.003458847+00:00] cnes_level2/barrouz/4122224:      StartTime = 2024-01-10T19:52:33
[2024-01-11 02:25:28.004684517+00:00] cnes_level2/barrouz/4122224:        EndTime = 2024-01-11T02:25:27
[2024-01-11 02:25:28.005984265+00:00] cnes_level2/barrouz/4122224:       ExitCode = 0:0
[2024-01-11 02:25:28.007349963+00:00] cnes_level2/barrouz/4122224:       NodeList = trex038
[2024-01-11 02:25:28.008668482+00:00] cnes_level2/barrouz/4122224:      BatchHost = trex038
[2024-01-11 02:25:28.010002330+00:00] cnes_level2/barrouz/4122224:           TRES = 
[2024-01-11 02:25:28.011450398+00:00] cnes_level2/barrouz/4122224:        Command = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh_job.sh
[2024-01-11 02:25:28.012865006+00:00] cnes_level2/barrouz/4122224:        WorkDir = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code
[2024-01-11 02:25:28.014265873+00:00] cnes_level2/barrouz/4122224:         StdErr = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_PYR_26_TCD-BLUE_AVG-1200.log
[2024-01-11 02:25:28.015785300+00:00] cnes_level2/barrouz/4122224:         StdOut = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_PYR_26_TCD-BLUE_AVG-1200.log

#########################################
#        EVIDEN - CNES                  #
#        Job Accounting                 #
#########################################
Cluster              : trex
JobIDRaw             : 4122224
JobID                : 4122224
JobName              : inf_PYR_26_TCD-BLUE_AVG-1200
Account              : cnes_level2
User                 : barrouz(9134), cesbio(426000053)
Partition            : cpu2022
QOS                  : cpu_2022_1280
Nodelist             : trex038 (1)
State                : COMPLETED  (Exitcode=0:0, DerivedExitCode=0:0, Restarts=0)
Submit date          : 2024-01-10T19:51:31
Start time           : 2024-01-10T19:52:33
End time             : 2024-01-11T02:25:27
Elapsed time         : 06:32:54  (Timelimit=1-16:00:00, Suspended=00:00:00)
TEI                  : 2 days, 4:23:12
Command              : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh_job.sh
StdOut               : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_PYR_26_TCD-BLUE_AVG-1200.log
StdErr               : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_PYR_26_TCD-BLUE_AVG-1200.log

STEP(s) : 2
--------- 
   StepID  | JobName      State       Exit   Start               End                 Elapsed   TotalCPU   CPUTime    ConsumedEnergy MaxDiskRead MaxDiskWrite     MaxRSS MaxRSSTask MaxRSSNode NNodes UserCPU    NodeList
   ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 
   batch   | batch        COMPLETED   0:0    2024-01-10T19:52:33 2024-01-11T02:25:27 06:32:54  1-09:07:06 2-04:23:12        0.1875M  190824.20M    82143.36M 100916388K          0    trex038      1 1-00:03:42 trex038
   extern  | extern       COMPLETED   0:0    2024-01-10T19:52:33 2024-01-11T02:25:27 06:32:54  00:00.001  2-04:23:12        0.1875M       0.00M        0.00M      1676K          0    trex038      1 00:00:00   trex038

