unload conda/22.11.1  : OK 
load conda/22.11.1  : OK 
envs_dirs : /work/scratch/env/barrouz/conda_env/
pkgs_dirs : /work/scratch/env/barrouz/pkgs_conda
INPUT_PATH /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/ALP/2.txt
OUTPUT_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
DEM_PATH /work/CAMPUS/etudes/Neige/DEM
TCD_PATH /work/datalake/static_aux/TreeCoverDensity
MODELS_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
KEEP_REFL 0
MASK 1
start
/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/ALP/2.txt
muscate/SPOTWORLDHERITAGE/1998/05/15/SPOT2-HRV1-XS_19980515-104108-395_L1C_050-260-0_D_V1-0/SPOT2-HRV1-XS_19980515-104108-395_L1C_050-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980515-104108-395_L1C_050-260-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980515-104108-395_L1C_050-260-0_D_V1-0.zip
run script
2024-01-16T17:34:36.737    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:34:36.738    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980515-104108-395_L1C_050-260-0_D_V1-0.zip
2024-01-16T17:34:36.747    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:34:36.747    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:34:36.747    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:34:36.747    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:34:36.748    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:34:36.748    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:34:36.748    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:34:36.748    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980515-104108-395_L1C_050-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/15/SPOT2-HRV1-XS_19980515-104108-395_L1C_050-260-0_C_V1-0/31TGK/FSC_19980515T104108_SPOT2_31TGK
muscate/SPOTWORLDHERITAGE/1998/05/15/SPOT2-HRV1-XS_19980515-104112-907_L1C_050-260-5_D_V1-0/SPOT2-HRV1-XS_19980515-104112-907_L1C_050-260-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980515-104112-907_L1C_050-260-5_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980515-104112-907_L1C_050-260-5_D_V1-0.zip
run script
2024-01-16T17:34:39.560    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:34:39.561    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980515-104112-907_L1C_050-260-5_D_V1-0.zip
2024-01-16T17:34:39.561    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:34:39.561    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:34:39.561    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:34:39.561    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:34:39.561    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:34:39.561    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:34:39.561    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:34:39.561    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980515-104112-907_L1C_050-260-5_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/15/SPOT2-HRV1-XS_19980515-104112-907_L1C_050-260-5_C_V1-0/31TGJ/FSC_19980515T104112_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/15/SPOT2-HRV1-XS_19980515-104112-907_L1C_050-260-5_C_V1-0/31TGK/FSC_19980515T104112_SPOT2_31TGK
muscate/SPOTWORLDHERITAGE/1998/03/03/SPOT2-HRV1-XS_19980303-104512-320_L1C_050-258-0_D_V1-0/SPOT2-HRV1-XS_19980303-104512-320_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980303-104512-320_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980303-104512-320_L1C_050-258-0_D_V1-0.zip
run script
2024-01-16T17:34:43.203    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:34:43.204    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980303-104512-320_L1C_050-258-0_D_V1-0.zip
2024-01-16T17:34:43.204    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:34:43.204    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:34:43.204    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:34:43.204    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:34:43.204    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:34:43.204    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:34:43.205    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:34:43.205    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T17:34:44.815    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 368). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980303-104512-320_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/3/SPOT2-HRV1-XS_19980303-104512-320_L1C_050-258-0_C_V1-0/31TGL/FSC_19980303T104512_SPOT2_31TGL
TOTO
muscate/SPOTWORLDHERITAGE/1998/03/03/SPOT2-HRV1-XS_19980303-104515-027_L1C_050-258-3_D_V1-0/SPOT2-HRV1-XS_19980303-104515-027_L1C_050-258-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980303-104515-027_L1C_050-258-3_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980303-104515-027_L1C_050-258-3_D_V1-0.zip
run script
2024-01-16T17:34:47.616    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:34:47.617    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980303-104515-027_L1C_050-258-3_D_V1-0.zip
2024-01-16T17:34:47.617    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:34:47.617    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:34:47.617    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:34:47.617    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:34:47.617    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:34:47.618    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:34:47.618    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:34:47.618    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T17:34:48.904    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 1378). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980303-104515-027_L1C_050-258-3_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/1998/03/24/SPOT2-HRV2-XS_19980324-104119-547_L1C_050-259-8_D_V1-0/SPOT2-HRV2-XS_19980324-104119-547_L1C_050-259-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980324-104119-547_L1C_050-259-8_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980324-104119-547_L1C_050-259-8_D_V1-0.zip
run script
2024-01-16T17:34:51.823    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:34:51.824    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980324-104119-547_L1C_050-259-8_D_V1-0.zip
2024-01-16T17:34:51.824    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:34:51.824    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:34:51.824    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:34:51.824    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:34:51.825    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:34:51.825    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:34:51.825    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:34:51.825    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980324-104119-547_L1C_050-259-8_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/24/SPOT2-HRV2-XS_19980324-104119-547_L1C_050-259-8_C_V1-0/31TGK/FSC_19980324T104119_SPOT2_31TGK
muscate/SPOTWORLDHERITAGE/1998/03/24/SPOT2-HRV2-XS_19980324-104120-648_L1C_050-260-0_D_V1-0/SPOT2-HRV2-XS_19980324-104120-648_L1C_050-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980324-104120-648_L1C_050-260-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980324-104120-648_L1C_050-260-0_D_V1-0.zip
run script
2024-01-16T17:34:54.925    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:34:54.926    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980324-104120-648_L1C_050-260-0_D_V1-0.zip
2024-01-16T17:34:54.926    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:34:54.926    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:34:54.926    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:34:54.926    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:34:54.926    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:34:54.926    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:34:54.926    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:34:54.926    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980324-104120-648_L1C_050-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/24/SPOT2-HRV2-XS_19980324-104120-648_L1C_050-260-0_C_V1-0/31TGK/FSC_19980324T104120_SPOT2_31TGK
muscate/SPOTWORLDHERITAGE/1998/03/24/SPOT2-HRV2-XS_19980324-104128-977_L1C_050-261-0_D_V1-0/SPOT2-HRV2-XS_19980324-104128-977_L1C_050-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980324-104128-977_L1C_050-261-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980324-104128-977_L1C_050-261-0_D_V1-0.zip
run script
2024-01-16T17:34:58.055    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:34:58.056    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980324-104128-977_L1C_050-261-0_D_V1-0.zip
2024-01-16T17:34:58.056    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:34:58.056    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:34:58.056    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:34:58.056    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:34:58.056    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:34:58.056    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:34:58.056    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:34:58.057    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980324-104128-977_L1C_050-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/24/SPOT2-HRV2-XS_19980324-104128-977_L1C_050-261-0_C_V1-0/31TGJ/FSC_19980324T104128_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/24/SPOT2-HRV2-XS_19980324-104128-977_L1C_050-261-0_C_V1-0/31TGK/FSC_19980324T104128_SPOT2_31TGK
muscate/SPOTWORLDHERITAGE/1998/03/24/SPOT2-HRV2-XS_19980324-104133-489_L1C_050-261-5_D_V1-0/SPOT2-HRV2-XS_19980324-104133-489_L1C_050-261-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980324-104133-489_L1C_050-261-5_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980324-104133-489_L1C_050-261-5_D_V1-0.zip
run script
2024-01-16T17:35:01.229    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:01.230    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980324-104133-489_L1C_050-261-5_D_V1-0.zip
2024-01-16T17:35:01.230    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:35:01.230    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:35:01.230    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:01.230    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:35:01.230    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:35:01.231    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:35:01.231    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:35:01.231    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980324-104133-489_L1C_050-261-5_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/24/SPOT2-HRV2-XS_19980324-104133-489_L1C_050-261-5_C_V1-0/31TGJ/FSC_19980324T104133_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/24/SPOT2-HRV2-XS_19980324-104133-489_L1C_050-261-5_C_V1-0/31TGK/FSC_19980324T104133_SPOT2_31TGK
muscate/SPOTWORLDHERITAGE/1998/10/13/SPOT2-HRV2-XS_19981013-103918-284_L1C_050-260-3_D_V1-0/SPOT2-HRV2-XS_19981013-103918-284_L1C_050-260-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19981013-103918-284_L1C_050-260-3_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19981013-103918-284_L1C_050-260-3_D_V1-0.zip
run script
2024-01-16T17:35:04.284    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:04.285    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19981013-103918-284_L1C_050-260-3_D_V1-0.zip
2024-01-16T17:35:04.285    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:35:04.285    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:35:04.285    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:04.285    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:35:04.285    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:35:04.285    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:35:04.286    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:35:04.286    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19981013-103918-284_L1C_050-260-3_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/10/13/SPOT2-HRV2-XS_19981013-103918-284_L1C_050-260-3_C_V1-0/31TGJ/FSC_19981013T103918_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/10/13/SPOT2-HRV2-XS_19981013-103918-284_L1C_050-260-3_C_V1-0/31TGK/FSC_19981013T103918_SPOT2_31TGK
muscate/SPOTWORLDHERITAGE/1998/10/13/SPOT2-HRV2-XS_19981013-103923-885_L1C_050-261-0_D_V1-0/SPOT2-HRV2-XS_19981013-103923-885_L1C_050-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19981013-103923-885_L1C_050-261-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19981013-103923-885_L1C_050-261-0_D_V1-0.zip
run script
2024-01-16T17:35:07.768    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:07.769    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19981013-103923-885_L1C_050-261-0_D_V1-0.zip
2024-01-16T17:35:07.769    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:35:07.769    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:35:07.769    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:07.769    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:35:07.770    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:35:07.770    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:35:07.770    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:35:07.770    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19981013-103923-885_L1C_050-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/10/13/SPOT2-HRV2-XS_19981013-103923-885_L1C_050-261-0_C_V1-0/31TGJ/FSC_19981013T103923_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/10/13/SPOT2-HRV2-XS_19981013-103923-885_L1C_050-261-0_C_V1-0/31TGK/FSC_19981013T103923_SPOT2_31TGK
muscate/SPOTWORLDHERITAGE/1998/10/13/SPOT2-HRV2-XS_19981013-103932-199_L1C_050-262-0_D_V1-0/SPOT2-HRV2-XS_19981013-103932-199_L1C_050-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19981013-103932-199_L1C_050-262-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19981013-103932-199_L1C_050-262-0_D_V1-0.zip
run script
2024-01-16T17:35:10.753    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:10.755    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19981013-103932-199_L1C_050-262-0_D_V1-0.zip
2024-01-16T17:35:10.755    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:35:10.755    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:35:10.755    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:10.755    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:35:10.755    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:35:10.755    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:35:10.755    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:35:10.755    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19981013-103932-199_L1C_050-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/10/13/SPOT2-HRV2-XS_19981013-103932-199_L1C_050-262-0_C_V1-0/31TGJ/FSC_19981013T103932_SPOT2_31TGJ
muscate/SPOTWORLDHERITAGE/1998/10/13/SPOT2-HRV2-XS_19981013-103935-808_L1C_050-262-4_D_V1-0/SPOT2-HRV2-XS_19981013-103935-808_L1C_050-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19981013-103935-808_L1C_050-262-4_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19981013-103935-808_L1C_050-262-4_D_V1-0.zip
run script
2024-01-16T17:35:15.567    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:15.568    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19981013-103935-808_L1C_050-262-4_D_V1-0.zip
2024-01-16T17:35:15.568    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:35:15.568    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:35:15.568    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:15.568    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:35:15.569    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:35:15.569    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:35:15.569    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:35:15.569    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19981013-103935-808_L1C_050-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/10/13/SPOT2-HRV2-XS_19981013-103935-808_L1C_050-262-4_C_V1-0/31TGJ/FSC_19981013T103935_SPOT2_31TGJ
muscate/SPOTWORLDHERITAGE/1998/03/20/SPOT2-HRV1-XS_19980320-101721-013_L1C_051-254-0_D_V1-0/SPOT2-HRV1-XS_19980320-101721-013_L1C_051-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980320-101721-013_L1C_051-254-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980320-101721-013_L1C_051-254-0_D_V1-0.zip
run script
2024-01-16T17:35:18.596    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:18.598    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980320-101721-013_L1C_051-254-0_D_V1-0.zip
2024-01-16T17:35:18.598    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:35:18.598    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:35:18.598    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:18.598    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:35:18.598    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:35:18.598    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:35:18.598    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:35:18.598    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980320-101721-013_L1C_051-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1998/03/20/SPOT2-HRV1-XS_19980320-101729-204_L1C_051-255-0_D_V1-0/SPOT2-HRV1-XS_19980320-101729-204_L1C_051-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980320-101729-204_L1C_051-255-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980320-101729-204_L1C_051-255-0_D_V1-0.zip
run script
2024-01-16T17:35:21.620    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:21.621    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980320-101729-204_L1C_051-255-0_D_V1-0.zip
2024-01-16T17:35:21.622    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:35:21.622    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:35:21.622    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:21.622    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:35:21.622    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:35:21.622    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:35:21.622    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:35:21.622    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980320-101729-204_L1C_051-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/20/SPOT2-HRV1-XS_19980320-101729-204_L1C_051-255-0_C_V1-0/31TGM/FSC_19980320T101729_SPOT2_31TGM
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/20/SPOT2-HRV1-XS_19980320-101729-204_L1C_051-255-0_C_V1-0/32TLS/FSC_19980320T101729_SPOT2_32TLS
muscate/SPOTWORLDHERITAGE/1998/03/20/SPOT2-HRV1-XS_19980320-101745-619_L1C_051-257-0_D_V1-0/SPOT2-HRV1-XS_19980320-101745-619_L1C_051-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980320-101745-619_L1C_051-257-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980320-101745-619_L1C_051-257-0_D_V1-0.zip
run script
2024-01-16T17:35:24.817    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:24.818    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980320-101745-619_L1C_051-257-0_D_V1-0.zip
2024-01-16T17:35:24.818    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:35:24.819    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:35:24.819    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:24.819    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:35:24.819    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:35:24.819    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:35:24.819    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:35:24.819    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980320-101745-619_L1C_051-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/20/SPOT2-HRV1-XS_19980320-101745-619_L1C_051-257-0_C_V1-0/31TGL/FSC_19980320T101745_SPOT2_31TGL
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/20/SPOT2-HRV1-XS_19980320-101745-619_L1C_051-257-0_C_V1-0/31TGM/FSC_19980320T101745_SPOT2_31TGM
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/20/SPOT2-HRV1-XS_19980320-101745-619_L1C_051-257-0_C_V1-0/32TLR/FSC_19980320T101745_SPOT2_32TLR
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/20/SPOT2-HRV1-XS_19980320-101745-619_L1C_051-257-0_C_V1-0/32TLS/FSC_19980320T101745_SPOT2_32TLS
muscate/SPOTWORLDHERITAGE/1998/03/20/SPOT2-HRV1-XS_19980320-101753-840_L1C_051-258-0_D_V1-0/SPOT2-HRV1-XS_19980320-101753-840_L1C_051-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980320-101753-840_L1C_051-258-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980320-101753-840_L1C_051-258-0_D_V1-0.zip
run script
2024-01-16T17:35:28.206    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:28.207    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980320-101753-840_L1C_051-258-0_D_V1-0.zip
2024-01-16T17:35:28.207    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:35:28.207    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:35:28.207    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:28.207    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:35:28.207    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:35:28.207    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:35:28.207    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:35:28.207    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T17:35:30.363    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 374). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980320-101753-840_L1C_051-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/20/SPOT2-HRV1-XS_19980320-101753-840_L1C_051-258-0_C_V1-0/31TGL/FSC_19980320T101753_SPOT2_31TGL
TOTO
muscate/SPOTWORLDHERITAGE/1998/03/20/SPOT2-HRV1-XS_19980320-101756-547_L1C_051-258-3_D_V1-0/SPOT2-HRV1-XS_19980320-101756-547_L1C_051-258-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980320-101756-547_L1C_051-258-3_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980320-101756-547_L1C_051-258-3_D_V1-0.zip
run script
2024-01-16T17:35:33.357    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:33.358    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980320-101756-547_L1C_051-258-3_D_V1-0.zip
2024-01-16T17:35:33.359    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:35:33.359    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:35:33.359    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:33.359    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:35:33.359    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:35:33.359    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:35:33.359    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:35:33.359    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980320-101756-547_L1C_051-258-3_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/20/SPOT2-HRV1-XS_19980320-101756-547_L1C_051-258-3_C_V1-0/31TGL/FSC_19980320T101756_SPOT2_31TGL
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/20/SPOT2-HRV1-XS_19980320-101756-547_L1C_051-258-3_C_V1-0/32TLR/FSC_19980320T101756_SPOT2_32TLR
muscate/SPOTWORLDHERITAGE/1998/06/04/SPOT2-HRV1-XS_19980604-105600-324_L1C_051-254-0_D_V1-0/SPOT2-HRV1-XS_19980604-105600-324_L1C_051-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980604-105600-324_L1C_051-254-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980604-105600-324_L1C_051-254-0_D_V1-0.zip
run script
2024-01-16T17:35:36.495    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:36.496    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980604-105600-324_L1C_051-254-0_D_V1-0.zip
2024-01-16T17:35:36.496    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:35:36.496    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:35:36.497    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:36.497    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:35:36.497    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:35:36.497    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:35:36.497    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:35:36.497    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980604-105600-324_L1C_051-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1998/06/04/SPOT2-HRV1-XS_19980604-105656-225_L1C_052-261-0_D_V1-0/SPOT2-HRV1-XS_19980604-105656-225_L1C_052-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980604-105656-225_L1C_052-261-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980604-105656-225_L1C_052-261-0_D_V1-0.zip
run script
2024-01-16T17:35:39.555    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:39.556    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980604-105656-225_L1C_052-261-0_D_V1-0.zip
2024-01-16T17:35:39.556    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:35:39.556    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:35:39.556    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:39.556    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:35:39.556    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:35:39.557    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:35:39.557    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:35:39.557    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980604-105656-225_L1C_052-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/4/SPOT2-HRV1-XS_19980604-105656-225_L1C_052-261-0_C_V1-0/31TGJ/FSC_19980604T105656_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/4/SPOT2-HRV1-XS_19980604-105656-225_L1C_052-261-0_C_V1-0/31TGK/FSC_19980604T105656_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/4/SPOT2-HRV1-XS_19980604-105656-225_L1C_052-261-0_C_V1-0/32TLP/FSC_19980604T105656_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/4/SPOT2-HRV1-XS_19980604-105656-225_L1C_052-261-0_C_V1-0/32TLQ/FSC_19980604T105656_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/06/04/SPOT2-HRV1-XS_19980604-105658-932_L1C_052-261-3_D_V1-0/SPOT2-HRV1-XS_19980604-105658-932_L1C_052-261-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980604-105658-932_L1C_052-261-3_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980604-105658-932_L1C_052-261-3_D_V1-0.zip
run script
2024-01-16T17:35:42.882    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:42.883    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980604-105658-932_L1C_052-261-3_D_V1-0.zip
2024-01-16T17:35:42.893    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:35:42.893    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:35:42.893    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:42.893    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:35:42.893    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:35:42.893    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:35:42.893    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:35:42.893    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980604-105658-932_L1C_052-261-3_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/4/SPOT2-HRV1-XS_19980604-105658-932_L1C_052-261-3_C_V1-0/31TGJ/FSC_19980604T105658_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/4/SPOT2-HRV1-XS_19980604-105658-932_L1C_052-261-3_C_V1-0/31TGK/FSC_19980604T105658_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/4/SPOT2-HRV1-XS_19980604-105658-932_L1C_052-261-3_C_V1-0/32TLP/FSC_19980604T105658_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/4/SPOT2-HRV1-XS_19980604-105658-932_L1C_052-261-3_C_V1-0/32TLQ/FSC_19980604T105658_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/06/04/SPOT2-HRV1-XS_19980604-105647-743_L1C_053-260-0_D_V1-0/SPOT2-HRV1-XS_19980604-105647-743_L1C_053-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980604-105647-743_L1C_053-260-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980604-105647-743_L1C_053-260-0_D_V1-0.zip
run script
2024-01-16T17:35:46.183    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:46.185    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980604-105647-743_L1C_053-260-0_D_V1-0.zip
2024-01-16T17:35:46.185    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:35:46.185    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:35:46.185    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:46.185    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:35:46.185    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:35:46.185    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:35:46.185    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:35:46.185    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T17:35:47.986    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 123). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980604-105647-743_L1C_053-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/4/SPOT2-HRV1-XS_19980604-105647-743_L1C_053-260-0_C_V1-0/31TGK/FSC_19980604T105647_SPOT2_31TGK
TOTO
muscate/SPOTWORLDHERITAGE/1998/06/20/SPOT2-HRV2-XS_19980620-104853-007_L1C_051-256-8_D_V1-0/SPOT2-HRV2-XS_19980620-104853-007_L1C_051-256-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980620-104853-007_L1C_051-256-8_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980620-104853-007_L1C_051-256-8_D_V1-0.zip
run script
2024-01-16T17:35:50.965    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:50.967    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980620-104853-007_L1C_051-256-8_D_V1-0.zip
2024-01-16T17:35:50.967    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:35:50.967    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:35:50.967    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:50.967    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:35:50.967    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:35:50.967    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:35:50.967    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:35:50.967    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980620-104853-007_L1C_051-256-8_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/20/SPOT2-HRV2-XS_19980620-104853-007_L1C_051-256-8_C_V1-0/31TGL/FSC_19980620T104853_SPOT2_31TGL
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/20/SPOT2-HRV2-XS_19980620-104853-007_L1C_051-256-8_C_V1-0/31TGM/FSC_19980620T104853_SPOT2_31TGM
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/20/SPOT2-HRV2-XS_19980620-104853-007_L1C_051-256-8_C_V1-0/32TLR/FSC_19980620T104853_SPOT2_32TLR
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/20/SPOT2-HRV2-XS_19980620-104853-007_L1C_051-256-8_C_V1-0/32TLS/FSC_19980620T104853_SPOT2_32TLS
muscate/SPOTWORLDHERITAGE/1998/06/20/SPOT2-HRV2-XS_19980620-104854-162_L1C_051-257-0_D_V1-0/SPOT2-HRV2-XS_19980620-104854-162_L1C_051-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980620-104854-162_L1C_051-257-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980620-104854-162_L1C_051-257-0_D_V1-0.zip
run script
2024-01-16T17:35:54.768    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:54.769    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980620-104854-162_L1C_051-257-0_D_V1-0.zip
2024-01-16T17:35:54.769    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:35:54.769    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:35:54.769    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:54.769    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:35:54.769    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:35:54.769    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:35:54.769    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:35:54.769    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980620-104854-162_L1C_051-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/20/SPOT2-HRV2-XS_19980620-104854-162_L1C_051-257-0_C_V1-0/31TGL/FSC_19980620T104854_SPOT2_31TGL
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/20/SPOT2-HRV2-XS_19980620-104854-162_L1C_051-257-0_C_V1-0/31TGM/FSC_19980620T104854_SPOT2_31TGM
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/20/SPOT2-HRV2-XS_19980620-104854-162_L1C_051-257-0_C_V1-0/32TLR/FSC_19980620T104854_SPOT2_32TLR
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/20/SPOT2-HRV2-XS_19980620-104854-162_L1C_051-257-0_C_V1-0/32TLS/FSC_19980620T104854_SPOT2_32TLS
muscate/SPOTWORLDHERITAGE/1998/06/20/SPOT2-HRV2-XS_19980620-104903-441_L1C_051-258-1_D_V1-0/SPOT2-HRV2-XS_19980620-104903-441_L1C_051-258-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980620-104903-441_L1C_051-258-1_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980620-104903-441_L1C_051-258-1_D_V1-0.zip
run script
2024-01-16T17:35:58.400    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:58.401    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980620-104903-441_L1C_051-258-1_D_V1-0.zip
2024-01-16T17:35:58.401    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:35:58.401    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:35:58.401    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:35:58.401    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:35:58.402    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:35:58.402    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:35:58.402    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:35:58.402    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980620-104903-441_L1C_051-258-1_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/20/SPOT2-HRV2-XS_19980620-104903-441_L1C_051-258-1_C_V1-0/31TGL/FSC_19980620T104903_SPOT2_31TGL
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/20/SPOT2-HRV2-XS_19980620-104903-441_L1C_051-258-1_C_V1-0/32TLR/FSC_19980620T104903_SPOT2_32TLR
muscate/SPOTWORLDHERITAGE/1998/06/20/SPOT2-HRV1-XS_19980620-104933-801_L1C_052-262-0_D_V1-0/SPOT2-HRV1-XS_19980620-104933-801_L1C_052-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980620-104933-801_L1C_052-262-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980620-104933-801_L1C_052-262-0_D_V1-0.zip
run script
2024-01-16T17:36:01.764    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:01.766    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980620-104933-801_L1C_052-262-0_D_V1-0.zip
2024-01-16T17:36:01.766    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:36:01.766    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:36:01.766    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:01.766    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:36:01.766    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:36:01.766    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:36:01.766    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:36:01.766    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980620-104933-801_L1C_052-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/20/SPOT2-HRV1-XS_19980620-104933-801_L1C_052-262-0_C_V1-0/31TGJ/FSC_19980620T104933_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/20/SPOT2-HRV1-XS_19980620-104933-801_L1C_052-262-0_C_V1-0/32TLP/FSC_19980620T104933_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/06/20/SPOT2-HRV1-XS_19980620-104942-230_L1C_052-263-0_D_V1-0/SPOT2-HRV1-XS_19980620-104942-230_L1C_052-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980620-104942-230_L1C_052-263-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980620-104942-230_L1C_052-263-0_D_V1-0.zip
run script
2024-01-16T17:36:04.647    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:04.648    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980620-104942-230_L1C_052-263-0_D_V1-0.zip
2024-01-16T17:36:04.648    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:36:04.648    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:36:04.648    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:04.648    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:36:04.648    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:36:04.648    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:36:04.648    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:36:04.649    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980620-104942-230_L1C_052-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/20/SPOT2-HRV1-XS_19980620-104942-230_L1C_052-263-0_C_V1-0/31TGJ/FSC_19980620T104942_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/20/SPOT2-HRV1-XS_19980620-104942-230_L1C_052-263-0_C_V1-0/32TLP/FSC_19980620T104942_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/06/20/SPOT2-HRV1-XS_19980620-104921-468_L1C_053-260-5_D_V1-0/SPOT2-HRV1-XS_19980620-104921-468_L1C_053-260-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980620-104921-468_L1C_053-260-5_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980620-104921-468_L1C_053-260-5_D_V1-0.zip
run script
2024-01-16T17:36:08.125    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:08.127    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980620-104921-468_L1C_053-260-5_D_V1-0.zip
2024-01-16T17:36:08.127    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:36:08.127    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:36:08.127    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:08.127    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:36:08.127    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:36:08.127    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:36:08.127    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:36:08.127    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980620-104921-468_L1C_053-260-5_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/20/SPOT2-HRV1-XS_19980620-104921-468_L1C_053-260-5_C_V1-0/31TGJ/FSC_19980620T104921_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/20/SPOT2-HRV1-XS_19980620-104921-468_L1C_053-260-5_C_V1-0/31TGK/FSC_19980620T104921_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/20/SPOT2-HRV1-XS_19980620-104921-468_L1C_053-260-5_C_V1-0/32TLP/FSC_19980620T104921_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/20/SPOT2-HRV1-XS_19980620-104921-468_L1C_053-260-5_C_V1-0/32TLQ/FSC_19980620T104921_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/06/20/SPOT2-HRV1-XS_19980620-104925-376_L1C_053-261-0_D_V1-0/SPOT2-HRV1-XS_19980620-104925-376_L1C_053-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980620-104925-376_L1C_053-261-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980620-104925-376_L1C_053-261-0_D_V1-0.zip
run script
2024-01-16T17:36:11.288    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:11.289    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980620-104925-376_L1C_053-261-0_D_V1-0.zip
2024-01-16T17:36:11.289    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:36:11.289    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:36:11.289    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:11.290    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:36:11.290    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:36:11.290    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:36:11.290    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:36:11.290    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980620-104925-376_L1C_053-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/20/SPOT2-HRV1-XS_19980620-104925-376_L1C_053-261-0_C_V1-0/31TGJ/FSC_19980620T104925_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/20/SPOT2-HRV1-XS_19980620-104925-376_L1C_053-261-0_C_V1-0/31TGK/FSC_19980620T104925_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/20/SPOT2-HRV1-XS_19980620-104925-376_L1C_053-261-0_C_V1-0/32TLP/FSC_19980620T104925_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/20/SPOT2-HRV1-XS_19980620-104925-376_L1C_053-261-0_C_V1-0/32TLQ/FSC_19980620T104925_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/06/20/SPOT2-HRV2-XS_19980620-104921-119_L1C_055-260-9_D_V1-0/SPOT2-HRV2-XS_19980620-104921-119_L1C_055-260-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980620-104921-119_L1C_055-260-9_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980620-104921-119_L1C_055-260-9_D_V1-0.zip
run script
2024-01-16T17:36:14.361    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:14.362    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980620-104921-119_L1C_055-260-9_D_V1-0.zip
2024-01-16T17:36:14.362    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:36:14.362    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:36:14.363    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:14.363    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:36:14.363    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:36:14.363    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:36:14.363    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:36:14.363    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980620-104921-119_L1C_055-260-9_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/20/SPOT2-HRV2-XS_19980620-104921-119_L1C_055-260-9_C_V1-0/32TLP/FSC_19980620T104921_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/20/SPOT2-HRV2-XS_19980620-104921-119_L1C_055-260-9_C_V1-0/32TLQ/FSC_19980620T104921_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/06/20/SPOT2-HRV2-XS_19980620-104929-927_L1C_055-262-0_D_V1-0/SPOT2-HRV2-XS_19980620-104929-927_L1C_055-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980620-104929-927_L1C_055-262-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980620-104929-927_L1C_055-262-0_D_V1-0.zip
run script
2024-01-16T17:36:17.336    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:17.337    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980620-104929-927_L1C_055-262-0_D_V1-0.zip
2024-01-16T17:36:17.337    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:36:17.337    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:36:17.337    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:17.338    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:36:17.338    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:36:17.338    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:36:17.338    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:36:17.338    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980620-104929-927_L1C_055-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/20/SPOT2-HRV2-XS_19980620-104929-927_L1C_055-262-0_C_V1-0/32TLP/FSC_19980620T104929_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/03/14/SPOT2-HRV1-XS_19980314-103319-093_L1C_051-257-0_D_V1-0/SPOT2-HRV1-XS_19980314-103319-093_L1C_051-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980314-103319-093_L1C_051-257-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980314-103319-093_L1C_051-257-0_D_V1-0.zip
run script
2024-01-16T17:36:20.477    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:20.478    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980314-103319-093_L1C_051-257-0_D_V1-0.zip
2024-01-16T17:36:20.478    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:36:20.478    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:36:20.478    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:20.478    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:36:20.479    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:36:20.479    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:36:20.479    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:36:20.479    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980314-103319-093_L1C_051-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/14/SPOT2-HRV1-XS_19980314-103319-093_L1C_051-257-0_C_V1-0/31TGL/FSC_19980314T103319_SPOT2_31TGL
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/14/SPOT2-HRV1-XS_19980314-103319-093_L1C_051-257-0_C_V1-0/31TGM/FSC_19980314T103319_SPOT2_31TGM
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/14/SPOT2-HRV1-XS_19980314-103319-093_L1C_051-257-0_C_V1-0/32TLR/FSC_19980314T103319_SPOT2_32TLR
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/14/SPOT2-HRV1-XS_19980314-103319-093_L1C_051-257-0_C_V1-0/32TLS/FSC_19980314T103319_SPOT2_32TLS
muscate/SPOTWORLDHERITAGE/1998/03/14/SPOT2-HRV1-XS_19980314-103327-371_L1C_051-258-0_D_V1-0/SPOT2-HRV1-XS_19980314-103327-371_L1C_051-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980314-103327-371_L1C_051-258-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980314-103327-371_L1C_051-258-0_D_V1-0.zip
run script
2024-01-16T17:36:23.503    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:23.505    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980314-103327-371_L1C_051-258-0_D_V1-0.zip
2024-01-16T17:36:23.505    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:36:23.505    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:36:23.505    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:23.505    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:36:23.505    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:36:23.505    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:36:23.505    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:36:23.505    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T17:36:25.540    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 200). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980314-103327-371_L1C_051-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/14/SPOT2-HRV1-XS_19980314-103327-371_L1C_051-258-0_C_V1-0/31TGL/FSC_19980314T103327_SPOT2_31TGL
TOTO
muscate/SPOTWORLDHERITAGE/1998/03/14/SPOT2-HRV1-XS_19980314-103335-658_L1C_051-259-0_D_V1-0/SPOT2-HRV1-XS_19980314-103335-658_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980314-103335-658_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980314-103335-658_L1C_051-259-0_D_V1-0.zip
run script
2024-01-16T17:36:28.593    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:28.595    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980314-103335-658_L1C_051-259-0_D_V1-0.zip
2024-01-16T17:36:28.595    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:36:28.595    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:36:28.595    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:28.595    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:36:28.595    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:36:28.595    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:36:28.595    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:36:28.595    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980314-103335-658_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/14/SPOT2-HRV1-XS_19980314-103335-658_L1C_051-259-0_C_V1-0/31TGK/FSC_19980314T103335_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/14/SPOT2-HRV1-XS_19980314-103335-658_L1C_051-259-0_C_V1-0/31TGL/FSC_19980314T103335_SPOT2_31TGL
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/14/SPOT2-HRV1-XS_19980314-103335-658_L1C_051-259-0_C_V1-0/32TLQ/FSC_19980314T103335_SPOT2_32TLQ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/14/SPOT2-HRV1-XS_19980314-103335-658_L1C_051-259-0_C_V1-0/32TLR/FSC_19980314T103335_SPOT2_32TLR
muscate/SPOTWORLDHERITAGE/1998/03/14/SPOT2-HRV1-XS_19980314-103343-954_L1C_051-260-0_D_V1-0/SPOT2-HRV1-XS_19980314-103343-954_L1C_051-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980314-103343-954_L1C_051-260-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980314-103343-954_L1C_051-260-0_D_V1-0.zip
run script
2024-01-16T17:36:31.565    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:31.566    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980314-103343-954_L1C_051-260-0_D_V1-0.zip
2024-01-16T17:36:31.566    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:36:31.566    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:36:31.567    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:31.567    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:36:31.567    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:36:31.567    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:36:31.567    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:36:31.567    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980314-103343-954_L1C_051-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/14/SPOT2-HRV1-XS_19980314-103343-954_L1C_051-260-0_C_V1-0/31TGK/FSC_19980314T103343_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/14/SPOT2-HRV1-XS_19980314-103343-954_L1C_051-260-0_C_V1-0/32TLQ/FSC_19980314T103343_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/03/14/SPOT2-HRV2-XS_19980314-103400-083_L1C_054-262-3_D_V1-0/SPOT2-HRV2-XS_19980314-103400-083_L1C_054-262-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980314-103400-083_L1C_054-262-3_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980314-103400-083_L1C_054-262-3_D_V1-0.zip
run script
2024-01-16T17:36:34.260    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:34.261    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980314-103400-083_L1C_054-262-3_D_V1-0.zip
2024-01-16T17:36:34.261    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:36:34.261    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:36:34.262    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:34.262    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:36:34.262    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:36:34.262    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:36:34.262    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:36:34.262    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980314-103400-083_L1C_054-262-3_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/14/SPOT2-HRV2-XS_19980314-103400-083_L1C_054-262-3_C_V1-0/31TGJ/FSC_19980314T103400_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/14/SPOT2-HRV2-XS_19980314-103400-083_L1C_054-262-3_C_V1-0/32TLP/FSC_19980314T103400_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/03/14/SPOT2-HRV2-XS_19980314-103401-888_L1C_054-262-5_D_V1-0/SPOT2-HRV2-XS_19980314-103401-888_L1C_054-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980314-103401-888_L1C_054-262-5_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980314-103401-888_L1C_054-262-5_D_V1-0.zip
run script
2024-01-16T17:36:36.991    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:36.992    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980314-103401-888_L1C_054-262-5_D_V1-0.zip
2024-01-16T17:36:36.992    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:36:36.992    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:36:36.992    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:36.992    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:36:36.993    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:36:36.993    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:36:36.993    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:36:36.993    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980314-103401-888_L1C_054-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/14/SPOT2-HRV2-XS_19980314-103401-888_L1C_054-262-5_C_V1-0/31TGJ/FSC_19980314T103401_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/14/SPOT2-HRV2-XS_19980314-103401-888_L1C_054-262-5_C_V1-0/32TLP/FSC_19980314T103401_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/05/21/SPOT2-HRV1-XS_19980521-102533-060_L1C_051-258-5_D_V1-0/SPOT2-HRV1-XS_19980521-102533-060_L1C_051-258-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980521-102533-060_L1C_051-258-5_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980521-102533-060_L1C_051-258-5_D_V1-0.zip
run script
2024-01-16T17:36:40.339    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:40.343    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980521-102533-060_L1C_051-258-5_D_V1-0.zip
2024-01-16T17:36:40.343    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:36:40.343    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:36:40.343    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:40.343    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:36:40.343    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:36:40.343    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:36:40.343    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:36:40.343    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980521-102533-060_L1C_051-258-5_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/21/SPOT2-HRV1-XS_19980521-102533-060_L1C_051-258-5_C_V1-0/31TGK/FSC_19980521T102533_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/21/SPOT2-HRV1-XS_19980521-102533-060_L1C_051-258-5_C_V1-0/31TGL/FSC_19980521T102533_SPOT2_31TGL
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/21/SPOT2-HRV1-XS_19980521-102533-060_L1C_051-258-5_C_V1-0/32TLQ/FSC_19980521T102533_SPOT2_32TLQ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/21/SPOT2-HRV1-XS_19980521-102533-060_L1C_051-258-5_C_V1-0/32TLR/FSC_19980521T102533_SPOT2_32TLR
muscate/SPOTWORLDHERITAGE/1998/05/21/SPOT2-HRV1-XS_19980521-102536-799_L1C_051-259-0_D_V1-0/SPOT2-HRV1-XS_19980521-102536-799_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980521-102536-799_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980521-102536-799_L1C_051-259-0_D_V1-0.zip
run script
2024-01-16T17:36:43.896    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:43.898    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980521-102536-799_L1C_051-259-0_D_V1-0.zip
2024-01-16T17:36:43.898    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:36:43.898    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:36:43.898    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:43.898    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:36:43.898    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:36:43.899    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:36:43.899    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:36:43.899    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980521-102536-799_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/21/SPOT2-HRV1-XS_19980521-102536-799_L1C_051-259-0_C_V1-0/31TGK/FSC_19980521T102536_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/21/SPOT2-HRV1-XS_19980521-102536-799_L1C_051-259-0_C_V1-0/31TGL/FSC_19980521T102536_SPOT2_31TGL
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/21/SPOT2-HRV1-XS_19980521-102536-799_L1C_051-259-0_C_V1-0/32TLQ/FSC_19980521T102536_SPOT2_32TLQ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/21/SPOT2-HRV1-XS_19980521-102536-799_L1C_051-259-0_C_V1-0/32TLR/FSC_19980521T102536_SPOT2_32TLR
muscate/SPOTWORLDHERITAGE/1998/05/21/SPOT2-HRV1-XS_19980521-102545-056_L1C_051-260-0_D_V1-0/SPOT2-HRV1-XS_19980521-102545-056_L1C_051-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980521-102545-056_L1C_051-260-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980521-102545-056_L1C_051-260-0_D_V1-0.zip
run script
2024-01-16T17:36:48.948    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:48.949    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980521-102545-056_L1C_051-260-0_D_V1-0.zip
2024-01-16T17:36:48.949    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:36:48.949    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:36:48.949    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:48.949    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:36:48.949    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:36:48.949    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:36:48.950    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:36:48.950    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980521-102545-056_L1C_051-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/21/SPOT2-HRV1-XS_19980521-102545-056_L1C_051-260-0_C_V1-0/31TGK/FSC_19980521T102545_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/21/SPOT2-HRV1-XS_19980521-102545-056_L1C_051-260-0_C_V1-0/32TLQ/FSC_19980521T102545_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/05/21/SPOT2-HRV1-XS_19980521-102553-325_L1C_051-261-0_D_V1-0/SPOT2-HRV1-XS_19980521-102553-325_L1C_051-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980521-102553-325_L1C_051-261-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980521-102553-325_L1C_051-261-0_D_V1-0.zip
run script
2024-01-16T17:36:51.951    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:51.952    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980521-102553-325_L1C_051-261-0_D_V1-0.zip
2024-01-16T17:36:51.952    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:36:51.952    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:36:51.952    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:51.952    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:36:51.952    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:36:51.952    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:36:51.952    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:36:51.952    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980521-102553-325_L1C_051-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/21/SPOT2-HRV1-XS_19980521-102553-325_L1C_051-261-0_C_V1-0/31TGJ/FSC_19980521T102553_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/21/SPOT2-HRV1-XS_19980521-102553-325_L1C_051-261-0_C_V1-0/31TGK/FSC_19980521T102553_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/21/SPOT2-HRV1-XS_19980521-102553-325_L1C_051-261-0_C_V1-0/32TLP/FSC_19980521T102553_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/21/SPOT2-HRV1-XS_19980521-102553-325_L1C_051-261-0_C_V1-0/32TLQ/FSC_19980521T102553_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/05/21/SPOT2-HRV1-XS_19980521-102556-935_L1C_051-261-4_D_V1-0/SPOT2-HRV1-XS_19980521-102556-935_L1C_051-261-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980521-102556-935_L1C_051-261-4_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980521-102556-935_L1C_051-261-4_D_V1-0.zip
run script
2024-01-16T17:36:55.035    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:55.036    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980521-102556-935_L1C_051-261-4_D_V1-0.zip
2024-01-16T17:36:55.036    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:36:55.036    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:36:55.036    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:36:55.036    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:36:55.036    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:36:55.036    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:36:55.036    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:36:55.036    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T17:36:59.685    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (192 x 1). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980521-102556-935_L1C_051-261-4_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/21/SPOT2-HRV1-XS_19980521-102556-935_L1C_051-261-4_C_V1-0/31TGJ/FSC_19980521T102556_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/21/SPOT2-HRV1-XS_19980521-102556-935_L1C_051-261-4_C_V1-0/31TGK/FSC_19980521T102556_SPOT2_31TGK
TOTO
muscate/SPOTWORLDHERITAGE/1998/05/21/SPOT2-HRV2-XS_19980521-102550-257_L1C_054-261-0_D_V1-0/SPOT2-HRV2-XS_19980521-102550-257_L1C_054-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980521-102550-257_L1C_054-261-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980521-102550-257_L1C_054-261-0_D_V1-0.zip
run script
2024-01-16T17:37:02.404    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:02.405    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980521-102550-257_L1C_054-261-0_D_V1-0.zip
2024-01-16T17:37:02.405    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:37:02.405    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:37:02.406    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:02.406    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:37:02.406    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:37:02.406    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:37:02.406    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:37:02.406    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980521-102550-257_L1C_054-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/21/SPOT2-HRV2-XS_19980521-102550-257_L1C_054-261-0_C_V1-0/32TLP/FSC_19980521T102550_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/21/SPOT2-HRV2-XS_19980521-102550-257_L1C_054-261-0_C_V1-0/32TLQ/FSC_19980521T102550_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/05/21/SPOT2-HRV2-XS_19980521-102557-476_L1C_054-261-8_D_V1-0/SPOT2-HRV2-XS_19980521-102557-476_L1C_054-261-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980521-102557-476_L1C_054-261-8_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980521-102557-476_L1C_054-261-8_D_V1-0.zip
run script
2024-01-16T17:37:05.347    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:05.349    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980521-102557-476_L1C_054-261-8_D_V1-0.zip
2024-01-16T17:37:05.349    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:37:05.349    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:37:05.349    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:05.349    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:37:05.349    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:37:05.349    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:37:05.349    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:37:05.349    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980521-102557-476_L1C_054-261-8_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/21/SPOT2-HRV2-XS_19980521-102557-476_L1C_054-261-8_C_V1-0/32TLP/FSC_19980521T102557_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/05/26/SPOT2-HRV1-XS_19980526-102925-193_L1C_051-258-0_D_V1-0/SPOT2-HRV1-XS_19980526-102925-193_L1C_051-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980526-102925-193_L1C_051-258-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980526-102925-193_L1C_051-258-0_D_V1-0.zip
run script
2024-01-16T17:37:08.245    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:08.247    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980526-102925-193_L1C_051-258-0_D_V1-0.zip
2024-01-16T17:37:08.247    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:37:08.247    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:37:08.247    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:08.247    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:37:08.247    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:37:08.247    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:37:08.247    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:37:08.247    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T17:37:10.270    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 206). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980526-102925-193_L1C_051-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/26/SPOT2-HRV1-XS_19980526-102925-193_L1C_051-258-0_C_V1-0/31TGL/FSC_19980526T102925_SPOT2_31TGL
TOTO
muscate/SPOTWORLDHERITAGE/1998/05/26/SPOT2-HRV1-XS_19980526-102933-459_L1C_051-259-0_D_V1-0/SPOT2-HRV1-XS_19980526-102933-459_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980526-102933-459_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980526-102933-459_L1C_051-259-0_D_V1-0.zip
run script
2024-01-16T17:37:13.335    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:13.336    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980526-102933-459_L1C_051-259-0_D_V1-0.zip
2024-01-16T17:37:13.336    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:37:13.336    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:37:13.336    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:13.336    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:37:13.336    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:37:13.336    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:37:13.336    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:37:13.336    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980526-102933-459_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/26/SPOT2-HRV1-XS_19980526-102933-459_L1C_051-259-0_C_V1-0/31TGK/FSC_19980526T102933_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/26/SPOT2-HRV1-XS_19980526-102933-459_L1C_051-259-0_C_V1-0/31TGL/FSC_19980526T102933_SPOT2_31TGL
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/26/SPOT2-HRV1-XS_19980526-102933-459_L1C_051-259-0_C_V1-0/32TLQ/FSC_19980526T102933_SPOT2_32TLQ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/26/SPOT2-HRV1-XS_19980526-102933-459_L1C_051-259-0_C_V1-0/32TLR/FSC_19980526T102933_SPOT2_32TLR
muscate/SPOTWORLDHERITAGE/1998/05/26/SPOT2-HRV1-XS_19980526-102941-734_L1C_051-260-0_D_V1-0/SPOT2-HRV1-XS_19980526-102941-734_L1C_051-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980526-102941-734_L1C_051-260-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980526-102941-734_L1C_051-260-0_D_V1-0.zip
run script
2024-01-16T17:37:18.484    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:18.485    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980526-102941-734_L1C_051-260-0_D_V1-0.zip
2024-01-16T17:37:18.485    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:37:18.485    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:37:18.485    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:18.485    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:37:18.485    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:37:18.485    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:37:18.486    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:37:18.486    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980526-102941-734_L1C_051-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/26/SPOT2-HRV1-XS_19980526-102941-734_L1C_051-260-0_C_V1-0/31TGK/FSC_19980526T102941_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/26/SPOT2-HRV1-XS_19980526-102941-734_L1C_051-260-0_C_V1-0/32TLQ/FSC_19980526T102941_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/05/26/SPOT2-HRV1-XS_19980526-102950-015_L1C_051-261-0_D_V1-0/SPOT2-HRV1-XS_19980526-102950-015_L1C_051-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980526-102950-015_L1C_051-261-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980526-102950-015_L1C_051-261-0_D_V1-0.zip
run script
2024-01-16T17:37:21.564    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:21.565    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980526-102950-015_L1C_051-261-0_D_V1-0.zip
2024-01-16T17:37:21.565    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:37:21.565    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:37:21.565    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:21.565    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:37:21.565    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:37:21.565    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:37:21.565    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:37:21.565    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980526-102950-015_L1C_051-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/26/SPOT2-HRV1-XS_19980526-102950-015_L1C_051-261-0_C_V1-0/31TGJ/FSC_19980526T102950_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/26/SPOT2-HRV1-XS_19980526-102950-015_L1C_051-261-0_C_V1-0/31TGK/FSC_19980526T102950_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/26/SPOT2-HRV1-XS_19980526-102950-015_L1C_051-261-0_C_V1-0/32TLP/FSC_19980526T102950_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/26/SPOT2-HRV1-XS_19980526-102950-015_L1C_051-261-0_C_V1-0/32TLQ/FSC_19980526T102950_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/05/26/SPOT2-HRV1-XS_19980526-102958-308_L1C_051-262-0_D_V1-0/SPOT2-HRV1-XS_19980526-102958-308_L1C_051-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980526-102958-308_L1C_051-262-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980526-102958-308_L1C_051-262-0_D_V1-0.zip
run script
2024-01-16T17:37:24.668    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:24.669    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980526-102958-308_L1C_051-262-0_D_V1-0.zip
2024-01-16T17:37:24.670    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:37:24.670    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:37:24.670    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:24.670    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:37:24.670    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:37:24.670    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:37:24.670    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:37:24.670    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980526-102958-308_L1C_051-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/26/SPOT2-HRV1-XS_19980526-102958-308_L1C_051-262-0_C_V1-0/31TGJ/FSC_19980526T102958_SPOT2_31TGJ
muscate/SPOTWORLDHERITAGE/1998/05/26/SPOT2-HRV1-XS_19980526-103006-604_L1C_051-263-0_D_V1-0/SPOT2-HRV1-XS_19980526-103006-604_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980526-103006-604_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980526-103006-604_L1C_051-263-0_D_V1-0.zip
run script
2024-01-16T17:37:27.524    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:27.525    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980526-103006-604_L1C_051-263-0_D_V1-0.zip
2024-01-16T17:37:27.525    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:37:27.525    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:37:27.525    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:27.525    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:37:27.525    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:37:27.526    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:37:27.526    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:37:27.526    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980526-103006-604_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/26/SPOT2-HRV1-XS_19980526-103006-604_L1C_051-263-0_C_V1-0/31TGJ/FSC_19980526T103006_SPOT2_31TGJ
muscate/SPOTWORLDHERITAGE/1998/06/09/SPOT2-HRV2-XS_19980609-110032-563_L1C_051-258-5_D_V1-0/SPOT2-HRV2-XS_19980609-110032-563_L1C_051-258-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980609-110032-563_L1C_051-258-5_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980609-110032-563_L1C_051-258-5_D_V1-0.zip
run script
2024-01-16T17:37:30.535    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:30.536    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980609-110032-563_L1C_051-258-5_D_V1-0.zip
2024-01-16T17:37:30.536    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:37:30.536    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:37:30.536    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:30.536    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:37:30.537    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:37:30.537    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:37:30.537    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:37:30.537    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980609-110032-563_L1C_051-258-5_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/9/SPOT2-HRV2-XS_19980609-110032-563_L1C_051-258-5_C_V1-0/31TGK/FSC_19980609T110032_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/9/SPOT2-HRV2-XS_19980609-110032-563_L1C_051-258-5_C_V1-0/31TGL/FSC_19980609T110032_SPOT2_31TGL
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/9/SPOT2-HRV2-XS_19980609-110032-563_L1C_051-258-5_C_V1-0/32TLQ/FSC_19980609T110032_SPOT2_32TLQ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/9/SPOT2-HRV2-XS_19980609-110032-563_L1C_051-258-5_C_V1-0/32TLR/FSC_19980609T110032_SPOT2_32TLR
muscate/SPOTWORLDHERITAGE/1998/06/09/SPOT2-HRV2-XS_19980609-110036-536_L1C_051-259-0_D_V1-0/SPOT2-HRV2-XS_19980609-110036-536_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980609-110036-536_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980609-110036-536_L1C_051-259-0_D_V1-0.zip
run script
2024-01-16T17:37:33.802    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:33.803    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980609-110036-536_L1C_051-259-0_D_V1-0.zip
2024-01-16T17:37:33.803    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:37:33.803    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:37:33.803    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:33.803    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:37:33.803    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:37:33.803    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:37:33.803    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:37:33.803    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980609-110036-536_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/9/SPOT2-HRV2-XS_19980609-110036-536_L1C_051-259-0_C_V1-0/31TGK/FSC_19980609T110036_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/9/SPOT2-HRV2-XS_19980609-110036-536_L1C_051-259-0_C_V1-0/31TGL/FSC_19980609T110036_SPOT2_31TGL
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/9/SPOT2-HRV2-XS_19980609-110036-536_L1C_051-259-0_C_V1-0/32TLQ/FSC_19980609T110036_SPOT2_32TLQ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/9/SPOT2-HRV2-XS_19980609-110036-536_L1C_051-259-0_C_V1-0/32TLR/FSC_19980609T110036_SPOT2_32TLR
muscate/SPOTWORLDHERITAGE/1998/06/09/SPOT2-HRV2-XS_19980609-110045-022_L1C_051-260-0_D_V1-0/SPOT2-HRV2-XS_19980609-110045-022_L1C_051-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980609-110045-022_L1C_051-260-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980609-110045-022_L1C_051-260-0_D_V1-0.zip
run script
2024-01-16T17:37:37.143    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:37.144    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980609-110045-022_L1C_051-260-0_D_V1-0.zip
2024-01-16T17:37:37.144    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:37:37.144    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:37:37.144    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:37.144    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:37:37.144    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:37:37.144    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:37:37.145    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:37:37.145    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980609-110045-022_L1C_051-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/9/SPOT2-HRV2-XS_19980609-110045-022_L1C_051-260-0_C_V1-0/31TGK/FSC_19980609T110045_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/9/SPOT2-HRV2-XS_19980609-110045-022_L1C_051-260-0_C_V1-0/32TLQ/FSC_19980609T110045_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/06/09/SPOT2-HRV2-XS_19980609-110053-513_L1C_051-261-0_D_V1-0/SPOT2-HRV2-XS_19980609-110053-513_L1C_051-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980609-110053-513_L1C_051-261-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980609-110053-513_L1C_051-261-0_D_V1-0.zip
run script
2024-01-16T17:37:40.082    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:40.083    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980609-110053-513_L1C_051-261-0_D_V1-0.zip
2024-01-16T17:37:40.084    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:37:40.084    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:37:40.084    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:40.085    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:37:40.085    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:37:40.091    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:37:40.094    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:37:40.096    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980609-110053-513_L1C_051-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/9/SPOT2-HRV2-XS_19980609-110053-513_L1C_051-261-0_C_V1-0/31TGJ/FSC_19980609T110053_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/9/SPOT2-HRV2-XS_19980609-110053-513_L1C_051-261-0_C_V1-0/31TGK/FSC_19980609T110053_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/9/SPOT2-HRV2-XS_19980609-110053-513_L1C_051-261-0_C_V1-0/32TLP/FSC_19980609T110053_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/9/SPOT2-HRV2-XS_19980609-110053-513_L1C_051-261-0_C_V1-0/32TLQ/FSC_19980609T110053_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/06/09/SPOT2-HRV2-XS_19980609-110056-220_L1C_051-261-3_D_V1-0/SPOT2-HRV2-XS_19980609-110056-220_L1C_051-261-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980609-110056-220_L1C_051-261-3_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980609-110056-220_L1C_051-261-3_D_V1-0.zip
run script
2024-01-16T17:37:43.210    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:43.211    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980609-110056-220_L1C_051-261-3_D_V1-0.zip
2024-01-16T17:37:43.211    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:37:43.211    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:37:43.211    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:43.212    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:37:43.212    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:37:43.212    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:37:43.212    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:37:43.212    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T17:37:45.098    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (368 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980609-110056-220_L1C_051-261-3_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/9/SPOT2-HRV2-XS_19980609-110056-220_L1C_051-261-3_C_V1-0/31TGJ/FSC_19980609T110056_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/9/SPOT2-HRV2-XS_19980609-110056-220_L1C_051-261-3_C_V1-0/31TGK/FSC_19980609T110056_SPOT2_31TGK
TOTO
muscate/SPOTWORLDHERITAGE/1998/08/21/SPOT2-HRV1-XS_19980821-105742-677_L1C_051-259-0_D_V1-0/SPOT2-HRV1-XS_19980821-105742-677_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980821-105742-677_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980821-105742-677_L1C_051-259-0_D_V1-0.zip
run script
2024-01-16T17:37:48.070    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:48.071    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980821-105742-677_L1C_051-259-0_D_V1-0.zip
2024-01-16T17:37:48.071    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:37:48.071    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:37:48.071    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:48.071    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:37:48.071    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:37:48.071    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:37:48.071    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:37:48.071    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980821-105742-677_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/21/SPOT2-HRV1-XS_19980821-105742-677_L1C_051-259-0_C_V1-0/31TGK/FSC_19980821T105742_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/21/SPOT2-HRV1-XS_19980821-105742-677_L1C_051-259-0_C_V1-0/31TGL/FSC_19980821T105742_SPOT2_31TGL
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/21/SPOT2-HRV1-XS_19980821-105742-677_L1C_051-259-0_C_V1-0/32TLQ/FSC_19980821T105742_SPOT2_32TLQ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/21/SPOT2-HRV1-XS_19980821-105742-677_L1C_051-259-0_C_V1-0/32TLR/FSC_19980821T105742_SPOT2_32TLR
muscate/SPOTWORLDHERITAGE/1998/08/21/SPOT2-HRV1-XS_19980821-105751-136_L1C_051-260-0_D_V1-0/SPOT2-HRV1-XS_19980821-105751-136_L1C_051-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980821-105751-136_L1C_051-260-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980821-105751-136_L1C_051-260-0_D_V1-0.zip
run script
2024-01-16T17:37:51.273    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:51.274    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980821-105751-136_L1C_051-260-0_D_V1-0.zip
2024-01-16T17:37:51.274    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:37:51.274    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:37:51.274    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:51.274    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:37:51.274    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:37:51.274    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:37:51.274    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:37:51.275    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980821-105751-136_L1C_051-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/21/SPOT2-HRV1-XS_19980821-105751-136_L1C_051-260-0_C_V1-0/31TGK/FSC_19980821T105751_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/21/SPOT2-HRV1-XS_19980821-105751-136_L1C_051-260-0_C_V1-0/32TLQ/FSC_19980821T105751_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/08/21/SPOT2-HRV1-XS_19980821-105759-600_L1C_051-261-0_D_V1-0/SPOT2-HRV1-XS_19980821-105759-600_L1C_051-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980821-105759-600_L1C_051-261-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980821-105759-600_L1C_051-261-0_D_V1-0.zip
run script
2024-01-16T17:37:54.466    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:54.467    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980821-105759-600_L1C_051-261-0_D_V1-0.zip
2024-01-16T17:37:54.467    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:37:54.467    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:37:54.467    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:54.467    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:37:54.467    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:37:54.467    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:37:54.468    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:37:54.468    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980821-105759-600_L1C_051-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/21/SPOT2-HRV1-XS_19980821-105759-600_L1C_051-261-0_C_V1-0/31TGJ/FSC_19980821T105759_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/21/SPOT2-HRV1-XS_19980821-105759-600_L1C_051-261-0_C_V1-0/31TGK/FSC_19980821T105759_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/21/SPOT2-HRV1-XS_19980821-105759-600_L1C_051-261-0_C_V1-0/32TLP/FSC_19980821T105759_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/21/SPOT2-HRV1-XS_19980821-105759-600_L1C_051-261-0_C_V1-0/32TLQ/FSC_19980821T105759_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/08/21/SPOT2-HRV1-XS_19980821-105806-820_L1C_051-261-8_D_V1-0/SPOT2-HRV1-XS_19980821-105806-820_L1C_051-261-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980821-105806-820_L1C_051-261-8_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980821-105806-820_L1C_051-261-8_D_V1-0.zip
run script
2024-01-16T17:37:57.555    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:57.556    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980821-105806-820_L1C_051-261-8_D_V1-0.zip
2024-01-16T17:37:57.556    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:37:57.556    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:37:57.556    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:37:57.556    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:37:57.556    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:37:57.556    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:37:57.556    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:37:57.557    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T17:38:01.099    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (870 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980821-105806-820_L1C_051-261-8_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/21/SPOT2-HRV1-XS_19980821-105806-820_L1C_051-261-8_C_V1-0/31TGJ/FSC_19980821T105806_SPOT2_31TGJ
TOTO
muscate/SPOTWORLDHERITAGE/1998/08/21/SPOT2-HRV2-XS_19980821-105749-467_L1C_052-260-0_D_V1-0/SPOT2-HRV2-XS_19980821-105749-467_L1C_052-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980821-105749-467_L1C_052-260-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980821-105749-467_L1C_052-260-0_D_V1-0.zip
run script
2024-01-16T17:38:04.418    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:04.419    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980821-105749-467_L1C_052-260-0_D_V1-0.zip
2024-01-16T17:38:04.419    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:38:04.419    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:38:04.419    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:04.419    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:38:04.419    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:38:04.419    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:38:04.419    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:38:04.420    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T17:38:06.058    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 134). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980821-105749-467_L1C_052-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/21/SPOT2-HRV2-XS_19980821-105749-467_L1C_052-260-0_C_V1-0/31TGK/FSC_19980821T105749_SPOT2_31TGK
TOTO
muscate/SPOTWORLDHERITAGE/1998/08/21/SPOT2-HRV2-XS_19980821-105757-949_L1C_052-261-0_D_V1-0/SPOT2-HRV2-XS_19980821-105757-949_L1C_052-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980821-105757-949_L1C_052-261-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980821-105757-949_L1C_052-261-0_D_V1-0.zip
run script
2024-01-16T17:38:09.307    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:09.308    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980821-105757-949_L1C_052-261-0_D_V1-0.zip
2024-01-16T17:38:09.308    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:38:09.308    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:38:09.308    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:09.308    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:38:09.308    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:38:09.308    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:38:09.309    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:38:09.309    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980821-105757-949_L1C_052-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/21/SPOT2-HRV2-XS_19980821-105757-949_L1C_052-261-0_C_V1-0/31TGJ/FSC_19980821T105757_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/21/SPOT2-HRV2-XS_19980821-105757-949_L1C_052-261-0_C_V1-0/31TGK/FSC_19980821T105757_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/21/SPOT2-HRV2-XS_19980821-105757-949_L1C_052-261-0_C_V1-0/32TLP/FSC_19980821T105757_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/21/SPOT2-HRV2-XS_19980821-105757-949_L1C_052-261-0_C_V1-0/32TLQ/FSC_19980821T105757_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/08/21/SPOT2-HRV2-XS_19980821-105806-435_L1C_052-262-0_D_V1-0/SPOT2-HRV2-XS_19980821-105806-435_L1C_052-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980821-105806-435_L1C_052-262-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980821-105806-435_L1C_052-262-0_D_V1-0.zip
run script
2024-01-16T17:38:12.357    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:12.359    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980821-105806-435_L1C_052-262-0_D_V1-0.zip
2024-01-16T17:38:12.359    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:38:12.359    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:38:12.359    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:12.359    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:38:12.359    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:38:12.359    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:38:12.359    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:38:12.359    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980821-105806-435_L1C_052-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/21/SPOT2-HRV2-XS_19980821-105806-435_L1C_052-262-0_C_V1-0/31TGJ/FSC_19980821T105806_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/21/SPOT2-HRV2-XS_19980821-105806-435_L1C_052-262-0_C_V1-0/32TLP/FSC_19980821T105806_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/08/21/SPOT2-HRV2-XS_19980821-105740-987_L1C_053-259-0_D_V1-0/SPOT2-HRV2-XS_19980821-105740-987_L1C_053-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980821-105740-987_L1C_053-259-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980821-105740-987_L1C_053-259-0_D_V1-0.zip
run script
2024-01-16T17:38:15.347    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:15.349    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980821-105740-987_L1C_053-259-0_D_V1-0.zip
2024-01-16T17:38:15.349    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:38:15.349    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:38:15.349    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:15.349    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:38:15.349    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:38:15.349    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:38:15.349    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:38:15.349    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980821-105740-987_L1C_053-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/21/SPOT2-HRV2-XS_19980821-105740-987_L1C_053-259-0_C_V1-0/31TGK/FSC_19980821T105740_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/21/SPOT2-HRV2-XS_19980821-105740-987_L1C_053-259-0_C_V1-0/31TGL/FSC_19980821T105740_SPOT2_31TGL
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/21/SPOT2-HRV2-XS_19980821-105740-987_L1C_053-259-0_C_V1-0/32TLQ/FSC_19980821T105740_SPOT2_32TLQ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/21/SPOT2-HRV2-XS_19980821-105740-987_L1C_053-259-0_C_V1-0/32TLR/FSC_19980821T105740_SPOT2_32TLR
muscate/SPOTWORLDHERITAGE/1998/12/25/SPOT2-HRV1-XS_19981225-103554-579_L1C_052-258-6_D_V1-0/SPOT2-HRV1-XS_19981225-103554-579_L1C_052-258-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19981225-103554-579_L1C_052-258-6_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19981225-103554-579_L1C_052-258-6_D_V1-0.zip
run script
2024-01-16T17:38:18.674    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:18.675    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19981225-103554-579_L1C_052-258-6_D_V1-0.zip
2024-01-16T17:38:18.675    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:38:18.675    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:38:18.675    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:18.675    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:38:18.675    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:38:18.676    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:38:18.676    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:38:18.676    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19981225-103554-579_L1C_052-258-6_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/12/25/SPOT2-HRV1-XS_19981225-103554-579_L1C_052-258-6_C_V1-0/31TGK/FSC_19981225T103554_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/12/25/SPOT2-HRV1-XS_19981225-103554-579_L1C_052-258-6_C_V1-0/31TGL/FSC_19981225T103554_SPOT2_31TGL
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/12/25/SPOT2-HRV1-XS_19981225-103554-579_L1C_052-258-6_C_V1-0/32TLQ/FSC_19981225T103554_SPOT2_32TLQ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/12/25/SPOT2-HRV1-XS_19981225-103554-579_L1C_052-258-6_C_V1-0/32TLR/FSC_19981225T103554_SPOT2_32TLR
muscate/SPOTWORLDHERITAGE/1998/12/25/SPOT2-HRV1-XS_19981225-103557-466_L1C_052-259-0_D_V1-0/SPOT2-HRV1-XS_19981225-103557-466_L1C_052-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19981225-103557-466_L1C_052-259-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19981225-103557-466_L1C_052-259-0_D_V1-0.zip
run script
2024-01-16T17:38:21.965    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:21.966    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19981225-103557-466_L1C_052-259-0_D_V1-0.zip
2024-01-16T17:38:21.966    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:38:21.966    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:38:21.966    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:21.966    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:38:21.966    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:38:21.966    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:38:21.966    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:38:21.967    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19981225-103557-466_L1C_052-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/12/25/SPOT2-HRV1-XS_19981225-103557-466_L1C_052-259-0_C_V1-0/31TGK/FSC_19981225T103557_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/12/25/SPOT2-HRV1-XS_19981225-103557-466_L1C_052-259-0_C_V1-0/31TGL/FSC_19981225T103557_SPOT2_31TGL
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/12/25/SPOT2-HRV1-XS_19981225-103557-466_L1C_052-259-0_C_V1-0/32TLQ/FSC_19981225T103557_SPOT2_32TLQ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/12/25/SPOT2-HRV1-XS_19981225-103557-466_L1C_052-259-0_C_V1-0/32TLR/FSC_19981225T103557_SPOT2_32TLR
muscate/SPOTWORLDHERITAGE/1998/12/25/SPOT2-HRV1-XS_19981225-103605-778_L1C_052-260-0_D_V1-0/SPOT2-HRV1-XS_19981225-103605-778_L1C_052-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19981225-103605-778_L1C_052-260-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19981225-103605-778_L1C_052-260-0_D_V1-0.zip
run script
2024-01-16T17:38:24.999    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:25.001    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19981225-103605-778_L1C_052-260-0_D_V1-0.zip
2024-01-16T17:38:25.001    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:38:25.001    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:38:25.001    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:25.001    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:38:25.001    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:38:25.001    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:38:25.001    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:38:25.001    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19981225-103605-778_L1C_052-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/12/25/SPOT2-HRV1-XS_19981225-103605-778_L1C_052-260-0_C_V1-0/31TGK/FSC_19981225T103605_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/12/25/SPOT2-HRV1-XS_19981225-103605-778_L1C_052-260-0_C_V1-0/32TLQ/FSC_19981225T103605_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/12/25/SPOT2-HRV1-XS_19981225-103614-095_L1C_052-261-0_D_V1-0/SPOT2-HRV1-XS_19981225-103614-095_L1C_052-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19981225-103614-095_L1C_052-261-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19981225-103614-095_L1C_052-261-0_D_V1-0.zip
run script
2024-01-16T17:38:27.998    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:27.999    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19981225-103614-095_L1C_052-261-0_D_V1-0.zip
2024-01-16T17:38:27.999    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:38:27.999    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:38:27.999    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:27.999    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:38:27.999    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:38:27.999    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:38:27.999    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:38:27.999    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19981225-103614-095_L1C_052-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/12/25/SPOT2-HRV1-XS_19981225-103614-095_L1C_052-261-0_C_V1-0/31TGJ/FSC_19981225T103614_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/12/25/SPOT2-HRV1-XS_19981225-103614-095_L1C_052-261-0_C_V1-0/31TGK/FSC_19981225T103614_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/12/25/SPOT2-HRV1-XS_19981225-103614-095_L1C_052-261-0_C_V1-0/32TLP/FSC_19981225T103614_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/12/25/SPOT2-HRV1-XS_19981225-103614-095_L1C_052-261-0_C_V1-0/32TLQ/FSC_19981225T103614_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/12/25/SPOT2-HRV1-XS_19981225-103622-421_L1C_052-262-0_D_V1-0/SPOT2-HRV1-XS_19981225-103622-421_L1C_052-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19981225-103622-421_L1C_052-262-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19981225-103622-421_L1C_052-262-0_D_V1-0.zip
run script
2024-01-16T17:38:30.890    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:30.891    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19981225-103622-421_L1C_052-262-0_D_V1-0.zip
2024-01-16T17:38:30.891    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:38:30.891    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:38:30.891    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:30.891    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:38:30.891    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:38:30.892    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:38:30.892    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:38:30.892    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19981225-103622-421_L1C_052-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/12/25/SPOT2-HRV1-XS_19981225-103622-421_L1C_052-262-0_C_V1-0/31TGJ/FSC_19981225T103622_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/12/25/SPOT2-HRV1-XS_19981225-103622-421_L1C_052-262-0_C_V1-0/32TLP/FSC_19981225T103622_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/03/09/SPOT2-HRV1-XS_19980309-102952-444_L1C_052-259-7_D_V1-0/SPOT2-HRV1-XS_19980309-102952-444_L1C_052-259-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980309-102952-444_L1C_052-259-7_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980309-102952-444_L1C_052-259-7_D_V1-0.zip
run script
2024-01-16T17:38:34.025    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:34.027    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980309-102952-444_L1C_052-259-7_D_V1-0.zip
2024-01-16T17:38:34.027    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:38:34.027    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:38:34.027    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:34.027    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:38:34.027    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:38:34.027    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:38:34.027    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:38:34.027    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T17:38:35.896    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1 x 222). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980309-102952-444_L1C_052-259-7_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/9/SPOT2-HRV1-XS_19980309-102952-444_L1C_052-259-7_C_V1-0/31TGK/FSC_19980309T102952_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/9/SPOT2-HRV1-XS_19980309-102952-444_L1C_052-259-7_C_V1-0/31TGL/FSC_19980309T102952_SPOT2_31TGL
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/9/SPOT2-HRV1-XS_19980309-102952-444_L1C_052-259-7_C_V1-0/32TLQ/FSC_19980309T102952_SPOT2_32TLQ
TOTO
muscate/SPOTWORLDHERITAGE/1998/03/09/SPOT2-HRV1-XS_19980309-102954-418_L1C_052-260-0_D_V1-0/SPOT2-HRV1-XS_19980309-102954-418_L1C_052-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980309-102954-418_L1C_052-260-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980309-102954-418_L1C_052-260-0_D_V1-0.zip
run script
2024-01-16T17:38:38.887    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:38.888    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980309-102954-418_L1C_052-260-0_D_V1-0.zip
2024-01-16T17:38:38.888    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:38:38.888    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:38:38.889    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:38.889    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:38:38.889    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:38:38.889    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:38:38.889    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:38:38.889    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980309-102954-418_L1C_052-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/9/SPOT2-HRV1-XS_19980309-102954-418_L1C_052-260-0_C_V1-0/31TGK/FSC_19980309T102954_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/9/SPOT2-HRV1-XS_19980309-102954-418_L1C_052-260-0_C_V1-0/32TLQ/FSC_19980309T102954_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/03/09/SPOT2-HRV1-XS_19980309-103002-714_L1C_052-261-0_D_V1-0/SPOT2-HRV1-XS_19980309-103002-714_L1C_052-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980309-103002-714_L1C_052-261-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980309-103002-714_L1C_052-261-0_D_V1-0.zip
run script
2024-01-16T17:38:41.805    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:41.807    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980309-103002-714_L1C_052-261-0_D_V1-0.zip
2024-01-16T17:38:41.807    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:38:41.807    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:38:41.807    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:41.807    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:38:41.808    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:38:41.808    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:38:41.808    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:38:41.808    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980309-103002-714_L1C_052-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/9/SPOT2-HRV1-XS_19980309-103002-714_L1C_052-261-0_C_V1-0/31TGJ/FSC_19980309T103002_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/9/SPOT2-HRV1-XS_19980309-103002-714_L1C_052-261-0_C_V1-0/31TGK/FSC_19980309T103002_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/9/SPOT2-HRV1-XS_19980309-103002-714_L1C_052-261-0_C_V1-0/32TLP/FSC_19980309T103002_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/9/SPOT2-HRV1-XS_19980309-103002-714_L1C_052-261-0_C_V1-0/32TLQ/FSC_19980309T103002_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/03/09/SPOT2-HRV1-XS_19980309-103011-019_L1C_052-262-0_D_V1-0/SPOT2-HRV1-XS_19980309-103011-019_L1C_052-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980309-103011-019_L1C_052-262-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980309-103011-019_L1C_052-262-0_D_V1-0.zip
run script
2024-01-16T17:38:44.967    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:44.968    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980309-103011-019_L1C_052-262-0_D_V1-0.zip
2024-01-16T17:38:44.968    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:38:44.968    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:38:44.968    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:44.968    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:38:44.968    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:38:44.969    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:38:44.969    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:38:44.969    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980309-103011-019_L1C_052-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/9/SPOT2-HRV1-XS_19980309-103011-019_L1C_052-262-0_C_V1-0/31TGJ/FSC_19980309T103011_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/3/9/SPOT2-HRV1-XS_19980309-103011-019_L1C_052-262-0_C_V1-0/32TLP/FSC_19980309T103011_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/05/06/SPOT2-HRV2-XS_19980506-101349-542_L1C_052-259-7_D_V1-0/SPOT2-HRV2-XS_19980506-101349-542_L1C_052-259-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980506-101349-542_L1C_052-259-7_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980506-101349-542_L1C_052-259-7_D_V1-0.zip
run script
2024-01-16T17:38:47.781    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:47.782    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980506-101349-542_L1C_052-259-7_D_V1-0.zip
2024-01-16T17:38:47.782    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:38:47.782    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:38:47.782    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:47.782    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:38:47.782    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:38:47.782    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:38:47.782    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:38:47.782    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T17:38:49.316    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 474). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980506-101349-542_L1C_052-259-7_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/6/SPOT2-HRV2-XS_19980506-101349-542_L1C_052-259-7_C_V1-0/31TGK/FSC_19980506T101349_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/6/SPOT2-HRV2-XS_19980506-101349-542_L1C_052-259-7_C_V1-0/31TGL/FSC_19980506T101349_SPOT2_31TGL
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/6/SPOT2-HRV2-XS_19980506-101349-542_L1C_052-259-7_C_V1-0/32TLQ/FSC_19980506T101349_SPOT2_32TLQ
TOTO
muscate/SPOTWORLDHERITAGE/1998/05/06/SPOT2-HRV2-XS_19980506-101351-461_L1C_052-260-0_D_V1-0/SPOT2-HRV2-XS_19980506-101351-461_L1C_052-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980506-101351-461_L1C_052-260-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980506-101351-461_L1C_052-260-0_D_V1-0.zip
run script
2024-01-16T17:38:52.135    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:52.136    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980506-101351-461_L1C_052-260-0_D_V1-0.zip
2024-01-16T17:38:52.136    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:38:52.136    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:38:52.137    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:52.137    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:38:52.137    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:38:52.137    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:38:52.137    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:38:52.137    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980506-101351-461_L1C_052-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/6/SPOT2-HRV2-XS_19980506-101351-461_L1C_052-260-0_C_V1-0/31TGK/FSC_19980506T101351_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/6/SPOT2-HRV2-XS_19980506-101351-461_L1C_052-260-0_C_V1-0/32TLQ/FSC_19980506T101351_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/05/06/SPOT2-HRV2-XS_19980506-101359-703_L1C_052-261-0_D_V1-0/SPOT2-HRV2-XS_19980506-101359-703_L1C_052-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980506-101359-703_L1C_052-261-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980506-101359-703_L1C_052-261-0_D_V1-0.zip
run script
2024-01-16T17:38:55.124    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:55.125    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980506-101359-703_L1C_052-261-0_D_V1-0.zip
2024-01-16T17:38:55.126    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:38:55.126    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:38:55.126    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:55.126    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:38:55.126    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:38:55.126    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:38:55.126    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:38:55.126    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980506-101359-703_L1C_052-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/6/SPOT2-HRV2-XS_19980506-101359-703_L1C_052-261-0_C_V1-0/31TGJ/FSC_19980506T101359_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/6/SPOT2-HRV2-XS_19980506-101359-703_L1C_052-261-0_C_V1-0/31TGK/FSC_19980506T101359_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/6/SPOT2-HRV2-XS_19980506-101359-703_L1C_052-261-0_C_V1-0/32TLP/FSC_19980506T101359_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/6/SPOT2-HRV2-XS_19980506-101359-703_L1C_052-261-0_C_V1-0/32TLQ/FSC_19980506T101359_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/05/06/SPOT2-HRV2-XS_19980506-101407-954_L1C_052-262-0_D_V1-0/SPOT2-HRV2-XS_19980506-101407-954_L1C_052-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980506-101407-954_L1C_052-262-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980506-101407-954_L1C_052-262-0_D_V1-0.zip
run script
2024-01-16T17:38:58.286    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:58.288    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980506-101407-954_L1C_052-262-0_D_V1-0.zip
2024-01-16T17:38:58.288    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:38:58.288    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:38:58.288    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:38:58.288    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:38:58.288    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:38:58.288    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:38:58.288    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:38:58.288    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980506-101407-954_L1C_052-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/6/SPOT2-HRV2-XS_19980506-101407-954_L1C_052-262-0_C_V1-0/31TGJ/FSC_19980506T101407_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/6/SPOT2-HRV2-XS_19980506-101407-954_L1C_052-262-0_C_V1-0/32TLP/FSC_19980506T101407_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/05/06/SPOT2-HRV2-XS_19980506-101416-217_L1C_053-263-0_D_V1-0/SPOT2-HRV2-XS_19980506-101416-217_L1C_053-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980506-101416-217_L1C_053-263-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980506-101416-217_L1C_053-263-0_D_V1-0.zip
run script
2024-01-16T17:39:01.248    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:01.249    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980506-101416-217_L1C_053-263-0_D_V1-0.zip
2024-01-16T17:39:01.249    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:39:01.250    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:39:01.250    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:01.250    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:39:01.250    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:39:01.250    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:39:01.250    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:39:01.250    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980506-101416-217_L1C_053-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/6/SPOT2-HRV2-XS_19980506-101416-217_L1C_053-263-0_C_V1-0/31TGJ/FSC_19980506T101416_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/6/SPOT2-HRV2-XS_19980506-101416-217_L1C_053-263-0_C_V1-0/32TLP/FSC_19980506T101416_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/05/06/SPOT2-HRV1-XS_19980506-101358-509_L1C_054-261-0_D_V1-0/SPOT2-HRV1-XS_19980506-101358-509_L1C_054-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980506-101358-509_L1C_054-261-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980506-101358-509_L1C_054-261-0_D_V1-0.zip
run script
2024-01-16T17:39:03.987    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:03.988    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980506-101358-509_L1C_054-261-0_D_V1-0.zip
2024-01-16T17:39:03.988    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:39:03.988    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:39:03.988    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:03.989    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:39:03.989    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:39:03.989    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:39:03.989    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:39:03.989    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980506-101358-509_L1C_054-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/6/SPOT2-HRV1-XS_19980506-101358-509_L1C_054-261-0_C_V1-0/31TGJ/FSC_19980506T101358_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/6/SPOT2-HRV1-XS_19980506-101358-509_L1C_054-261-0_C_V1-0/31TGK/FSC_19980506T101358_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/6/SPOT2-HRV1-XS_19980506-101358-509_L1C_054-261-0_C_V1-0/32TLP/FSC_19980506T101358_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/6/SPOT2-HRV1-XS_19980506-101358-509_L1C_054-261-0_C_V1-0/32TLQ/FSC_19980506T101358_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/05/06/SPOT2-HRV1-XS_19980506-101406-769_L1C_054-262-0_D_V1-0/SPOT2-HRV1-XS_19980506-101406-769_L1C_054-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980506-101406-769_L1C_054-262-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980506-101406-769_L1C_054-262-0_D_V1-0.zip
run script
2024-01-16T17:39:07.942    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:07.943    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980506-101406-769_L1C_054-262-0_D_V1-0.zip
2024-01-16T17:39:07.943    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:39:07.943    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:39:07.943    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:07.943    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:39:07.943    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:39:07.943    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:39:07.943    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:39:07.943    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980506-101406-769_L1C_054-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/6/SPOT2-HRV1-XS_19980506-101406-769_L1C_054-262-0_C_V1-0/31TGJ/FSC_19980506T101406_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/6/SPOT2-HRV1-XS_19980506-101406-769_L1C_054-262-0_C_V1-0/32TLP/FSC_19980506T101406_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/08/06/SPOT2-HRV1-XS_19980806-104605-592_L1C_052-259-8_D_V1-0/SPOT2-HRV1-XS_19980806-104605-592_L1C_052-259-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980806-104605-592_L1C_052-259-8_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980806-104605-592_L1C_052-259-8_D_V1-0.zip
run script
2024-01-16T17:39:11.050    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:11.051    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980806-104605-592_L1C_052-259-8_D_V1-0.zip
2024-01-16T17:39:11.051    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:39:11.051    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:39:11.051    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:11.051    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:39:11.051    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:39:11.051    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:39:11.051    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:39:11.051    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980806-104605-592_L1C_052-259-8_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/6/SPOT2-HRV1-XS_19980806-104605-592_L1C_052-259-8_C_V1-0/31TGK/FSC_19980806T104605_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/6/SPOT2-HRV1-XS_19980806-104605-592_L1C_052-259-8_C_V1-0/31TGL/FSC_19980806T104605_SPOT2_31TGL
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/6/SPOT2-HRV1-XS_19980806-104605-592_L1C_052-259-8_C_V1-0/32TLQ/FSC_19980806T104605_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/08/06/SPOT2-HRV1-XS_19980806-104606-756_L1C_052-260-0_D_V1-0/SPOT2-HRV1-XS_19980806-104606-756_L1C_052-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980806-104606-756_L1C_052-260-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980806-104606-756_L1C_052-260-0_D_V1-0.zip
run script
2024-01-16T17:39:15.721    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:15.722    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980806-104606-756_L1C_052-260-0_D_V1-0.zip
2024-01-16T17:39:15.722    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:39:15.722    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:39:15.722    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:15.722    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:39:15.722    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:39:15.723    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:39:15.723    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:39:15.723    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980806-104606-756_L1C_052-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/6/SPOT2-HRV1-XS_19980806-104606-756_L1C_052-260-0_C_V1-0/31TGK/FSC_19980806T104606_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/6/SPOT2-HRV1-XS_19980806-104606-756_L1C_052-260-0_C_V1-0/32TLQ/FSC_19980806T104606_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/08/06/SPOT2-HRV1-XS_19980806-104615-145_L1C_052-261-0_D_V1-0/SPOT2-HRV1-XS_19980806-104615-145_L1C_052-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980806-104615-145_L1C_052-261-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980806-104615-145_L1C_052-261-0_D_V1-0.zip
run script
2024-01-16T17:39:20.088    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:20.089    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980806-104615-145_L1C_052-261-0_D_V1-0.zip
2024-01-16T17:39:20.089    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:39:20.089    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:39:20.089    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:20.089    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:39:20.089    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:39:20.089    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:39:20.089    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:39:20.089    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980806-104615-145_L1C_052-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/6/SPOT2-HRV1-XS_19980806-104615-145_L1C_052-261-0_C_V1-0/31TGJ/FSC_19980806T104615_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/6/SPOT2-HRV1-XS_19980806-104615-145_L1C_052-261-0_C_V1-0/31TGK/FSC_19980806T104615_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/6/SPOT2-HRV1-XS_19980806-104615-145_L1C_052-261-0_C_V1-0/32TLP/FSC_19980806T104615_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/6/SPOT2-HRV1-XS_19980806-104615-145_L1C_052-261-0_C_V1-0/32TLQ/FSC_19980806T104615_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/08/06/SPOT2-HRV1-XS_19980806-104623-541_L1C_052-262-0_D_V1-0/SPOT2-HRV1-XS_19980806-104623-541_L1C_052-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980806-104623-541_L1C_052-262-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980806-104623-541_L1C_052-262-0_D_V1-0.zip
run script
2024-01-16T17:39:23.450    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:23.451    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980806-104623-541_L1C_052-262-0_D_V1-0.zip
2024-01-16T17:39:23.451    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:39:23.452    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:39:23.452    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:23.452    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:39:23.452    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:39:23.452    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:39:23.452    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:39:23.452    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980806-104623-541_L1C_052-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/6/SPOT2-HRV1-XS_19980806-104623-541_L1C_052-262-0_C_V1-0/31TGJ/FSC_19980806T104623_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/6/SPOT2-HRV1-XS_19980806-104623-541_L1C_052-262-0_C_V1-0/32TLP/FSC_19980806T104623_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/06/16/SPOT2-HRV1-XS_19980616-102627-871_L1C_052-262-7_D_V1-0/SPOT2-HRV1-XS_19980616-102627-871_L1C_052-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980616-102627-871_L1C_052-262-7_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980616-102627-871_L1C_052-262-7_D_V1-0.zip
run script
2024-01-16T17:39:26.330    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:26.331    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980616-102627-871_L1C_052-262-7_D_V1-0.zip
2024-01-16T17:39:26.331    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:39:26.331    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:39:26.331    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:26.331    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:39:26.332    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:39:26.332    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:39:26.332    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:39:26.332    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980616-102627-871_L1C_052-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/16/SPOT2-HRV1-XS_19980616-102627-871_L1C_052-262-7_C_V1-0/31TGJ/FSC_19980616T102627_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/16/SPOT2-HRV1-XS_19980616-102627-871_L1C_052-262-7_C_V1-0/32TLP/FSC_19980616T102627_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/09/12/SPOT2-HRV1-XS_19980912-103525-641_L1C_052-263-0_D_V1-0/SPOT2-HRV1-XS_19980912-103525-641_L1C_052-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980912-103525-641_L1C_052-263-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980912-103525-641_L1C_052-263-0_D_V1-0.zip
run script
2024-01-16T17:39:29.967    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:29.968    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980912-103525-641_L1C_052-263-0_D_V1-0.zip
2024-01-16T17:39:29.968    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:39:29.968    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:39:29.968    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:29.968    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:39:29.968    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:39:29.968    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:39:29.968    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:39:29.969    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980912-103525-641_L1C_052-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/9/12/SPOT2-HRV1-XS_19980912-103525-641_L1C_052-263-0_C_V1-0/31TGJ/FSC_19980912T103525_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/9/12/SPOT2-HRV1-XS_19980912-103525-641_L1C_052-263-0_C_V1-0/32TLP/FSC_19980912T103525_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/05/16/SPOT2-HRV1-XS_19980516-102138-291_L1C_053-259-0_D_V1-0/SPOT2-HRV1-XS_19980516-102138-291_L1C_053-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980516-102138-291_L1C_053-259-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980516-102138-291_L1C_053-259-0_D_V1-0.zip
run script
2024-01-16T17:39:35.899    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:35.900    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980516-102138-291_L1C_053-259-0_D_V1-0.zip
2024-01-16T17:39:35.900    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:39:35.900    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:39:35.900    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:35.900    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:39:35.900    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:39:35.900    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:39:35.900    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:39:35.901    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980516-102138-291_L1C_053-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/16/SPOT2-HRV1-XS_19980516-102138-291_L1C_053-259-0_C_V1-0/31TGK/FSC_19980516T102138_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/16/SPOT2-HRV1-XS_19980516-102138-291_L1C_053-259-0_C_V1-0/31TGL/FSC_19980516T102138_SPOT2_31TGL
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/16/SPOT2-HRV1-XS_19980516-102138-291_L1C_053-259-0_C_V1-0/32TLQ/FSC_19980516T102138_SPOT2_32TLQ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/16/SPOT2-HRV1-XS_19980516-102138-291_L1C_053-259-0_C_V1-0/32TLR/FSC_19980516T102138_SPOT2_32TLR
muscate/SPOTWORLDHERITAGE/1998/05/16/SPOT2-HRV1-XS_19980516-102146-548_L1C_053-260-0_D_V1-0/SPOT2-HRV1-XS_19980516-102146-548_L1C_053-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980516-102146-548_L1C_053-260-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980516-102146-548_L1C_053-260-0_D_V1-0.zip
run script
2024-01-16T17:39:39.410    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:39.411    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980516-102146-548_L1C_053-260-0_D_V1-0.zip
2024-01-16T17:39:39.411    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:39:39.411    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:39:39.411    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:39.411    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:39:39.411    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:39:39.411    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:39:39.411    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:39:39.411    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980516-102146-548_L1C_053-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/16/SPOT2-HRV1-XS_19980516-102146-548_L1C_053-260-0_C_V1-0/31TGK/FSC_19980516T102146_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/16/SPOT2-HRV1-XS_19980516-102146-548_L1C_053-260-0_C_V1-0/32TLQ/FSC_19980516T102146_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/05/16/SPOT2-HRV1-XS_19980516-102154-811_L1C_053-261-0_D_V1-0/SPOT2-HRV1-XS_19980516-102154-811_L1C_053-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980516-102154-811_L1C_053-261-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980516-102154-811_L1C_053-261-0_D_V1-0.zip
run script
2024-01-16T17:39:42.444    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:42.446    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980516-102154-811_L1C_053-261-0_D_V1-0.zip
2024-01-16T17:39:42.446    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:39:42.446    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:39:42.446    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:42.446    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:39:42.446    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:39:42.446    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:39:42.446    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:39:42.446    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980516-102154-811_L1C_053-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/16/SPOT2-HRV1-XS_19980516-102154-811_L1C_053-261-0_C_V1-0/31TGJ/FSC_19980516T102154_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/16/SPOT2-HRV1-XS_19980516-102154-811_L1C_053-261-0_C_V1-0/31TGK/FSC_19980516T102154_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/16/SPOT2-HRV1-XS_19980516-102154-811_L1C_053-261-0_C_V1-0/32TLP/FSC_19980516T102154_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/16/SPOT2-HRV1-XS_19980516-102154-811_L1C_053-261-0_C_V1-0/32TLQ/FSC_19980516T102154_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/05/16/SPOT2-HRV1-XS_19980516-102202-030_L1C_053-261-8_D_V1-0/SPOT2-HRV1-XS_19980516-102202-030_L1C_053-261-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980516-102202-030_L1C_053-261-8_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980516-102202-030_L1C_053-261-8_D_V1-0.zip
run script
2024-01-16T17:39:45.419    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:45.421    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980516-102202-030_L1C_053-261-8_D_V1-0.zip
2024-01-16T17:39:45.421    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:39:45.421    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:39:45.421    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:45.421    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:39:45.421    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:39:45.421    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:39:45.421    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:39:45.421    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980516-102202-030_L1C_053-261-8_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/16/SPOT2-HRV1-XS_19980516-102202-030_L1C_053-261-8_C_V1-0/31TGJ/FSC_19980516T102202_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/16/SPOT2-HRV1-XS_19980516-102202-030_L1C_053-261-8_C_V1-0/32TLP/FSC_19980516T102202_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/08/22/SPOT2-HRV1-XS_19980822-103833-043_L1C_053-260-0_D_V1-0/SPOT2-HRV1-XS_19980822-103833-043_L1C_053-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980822-103833-043_L1C_053-260-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980822-103833-043_L1C_053-260-0_D_V1-0.zip
run script
2024-01-16T17:39:48.504    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:48.505    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980822-103833-043_L1C_053-260-0_D_V1-0.zip
2024-01-16T17:39:48.505    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:39:48.505    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:39:48.505    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:48.505    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:39:48.506    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:39:48.506    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:39:48.506    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:39:48.506    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980822-103833-043_L1C_053-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/22/SPOT2-HRV1-XS_19980822-103833-043_L1C_053-260-0_C_V1-0/31TGK/FSC_19980822T103833_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/22/SPOT2-HRV1-XS_19980822-103833-043_L1C_053-260-0_C_V1-0/32TLQ/FSC_19980822T103833_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/08/22/SPOT2-HRV1-XS_19980822-103834-847_L1C_053-260-2_D_V1-0/SPOT2-HRV1-XS_19980822-103834-847_L1C_053-260-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980822-103834-847_L1C_053-260-2_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980822-103834-847_L1C_053-260-2_D_V1-0.zip
run script
2024-01-16T17:39:53.178    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:53.179    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980822-103834-847_L1C_053-260-2_D_V1-0.zip
2024-01-16T17:39:53.179    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:39:53.179    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:39:53.179    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:53.179    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:39:53.180    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:39:53.180    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:39:53.180    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:39:53.180    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T17:39:54.940    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1 x 234). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980822-103834-847_L1C_053-260-2_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/22/SPOT2-HRV1-XS_19980822-103834-847_L1C_053-260-2_C_V1-0/31TGK/FSC_19980822T103834_SPOT2_31TGK
TOTO
muscate/SPOTWORLDHERITAGE/1998/08/22/SPOT2-HRV1-XS_19980822-103851-545_L1C_053-262-2_D_V1-0/SPOT2-HRV1-XS_19980822-103851-545_L1C_053-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980822-103851-545_L1C_053-262-2_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980822-103851-545_L1C_053-262-2_D_V1-0.zip
run script
2024-01-16T17:39:57.791    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:57.792    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980822-103851-545_L1C_053-262-2_D_V1-0.zip
2024-01-16T17:39:57.792    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:39:57.792    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:39:57.792    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:39:57.792    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:39:57.793    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:39:57.793    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:39:57.793    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:39:57.793    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980822-103851-545_L1C_053-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/22/SPOT2-HRV1-XS_19980822-103851-545_L1C_053-262-2_C_V1-0/31TGJ/FSC_19980822T103851_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/22/SPOT2-HRV1-XS_19980822-103851-545_L1C_053-262-2_C_V1-0/32TLP/FSC_19980822T103851_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/08/22/SPOT2-HRV1-XS_19980822-103856-057_L1C_053-262-7_D_V1-0/SPOT2-HRV1-XS_19980822-103856-057_L1C_053-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980822-103856-057_L1C_053-262-7_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980822-103856-057_L1C_053-262-7_D_V1-0.zip
run script
2024-01-16T17:40:00.539    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:00.540    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980822-103856-057_L1C_053-262-7_D_V1-0.zip
2024-01-16T17:40:00.540    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:40:00.540    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:40:00.540    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:00.540    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:40:00.541    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:40:00.541    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:40:00.541    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:40:00.541    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980822-103856-057_L1C_053-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/22/SPOT2-HRV1-XS_19980822-103856-057_L1C_053-262-7_C_V1-0/31TGJ/FSC_19980822T103856_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/22/SPOT2-HRV1-XS_19980822-103856-057_L1C_053-262-7_C_V1-0/32TLP/FSC_19980822T103856_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/09/17/SPOT2-HRV1-XS_19980917-103854-478_L1C_053-260-0_D_V1-0/SPOT2-HRV1-XS_19980917-103854-478_L1C_053-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980917-103854-478_L1C_053-260-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980917-103854-478_L1C_053-260-0_D_V1-0.zip
run script
2024-01-16T17:40:03.788    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:03.789    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980917-103854-478_L1C_053-260-0_D_V1-0.zip
2024-01-16T17:40:03.789    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:40:03.792    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:40:03.792    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:03.792    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:40:03.792    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:40:03.792    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:40:03.792    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:40:03.792    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980917-103854-478_L1C_053-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/9/17/SPOT2-HRV1-XS_19980917-103854-478_L1C_053-260-0_C_V1-0/31TGK/FSC_19980917T103854_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/9/17/SPOT2-HRV1-XS_19980917-103854-478_L1C_053-260-0_C_V1-0/32TLQ/FSC_19980917T103854_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/09/17/SPOT2-HRV1-XS_19980917-103902-819_L1C_053-261-0_D_V1-0/SPOT2-HRV1-XS_19980917-103902-819_L1C_053-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980917-103902-819_L1C_053-261-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980917-103902-819_L1C_053-261-0_D_V1-0.zip
run script
2024-01-16T17:40:06.844    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:06.845    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980917-103902-819_L1C_053-261-0_D_V1-0.zip
2024-01-16T17:40:06.845    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:40:06.845    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:40:06.846    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:06.846    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:40:06.846    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:40:06.846    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:40:06.846    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:40:06.846    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980917-103902-819_L1C_053-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/9/17/SPOT2-HRV1-XS_19980917-103902-819_L1C_053-261-0_C_V1-0/31TGJ/FSC_19980917T103902_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/9/17/SPOT2-HRV1-XS_19980917-103902-819_L1C_053-261-0_C_V1-0/31TGK/FSC_19980917T103902_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/9/17/SPOT2-HRV1-XS_19980917-103902-819_L1C_053-261-0_C_V1-0/32TLP/FSC_19980917T103902_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/9/17/SPOT2-HRV1-XS_19980917-103902-819_L1C_053-261-0_C_V1-0/32TLQ/FSC_19980917T103902_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/09/17/SPOT2-HRV1-XS_19980917-103911-170_L1C_053-262-0_D_V1-0/SPOT2-HRV1-XS_19980917-103911-170_L1C_053-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980917-103911-170_L1C_053-262-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980917-103911-170_L1C_053-262-0_D_V1-0.zip
run script
2024-01-16T17:40:09.723    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:09.724    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980917-103911-170_L1C_053-262-0_D_V1-0.zip
2024-01-16T17:40:09.724    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:40:09.724    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:40:09.724    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:09.724    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:40:09.724    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:40:09.724    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:40:09.725    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:40:09.725    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980917-103911-170_L1C_053-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/9/17/SPOT2-HRV1-XS_19980917-103911-170_L1C_053-262-0_C_V1-0/31TGJ/FSC_19980917T103911_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/9/17/SPOT2-HRV1-XS_19980917-103911-170_L1C_053-262-0_C_V1-0/32TLP/FSC_19980917T103911_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/09/17/SPOT2-HRV1-XS_19980917-103914-779_L1C_053-262-4_D_V1-0/SPOT2-HRV1-XS_19980917-103914-779_L1C_053-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980917-103914-779_L1C_053-262-4_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980917-103914-779_L1C_053-262-4_D_V1-0.zip
run script
2024-01-16T17:40:12.498    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:12.499    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980917-103914-779_L1C_053-262-4_D_V1-0.zip
2024-01-16T17:40:12.499    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:40:12.499    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:40:12.499    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:12.499    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:40:12.499    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:40:12.499    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:40:12.499    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:40:12.499    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980917-103914-779_L1C_053-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/9/17/SPOT2-HRV1-XS_19980917-103914-779_L1C_053-262-4_C_V1-0/31TGJ/FSC_19980917T103914_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/9/17/SPOT2-HRV1-XS_19980917-103914-779_L1C_053-262-4_C_V1-0/32TLP/FSC_19980917T103914_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/08/17/SPOT2-HRV2-XS_19980817-103445-727_L1C_053-261-0_D_V1-0/SPOT2-HRV2-XS_19980817-103445-727_L1C_053-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980817-103445-727_L1C_053-261-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980817-103445-727_L1C_053-261-0_D_V1-0.zip
run script
2024-01-16T17:40:15.739    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:15.740    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980817-103445-727_L1C_053-261-0_D_V1-0.zip
2024-01-16T17:40:15.740    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:40:15.740    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:40:15.740    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:15.740    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:40:15.740    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:40:15.740    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:40:15.740    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:40:15.740    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980817-103445-727_L1C_053-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/17/SPOT2-HRV2-XS_19980817-103445-727_L1C_053-261-0_C_V1-0/31TGJ/FSC_19980817T103445_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/17/SPOT2-HRV2-XS_19980817-103445-727_L1C_053-261-0_C_V1-0/31TGK/FSC_19980817T103445_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/17/SPOT2-HRV2-XS_19980817-103445-727_L1C_053-261-0_C_V1-0/32TLP/FSC_19980817T103445_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/17/SPOT2-HRV2-XS_19980817-103445-727_L1C_053-261-0_C_V1-0/32TLQ/FSC_19980817T103445_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/08/17/SPOT2-HRV2-XS_19980817-103454-059_L1C_053-262-0_D_V1-0/SPOT2-HRV2-XS_19980817-103454-059_L1C_053-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980817-103454-059_L1C_053-262-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980817-103454-059_L1C_053-262-0_D_V1-0.zip
run script
2024-01-16T17:40:18.675    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:18.676    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980817-103454-059_L1C_053-262-0_D_V1-0.zip
2024-01-16T17:40:18.676    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:40:18.676    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:40:18.676    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:18.676    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:40:18.676    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:40:18.676    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:40:18.676    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:40:18.676    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980817-103454-059_L1C_053-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/17/SPOT2-HRV2-XS_19980817-103454-059_L1C_053-262-0_C_V1-0/31TGJ/FSC_19980817T103454_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/17/SPOT2-HRV2-XS_19980817-103454-059_L1C_053-262-0_C_V1-0/32TLP/FSC_19980817T103454_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/07/21/SPOT2-HRV2-XS_19980721-105353-150_L1C_053-262-0_D_V1-0/SPOT2-HRV2-XS_19980721-105353-150_L1C_053-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980721-105353-150_L1C_053-262-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980721-105353-150_L1C_053-262-0_D_V1-0.zip
run script
2024-01-16T17:40:21.804    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:21.805    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980721-105353-150_L1C_053-262-0_D_V1-0.zip
2024-01-16T17:40:21.805    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:40:21.805    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:40:21.806    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:21.806    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:40:21.806    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:40:21.806    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:40:21.806    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:40:21.806    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980721-105353-150_L1C_053-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/7/21/SPOT2-HRV2-XS_19980721-105353-150_L1C_053-262-0_C_V1-0/31TGJ/FSC_19980721T105353_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/7/21/SPOT2-HRV2-XS_19980721-105353-150_L1C_053-262-0_C_V1-0/32TLP/FSC_19980721T105353_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/07/21/SPOT2-HRV2-XS_19980721-105400-369_L1C_053-262-8_D_V1-0/SPOT2-HRV2-XS_19980721-105400-369_L1C_053-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980721-105400-369_L1C_053-262-8_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980721-105400-369_L1C_053-262-8_D_V1-0.zip
run script
2024-01-16T17:40:24.883    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:24.884    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980721-105400-369_L1C_053-262-8_D_V1-0.zip
2024-01-16T17:40:24.884    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:40:24.884    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:40:24.884    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:24.884    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:40:24.884    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:40:24.885    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:40:24.885    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:40:24.885    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980721-105400-369_L1C_053-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/7/21/SPOT2-HRV2-XS_19980721-105400-369_L1C_053-262-8_C_V1-0/31TGJ/FSC_19980721T105400_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/7/21/SPOT2-HRV2-XS_19980721-105400-369_L1C_053-262-8_C_V1-0/32TLP/FSC_19980721T105400_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/06/01/SPOT2-HRV2-XS_19980601-101421-182_L1C_054-260-6_D_V1-0/SPOT2-HRV2-XS_19980601-101421-182_L1C_054-260-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980601-101421-182_L1C_054-260-6_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980601-101421-182_L1C_054-260-6_D_V1-0.zip
run script
2024-01-16T17:40:28.150    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:28.151    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980601-101421-182_L1C_054-260-6_D_V1-0.zip
2024-01-16T17:40:28.151    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:40:28.151    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:40:28.151    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:28.151    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:40:28.151    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:40:28.151    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:40:28.151    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:40:28.152    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980601-101421-182_L1C_054-260-6_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/1/SPOT2-HRV2-XS_19980601-101421-182_L1C_054-260-6_C_V1-0/32TLP/FSC_19980601T101421_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/1/SPOT2-HRV2-XS_19980601-101421-182_L1C_054-260-6_C_V1-0/32TLQ/FSC_19980601T101421_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/06/01/SPOT2-HRV2-XS_19980601-101424-016_L1C_054-261-0_D_V1-0/SPOT2-HRV2-XS_19980601-101424-016_L1C_054-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980601-101424-016_L1C_054-261-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980601-101424-016_L1C_054-261-0_D_V1-0.zip
run script
2024-01-16T17:40:31.386    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:31.387    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980601-101424-016_L1C_054-261-0_D_V1-0.zip
2024-01-16T17:40:31.387    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:40:31.387    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:40:31.387    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:31.387    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:40:31.387    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:40:31.388    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:40:31.388    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:40:31.388    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980601-101424-016_L1C_054-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/1/SPOT2-HRV2-XS_19980601-101424-016_L1C_054-261-0_C_V1-0/32TLP/FSC_19980601T101424_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/1/SPOT2-HRV2-XS_19980601-101424-016_L1C_054-261-0_C_V1-0/32TLQ/FSC_19980601T101424_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/06/01/SPOT2-HRV2-XS_19980601-101426-723_L1C_054-261-3_D_V1-0/SPOT2-HRV2-XS_19980601-101426-723_L1C_054-261-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980601-101426-723_L1C_054-261-3_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980601-101426-723_L1C_054-261-3_D_V1-0.zip
run script
2024-01-16T17:40:34.419    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:34.420    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980601-101426-723_L1C_054-261-3_D_V1-0.zip
2024-01-16T17:40:34.420    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:40:34.420    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:40:34.420    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:34.420    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:40:34.420    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:40:34.421    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:40:34.421    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:40:34.421    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T17:40:36.849    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (346 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980601-101426-723_L1C_054-261-3_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/1998/07/16/SPOT2-HRV1-XS_19980716-104946-292_L1C_054-260-8_D_V1-0/SPOT2-HRV1-XS_19980716-104946-292_L1C_054-260-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980716-104946-292_L1C_054-260-8_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980716-104946-292_L1C_054-260-8_D_V1-0.zip
run script
2024-01-16T17:40:39.950    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:39.951    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980716-104946-292_L1C_054-260-8_D_V1-0.zip
2024-01-16T17:40:39.951    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:40:39.951    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:40:39.951    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:39.951    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:40:39.951    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:40:39.951    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:40:39.952    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:40:39.952    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980716-104946-292_L1C_054-260-8_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/7/16/SPOT2-HRV1-XS_19980716-104946-292_L1C_054-260-8_C_V1-0/31TGJ/FSC_19980716T104946_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/7/16/SPOT2-HRV1-XS_19980716-104946-292_L1C_054-260-8_C_V1-0/31TGK/FSC_19980716T104946_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/7/16/SPOT2-HRV1-XS_19980716-104946-292_L1C_054-260-8_C_V1-0/32TLP/FSC_19980716T104946_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/7/16/SPOT2-HRV1-XS_19980716-104946-292_L1C_054-260-8_C_V1-0/32TLQ/FSC_19980716T104946_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/07/16/SPOT2-HRV1-XS_19980716-104948-413_L1C_054-261-1_D_V1-0/SPOT2-HRV1-XS_19980716-104948-413_L1C_054-261-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980716-104948-413_L1C_054-261-1_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980716-104948-413_L1C_054-261-1_D_V1-0.zip
run script
2024-01-16T17:40:43.105    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:43.106    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980716-104948-413_L1C_054-261-1_D_V1-0.zip
2024-01-16T17:40:43.106    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:40:43.106    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:40:43.106    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:43.106    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:40:43.106    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:40:43.106    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:40:43.106    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:40:43.107    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980716-104948-413_L1C_054-261-1_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/7/16/SPOT2-HRV1-XS_19980716-104948-413_L1C_054-261-1_C_V1-0/31TGJ/FSC_19980716T104948_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/7/16/SPOT2-HRV1-XS_19980716-104948-413_L1C_054-261-1_C_V1-0/31TGK/FSC_19980716T104948_SPOT2_31TGK
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/7/16/SPOT2-HRV1-XS_19980716-104948-413_L1C_054-261-1_C_V1-0/32TLP/FSC_19980716T104948_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/7/16/SPOT2-HRV1-XS_19980716-104948-413_L1C_054-261-1_C_V1-0/32TLQ/FSC_19980716T104948_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/01/06/SPOT2-HRV1-XS_19980106-102252-667_L1C_054-261-7_D_V1-0/SPOT2-HRV1-XS_19980106-102252-667_L1C_054-261-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980106-102252-667_L1C_054-261-7_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980106-102252-667_L1C_054-261-7_D_V1-0.zip
run script
2024-01-16T17:40:46.253    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:46.254    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980106-102252-667_L1C_054-261-7_D_V1-0.zip
2024-01-16T17:40:46.255    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:40:46.255    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:40:46.255    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:46.255    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:40:46.255    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:40:46.255    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:40:46.255    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:40:46.255    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T17:40:48.005    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 64). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980106-102252-667_L1C_054-261-7_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/1/6/SPOT2-HRV1-XS_19980106-102252-667_L1C_054-261-7_C_V1-0/31TGJ/FSC_19980106T102252_SPOT2_31TGJ
TOTO
muscate/SPOTWORLDHERITAGE/1998/01/06/SPOT2-HRV1-XS_19980106-102254-631_L1C_054-262-0_D_V1-0/SPOT2-HRV1-XS_19980106-102254-631_L1C_054-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980106-102254-631_L1C_054-262-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980106-102254-631_L1C_054-262-0_D_V1-0.zip
run script
2024-01-16T17:40:50.858    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:50.859    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980106-102254-631_L1C_054-262-0_D_V1-0.zip
2024-01-16T17:40:50.859    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:40:50.859    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:40:50.860    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:50.860    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:40:50.860    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:40:50.860    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:40:50.860    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:40:50.860    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980106-102254-631_L1C_054-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/1/6/SPOT2-HRV1-XS_19980106-102254-631_L1C_054-262-0_C_V1-0/31TGJ/FSC_19980106T102254_SPOT2_31TGJ
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/1/6/SPOT2-HRV1-XS_19980106-102254-631_L1C_054-262-0_C_V1-0/32TLP/FSC_19980106T102254_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/01/22/SPOT2-HRV2-XS_19980122-101457-229_L1C_054-261-0_D_V1-0/SPOT2-HRV2-XS_19980122-101457-229_L1C_054-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980122-101457-229_L1C_054-261-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980122-101457-229_L1C_054-261-0_D_V1-0.zip
run script
2024-01-16T17:40:54.033    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:54.034    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980122-101457-229_L1C_054-261-0_D_V1-0.zip
2024-01-16T17:40:54.035    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:40:54.035    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:40:54.035    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:54.035    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:40:54.035    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:40:54.035    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:40:54.035    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:40:54.035    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980122-101457-229_L1C_054-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/1/22/SPOT2-HRV2-XS_19980122-101457-229_L1C_054-261-0_C_V1-0/32TLP/FSC_19980122T101457_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/1/22/SPOT2-HRV2-XS_19980122-101457-229_L1C_054-261-0_C_V1-0/32TLQ/FSC_19980122T101457_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/01/22/SPOT2-HRV2-XS_19980122-101459-034_L1C_054-261-2_D_V1-0/SPOT2-HRV2-XS_19980122-101459-034_L1C_054-261-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980122-101459-034_L1C_054-261-2_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980122-101459-034_L1C_054-261-2_D_V1-0.zip
run script
2024-01-16T17:40:57.278    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:57.279    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980122-101459-034_L1C_054-261-2_D_V1-0.zip
2024-01-16T17:40:57.279    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:40:57.280    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:40:57.280    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:40:57.280    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:40:57.280    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:40:57.280    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:40:57.280    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:40:57.280    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980122-101459-034_L1C_054-261-2_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/1/22/SPOT2-HRV2-XS_19980122-101459-034_L1C_054-261-2_C_V1-0/32TLP/FSC_19980122T101459_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/1/22/SPOT2-HRV2-XS_19980122-101459-034_L1C_054-261-2_C_V1-0/32TLQ/FSC_19980122T101459_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/02/05/SPOT2-HRV2-XS_19980205-104545-389_L1C_054-261-0_D_V1-0/SPOT2-HRV2-XS_19980205-104545-389_L1C_054-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980205-104545-389_L1C_054-261-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980205-104545-389_L1C_054-261-0_D_V1-0.zip
run script
2024-01-16T17:41:00.779    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:00.780    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980205-104545-389_L1C_054-261-0_D_V1-0.zip
2024-01-16T17:41:00.780    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:41:00.781    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:41:00.781    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:00.781    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:41:00.781    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:41:00.781    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:41:00.781    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:41:00.781    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980205-104545-389_L1C_054-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/2/5/SPOT2-HRV2-XS_19980205-104545-389_L1C_054-261-0_C_V1-0/32TLP/FSC_19980205T104545_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/2/5/SPOT2-HRV2-XS_19980205-104545-389_L1C_054-261-0_C_V1-0/32TLQ/FSC_19980205T104545_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/02/05/SPOT2-HRV2-XS_19980205-104551-706_L1C_054-261-7_D_V1-0/SPOT2-HRV2-XS_19980205-104551-706_L1C_054-261-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980205-104551-706_L1C_054-261-7_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980205-104551-706_L1C_054-261-7_D_V1-0.zip
run script
2024-01-16T17:41:03.747    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:03.748    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980205-104551-706_L1C_054-261-7_D_V1-0.zip
2024-01-16T17:41:03.748    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:41:03.748    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:41:03.749    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:03.749    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:41:03.749    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:41:03.749    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:41:03.749    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:41:03.749    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980205-104551-706_L1C_054-261-7_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/2/5/SPOT2-HRV2-XS_19980205-104551-706_L1C_054-261-7_C_V1-0/32TLP/FSC_19980205T104551_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/05/11/SPOT2-HRV2-XS_19980511-101756-063_L1C_054-261-0_D_V1-0/SPOT2-HRV2-XS_19980511-101756-063_L1C_054-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980511-101756-063_L1C_054-261-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980511-101756-063_L1C_054-261-0_D_V1-0.zip
run script
2024-01-16T17:41:06.847    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:06.848    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980511-101756-063_L1C_054-261-0_D_V1-0.zip
2024-01-16T17:41:06.849    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:41:06.849    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:41:06.849    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:06.849    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:41:06.849    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:41:06.849    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:41:06.849    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:41:06.849    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980511-101756-063_L1C_054-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/11/SPOT2-HRV2-XS_19980511-101756-063_L1C_054-261-0_C_V1-0/32TLP/FSC_19980511T101756_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/11/SPOT2-HRV2-XS_19980511-101756-063_L1C_054-261-0_C_V1-0/32TLQ/FSC_19980511T101756_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/05/11/SPOT2-HRV2-XS_19980511-101757-868_L1C_054-261-2_D_V1-0/SPOT2-HRV2-XS_19980511-101757-868_L1C_054-261-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980511-101757-868_L1C_054-261-2_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980511-101757-868_L1C_054-261-2_D_V1-0.zip
run script
2024-01-16T17:41:09.828    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:09.830    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980511-101757-868_L1C_054-261-2_D_V1-0.zip
2024-01-16T17:41:09.830    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:41:09.830    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:41:09.830    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:09.830    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:41:09.830    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:41:09.830    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:41:09.830    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:41:09.830    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980511-101757-868_L1C_054-261-2_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/11/SPOT2-HRV2-XS_19980511-101757-868_L1C_054-261-2_C_V1-0/32TLP/FSC_19980511T101757_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/11/SPOT2-HRV2-XS_19980511-101757-868_L1C_054-261-2_C_V1-0/32TLQ/FSC_19980511T101757_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/05/11/SPOT2-HRV1-XS_19980511-101755-158_L1C_055-261-0_D_V1-0/SPOT2-HRV1-XS_19980511-101755-158_L1C_055-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980511-101755-158_L1C_055-261-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980511-101755-158_L1C_055-261-0_D_V1-0.zip
run script
2024-01-16T17:41:12.907    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:12.909    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980511-101755-158_L1C_055-261-0_D_V1-0.zip
2024-01-16T17:41:12.909    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:41:12.909    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:41:12.909    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:12.909    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:41:12.909    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:41:12.909    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:41:12.909    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:41:12.909    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980511-101755-158_L1C_055-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/11/SPOT2-HRV1-XS_19980511-101755-158_L1C_055-261-0_C_V1-0/32TLP/FSC_19980511T101755_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/11/SPOT2-HRV1-XS_19980511-101755-158_L1C_055-261-0_C_V1-0/32TLQ/FSC_19980511T101755_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/05/11/SPOT2-HRV1-XS_19980511-101757-865_L1C_055-261-3_D_V1-0/SPOT2-HRV1-XS_19980511-101757-865_L1C_055-261-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980511-101757-865_L1C_055-261-3_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980511-101757-865_L1C_055-261-3_D_V1-0.zip
run script
2024-01-16T17:41:16.058    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:16.059    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980511-101757-865_L1C_055-261-3_D_V1-0.zip
2024-01-16T17:41:16.060    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:41:16.060    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:41:16.060    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:16.060    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:41:16.060    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:41:16.060    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:41:16.060    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:41:16.060    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980511-101757-865_L1C_055-261-3_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/11/SPOT2-HRV1-XS_19980511-101757-865_L1C_055-261-3_C_V1-0/32TLP/FSC_19980511T101757_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/5/11/SPOT2-HRV1-XS_19980511-101757-865_L1C_055-261-3_C_V1-0/32TLQ/FSC_19980511T101757_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/06/21/SPOT2-HRV1-XS_19980621-103011-494_L1C_054-261-6_D_V1-0/SPOT2-HRV1-XS_19980621-103011-494_L1C_054-261-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980621-103011-494_L1C_054-261-6_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980621-103011-494_L1C_054-261-6_D_V1-0.zip
run script
2024-01-16T17:41:19.101    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:19.102    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980621-103011-494_L1C_054-261-6_D_V1-0.zip
2024-01-16T17:41:19.102    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:41:19.102    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:41:19.102    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:19.103    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:41:19.103    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:41:19.103    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:41:19.103    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:41:19.103    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980621-103011-494_L1C_054-261-6_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/21/SPOT2-HRV1-XS_19980621-103011-494_L1C_054-261-6_C_V1-0/32TLP/FSC_19980621T103011_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/06/21/SPOT2-HRV1-XS_19980621-103014-403_L1C_054-262-0_D_V1-0/SPOT2-HRV1-XS_19980621-103014-403_L1C_054-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980621-103014-403_L1C_054-262-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980621-103014-403_L1C_054-262-0_D_V1-0.zip
run script
2024-01-16T17:41:22.213    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:22.215    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980621-103014-403_L1C_054-262-0_D_V1-0.zip
2024-01-16T17:41:22.215    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:41:22.215    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:41:22.215    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:22.215    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:41:22.215    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:41:22.215    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:41:22.215    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:41:22.215    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980621-103014-403_L1C_054-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/21/SPOT2-HRV1-XS_19980621-103014-403_L1C_054-262-0_C_V1-0/32TLP/FSC_19980621T103014_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/06/21/SPOT2-HRV1-XS_19980621-103018-915_L1C_054-262-5_D_V1-0/SPOT2-HRV1-XS_19980621-103018-915_L1C_054-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980621-103018-915_L1C_054-262-5_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980621-103018-915_L1C_054-262-5_D_V1-0.zip
run script
2024-01-16T17:41:25.133    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:25.134    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980621-103018-915_L1C_054-262-5_D_V1-0.zip
2024-01-16T17:41:25.134    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:41:25.134    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:41:25.134    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:25.134    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:41:25.134    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:41:25.135    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:41:25.135    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:41:25.135    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980621-103018-915_L1C_054-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/21/SPOT2-HRV1-XS_19980621-103018-915_L1C_054-262-5_C_V1-0/32TLP/FSC_19980621T103018_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/07/22/SPOT2-HRV1-XS_19980722-103431-534_L1C_054-261-6_D_V1-0/SPOT2-HRV1-XS_19980722-103431-534_L1C_054-261-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980722-103431-534_L1C_054-261-6_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980722-103431-534_L1C_054-261-6_D_V1-0.zip
run script
2024-01-16T17:41:28.036    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:28.037    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980722-103431-534_L1C_054-261-6_D_V1-0.zip
2024-01-16T17:41:28.037    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:41:28.037    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:41:28.037    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:28.038    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:41:28.038    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:41:28.038    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:41:28.038    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:41:28.038    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T17:41:29.196    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (0 x 2972). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980722-103431-534_L1C_054-261-6_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/7/22/SPOT2-HRV1-XS_19980722-103431-534_L1C_054-261-6_C_V1-0/32TLP/FSC_19980722T103431_SPOT2_32TLP
TOTO
muscate/SPOTWORLDHERITAGE/1998/07/22/SPOT2-HRV1-XS_19980722-103434-470_L1C_054-262-0_D_V1-0/SPOT2-HRV1-XS_19980722-103434-470_L1C_054-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980722-103434-470_L1C_054-262-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980722-103434-470_L1C_054-262-0_D_V1-0.zip
run script
2024-01-16T17:41:32.033    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:32.034    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980722-103434-470_L1C_054-262-0_D_V1-0.zip
2024-01-16T17:41:32.034    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:41:32.034    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:41:32.034    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:32.034    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:41:32.034    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:41:32.034    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:41:32.034    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:41:32.034    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980722-103434-470_L1C_054-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/7/22/SPOT2-HRV1-XS_19980722-103434-470_L1C_054-262-0_C_V1-0/32TLP/FSC_19980722T103434_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/08/27/SPOT2-HRV1-XS_19980827-104244-809_L1C_054-261-9_D_V1-0/SPOT2-HRV1-XS_19980827-104244-809_L1C_054-261-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19980827-104244-809_L1C_054-261-9_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980827-104244-809_L1C_054-261-9_D_V1-0.zip
run script
2024-01-16T17:41:35.102    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:35.103    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980827-104244-809_L1C_054-261-9_D_V1-0.zip
2024-01-16T17:41:35.103    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:41:35.103    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:41:35.104    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:35.104    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:41:35.104    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:41:35.104    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:41:35.104    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:41:35.104    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19980827-104244-809_L1C_054-261-9_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/8/27/SPOT2-HRV1-XS_19980827-104244-809_L1C_054-261-9_C_V1-0/32TLP/FSC_19980827T104244_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/09/01/SPOT2-HRV2-XS_19980901-104632-379_L1C_054-261-0_D_V1-0/SPOT2-HRV2-XS_19980901-104632-379_L1C_054-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980901-104632-379_L1C_054-261-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980901-104632-379_L1C_054-261-0_D_V1-0.zip
run script
2024-01-16T17:41:37.954    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:37.955    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980901-104632-379_L1C_054-261-0_D_V1-0.zip
2024-01-16T17:41:37.955    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:41:37.955    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:41:37.955    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:37.955    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:41:37.955    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:41:37.955    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:41:37.955    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:41:37.956    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980901-104632-379_L1C_054-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/9/1/SPOT2-HRV2-XS_19980901-104632-379_L1C_054-261-0_C_V1-0/32TLP/FSC_19980901T104632_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/9/1/SPOT2-HRV2-XS_19980901-104632-379_L1C_054-261-0_C_V1-0/32TLQ/FSC_19980901T104632_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1998/09/01/SPOT2-HRV2-XS_19980901-104640-798_L1C_054-262-0_D_V1-0/SPOT2-HRV2-XS_19980901-104640-798_L1C_054-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980901-104640-798_L1C_054-262-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980901-104640-798_L1C_054-262-0_D_V1-0.zip
run script
2024-01-16T17:41:41.106    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:41.108    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980901-104640-798_L1C_054-262-0_D_V1-0.zip
2024-01-16T17:41:41.108    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:41:41.108    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:41:41.108    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:41.108    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:41:41.108    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:41:41.108    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:41:41.108    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:41:41.108    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980901-104640-798_L1C_054-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/9/1/SPOT2-HRV2-XS_19980901-104640-798_L1C_054-262-0_C_V1-0/32TLP/FSC_19980901T104640_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/06/05/SPOT2-HRV2-XS_19980605-103746-844_L1C_054-262-0_D_V1-0/SPOT2-HRV2-XS_19980605-103746-844_L1C_054-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980605-103746-844_L1C_054-262-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980605-103746-844_L1C_054-262-0_D_V1-0.zip
run script
2024-01-16T17:41:44.194    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:44.195    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980605-103746-844_L1C_054-262-0_D_V1-0.zip
2024-01-16T17:41:44.195    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:41:44.195    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:41:44.195    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:44.195    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:41:44.195    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:41:44.195    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:41:44.195    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:41:44.195    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980605-103746-844_L1C_054-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/5/SPOT2-HRV2-XS_19980605-103746-844_L1C_054-262-0_C_V1-0/32TLP/FSC_19980605T103746_SPOT2_32TLP
muscate/SPOTWORLDHERITAGE/1998/06/11/SPOT2-HRV2-XS_19980611-102213-226_L1C_055-260-7_D_V1-0/SPOT2-HRV2-XS_19980611-102213-226_L1C_055-260-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19980611-102213-226_L1C_055-260-7_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980611-102213-226_L1C_055-260-7_D_V1-0.zip
run script
2024-01-16T17:41:48.387    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:48.388    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980611-102213-226_L1C_055-260-7_D_V1-0.zip
2024-01-16T17:41:48.388    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:41:48.388    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:41:48.388    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:48.388    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:41:48.388    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:41:48.388    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:41:48.388    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:41:48.389    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19980611-102213-226_L1C_055-260-7_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/11/SPOT2-HRV2-XS_19980611-102213-226_L1C_055-260-7_C_V1-0/32TLP/FSC_19980611T102213_SPOT2_32TLP
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1998/6/11/SPOT2-HRV2-XS_19980611-102213-226_L1C_055-260-7_C_V1-0/32TLQ/FSC_19980611T102213_SPOT2_32TLQ
muscate/SPOTWORLDHERITAGE/1999/09/26/SPOT2-HRV1-XS_19990926-104802-555_L1C_046-263-0_D_V1-0/SPOT2-HRV1-XS_19990926-104802-555_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19990926-104802-555_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19990926-104802-555_L1C_046-263-0_D_V1-0.zip
run script
2024-01-16T17:41:51.747    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:51.748    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19990926-104802-555_L1C_046-263-0_D_V1-0.zip
2024-01-16T17:41:51.749    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:41:51.749    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:41:51.749    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:51.749    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:41:51.749    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:41:51.749    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:41:51.749    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:41:51.749    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19990926-104802-555_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/PYR/SPOT2/1999/9/26/SPOT2-HRV1-XS_19990926-104802-555_L1C_046-263-0_C_V1-0/31TDH/FSC_19990926T104802_SPOT2_31TDH
muscate/SPOTWORLDHERITAGE/1999/09/26/SPOT2-HRV1-XS_19990926-104804-360_L1C_046-263-2_D_V1-0/SPOT2-HRV1-XS_19990926-104804-360_L1C_046-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19990926-104804-360_L1C_046-263-2_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19990926-104804-360_L1C_046-263-2_D_V1-0.zip
run script
2024-01-16T17:41:54.883    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:54.884    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19990926-104804-360_L1C_046-263-2_D_V1-0.zip
2024-01-16T17:41:54.884    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:41:54.884    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:41:54.884    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:54.884    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:41:54.884    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:41:54.884    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:41:54.884    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:41:54.884    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19990926-104804-360_L1C_046-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/PYR/SPOT2/1999/9/26/SPOT2-HRV1-XS_19990926-104804-360_L1C_046-263-2_C_V1-0/31TDH/FSC_19990926T104804_SPOT2_31TDH
muscate/SPOTWORLDHERITAGE/1999/11/27/SPOT2-HRV2-XS_19991127-105513-053_L1C_046-263-0_D_V1-0/SPOT2-HRV2-XS_19991127-105513-053_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19991127-105513-053_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105513-053_L1C_046-263-0_D_V1-0.zip
run script
2024-01-16T17:41:57.611    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:57.612    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105513-053_L1C_046-263-0_D_V1-0.zip
2024-01-16T17:41:57.612    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:41:57.612    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:41:57.612    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:41:57.612    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:41:57.612    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:41:57.613    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:41:57.613    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:41:57.613    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105513-053_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/PYR/SPOT2/1999/11/27/SPOT2-HRV2-XS_19991127-105513-053_L1C_046-263-0_C_V1-0/31TDH/FSC_19991127T105513_SPOT2_31TDH
muscate/SPOTWORLDHERITAGE/1999/11/27/SPOT2-HRV1-XS_19991127-105401-559_L1C_047-254-6_D_V1-0/SPOT2-HRV1-XS_19991127-105401-559_L1C_047-254-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19991127-105401-559_L1C_047-254-6_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19991127-105401-559_L1C_047-254-6_D_V1-0.zip
run script
2024-01-16T17:42:00.574    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:00.576    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19991127-105401-559_L1C_047-254-6_D_V1-0.zip
2024-01-16T17:42:00.576    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:42:00.576    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:42:00.577    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:00.577    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:42:00.577    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:42:00.577    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:42:00.577    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:42:00.577    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19991127-105401-559_L1C_047-254-6_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1999/11/27/SPOT2-HRV1-XS_19991127-105401-559_L1C_047-254-6_C_V1-0/31TGM/FSC_19991127T105401_SPOT2_31TGM
muscate/SPOTWORLDHERITAGE/1999/11/27/SPOT2-HRV1-XS_19991127-105419-135_L1C_047-256-7_D_V1-0/SPOT2-HRV1-XS_19991127-105419-135_L1C_047-256-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19991127-105419-135_L1C_047-256-7_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19991127-105419-135_L1C_047-256-7_D_V1-0.zip
run script
2024-01-16T17:42:03.390    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:03.391    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19991127-105419-135_L1C_047-256-7_D_V1-0.zip
2024-01-16T17:42:03.391    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:42:03.392    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:42:03.392    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:03.392    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:42:03.392    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:42:03.392    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:42:03.392    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:42:03.392    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19991127-105419-135_L1C_047-256-7_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1999/11/27/SPOT2-HRV1-XS_19991127-105421-165_L1C_047-257-0_D_V1-0/SPOT2-HRV1-XS_19991127-105421-165_L1C_047-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19991127-105421-165_L1C_047-257-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19991127-105421-165_L1C_047-257-0_D_V1-0.zip
run script
2024-01-16T17:42:06.209    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:06.210    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19991127-105421-165_L1C_047-257-0_D_V1-0.zip
2024-01-16T17:42:06.210    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:42:06.210    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:42:06.210    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:06.210    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:42:06.210    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:42:06.210    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:42:06.210    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:42:06.210    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19991127-105421-165_L1C_047-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1999/11/27/SPOT2-HRV1-XS_19991127-105423-872_L1C_047-257-3_D_V1-0/SPOT2-HRV1-XS_19991127-105423-872_L1C_047-257-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19991127-105423-872_L1C_047-257-3_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19991127-105423-872_L1C_047-257-3_D_V1-0.zip
run script
2024-01-16T17:42:09.075    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:09.076    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19991127-105423-872_L1C_047-257-3_D_V1-0.zip
2024-01-16T17:42:09.076    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:42:09.076    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:42:09.077    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:09.077    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:42:09.077    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:42:09.077    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:42:09.077    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:42:09.077    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19991127-105423-872_L1C_047-257-3_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1999/11/27/SPOT2-HRV2-XS_19991127-105441-189_L1C_048-259-5_D_V1-0/SPOT2-HRV2-XS_19991127-105441-189_L1C_048-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19991127-105441-189_L1C_048-259-5_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105441-189_L1C_048-259-5_D_V1-0.zip
run script
2024-01-16T17:42:11.909    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:11.911    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105441-189_L1C_048-259-5_D_V1-0.zip
2024-01-16T17:42:11.911    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:42:11.911    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:42:11.911    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:11.911    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:42:11.911    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:42:11.911    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:42:11.911    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:42:11.911    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105441-189_L1C_048-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1999/11/27/SPOT2-HRV2-XS_19991127-105445-055_L1C_048-260-0_D_V1-0/SPOT2-HRV2-XS_19991127-105445-055_L1C_048-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19991127-105445-055_L1C_048-260-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105445-055_L1C_048-260-0_D_V1-0.zip
run script
2024-01-16T17:42:15.023    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:15.025    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105445-055_L1C_048-260-0_D_V1-0.zip
2024-01-16T17:42:15.025    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:42:15.025    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:42:15.025    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:15.025    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:42:15.025    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:42:15.025    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:42:15.025    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:42:15.025    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105445-055_L1C_048-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1999/11/27/SPOT2-HRV2-XS_19991127-105446-859_L1C_048-260-2_D_V1-0/SPOT2-HRV2-XS_19991127-105446-859_L1C_048-260-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19991127-105446-859_L1C_048-260-2_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105446-859_L1C_048-260-2_D_V1-0.zip
run script
2024-01-16T17:42:18.054    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:18.059    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105446-859_L1C_048-260-2_D_V1-0.zip
2024-01-16T17:42:18.062    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:42:18.065    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:42:18.067    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:18.070    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:42:18.073    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:42:18.076    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:42:18.079    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:42:18.081    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105446-859_L1C_048-260-2_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1999/11/27/SPOT2-HRV2-XS_19991127-105419-038_L1C_049-257-1_D_V1-0/SPOT2-HRV2-XS_19991127-105419-038_L1C_049-257-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19991127-105419-038_L1C_049-257-1_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105419-038_L1C_049-257-1_D_V1-0.zip
run script
2024-01-16T17:42:21.241    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:21.242    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105419-038_L1C_049-257-1_D_V1-0.zip
2024-01-16T17:42:21.242    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:42:21.242    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:42:21.242    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:21.242    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:42:21.242    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:42:21.242    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:42:21.242    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:42:21.242    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105419-038_L1C_049-257-1_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1999/11/27/SPOT2-HRV2-XS_19991127-105419-038_L1C_049-257-1_C_V1-0/31TGL/FSC_19991127T105419_SPOT2_31TGL
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1999/11/27/SPOT2-HRV2-XS_19991127-105419-038_L1C_049-257-1_C_V1-0/31TGM/FSC_19991127T105419_SPOT2_31TGM
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1999/11/27/SPOT2-HRV2-XS_19991127-105419-038_L1C_049-257-1_C_V1-0/32TLR/FSC_19991127T105419_SPOT2_32TLR
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1999/11/27/SPOT2-HRV2-XS_19991127-105419-038_L1C_049-257-1_C_V1-0/32TLS/FSC_19991127T105419_SPOT2_32TLS
muscate/SPOTWORLDHERITAGE/1999/11/27/SPOT2-HRV2-XS_19991127-105423-550_L1C_049-257-6_D_V1-0/SPOT2-HRV2-XS_19991127-105423-550_L1C_049-257-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19991127-105423-550_L1C_049-257-6_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105423-550_L1C_049-257-6_D_V1-0.zip
run script
2024-01-16T17:42:24.487    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:24.489    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105423-550_L1C_049-257-6_D_V1-0.zip
2024-01-16T17:42:24.492    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:42:24.495    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:42:24.498    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:24.500    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:42:24.503    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:42:24.506    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:42:24.510    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:42:24.512    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T17:42:27.706    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1522 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105423-550_L1C_049-257-6_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1999/11/27/SPOT2-HRV2-XS_19991127-105423-550_L1C_049-257-6_C_V1-0/31TGL/FSC_19991127T105423_SPOT2_31TGL
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1999/11/27/SPOT2-HRV2-XS_19991127-105423-550_L1C_049-257-6_C_V1-0/31TGM/FSC_19991127T105423_SPOT2_31TGM
TOTO
muscate/SPOTWORLDHERITAGE/1999/11/27/SPOT2-HRV2-XS_19991127-105351-440_L1C_051-254-0_D_V1-0/SPOT2-HRV2-XS_19991127-105351-440_L1C_051-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19991127-105351-440_L1C_051-254-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105351-440_L1C_051-254-0_D_V1-0.zip
run script
2024-01-16T17:42:30.593    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:30.595    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105351-440_L1C_051-254-0_D_V1-0.zip
2024-01-16T17:42:30.595    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:42:30.595    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:42:30.595    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:30.595    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:42:30.595    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:42:30.595    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:42:30.595    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:42:30.595    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105351-440_L1C_051-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1999/11/27/SPOT2-HRV2-XS_19991127-105359-823_L1C_051-255-0_D_V1-0/SPOT2-HRV2-XS_19991127-105359-823_L1C_051-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19991127-105359-823_L1C_051-255-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105359-823_L1C_051-255-0_D_V1-0.zip
run script
2024-01-16T17:42:33.682    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:33.683    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105359-823_L1C_051-255-0_D_V1-0.zip
2024-01-16T17:42:33.683    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:42:33.683    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:42:33.683    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:33.683    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:42:33.683    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:42:33.683    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:42:33.683    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:42:33.683    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105359-823_L1C_051-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1999/11/27/SPOT2-HRV2-XS_19991127-105359-823_L1C_051-255-0_C_V1-0/31TGM/FSC_19991127T105359_SPOT2_31TGM
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1999/11/27/SPOT2-HRV2-XS_19991127-105359-823_L1C_051-255-0_C_V1-0/32TLS/FSC_19991127T105359_SPOT2_32TLS
muscate/SPOTWORLDHERITAGE/1999/11/27/SPOT2-HRV2-XS_19991127-105401-628_L1C_051-255-2_D_V1-0/SPOT2-HRV2-XS_19991127-105401-628_L1C_051-255-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19991127-105401-628_L1C_051-255-2_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105401-628_L1C_051-255-2_D_V1-0.zip
run script
2024-01-16T17:42:36.847    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:36.848    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105401-628_L1C_051-255-2_D_V1-0.zip
2024-01-16T17:42:36.848    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:42:36.848    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:42:36.848    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:36.848    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:42:36.849    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:42:36.849    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:42:36.849    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:42:36.849    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991127-105401-628_L1C_051-255-2_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1999/11/27/SPOT2-HRV2-XS_19991127-105401-628_L1C_051-255-2_C_V1-0/31TGM/FSC_19991127T105401_SPOT2_31TGM
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1999/11/27/SPOT2-HRV2-XS_19991127-105401-628_L1C_051-255-2_C_V1-0/32TLS/FSC_19991127T105401_SPOT2_32TLS
muscate/SPOTWORLDHERITAGE/1999/12/02/SPOT2-HRV2-XS_19991202-105859-752_L1C_046-263-0_D_V1-0/SPOT2-HRV2-XS_19991202-105859-752_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19991202-105859-752_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991202-105859-752_L1C_046-263-0_D_V1-0.zip
run script
2024-01-16T17:42:39.447    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:39.448    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991202-105859-752_L1C_046-263-0_D_V1-0.zip
2024-01-16T17:42:39.448    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:42:39.448    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:42:39.449    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:39.449    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:42:39.449    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:42:39.449    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:42:39.449    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:42:39.449    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991202-105859-752_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/PYR/SPOT2/1999/12/2/SPOT2-HRV2-XS_19991202-105859-752_L1C_046-263-0_C_V1-0/31TDH/FSC_19991202T105859_SPOT2_31TDH
muscate/SPOTWORLDHERITAGE/1999/12/02/SPOT2-HRV2-XS_19991202-105831-739_L1C_048-260-0_D_V1-0/SPOT2-HRV2-XS_19991202-105831-739_L1C_048-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19991202-105831-739_L1C_048-260-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991202-105831-739_L1C_048-260-0_D_V1-0.zip
run script
2024-01-16T17:42:42.497    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:42.498    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991202-105831-739_L1C_048-260-0_D_V1-0.zip
2024-01-16T17:42:42.498    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:42:42.498    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:42:42.498    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:42.498    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:42:42.498    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:42:42.498    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:42:42.498    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:42:42.498    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991202-105831-739_L1C_048-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1999/12/02/SPOT2-HRV2-XS_19991202-105833-543_L1C_048-260-2_D_V1-0/SPOT2-HRV2-XS_19991202-105833-543_L1C_048-260-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19991202-105833-543_L1C_048-260-2_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991202-105833-543_L1C_048-260-2_D_V1-0.zip
run script
2024-01-16T17:42:45.699    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:45.700    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991202-105833-543_L1C_048-260-2_D_V1-0.zip
2024-01-16T17:42:45.700    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:42:45.700    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:42:45.700    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:45.700    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:42:45.700    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:42:45.700    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:42:45.700    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:42:45.701    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991202-105833-543_L1C_048-260-2_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1999/12/02/SPOT2-HRV2-XS_19991202-105804-943_L1C_049-257-0_D_V1-0/SPOT2-HRV2-XS_19991202-105804-943_L1C_049-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19991202-105804-943_L1C_049-257-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991202-105804-943_L1C_049-257-0_D_V1-0.zip
run script
2024-01-16T17:42:48.923    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:48.924    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991202-105804-943_L1C_049-257-0_D_V1-0.zip
2024-01-16T17:42:48.924    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:42:48.924    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:42:48.924    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:48.924    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:42:48.924    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:42:48.924    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:42:48.924    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:42:48.924    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991202-105804-943_L1C_049-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1999/12/2/SPOT2-HRV2-XS_19991202-105804-943_L1C_049-257-0_C_V1-0/31TGL/FSC_19991202T105804_SPOT2_31TGL
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1999/12/2/SPOT2-HRV2-XS_19991202-105804-943_L1C_049-257-0_C_V1-0/31TGM/FSC_19991202T105804_SPOT2_31TGM
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1999/12/2/SPOT2-HRV2-XS_19991202-105804-943_L1C_049-257-0_C_V1-0/32TLR/FSC_19991202T105804_SPOT2_32TLR
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1999/12/2/SPOT2-HRV2-XS_19991202-105804-943_L1C_049-257-0_C_V1-0/32TLS/FSC_19991202T105804_SPOT2_32TLS
muscate/SPOTWORLDHERITAGE/1999/09/16/SPOT2-HRV2-XS_19990916-103935-065_L1C_047-257-4_D_V1-0/SPOT2-HRV2-XS_19990916-103935-065_L1C_047-257-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19990916-103935-065_L1C_047-257-4_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19990916-103935-065_L1C_047-257-4_D_V1-0.zip
run script
2024-01-16T17:42:51.879    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:51.881    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19990916-103935-065_L1C_047-257-4_D_V1-0.zip
2024-01-16T17:42:51.881    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:42:51.881    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:42:51.881    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:51.881    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:42:51.881    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:42:51.881    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:42:51.881    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:42:51.881    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19990916-103935-065_L1C_047-257-4_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1999/09/16/SPOT2-HRV2-XS_19990916-103939-718_L1C_047-258-0_D_V1-0/SPOT2-HRV2-XS_19990916-103939-718_L1C_047-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19990916-103939-718_L1C_047-258-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19990916-103939-718_L1C_047-258-0_D_V1-0.zip
run script
2024-01-16T17:42:54.802    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:54.804    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19990916-103939-718_L1C_047-258-0_D_V1-0.zip
2024-01-16T17:42:54.804    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:42:54.804    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:42:54.804    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:54.804    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:42:54.804    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:42:54.804    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:42:54.804    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:42:54.804    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19990916-103939-718_L1C_047-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1999/09/16/SPOT2-HRV2-XS_19990916-103956-265_L1C_047-260-0_D_V1-0/SPOT2-HRV2-XS_19990916-103956-265_L1C_047-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19990916-103956-265_L1C_047-260-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19990916-103956-265_L1C_047-260-0_D_V1-0.zip
run script
2024-01-16T17:42:57.818    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:57.819    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19990916-103956-265_L1C_047-260-0_D_V1-0.zip
2024-01-16T17:42:57.819    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:42:57.819    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:42:57.819    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:42:57.819    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:42:57.819    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:42:57.819    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:42:57.820    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:42:57.820    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19990916-103956-265_L1C_047-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1999/09/16/SPOT2-HRV2-XS_19990916-103958-070_L1C_047-260-2_D_V1-0/SPOT2-HRV2-XS_19990916-103958-070_L1C_047-260-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19990916-103958-070_L1C_047-260-2_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19990916-103958-070_L1C_047-260-2_D_V1-0.zip
run script
2024-01-16T17:43:00.829    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:43:00.830    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19990916-103958-070_L1C_047-260-2_D_V1-0.zip
2024-01-16T17:43:00.839    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:43:00.839    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:43:00.840    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:43:00.840    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:43:00.840    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:43:00.840    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:43:00.840    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:43:00.840    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19990916-103958-070_L1C_047-260-2_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1999/09/16/SPOT2-HRV1-XS_19990916-103904-037_L1C_049-254-0_D_V1-0/SPOT2-HRV1-XS_19990916-103904-037_L1C_049-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19990916-103904-037_L1C_049-254-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19990916-103904-037_L1C_049-254-0_D_V1-0.zip
run script
2024-01-16T17:43:03.918    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:43:03.920    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19990916-103904-037_L1C_049-254-0_D_V1-0.zip
2024-01-16T17:43:03.920    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:43:03.920    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:43:03.920    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:43:03.920    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:43:03.920    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:43:03.920    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:43:03.920    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:43:03.921    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19990916-103904-037_L1C_049-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1999/09/16/SPOT2-HRV1-XS_19990916-103912-294_L1C_049-255-0_D_V1-0/SPOT2-HRV1-XS_19990916-103912-294_L1C_049-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_19990916-103912-294_L1C_049-255-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19990916-103912-294_L1C_049-255-0_D_V1-0.zip
run script
2024-01-16T17:43:06.944    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:43:06.945    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19990916-103912-294_L1C_049-255-0_D_V1-0.zip
2024-01-16T17:43:06.945    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:43:06.945    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:43:06.945    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:43:06.945    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:43:06.945    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:43:06.945    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:43:06.945    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:43:06.945    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV1-XS_19990916-103912-294_L1C_049-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1999/9/16/SPOT2-HRV1-XS_19990916-103912-294_L1C_049-255-0_C_V1-0/31TGM/FSC_19990916T103912_SPOT2_31TGM
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1999/9/16/SPOT2-HRV1-XS_19990916-103912-294_L1C_049-255-0_C_V1-0/32TLS/FSC_19990916T103912_SPOT2_32TLS
muscate/SPOTWORLDHERITAGE/1999/09/16/SPOT2-HRV2-XS_19990916-103902-401_L1C_051-254-0_D_V1-0/SPOT2-HRV2-XS_19990916-103902-401_L1C_051-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19990916-103902-401_L1C_051-254-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19990916-103902-401_L1C_051-254-0_D_V1-0.zip
run script
2024-01-16T17:43:09.620    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:43:09.622    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19990916-103902-401_L1C_051-254-0_D_V1-0.zip
2024-01-16T17:43:09.622    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:43:09.622    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:43:09.622    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:43:09.622    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:43:09.622    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:43:09.622    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:43:09.622    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:43:09.622    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19990916-103902-401_L1C_051-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1999/09/16/SPOT2-HRV2-XS_19990916-103910-673_L1C_051-255-0_D_V1-0/SPOT2-HRV2-XS_19990916-103910-673_L1C_051-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19990916-103910-673_L1C_051-255-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19990916-103910-673_L1C_051-255-0_D_V1-0.zip
run script
2024-01-16T17:43:12.468    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:43:12.470    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19990916-103910-673_L1C_051-255-0_D_V1-0.zip
2024-01-16T17:43:12.470    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:43:12.470    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:43:12.470    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:43:12.470    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:43:12.470    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:43:12.470    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:43:12.470    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:43:12.470    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19990916-103910-673_L1C_051-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1999/9/16/SPOT2-HRV2-XS_19990916-103910-673_L1C_051-255-0_C_V1-0/31TGM/FSC_19990916T103910_SPOT2_31TGM
skipped existing inference for /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200/ALP/SPOT2/1999/9/16/SPOT2-HRV2-XS_19990916-103910-673_L1C_051-255-0_C_V1-0/32TLS/FSC_19990916T103910_SPOT2_32TLS
muscate/SPOTWORLDHERITAGE/1999/10/07/SPOT2-HRV2-XS_19991007-103530-075_L1C_047-257-3_D_V1-0/SPOT2-HRV2-XS_19991007-103530-075_L1C_047-257-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19991007-103530-075_L1C_047-257-3_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991007-103530-075_L1C_047-257-3_D_V1-0.zip
run script
2024-01-16T17:43:15.516    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:43:15.517    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991007-103530-075_L1C_047-257-3_D_V1-0.zip
2024-01-16T17:43:15.518    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:43:15.518    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:43:15.518    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:43:15.518    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:43:15.518    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:43:15.518    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:43:15.518    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:43:15.518    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991007-103530-075_L1C_047-257-3_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1999/10/07/SPOT2-HRV2-XS_19991007-103535-616_L1C_047-258-0_D_V1-0/SPOT2-HRV2-XS_19991007-103535-616_L1C_047-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19991007-103535-616_L1C_047-258-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991007-103535-616_L1C_047-258-0_D_V1-0.zip
run script
2024-01-16T17:43:18.545    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:43:18.546    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991007-103535-616_L1C_047-258-0_D_V1-0.zip
2024-01-16T17:43:18.546    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:43:18.546    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:43:18.546    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:43:18.546    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:43:18.546    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:43:18.546    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:43:18.546    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:43:18.546    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991007-103535-616_L1C_047-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1999/10/07/SPOT2-HRV2-XS_19991007-103543-870_L1C_047-259-0_D_V1-0/SPOT2-HRV2-XS_19991007-103543-870_L1C_047-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19991007-103543-870_L1C_047-259-0_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991007-103543-870_L1C_047-259-0_D_V1-0.zip
run script
2024-01-16T17:43:21.490    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:43:21.491    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991007-103543-870_L1C_047-259-0_D_V1-0.zip
2024-01-16T17:43:21.491    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:43:21.491    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:43:21.491    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:43:21.491    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:43:21.492    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:43:21.492    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:43:21.492    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:43:21.492    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991007-103543-870_L1C_047-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1999/10/07/SPOT2-HRV2-XS_19991007-103549-285_L1C_047-259-6_D_V1-0/SPOT2-HRV2-XS_19991007-103549-285_L1C_047-259-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_19991007-103549-285_L1C_047-259-6_D_V1-0.zip
/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991007-103549-285_L1C_047-259-6_D_V1-0.zip
run script
2024-01-16T17:43:24.384    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:43:24.385    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991007-103549-285_L1C_047-259-6_D_V1-0.zip
2024-01-16T17:43:24.385    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T17:43:24.385    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T17:43:24.385    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-16T17:43:24.385    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T17:43:24.385    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T17:43:24.386    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T17:43:24.386    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T17:43:24.386    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4444851/INPUT/SPOT2-HRV2-XS_19991007-103549-285_L1C_047-259-6_D_V1-0.zip', job_dir='/tmp/slurm-4444851/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1999/10/07/SPOT2-HRV1-XS_19991007-103500-624_L1C_049-254-0_D_V1-0/SPOT2-HRV1-XS_19991007-103500-624_L1C_049-254-0_D_V1-0.zip
activate s3 conda env
