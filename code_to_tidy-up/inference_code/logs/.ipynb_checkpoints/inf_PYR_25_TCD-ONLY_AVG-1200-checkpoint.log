unload conda/22.11.1  : OK 
load conda/22.11.1  : OK 
envs_dirs : /work/scratch/env/barrouz/conda_env/
pkgs_dirs : /work/scratch/env/barrouz/pkgs_conda
INPUT_PATH /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/PYR/25.txt
OUTPUT_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
DEM_PATH /work/CAMPUS/etudes/Neige/DEM
TCD_PATH /work/datalake/static_aux/TreeCoverDensity
MODELS_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
KEEP_REFL 0
MASK 1
start
/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/PYR/25.txt
muscate/SPOTWORLDHERITAGE/2006/09/01/SPOT2-HRV1-XS_20060901-105606-411_L1C_037-263-0_D_V1-0/SPOT2-HRV1-XS_20060901-105606-411_L1C_037-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060901-105606-411_L1C_037-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060901-105606-411_L1C_037-263-0_D_V1-0.zip
run script
2024-01-10T19:49:05.798    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T19:49:05.800    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060901-105606-411_L1C_037-263-0_D_V1-0.zip
2024-01-10T19:49:05.800    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T19:49:05.800    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T19:49:05.800    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T19:49:05.800    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T19:49:05.800    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T19:49:05.800    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T19:49:05.800    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T19:49:05.800    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T19:50:15.060    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (156 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060901-105606-411_L1C_037-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/09/01/SPOT2-HRV2-XS_20060901-105606-008_L1C_038-263-0_D_V1-0/SPOT2-HRV2-XS_20060901-105606-008_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060901-105606-008_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060901-105606-008_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T19:50:17.955    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T19:50:17.955    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060901-105606-008_L1C_038-263-0_D_V1-0.zip
2024-01-10T19:50:17.955    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T19:50:17.956    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T19:50:17.956    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T19:50:17.956    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T19:50:17.956    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T19:50:17.956    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T19:50:17.956    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T19:50:17.956    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060901-105606-008_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/01/SPOT2-HRV2-XS_20060901-105614-307_L1C_038-264-0_D_V1-0/SPOT2-HRV2-XS_20060901-105614-307_L1C_038-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060901-105614-307_L1C_038-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060901-105614-307_L1C_038-264-0_D_V1-0.zip
run script
2024-01-10T19:51:36.026    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T19:51:36.027    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060901-105614-307_L1C_038-264-0_D_V1-0.zip
2024-01-10T19:51:36.027    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T19:51:36.027    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T19:51:36.027    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T19:51:36.027    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T19:51:36.027    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T19:51:36.027    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T19:51:36.027    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T19:51:36.027    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060901-105614-307_L1C_038-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/10/SPOT2-HRV2-XS_20060510-104804-048_L1C_038-262-8_D_V1-0/SPOT2-HRV2-XS_20060510-104804-048_L1C_038-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060510-104804-048_L1C_038-262-8_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060510-104804-048_L1C_038-262-8_D_V1-0.zip
run script
2024-01-10T19:53:19.953    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T19:53:19.953    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060510-104804-048_L1C_038-262-8_D_V1-0.zip
2024-01-10T19:53:19.953    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T19:53:19.954    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T19:53:19.954    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T19:53:19.954    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T19:53:19.954    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T19:53:19.954    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T19:53:19.954    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T19:53:19.954    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060510-104804-048_L1C_038-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 0 2 2]
 [2 2 2 ... 0 0 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/10/SPOT2-HRV1-XS_20060510-104803-931_L1C_039-263-0_D_V1-0/SPOT2-HRV1-XS_20060510-104803-931_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060510-104803-931_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060510-104803-931_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T19:54:35.207    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T19:54:35.208    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060510-104803-931_L1C_039-263-0_D_V1-0.zip
2024-01-10T19:54:35.208    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T19:54:35.208    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T19:54:35.208    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T19:54:35.208    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T19:54:35.209    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T19:54:35.209    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T19:54:35.209    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T19:54:35.209    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060510-104803-931_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/09/SPOT2-HRV1-XS_20060609-111119-918_L1C_038-262-4_D_V1-0/SPOT2-HRV1-XS_20060609-111119-918_L1C_038-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060609-111119-918_L1C_038-262-4_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060609-111119-918_L1C_038-262-4_D_V1-0.zip
run script
2024-01-10T19:55:55.434    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T19:55:55.435    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060609-111119-918_L1C_038-262-4_D_V1-0.zip
2024-01-10T19:55:55.435    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T19:55:55.435    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T19:55:55.436    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T19:55:55.436    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T19:55:55.436    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T19:55:55.436    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T19:55:55.436    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T19:55:55.436    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060609-111119-918_L1C_038-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/09/SPOT2-HRV2-XS_20060609-111118-164_L1C_042-263-0_D_V1-0/SPOT2-HRV2-XS_20060609-111118-164_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060609-111118-164_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060609-111118-164_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T19:56:27.277    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T19:56:27.278    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060609-111118-164_L1C_042-263-0_D_V1-0.zip
2024-01-10T19:56:27.278    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T19:56:27.278    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T19:56:27.278    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T19:56:27.278    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T19:56:27.278    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T19:56:27.278    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T19:56:27.278    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T19:56:27.278    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060609-111118-164_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/09/SPOT2-HRV2-XS_20060609-111119-969_L1C_042-263-2_D_V1-0/SPOT2-HRV2-XS_20060609-111119-969_L1C_042-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060609-111119-969_L1C_042-263-2_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060609-111119-969_L1C_042-263-2_D_V1-0.zip
run script
2024-01-10T19:57:58.501    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T19:57:58.502    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060609-111119-969_L1C_042-263-2_D_V1-0.zip
2024-01-10T19:57:58.502    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T19:57:58.502    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T19:57:58.502    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T19:57:58.502    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T19:57:58.502    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T19:57:58.502    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T19:57:58.502    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T19:57:58.502    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060609-111119-969_L1C_042-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/19/SPOT2-HRV1-XS_20060619-111904-527_L1C_038-262-4_D_V1-0/SPOT2-HRV1-XS_20060619-111904-527_L1C_038-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060619-111904-527_L1C_038-262-4_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060619-111904-527_L1C_038-262-4_D_V1-0.zip
run script
2024-01-10T19:59:47.466    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T19:59:47.466    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060619-111904-527_L1C_038-262-4_D_V1-0.zip
2024-01-10T19:59:47.466    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T19:59:47.466    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T19:59:47.466    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T19:59:47.466    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T19:59:47.466    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T19:59:47.466    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T19:59:47.466    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T19:59:47.466    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060619-111904-527_L1C_038-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/20/SPOT2-HRV2-XS_20060720-112254-606_L1C_038-262-4_D_V1-0/SPOT2-HRV2-XS_20060720-112254-606_L1C_038-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060720-112254-606_L1C_038-262-4_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060720-112254-606_L1C_038-262-4_D_V1-0.zip
run script
2024-01-10T20:00:23.121    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:00:23.122    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060720-112254-606_L1C_038-262-4_D_V1-0.zip
2024-01-10T20:00:23.122    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:00:23.122    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:00:23.122    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:00:23.122    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:00:23.122    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:00:23.122    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:00:23.122    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:00:23.122    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060720-112254-606_L1C_038-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/05/SPOT2-HRV2-XS_20060805-111513-881_L1C_038-262-4_D_V1-0/SPOT2-HRV2-XS_20060805-111513-881_L1C_038-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060805-111513-881_L1C_038-262-4_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060805-111513-881_L1C_038-262-4_D_V1-0.zip
run script
2024-01-10T20:01:01.694    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:01:01.695    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060805-111513-881_L1C_038-262-4_D_V1-0.zip
2024-01-10T20:01:01.695    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:01:01.695    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:01:01.695    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:01:01.696    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:01:01.696    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:01:01.696    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:01:01.696    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:01:01.696    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060805-111513-881_L1C_038-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/05/SPOT2-HRV1-XS_20060805-111513-520_L1C_039-262-6_D_V1-0/SPOT2-HRV1-XS_20060805-111513-520_L1C_039-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060805-111513-520_L1C_039-262-6_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060805-111513-520_L1C_039-262-6_D_V1-0.zip
run script
2024-01-10T20:01:37.141    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:01:37.142    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060805-111513-520_L1C_039-262-6_D_V1-0.zip
2024-01-10T20:01:37.142    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:01:37.142    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:01:37.142    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:01:37.142    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:01:37.142    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:01:37.142    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:01:37.142    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:01:37.142    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060805-111513-520_L1C_039-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/01/15/SPOT2-HRV1-XS_20060115-105908-847_L1C_038-263-0_D_V1-0/SPOT2-HRV1-XS_20060115-105908-847_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060115-105908-847_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060115-105908-847_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T20:02:27.062    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:02:27.062    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060115-105908-847_L1C_038-263-0_D_V1-0.zip
2024-01-10T20:02:27.062    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:02:27.062    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:02:27.063    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:02:27.063    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:02:27.063    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:02:27.063    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:02:27.063    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:02:27.063    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060115-105908-847_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/01/15/SPOT2-HRV2-XS_20060115-105907-367_L1C_039-263-0_D_V1-0/SPOT2-HRV2-XS_20060115-105907-367_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060115-105907-367_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060115-105907-367_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T20:03:40.245    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:03:40.246    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060115-105907-367_L1C_039-263-0_D_V1-0.zip
2024-01-10T20:03:40.246    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:03:40.246    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:03:40.246    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:03:40.246    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:03:40.246    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:03:40.246    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:03:40.246    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:03:40.246    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T20:03:42.051    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (308 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060115-105907-367_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2006/01/15/SPOT2-HRV2-XS_20060115-105915-693_L1C_039-264-0_D_V1-0/SPOT2-HRV2-XS_20060115-105915-693_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060115-105915-693_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060115-105915-693_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T20:03:44.941    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:03:44.942    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060115-105915-693_L1C_039-264-0_D_V1-0.zip
2024-01-10T20:03:44.942    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:03:44.942    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:03:44.942    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:03:44.942    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:03:44.942    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:03:44.942    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:03:44.942    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:03:44.942    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060115-105915-693_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/10/SPOT2-HRV2-XS_20060710-111517-348_L1C_038-263-0_D_V1-0/SPOT2-HRV2-XS_20060710-111517-348_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060710-111517-348_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060710-111517-348_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T20:05:30.257    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:05:30.257    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060710-111517-348_L1C_038-263-0_D_V1-0.zip
2024-01-10T20:05:30.258    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:05:30.258    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:05:30.258    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:05:30.258    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:05:30.258    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:05:30.258    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:05:30.258    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:05:30.258    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060710-111517-348_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/10/SPOT2-HRV2-XS_20060710-111520-055_L1C_038-263-3_D_V1-0/SPOT2-HRV2-XS_20060710-111520-055_L1C_038-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060710-111520-055_L1C_038-263-3_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060710-111520-055_L1C_038-263-3_D_V1-0.zip
run script
2024-01-10T20:06:50.732    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:06:50.733    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060710-111520-055_L1C_038-263-3_D_V1-0.zip
2024-01-10T20:06:50.733    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:06:50.733    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:06:50.733    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:06:50.733    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:06:50.733    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:06:50.733    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:06:50.733    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:06:50.733    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060710-111520-055_L1C_038-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/10/SPOT2-HRV1-XS_20060710-111515-838_L1C_039-263-0_D_V1-0/SPOT2-HRV1-XS_20060710-111515-838_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060710-111515-838_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060710-111515-838_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T20:08:37.291    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:08:37.292    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060710-111515-838_L1C_039-263-0_D_V1-0.zip
2024-01-10T20:08:37.292    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:08:37.292    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:08:37.292    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:08:37.292    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:08:37.292    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:08:37.292    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:08:37.292    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:08:37.293    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060710-111515-838_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/10/SPOT2-HRV1-XS_20060710-111519-447_L1C_039-263-4_D_V1-0/SPOT2-HRV1-XS_20060710-111519-447_L1C_039-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060710-111519-447_L1C_039-263-4_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060710-111519-447_L1C_039-263-4_D_V1-0.zip
run script
2024-01-10T20:09:55.666    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:09:55.667    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060710-111519-447_L1C_039-263-4_D_V1-0.zip
2024-01-10T20:09:55.667    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:09:55.667    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:09:55.667    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:09:55.667    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:09:55.667    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:09:55.667    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:09:55.667    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:09:55.667    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060710-111519-447_L1C_039-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/15/SPOT2-HRV2-XS_20060515-105154-229_L1C_039-262-7_D_V1-0/SPOT2-HRV2-XS_20060515-105154-229_L1C_039-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060515-105154-229_L1C_039-262-7_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060515-105154-229_L1C_039-262-7_D_V1-0.zip
run script
2024-01-10T20:11:54.340    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:11:54.341    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060515-105154-229_L1C_039-262-7_D_V1-0.zip
2024-01-10T20:11:54.341    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:11:54.341    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:11:54.341    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:11:54.341    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:11:54.341    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:11:54.342    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:11:54.342    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:11:54.342    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T20:11:56.168    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (111 x 1). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060515-105154-229_L1C_039-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2006/05/15/SPOT2-HRV2-XS_20060515-105156-199_L1C_039-263-0_D_V1-0/SPOT2-HRV2-XS_20060515-105156-199_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060515-105156-199_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060515-105156-199_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T20:11:59.226    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:11:59.226    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060515-105156-199_L1C_039-263-0_D_V1-0.zip
2024-01-10T20:11:59.226    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:11:59.226    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:11:59.226    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:11:59.226    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:11:59.227    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:11:59.227    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:11:59.227    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:11:59.227    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060515-105156-199_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/15/SPOT2-HRV2-XS_20060515-105204-495_L1C_039-264-0_D_V1-0/SPOT2-HRV2-XS_20060515-105204-495_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060515-105204-495_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060515-105204-495_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T20:13:12.110    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:13:12.110    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060515-105204-495_L1C_039-264-0_D_V1-0.zip
2024-01-10T20:13:12.110    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:13:12.110    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:13:12.110    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:13:12.110    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:13:12.110    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:13:12.111    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:13:12.111    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:13:12.111    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060515-105204-495_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/15/SPOT2-HRV2-XS_20060515-105205-398_L1C_039-264-1_D_V1-0/SPOT2-HRV2-XS_20060515-105205-398_L1C_039-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060515-105205-398_L1C_039-264-1_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060515-105205-398_L1C_039-264-1_D_V1-0.zip
run script
2024-01-10T20:15:04.159    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:15:04.160    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060515-105205-398_L1C_039-264-1_D_V1-0.zip
2024-01-10T20:15:04.160    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:15:04.160    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:15:04.160    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:15:04.160    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:15:04.160    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:15:04.160    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:15:04.160    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:15:04.161    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060515-105205-398_L1C_039-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/15/SPOT2-HRV1-XS_20060515-105154-220_L1C_043-263-2_D_V1-0/SPOT2-HRV1-XS_20060515-105154-220_L1C_043-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060515-105154-220_L1C_043-263-2_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060515-105154-220_L1C_043-263-2_D_V1-0.zip
run script
2024-01-10T20:16:57.723    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:16:57.724    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060515-105154-220_L1C_043-263-2_D_V1-0.zip
2024-01-10T20:16:57.724    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:16:57.724    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:16:57.725    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:16:57.725    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:16:57.725    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:16:57.725    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:16:57.725    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:16:57.725    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060515-105154-220_L1C_043-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/15/SPOT2-HRV1-XS_20060515-105200-738_L1C_043-264-0_D_V1-0/SPOT2-HRV1-XS_20060515-105200-738_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060515-105200-738_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060515-105200-738_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T20:18:34.224    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:18:34.225    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060515-105200-738_L1C_043-264-0_D_V1-0.zip
2024-01-10T20:18:34.225    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:18:34.225    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:18:34.225    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:18:34.225    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:18:34.226    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:18:34.226    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:18:34.226    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:18:34.226    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060515-105200-738_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/15/SPOT2-HRV1-XS_20060515-105205-250_L1C_043-264-5_D_V1-0/SPOT2-HRV1-XS_20060515-105205-250_L1C_043-264-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060515-105205-250_L1C_043-264-5_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060515-105205-250_L1C_043-264-5_D_V1-0.zip
run script
2024-01-10T20:20:20.246    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:20:20.247    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060515-105205-250_L1C_043-264-5_D_V1-0.zip
2024-01-10T20:20:20.247    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:20:20.247    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:20:20.247    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:20:20.247    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:20:20.247    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:20:20.247    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:20:20.247    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:20:20.247    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060515-105205-250_L1C_043-264-5_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/25/SPOT2-HRV2-XS_20060525-105938-298_L1C_039-262-3_D_V1-0/SPOT2-HRV2-XS_20060525-105938-298_L1C_039-262-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060525-105938-298_L1C_039-262-3_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060525-105938-298_L1C_039-262-3_D_V1-0.zip
run script
2024-01-10T20:21:26.214    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:21:26.214    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060525-105938-298_L1C_039-262-3_D_V1-0.zip
2024-01-10T20:21:26.214    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:21:26.214    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:21:26.214    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:21:26.214    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:21:26.214    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:21:26.214    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:21:26.214    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:21:26.214    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060525-105938-298_L1C_039-262-3_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 0]
 [0 0 0 0]
 [0 0 0 0]
 ...
 [2 2 2 2]
 [2 2 2 2]
 [2 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/04/SPOT2-HRV2-XS_20060604-110726-215_L1C_039-262-5_D_V1-0/SPOT2-HRV2-XS_20060604-110726-215_L1C_039-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060604-110726-215_L1C_039-262-5_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060604-110726-215_L1C_039-262-5_D_V1-0.zip
run script
2024-01-10T20:21:45.654    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:21:45.654    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060604-110726-215_L1C_039-262-5_D_V1-0.zip
2024-01-10T20:21:45.654    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:21:45.654    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:21:45.654    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:21:45.654    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:21:45.654    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:21:45.654    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:21:45.654    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:21:45.655    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T20:21:47.288    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (74 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060604-110726-215_L1C_039-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2006/06/04/SPOT2-HRV1-XS_20060604-110726-365_L1C_040-262-7_D_V1-0/SPOT2-HRV1-XS_20060604-110726-365_L1C_040-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060604-110726-365_L1C_040-262-7_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060604-110726-365_L1C_040-262-7_D_V1-0.zip
run script
2024-01-10T20:21:50.205    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:21:50.205    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060604-110726-365_L1C_040-262-7_D_V1-0.zip
2024-01-10T20:21:50.205    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:21:50.206    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:21:50.206    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:21:50.206    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:21:50.206    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:21:50.206    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:21:50.206    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:21:50.206    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060604-110726-365_L1C_040-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/01/SPOT2-HRV1-XS_20060701-104812-752_L1C_039-262-8_D_V1-0/SPOT2-HRV1-XS_20060701-104812-752_L1C_039-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060701-104812-752_L1C_039-262-8_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060701-104812-752_L1C_039-262-8_D_V1-0.zip
run script
2024-01-10T20:22:52.178    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:22:52.179    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060701-104812-752_L1C_039-262-8_D_V1-0.zip
2024-01-10T20:22:52.179    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:22:52.179    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:22:52.179    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:22:52.180    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:22:52.180    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:22:52.180    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:22:52.180    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:22:52.180    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T20:22:54.328    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (252 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060701-104812-752_L1C_039-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2006/07/01/SPOT2-HRV1-XS_20060701-104813-808_L1C_039-263-0_D_V1-0/SPOT2-HRV1-XS_20060701-104813-808_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060701-104813-808_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060701-104813-808_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T20:22:57.213    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:22:57.213    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060701-104813-808_L1C_039-263-0_D_V1-0.zip
2024-01-10T20:22:57.213    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:22:57.213    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:22:57.213    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:22:57.213    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:22:57.213    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:22:57.213    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:22:57.213    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:22:57.213    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060701-104813-808_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/01/SPOT2-HRV1-XS_20060701-104822-092_L1C_039-264-0_D_V1-0/SPOT2-HRV1-XS_20060701-104822-092_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060701-104822-092_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060701-104822-092_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T20:24:11.503    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:24:11.504    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060701-104822-092_L1C_039-264-0_D_V1-0.zip
2024-01-10T20:24:11.504    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:24:11.504    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:24:11.504    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:24:11.504    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:24:11.504    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:24:11.504    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:24:11.504    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:24:11.504    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060701-104822-092_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/01/SPOT2-HRV1-XS_20060701-104824-799_L1C_039-264-3_D_V1-0/SPOT2-HRV1-XS_20060701-104824-799_L1C_039-264-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060701-104824-799_L1C_039-264-3_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060701-104824-799_L1C_039-264-3_D_V1-0.zip
run script
2024-01-10T20:26:06.938    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:26:06.939    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060701-104824-799_L1C_039-264-3_D_V1-0.zip
2024-01-10T20:26:06.939    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:26:06.939    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:26:06.939    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:26:06.939    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:26:06.939    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:26:06.939    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:26:06.939    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:26:06.939    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060701-104824-799_L1C_039-264-3_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/01/SPOT2-HRV2-XS_20060701-104812-605_L1C_042-263-2_D_V1-0/SPOT2-HRV2-XS_20060701-104812-605_L1C_042-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060701-104812-605_L1C_042-263-2_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060701-104812-605_L1C_042-263-2_D_V1-0.zip
run script
2024-01-10T20:27:43.166    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:27:43.167    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060701-104812-605_L1C_042-263-2_D_V1-0.zip
2024-01-10T20:27:43.167    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:27:43.167    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:27:43.167    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:27:43.168    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:27:43.168    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:27:43.168    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:27:43.168    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:27:43.168    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060701-104812-605_L1C_042-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/01/SPOT2-HRV2-XS_20060701-104819-102_L1C_042-264-0_D_V1-0/SPOT2-HRV2-XS_20060701-104819-102_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060701-104819-102_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060701-104819-102_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T20:29:16.354    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:29:16.355    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060701-104819-102_L1C_042-264-0_D_V1-0.zip
2024-01-10T20:29:16.355    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:29:16.355    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:29:16.355    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:29:16.356    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:29:16.356    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:29:16.356    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:29:16.356    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:29:16.356    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060701-104819-102_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/06/SPOT2-HRV2-XS_20060706-105204-852_L1C_039-262-8_D_V1-0/SPOT2-HRV2-XS_20060706-105204-852_L1C_039-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060706-105204-852_L1C_039-262-8_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060706-105204-852_L1C_039-262-8_D_V1-0.zip
run script
2024-01-10T20:30:50.169    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:30:50.169    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060706-105204-852_L1C_039-262-8_D_V1-0.zip
2024-01-10T20:30:50.169    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:30:50.169    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:30:50.169    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:30:50.169    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:30:50.169    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:30:50.170    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:30:50.170    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:30:50.170    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060706-105204-852_L1C_039-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/31/SPOT2-HRV2-XS_20060731-111118-895_L1C_039-262-4_D_V1-0/SPOT2-HRV2-XS_20060731-111118-895_L1C_039-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060731-111118-895_L1C_039-262-4_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060731-111118-895_L1C_039-262-4_D_V1-0.zip
run script
2024-01-10T20:31:49.536    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:31:49.537    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060731-111118-895_L1C_039-262-4_D_V1-0.zip
2024-01-10T20:31:49.537    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:31:49.537    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:31:49.537    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:31:49.537    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:31:49.537    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:31:49.538    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:31:49.538    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:31:49.538    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060731-111118-895_L1C_039-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/01/SPOT2-HRV2-XS_20060801-105200-275_L1C_039-262-4_D_V1-0/SPOT2-HRV2-XS_20060801-105200-275_L1C_039-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060801-105200-275_L1C_039-262-4_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060801-105200-275_L1C_039-262-4_D_V1-0.zip
run script
2024-01-10T20:32:20.000    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:32:20.001    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060801-105200-275_L1C_039-262-4_D_V1-0.zip
2024-01-10T20:32:20.001    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:32:20.001    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:32:20.001    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:32:20.001    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:32:20.001    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:32:20.001    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:32:20.001    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:32:20.001    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T20:32:46.079    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (90 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060801-105200-275_L1C_039-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/08/06/SPOT2-HRV2-XS_20060806-105552-886_L1C_039-262-3_D_V1-0/SPOT2-HRV2-XS_20060806-105552-886_L1C_039-262-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060806-105552-886_L1C_039-262-3_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060806-105552-886_L1C_039-262-3_D_V1-0.zip
run script
2024-01-10T20:32:49.070    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:32:49.071    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060806-105552-886_L1C_039-262-3_D_V1-0.zip
2024-01-10T20:32:49.071    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:32:49.071    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:32:49.071    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:32:49.071    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:32:49.071    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:32:49.071    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:32:49.071    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:32:49.072    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T20:33:05.961    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (274 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060806-105552-886_L1C_039-262-3_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/08/10/SPOT2-HRV2-XS_20060810-111904-486_L1C_039-262-4_D_V1-0/SPOT2-HRV2-XS_20060810-111904-486_L1C_039-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060810-111904-486_L1C_039-262-4_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060810-111904-486_L1C_039-262-4_D_V1-0.zip
run script
2024-01-10T20:33:09.005    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:33:09.005    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060810-111904-486_L1C_039-262-4_D_V1-0.zip
2024-01-10T20:33:09.005    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:33:09.005    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:33:09.005    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:33:09.005    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:33:09.005    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:33:09.005    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:33:09.005    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:33:09.006    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060810-111904-486_L1C_039-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [0 2 2 ... 2 2 2]
 [0 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/11/SPOT2-HRV2-XS_20060811-105947-216_L1C_039-262-4_D_V1-0/SPOT2-HRV2-XS_20060811-105947-216_L1C_039-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060811-105947-216_L1C_039-262-4_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060811-105947-216_L1C_039-262-4_D_V1-0.zip
run script
2024-01-10T20:33:45.289    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:33:45.290    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060811-105947-216_L1C_039-262-4_D_V1-0.zip
2024-01-10T20:33:45.290    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:33:45.290    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:33:45.290    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:33:45.290    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:33:45.290    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:33:45.290    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:33:45.290    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:33:45.290    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060811-105947-216_L1C_039-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/21/SPOT2-HRV1-XS_20060921-111133-522_L1C_039-262-9_D_V1-0/SPOT2-HRV1-XS_20060921-111133-522_L1C_039-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060921-111133-522_L1C_039-262-9_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060921-111133-522_L1C_039-262-9_D_V1-0.zip
run script
2024-01-10T20:34:13.034    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:34:13.034    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060921-111133-522_L1C_039-262-9_D_V1-0.zip
2024-01-10T20:34:13.034    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:34:13.034    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:34:13.034    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:34:13.034    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:34:13.034    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:34:13.035    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:34:13.035    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:34:13.035    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060921-111133-522_L1C_039-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/21/SPOT2-HRV1-XS_20060921-111133-781_L1C_039-263-0_D_V1-0/SPOT2-HRV1-XS_20060921-111133-781_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060921-111133-781_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060921-111133-781_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T20:35:26.652    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:35:26.652    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060921-111133-781_L1C_039-263-0_D_V1-0.zip
2024-01-10T20:35:26.653    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:35:26.653    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:35:26.653    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:35:26.653    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:35:26.653    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:35:26.653    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:35:26.653    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:35:26.653    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060921-111133-781_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/21/SPOT2-HRV1-XS_20060921-111142-167_L1C_039-264-0_D_V1-0/SPOT2-HRV1-XS_20060921-111142-167_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060921-111142-167_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060921-111142-167_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T20:36:40.782    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:36:40.783    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060921-111142-167_L1C_039-264-0_D_V1-0.zip
2024-01-10T20:36:40.783    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:36:40.783    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:36:40.783    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:36:40.783    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:36:40.783    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:36:40.783    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:36:40.783    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:36:40.783    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060921-111142-167_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/27/SPOT2-HRV2-XS_20061027-111912-404_L1C_039-262-9_D_V1-0/SPOT2-HRV2-XS_20061027-111912-404_L1C_039-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061027-111912-404_L1C_039-262-9_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061027-111912-404_L1C_039-262-9_D_V1-0.zip
run script
2024-01-10T20:38:29.241    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:38:29.242    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061027-111912-404_L1C_039-262-9_D_V1-0.zip
2024-01-10T20:38:29.242    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:38:29.242    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:38:29.242    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:38:29.242    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:38:29.242    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:38:29.242    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:38:29.242    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:38:29.242    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061027-111912-404_L1C_039-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/27/SPOT2-HRV1-XS_20061027-111908-373_L1C_042-263-0_D_V1-0/SPOT2-HRV1-XS_20061027-111908-373_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061027-111908-373_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061027-111908-373_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T20:39:52.404    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:39:52.404    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061027-111908-373_L1C_042-263-0_D_V1-0.zip
2024-01-10T20:39:52.404    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:39:52.404    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:39:52.404    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:39:52.404    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:39:52.404    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:39:52.405    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:39:52.405    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:39:52.405    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T20:41:36.137    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2684 x 0). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061027-111908-373_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/10/27/SPOT2-HRV1-XS_20061027-111911-983_L1C_042-263-4_D_V1-0/SPOT2-HRV1-XS_20061027-111911-983_L1C_042-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061027-111911-983_L1C_042-263-4_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061027-111911-983_L1C_042-263-4_D_V1-0.zip
run script
2024-01-10T20:41:39.200    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:41:39.201    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061027-111911-983_L1C_042-263-4_D_V1-0.zip
2024-01-10T20:41:39.201    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:41:39.201    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:41:39.201    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:41:39.201    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:41:39.201    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:41:39.201    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:41:39.201    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:41:39.201    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061027-111911-983_L1C_042-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/13/SPOT2-HRV1-XS_20060413-110726-139_L1C_039-263-0_D_V1-0/SPOT2-HRV1-XS_20060413-110726-139_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060413-110726-139_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060413-110726-139_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T20:44:14.938    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:44:14.939    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060413-110726-139_L1C_039-263-0_D_V1-0.zip
2024-01-10T20:44:14.939    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:44:14.939    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:44:14.939    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:44:14.940    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:44:14.940    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:44:14.940    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:44:14.940    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:44:14.940    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T20:45:19.935    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (590 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060413-110726-139_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/04/13/SPOT2-HRV1-XS_20060413-110734-511_L1C_039-264-0_D_V1-0/SPOT2-HRV1-XS_20060413-110734-511_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060413-110734-511_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060413-110734-511_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T20:45:22.803    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:45:22.804    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060413-110734-511_L1C_039-264-0_D_V1-0.zip
2024-01-10T20:45:22.804    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:45:22.804    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:45:22.804    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:45:22.804    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:45:22.804    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:45:22.804    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:45:22.804    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:45:22.804    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060413-110734-511_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/18/SPOT2-HRV2-XS_20060418-111120-105_L1C_039-263-3_D_V1-0/SPOT2-HRV2-XS_20060418-111120-105_L1C_039-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060418-111120-105_L1C_039-263-3_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060418-111120-105_L1C_039-263-3_D_V1-0.zip
run script
2024-01-10T20:47:09.593    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:47:09.593    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060418-111120-105_L1C_039-263-3_D_V1-0.zip
2024-01-10T20:47:09.593    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:47:09.593    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:47:09.594    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:47:09.594    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:47:09.594    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:47:09.594    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:47:09.594    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:47:09.594    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T20:47:11.814    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (207 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060418-111120-105_L1C_039-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2006/05/03/SPOT2-HRV2-XS_20060503-112249-435_L1C_039-263-0_D_V1-0/SPOT2-HRV2-XS_20060503-112249-435_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060503-112249-435_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060503-112249-435_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T20:47:14.760    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:47:14.761    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060503-112249-435_L1C_039-263-0_D_V1-0.zip
2024-01-10T20:47:14.761    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:47:14.761    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:47:14.761    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:47:14.761    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:47:14.761    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:47:14.761    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:47:14.761    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:47:14.761    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060503-112249-435_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/03/SPOT2-HRV2-XS_20060503-112253-947_L1C_039-263-5_D_V1-0/SPOT2-HRV2-XS_20060503-112253-947_L1C_039-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060503-112253-947_L1C_039-263-5_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060503-112253-947_L1C_039-263-5_D_V1-0.zip
run script
2024-01-10T20:48:52.569    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:48:52.569    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060503-112253-947_L1C_039-263-5_D_V1-0.zip
2024-01-10T20:48:52.569    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:48:52.569    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:48:52.569    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:48:52.569    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:48:52.569    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:48:52.569    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:48:52.569    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:48:52.569    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060503-112253-947_L1C_039-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/14/SPOT2-HRV1-XS_20060514-111114-650_L1C_039-263-0_D_V1-0/SPOT2-HRV1-XS_20060514-111114-650_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060514-111114-650_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060514-111114-650_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T20:51:21.475    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:51:21.475    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060514-111114-650_L1C_039-263-0_D_V1-0.zip
2024-01-10T20:51:21.475    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:51:21.475    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:51:21.475    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:51:21.475    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:51:21.475    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:51:21.475    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:51:21.475    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:51:21.475    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060514-111114-650_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/14/SPOT2-HRV2-XS_20060514-111106-399_L1C_046-263-2_D_V1-0/SPOT2-HRV2-XS_20060514-111106-399_L1C_046-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060514-111106-399_L1C_046-263-2_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060514-111106-399_L1C_046-263-2_D_V1-0.zip
run script
2024-01-10T20:52:39.875    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:52:39.875    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060514-111106-399_L1C_046-263-2_D_V1-0.zip
2024-01-10T20:52:39.875    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:52:39.875    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:52:39.875    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:52:39.875    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:52:39.875    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:52:39.875    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:52:39.875    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:52:39.875    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060514-111106-399_L1C_046-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/14/SPOT2-HRV2-XS_20060514-111113-086_L1C_046-264-0_D_V1-0/SPOT2-HRV2-XS_20060514-111113-086_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060514-111113-086_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060514-111113-086_L1C_046-264-0_D_V1-0.zip
run script
2024-01-10T20:53:27.091    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:53:27.091    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060514-111113-086_L1C_046-264-0_D_V1-0.zip
2024-01-10T20:53:27.091    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:53:27.091    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:53:27.091    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:53:27.091    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:53:27.091    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:53:27.092    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:53:27.092    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:53:27.092    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060514-111113-086_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/31/SPOT2-HRV1-XS_20060531-104417-437_L1C_039-263-0_D_V1-0/SPOT2-HRV1-XS_20060531-104417-437_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060531-104417-437_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060531-104417-437_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T20:54:41.873    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:54:41.873    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060531-104417-437_L1C_039-263-0_D_V1-0.zip
2024-01-10T20:54:41.873    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:54:41.873    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:54:41.873    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:54:41.873    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:54:41.873    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:54:41.873    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:54:41.873    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:54:41.873    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060531-104417-437_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/31/SPOT2-HRV1-XS_20060531-104425-712_L1C_039-264-0_D_V1-0/SPOT2-HRV1-XS_20060531-104425-712_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060531-104425-712_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060531-104425-712_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T20:56:04.239    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:56:04.239    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060531-104425-712_L1C_039-264-0_D_V1-0.zip
2024-01-10T20:56:04.239    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:56:04.239    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:56:04.239    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:56:04.239    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:56:04.239    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:56:04.240    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:56:04.240    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:56:04.240    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060531-104425-712_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/31/SPOT2-HRV2-XS_20060531-104416-495_L1C_040-263-0_D_V1-0/SPOT2-HRV2-XS_20060531-104416-495_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060531-104416-495_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060531-104416-495_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T20:58:07.586    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:58:07.586    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060531-104416-495_L1C_040-263-0_D_V1-0.zip
2024-01-10T20:58:07.586    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:58:07.586    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:58:07.586    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:58:07.586    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:58:07.586    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:58:07.586    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:58:07.587    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:58:07.587    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060531-104416-495_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/31/SPOT2-HRV2-XS_20060531-104424-773_L1C_040-264-0_D_V1-0/SPOT2-HRV2-XS_20060531-104424-773_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060531-104424-773_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060531-104424-773_L1C_040-264-0_D_V1-0.zip
run script
2024-01-10T20:59:39.598    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T20:59:39.598    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060531-104424-773_L1C_040-264-0_D_V1-0.zip
2024-01-10T20:59:39.598    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T20:59:39.598    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T20:59:39.598    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T20:59:39.598    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T20:59:39.598    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T20:59:39.598    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T20:59:39.598    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T20:59:39.598    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060531-104424-773_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/05/SPOT2-HRV1-XS_20060605-104811-333_L1C_039-263-0_D_V1-0/SPOT2-HRV1-XS_20060605-104811-333_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060605-104811-333_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060605-104811-333_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T21:01:47.967    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:01:47.969    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060605-104811-333_L1C_039-263-0_D_V1-0.zip
2024-01-10T21:01:47.969    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:01:47.969    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:01:47.969    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:01:47.969    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:01:47.969    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:01:47.969    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:01:47.969    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:01:47.969    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060605-104811-333_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/05/SPOT2-HRV1-XS_20060605-104815-845_L1C_039-263-5_D_V1-0/SPOT2-HRV1-XS_20060605-104815-845_L1C_039-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060605-104815-845_L1C_039-263-5_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060605-104815-845_L1C_039-263-5_D_V1-0.zip
run script
2024-01-10T21:03:07.654    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:03:07.655    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060605-104815-845_L1C_039-263-5_D_V1-0.zip
2024-01-10T21:03:07.655    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:03:07.655    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:03:07.655    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:03:07.655    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:03:07.655    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:03:07.655    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:03:07.655    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:03:07.655    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060605-104815-845_L1C_039-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/05/SPOT2-HRV2-XS_20060605-104809-363_L1C_041-263-0_D_V1-0/SPOT2-HRV2-XS_20060605-104809-363_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060605-104809-363_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060605-104809-363_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T21:05:04.830    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:05:04.830    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060605-104809-363_L1C_041-263-0_D_V1-0.zip
2024-01-10T21:05:04.830    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:05:04.830    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:05:04.830    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:05:04.830    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:05:04.830    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:05:04.830    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:05:04.830    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:05:04.830    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060605-104809-363_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/05/SPOT2-HRV2-XS_20060605-104815-679_L1C_041-263-7_D_V1-0/SPOT2-HRV2-XS_20060605-104815-679_L1C_041-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060605-104815-679_L1C_041-263-7_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060605-104815-679_L1C_041-263-7_D_V1-0.zip
run script
2024-01-10T21:06:28.081    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:06:28.081    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060605-104815-679_L1C_041-263-7_D_V1-0.zip
2024-01-10T21:06:28.081    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:06:28.081    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:06:28.081    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:06:28.081    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:06:28.081    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:06:28.081    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:06:28.081    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:06:28.081    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060605-104815-679_L1C_041-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/14/SPOT2-HRV2-XS_20060614-111515-169_L1C_039-263-0_D_V1-0/SPOT2-HRV2-XS_20060614-111515-169_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060614-111515-169_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060614-111515-169_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T21:08:31.875    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:08:31.876    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060614-111515-169_L1C_039-263-0_D_V1-0.zip
2024-01-10T21:08:31.876    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:08:31.876    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:08:31.876    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:08:31.876    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:08:31.876    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:08:31.876    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:08:31.876    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:08:31.876    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060614-111515-169_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/14/SPOT2-HRV2-XS_20060614-111516-973_L1C_039-263-2_D_V1-0/SPOT2-HRV2-XS_20060614-111516-973_L1C_039-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060614-111516-973_L1C_039-263-2_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060614-111516-973_L1C_039-263-2_D_V1-0.zip
run script
2024-01-10T21:09:51.649    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:09:51.650    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060614-111516-973_L1C_039-263-2_D_V1-0.zip
2024-01-10T21:09:51.650    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:09:51.650    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:09:51.650    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:09:51.650    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:09:51.651    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:09:51.651    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:09:51.651    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:09:51.651    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060614-111516-973_L1C_039-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/14/SPOT2-HRV1-XS_20060614-111506-999_L1C_044-262-8_D_V1-0/SPOT2-HRV1-XS_20060614-111506-999_L1C_044-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060614-111506-999_L1C_044-262-8_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060614-111506-999_L1C_044-262-8_D_V1-0.zip
run script
2024-01-10T21:11:29.622    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:11:29.623    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060614-111506-999_L1C_044-262-8_D_V1-0.zip
2024-01-10T21:11:29.623    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:11:29.623    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:11:29.623    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:11:29.624    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:11:29.624    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:11:29.624    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:11:29.624    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:11:29.624    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060614-111506-999_L1C_044-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/14/SPOT2-HRV1-XS_20060614-111508-262_L1C_044-263-0_D_V1-0/SPOT2-HRV1-XS_20060614-111508-262_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060614-111508-262_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060614-111508-262_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T21:12:56.600    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:12:56.601    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060614-111508-262_L1C_044-263-0_D_V1-0.zip
2024-01-10T21:12:56.601    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:12:56.602    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:12:56.602    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:12:56.602    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:12:56.602    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:12:56.602    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:12:56.602    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:12:56.602    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060614-111508-262_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/14/SPOT2-HRV1-XS_20060614-111516-748_L1C_044-264-0_D_V1-0/SPOT2-HRV1-XS_20060614-111516-748_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060614-111516-748_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060614-111516-748_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T21:14:37.786    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:14:37.787    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060614-111516-748_L1C_044-264-0_D_V1-0.zip
2024-01-10T21:14:37.787    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:14:37.787    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:14:37.787    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:14:37.788    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:14:37.788    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:14:37.788    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:14:37.788    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:14:37.788    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060614-111516-748_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/15/SPOT2-HRV1-XS_20060615-105557-390_L1C_039-263-0_D_V1-0/SPOT2-HRV1-XS_20060615-105557-390_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060615-105557-390_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060615-105557-390_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T21:16:58.882    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:16:58.883    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060615-105557-390_L1C_039-263-0_D_V1-0.zip
2024-01-10T21:16:58.883    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:16:58.883    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:16:58.883    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:16:58.883    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:16:58.883    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:16:58.883    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:16:58.883    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:16:58.883    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060615-105557-390_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/15/SPOT2-HRV1-XS_20060615-105605-695_L1C_039-264-0_D_V1-0/SPOT2-HRV1-XS_20060615-105605-695_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060615-105605-695_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060615-105605-695_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T21:18:12.718    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:18:12.719    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060615-105605-695_L1C_039-264-0_D_V1-0.zip
2024-01-10T21:18:12.719    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:18:12.719    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:18:12.720    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:18:12.720    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:18:12.720    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:18:12.720    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:18:12.720    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:18:12.720    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060615-105605-695_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/16/SPOT2-HRV1-XS_20060716-105949-183_L1C_039-263-0_D_V1-0/SPOT2-HRV1-XS_20060716-105949-183_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060716-105949-183_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060716-105949-183_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T21:20:00.650    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:20:00.651    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060716-105949-183_L1C_039-263-0_D_V1-0.zip
2024-01-10T21:20:00.651    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:20:00.651    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:20:00.651    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:20:00.651    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:20:00.651    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:20:00.651    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:20:00.651    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:20:00.652    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060716-105949-183_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/16/SPOT2-HRV1-XS_20060716-105952-793_L1C_039-263-4_D_V1-0/SPOT2-HRV1-XS_20060716-105952-793_L1C_039-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060716-105952-793_L1C_039-263-4_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060716-105952-793_L1C_039-263-4_D_V1-0.zip
run script
2024-01-10T21:21:03.442    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:21:03.443    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060716-105952-793_L1C_039-263-4_D_V1-0.zip
2024-01-10T21:21:03.443    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:21:03.443    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:21:03.443    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:21:03.443    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:21:03.443    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:21:03.443    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:21:03.443    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:21:03.443    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T21:21:05.942    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (438 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060716-105952-793_L1C_039-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2006/07/16/SPOT2-HRV2-XS_20060716-105949-571_L1C_039-263-0_D_V1-0/SPOT2-HRV2-XS_20060716-105949-571_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060716-105949-571_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060716-105949-571_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T21:21:09.279    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:21:09.279    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060716-105949-571_L1C_039-263-0_D_V1-0.zip
2024-01-10T21:21:09.279    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:21:09.279    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:21:09.279    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:21:09.279    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:21:09.279    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:21:09.279    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:21:09.279    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:21:09.279    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060716-105949-571_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 2]
 [2 2 2 ... 0 0 2]
 [2 2 2 ... 0 0 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/16/SPOT2-HRV2-XS_20060716-105952-279_L1C_039-263-3_D_V1-0/SPOT2-HRV2-XS_20060716-105952-279_L1C_039-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060716-105952-279_L1C_039-263-3_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060716-105952-279_L1C_039-263-3_D_V1-0.zip
run script
2024-01-10T21:22:20.970    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:22:20.971    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060716-105952-279_L1C_039-263-3_D_V1-0.zip
2024-01-10T21:22:20.971    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:22:20.971    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:22:20.971    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:22:20.971    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:22:20.971    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:22:20.972    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:22:20.972    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:22:20.972    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060716-105952-279_L1C_039-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/26/SPOT2-HRV2-XS_20060826-111133-335_L1C_039-263-3_D_V1-0/SPOT2-HRV2-XS_20060826-111133-335_L1C_039-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060826-111133-335_L1C_039-263-3_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060826-111133-335_L1C_039-263-3_D_V1-0.zip
run script
2024-01-10T21:23:55.341    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:23:55.341    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060826-111133-335_L1C_039-263-3_D_V1-0.zip
2024-01-10T21:23:55.341    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:23:55.341    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:23:55.342    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:23:55.342    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:23:55.342    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:23:55.342    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:23:55.342    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:23:55.342    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060826-111133-335_L1C_039-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/03/SPOT2-HRV1-XS_20060403-105951-060_L1C_039-264-0_D_V1-0/SPOT2-HRV1-XS_20060403-105951-060_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060403-105951-060_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060403-105951-060_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T21:25:36.639    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:25:36.640    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060403-105951-060_L1C_039-264-0_D_V1-0.zip
2024-01-10T21:25:36.640    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:25:36.640    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:25:36.641    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:25:36.641    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:25:36.641    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:25:36.641    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:25:36.641    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:25:36.641    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060403-105951-060_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/03/SPOT2-HRV2-XS_20060403-105949-285_L1C_041-264-0_D_V1-0/SPOT2-HRV2-XS_20060403-105949-285_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060403-105949-285_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060403-105949-285_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T21:27:21.705    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:27:21.706    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060403-105949-285_L1C_041-264-0_D_V1-0.zip
2024-01-10T21:27:21.706    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:27:21.706    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:27:21.706    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:27:21.706    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:27:21.706    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:27:21.706    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:27:21.707    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:27:21.707    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060403-105949-285_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/03/29/SPOT2-HRV1-XS_20060329-105546-544_L1C_040-262-5_D_V1-0/SPOT2-HRV1-XS_20060329-105546-544_L1C_040-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060329-105546-544_L1C_040-262-5_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060329-105546-544_L1C_040-262-5_D_V1-0.zip
run script
2024-01-10T21:29:17.925    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:29:17.926    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060329-105546-544_L1C_040-262-5_D_V1-0.zip
2024-01-10T21:29:17.926    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:29:17.926    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:29:17.927    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:29:17.927    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:29:17.927    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:29:17.927    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:29:17.927    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:29:17.927    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060329-105546-544_L1C_040-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/03/29/SPOT2-HRV1-XS_20060329-105550-337_L1C_040-263-0_D_V1-0/SPOT2-HRV1-XS_20060329-105550-337_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060329-105550-337_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060329-105550-337_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T21:29:52.839    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:29:52.840    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060329-105550-337_L1C_040-263-0_D_V1-0.zip
2024-01-10T21:29:52.840    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:29:52.840    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:29:52.841    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:29:52.841    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:29:52.841    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:29:52.841    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:29:52.841    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:29:52.841    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T21:30:56.853    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (145 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060329-105550-337_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 2 2]
 [2 2 2 ... 0 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/03/29/SPOT2-HRV1-XS_20060329-105553-045_L1C_040-263-3_D_V1-0/SPOT2-HRV1-XS_20060329-105553-045_L1C_040-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060329-105553-045_L1C_040-263-3_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060329-105553-045_L1C_040-263-3_D_V1-0.zip
run script
2024-01-10T21:30:59.905    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:30:59.905    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060329-105553-045_L1C_040-263-3_D_V1-0.zip
2024-01-10T21:30:59.905    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:30:59.905    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:30:59.905    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:30:59.905    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:30:59.905    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:30:59.905    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:30:59.905    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:30:59.905    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060329-105553-045_L1C_040-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/24/SPOT2-HRV2-XS_20060524-111854-775_L1C_040-262-4_D_V1-0/SPOT2-HRV2-XS_20060524-111854-775_L1C_040-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060524-111854-775_L1C_040-262-4_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060524-111854-775_L1C_040-262-4_D_V1-0.zip
run script
2024-01-10T21:32:27.787    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:32:27.788    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060524-111854-775_L1C_040-262-4_D_V1-0.zip
2024-01-10T21:32:27.788    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:32:27.788    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:32:27.788    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:32:27.789    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:32:27.789    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:32:27.789    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:32:27.789    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:32:27.789    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060524-111854-775_L1C_040-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 0]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/22/SPOT2-HRV2-XS_20061022-111521-099_L1C_040-262-9_D_V1-0/SPOT2-HRV2-XS_20061022-111521-099_L1C_040-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061022-111521-099_L1C_040-262-9_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061022-111521-099_L1C_040-262-9_D_V1-0.zip
run script
2024-01-10T21:33:08.862    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:33:08.863    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061022-111521-099_L1C_040-262-9_D_V1-0.zip
2024-01-10T21:33:08.864    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:33:08.864    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:33:08.864    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:33:08.864    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:33:08.864    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:33:08.864    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:33:08.864    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:33:08.864    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061022-111521-099_L1C_040-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/22/SPOT2-HRV2-XS_20061022-111521-403_L1C_040-263-0_D_V1-0/SPOT2-HRV2-XS_20061022-111521-403_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061022-111521-403_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061022-111521-403_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T21:34:42.259    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:34:42.259    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061022-111521-403_L1C_040-263-0_D_V1-0.zip
2024-01-10T21:34:42.259    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:34:42.259    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:34:42.260    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:34:42.260    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:34:42.260    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:34:42.260    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:34:42.260    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:34:42.260    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061022-111521-403_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/22/SPOT2-HRV2-XS_20061022-111525-012_L1C_040-263-4_D_V1-0/SPOT2-HRV2-XS_20061022-111525-012_L1C_040-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061022-111525-012_L1C_040-263-4_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061022-111525-012_L1C_040-263-4_D_V1-0.zip
run script
2024-01-10T21:36:18.982    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:36:18.983    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061022-111525-012_L1C_040-263-4_D_V1-0.zip
2024-01-10T21:36:18.983    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:36:18.983    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:36:18.983    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:36:18.983    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:36:18.983    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:36:18.983    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:36:18.983    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:36:18.983    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061022-111525-012_L1C_040-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 2 2 ... 2 2 2]
 [1 2 2 ... 2 2 2]
 [1 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/09/SPOT2-HRV1-XS_20060409-104415-118_L1C_040-263-1_D_V1-0/SPOT2-HRV1-XS_20060409-104415-118_L1C_040-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060409-104415-118_L1C_040-263-1_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060409-104415-118_L1C_040-263-1_D_V1-0.zip
run script
2024-01-10T21:38:33.403    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:38:33.405    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060409-104415-118_L1C_040-263-1_D_V1-0.zip
2024-01-10T21:38:33.405    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:38:33.405    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:38:33.405    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:38:33.405    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:38:33.405    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:38:33.405    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:38:33.405    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:38:33.405    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060409-104415-118_L1C_040-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/09/SPOT2-HRV1-XS_20060409-104422-497_L1C_040-264-0_D_V1-0/SPOT2-HRV1-XS_20060409-104422-497_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060409-104422-497_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060409-104422-497_L1C_040-264-0_D_V1-0.zip
run script
2024-01-10T21:40:13.959    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:40:13.960    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060409-104422-497_L1C_040-264-0_D_V1-0.zip
2024-01-10T21:40:13.960    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:40:13.960    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:40:13.960    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:40:13.960    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:40:13.961    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:40:13.961    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:40:13.961    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:40:13.961    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060409-104422-497_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/24/SPOT2-HRV1-XS_20060424-105553-577_L1C_040-263-4_D_V1-0/SPOT2-HRV1-XS_20060424-105553-577_L1C_040-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060424-105553-577_L1C_040-263-4_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060424-105553-577_L1C_040-263-4_D_V1-0.zip
run script
2024-01-10T21:42:15.854    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:42:15.854    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060424-105553-577_L1C_040-263-4_D_V1-0.zip
2024-01-10T21:42:15.855    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:42:15.855    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:42:15.855    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:42:15.855    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:42:15.855    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:42:15.855    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:42:15.855    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:42:15.855    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060424-105553-577_L1C_040-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/24/SPOT2-HRV2-XS_20060424-105557-800_L1C_047-265-0_D_V1-0/SPOT2-HRV2-XS_20060424-105557-800_L1C_047-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060424-105557-800_L1C_047-265-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060424-105557-800_L1C_047-265-0_D_V1-0.zip
run script
2024-01-10T21:43:55.785    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:43:55.786    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060424-105557-800_L1C_047-265-0_D_V1-0.zip
2024-01-10T21:43:55.786    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:43:55.786    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:43:55.786    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:43:55.786    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:43:55.786    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:43:55.786    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:43:55.786    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:43:55.786    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060424-105557-800_L1C_047-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/29/SPOT2-HRV1-XS_20060429-105941-113_L1C_040-263-0_D_V1-0/SPOT2-HRV1-XS_20060429-105941-113_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060429-105941-113_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060429-105941-113_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T21:44:04.432    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:44:04.432    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060429-105941-113_L1C_040-263-0_D_V1-0.zip
2024-01-10T21:44:04.432    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:44:04.432    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:44:04.433    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:44:04.433    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:44:04.433    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:44:04.433    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:44:04.433    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:44:04.433    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060429-105941-113_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/29/SPOT2-HRV1-XS_20060429-105949-445_L1C_040-264-0_D_V1-0/SPOT2-HRV1-XS_20060429-105949-445_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060429-105949-445_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060429-105949-445_L1C_040-264-0_D_V1-0.zip
run script
2024-01-10T21:45:21.340    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:45:21.340    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060429-105949-445_L1C_040-264-0_D_V1-0.zip
2024-01-10T21:45:21.340    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:45:21.340    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:45:21.340    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:45:21.340    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:45:21.340    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:45:21.340    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:45:21.340    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:45:21.340    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060429-105949-445_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/29/SPOT2-HRV1-XS_20060429-105951-250_L1C_040-264-2_D_V1-0/SPOT2-HRV1-XS_20060429-105951-250_L1C_040-264-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060429-105951-250_L1C_040-264-2_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060429-105951-250_L1C_040-264-2_D_V1-0.zip
run script
2024-01-10T21:46:53.105    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:46:53.106    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060429-105951-250_L1C_040-264-2_D_V1-0.zip
2024-01-10T21:46:53.106    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:46:53.106    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:46:53.106    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:46:53.106    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:46:53.106    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:46:53.106    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:46:53.106    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:46:53.106    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060429-105951-250_L1C_040-264-2_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/26/SPOT2-HRV1-XS_20060526-104022-550_L1C_040-263-0_D_V1-0/SPOT2-HRV1-XS_20060526-104022-550_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060526-104022-550_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060526-104022-550_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T21:48:19.359    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:48:19.361    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060526-104022-550_L1C_040-263-0_D_V1-0.zip
2024-01-10T21:48:19.361    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:48:19.361    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:48:19.361    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:48:19.361    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:48:19.361    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:48:19.361    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:48:19.361    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:48:19.361    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060526-104022-550_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/26/SPOT2-HRV1-XS_20060526-104030-819_L1C_040-264-0_D_V1-0/SPOT2-HRV1-XS_20060526-104030-819_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060526-104030-819_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060526-104030-819_L1C_040-264-0_D_V1-0.zip
run script
2024-01-10T21:49:56.159    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:49:56.160    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060526-104030-819_L1C_040-264-0_D_V1-0.zip
2024-01-10T21:49:56.160    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:49:56.161    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:49:56.161    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:49:56.161    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:49:56.161    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:49:56.161    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:49:56.161    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:49:56.161    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060526-104030-819_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/26/SPOT2-HRV2-XS_20060526-104014-572_L1C_044-262-4_D_V1-0/SPOT2-HRV2-XS_20060526-104014-572_L1C_044-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060526-104014-572_L1C_044-262-4_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060526-104014-572_L1C_044-262-4_D_V1-0.zip
run script
2024-01-10T21:52:12.271    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:52:12.271    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060526-104014-572_L1C_044-262-4_D_V1-0.zip
2024-01-10T21:52:12.272    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:52:12.272    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:52:12.272    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:52:12.272    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:52:12.272    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:52:12.272    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:52:12.272    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:52:12.272    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060526-104014-572_L1C_044-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/26/SPOT2-HRV2-XS_20060526-104019-241_L1C_044-263-0_D_V1-0/SPOT2-HRV2-XS_20060526-104019-241_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060526-104019-241_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060526-104019-241_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T21:52:48.170    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:52:48.171    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060526-104019-241_L1C_044-263-0_D_V1-0.zip
2024-01-10T21:52:48.172    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:52:48.172    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:52:48.172    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:52:48.172    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:52:48.172    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:52:48.172    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:52:48.172    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:52:48.172    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060526-104019-241_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 0 0 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/26/SPOT2-HRV2-XS_20060526-104027-525_L1C_044-264-0_D_V1-0/SPOT2-HRV2-XS_20060526-104027-525_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060526-104027-525_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060526-104027-525_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T21:54:11.236    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:54:11.237    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060526-104027-525_L1C_044-264-0_D_V1-0.zip
2024-01-10T21:54:11.237    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:54:11.237    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:54:11.237    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:54:11.237    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:54:11.237    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:54:11.238    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:54:11.238    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:54:11.238    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060526-104027-525_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/26/SPOT2-HRV2-XS_20060526-104035-821_L1C_044-265-0_D_V1-0/SPOT2-HRV2-XS_20060526-104035-821_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060526-104035-821_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060526-104035-821_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T21:56:02.291    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:56:02.292    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060526-104035-821_L1C_044-265-0_D_V1-0.zip
2024-01-10T21:56:02.292    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:56:02.292    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:56:02.292    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:56:02.292    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:56:02.292    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:56:02.293    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:56:02.293    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:56:02.293    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060526-104035-821_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/21/SPOT2-HRV1-XS_20060821-110742-283_L1C_040-263-6_D_V1-0/SPOT2-HRV1-XS_20060821-110742-283_L1C_040-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060821-110742-283_L1C_040-263-6_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060821-110742-283_L1C_040-263-6_D_V1-0.zip
run script
2024-01-10T21:56:34.942    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:56:34.943    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060821-110742-283_L1C_040-263-6_D_V1-0.zip
2024-01-10T21:56:34.944    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:56:34.944    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:56:34.944    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:56:34.944    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:56:34.944    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:56:34.944    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:56:34.944    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:56:34.944    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060821-110742-283_L1C_040-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/21/SPOT2-HRV1-XS_20060821-110743-185_L1C_040-263-7_D_V1-0/SPOT2-HRV1-XS_20060821-110743-185_L1C_040-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060821-110743-185_L1C_040-263-7_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060821-110743-185_L1C_040-263-7_D_V1-0.zip
run script
2024-01-10T21:58:11.744    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:58:11.745    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060821-110743-185_L1C_040-263-7_D_V1-0.zip
2024-01-10T21:58:11.745    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:58:11.745    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:58:11.745    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:58:11.745    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:58:11.745    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:58:11.745    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:58:11.745    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:58:11.746    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060821-110743-185_L1C_040-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/19/SPOT2-HRV1-XS_20060419-105153-245_L1C_041-262-5_D_V1-0/SPOT2-HRV1-XS_20060419-105153-245_L1C_041-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060419-105153-245_L1C_041-262-5_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060419-105153-245_L1C_041-262-5_D_V1-0.zip
run script
2024-01-10T21:59:48.129    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T21:59:48.129    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060419-105153-245_L1C_041-262-5_D_V1-0.zip
2024-01-10T21:59:48.129    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T21:59:48.129    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T21:59:48.129    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T21:59:48.129    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T21:59:48.129    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T21:59:48.129    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T21:59:48.129    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T21:59:48.129    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060419-105153-245_L1C_041-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/15/SPOT2-HRV1-XS_20060715-111902-079_L1C_041-262-6_D_V1-0/SPOT2-HRV1-XS_20060715-111902-079_L1C_041-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060715-111902-079_L1C_041-262-6_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060715-111902-079_L1C_041-262-6_D_V1-0.zip
run script
2024-01-10T22:00:32.246    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:00:32.248    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060715-111902-079_L1C_041-262-6_D_V1-0.zip
2024-01-10T22:00:32.248    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:00:32.248    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:00:32.248    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:00:32.248    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:00:32.248    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:00:32.248    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:00:32.248    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:00:32.248    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060715-111902-079_L1C_041-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/08/SPOT2-HRV2-XS_20061108-104812-184_L1C_041-262-9_D_V1-0/SPOT2-HRV2-XS_20061108-104812-184_L1C_041-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061108-104812-184_L1C_041-262-9_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061108-104812-184_L1C_041-262-9_D_V1-0.zip
run script
2024-01-10T22:01:34.257    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:01:34.257    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061108-104812-184_L1C_041-262-9_D_V1-0.zip
2024-01-10T22:01:34.257    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:01:34.257    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:01:34.258    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:01:34.258    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:01:34.258    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:01:34.258    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:01:34.258    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:01:34.258    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061108-104812-184_L1C_041-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/08/SPOT2-HRV2-XS_20061108-104812-346_L1C_041-263-0_D_V1-0/SPOT2-HRV2-XS_20061108-104812-346_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061108-104812-346_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061108-104812-346_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T22:02:54.900    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:02:54.900    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061108-104812-346_L1C_041-263-0_D_V1-0.zip
2024-01-10T22:02:54.900    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:02:54.900    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:02:54.900    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:02:54.900    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:02:54.900    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:02:54.900    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:02:54.900    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:02:54.900    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061108-104812-346_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/08/SPOT2-HRV2-XS_20061108-104820-639_L1C_041-264-0_D_V1-0/SPOT2-HRV2-XS_20061108-104820-639_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061108-104820-639_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061108-104820-639_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T22:04:16.562    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:04:16.563    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061108-104820-639_L1C_041-264-0_D_V1-0.zip
2024-01-10T22:04:16.563    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:04:16.563    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:04:16.563    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:04:16.563    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:04:16.563    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:04:16.563    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:04:16.563    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:04:16.563    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061108-104820-639_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/08/SPOT2-HRV1-XS_20061108-104811-811_L1C_044-263-3_D_V1-0/SPOT2-HRV1-XS_20061108-104811-811_L1C_044-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061108-104811-811_L1C_044-263-3_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061108-104811-811_L1C_044-263-3_D_V1-0.zip
run script
2024-01-10T22:06:11.267    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:06:11.267    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061108-104811-811_L1C_044-263-3_D_V1-0.zip
2024-01-10T22:06:11.267    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:06:11.267    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:06:11.267    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:06:11.267    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:06:11.267    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:06:11.267    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:06:11.267    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:06:11.267    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061108-104811-811_L1C_044-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/08/SPOT2-HRV1-XS_20061108-104817-418_L1C_044-264-0_D_V1-0/SPOT2-HRV1-XS_20061108-104817-418_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061108-104817-418_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061108-104817-418_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T22:07:50.233    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:07:50.234    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061108-104817-418_L1C_044-264-0_D_V1-0.zip
2024-01-10T22:07:50.234    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:07:50.234    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:07:50.234    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:07:50.234    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:07:50.234    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:07:50.234    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:07:50.235    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:07:50.235    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061108-104817-418_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/08/SPOT2-HRV1-XS_20061108-104825-741_L1C_044-265-0_D_V1-0/SPOT2-HRV1-XS_20061108-104825-741_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061108-104825-741_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061108-104825-741_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T22:09:31.420    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:09:31.421    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061108-104825-741_L1C_044-265-0_D_V1-0.zip
2024-01-10T22:09:31.421    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:09:31.421    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:09:31.421    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:09:31.421    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:09:31.421    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:09:31.421    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:09:31.422    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:09:31.422    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061108-104825-741_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/03/03/SPOT2-HRV1-XS_20060303-105541-045_L1C_041-263-0_D_V1-0/SPOT2-HRV1-XS_20060303-105541-045_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060303-105541-045_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060303-105541-045_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T22:10:00.952    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:10:00.954    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060303-105541-045_L1C_041-263-0_D_V1-0.zip
2024-01-10T22:10:00.954    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:10:00.954    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:10:00.954    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:10:00.954    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:10:00.954    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:10:00.954    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:10:00.954    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:10:00.954    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060303-105541-045_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/03/03/SPOT2-HRV1-XS_20060303-105546-459_L1C_041-263-6_D_V1-0/SPOT2-HRV1-XS_20060303-105546-459_L1C_041-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060303-105546-459_L1C_041-263-6_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060303-105546-459_L1C_041-263-6_D_V1-0.zip
run script
2024-01-10T22:11:20.871    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:11:20.873    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060303-105546-459_L1C_041-263-6_D_V1-0.zip
2024-01-10T22:11:20.873    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:11:20.873    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:11:20.873    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:11:20.873    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:11:20.873    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:11:20.873    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:11:20.873    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:11:20.873    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060303-105546-459_L1C_041-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/03/03/SPOT2-HRV2-XS_20060303-105537-315_L1C_044-263-0_D_V1-0/SPOT2-HRV2-XS_20060303-105537-315_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060303-105537-315_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060303-105537-315_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T22:13:18.135    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:13:18.136    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060303-105537-315_L1C_044-263-0_D_V1-0.zip
2024-01-10T22:13:18.136    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:13:18.136    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:13:18.137    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:13:18.137    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:13:18.137    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:13:18.137    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:13:18.137    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:13:18.137    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060303-105537-315_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/03/03/SPOT2-HRV2-XS_20060303-105545-668_L1C_044-264-0_D_V1-0/SPOT2-HRV2-XS_20060303-105545-668_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060303-105545-668_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060303-105545-668_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T22:14:34.663    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:14:34.663    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060303-105545-668_L1C_044-264-0_D_V1-0.zip
2024-01-10T22:14:34.663    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:14:34.663    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:14:34.663    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:14:34.663    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:14:34.663    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:14:34.664    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:14:34.664    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:14:34.664    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060303-105545-668_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/03/03/SPOT2-HRV2-XS_20060303-105546-570_L1C_044-264-1_D_V1-0/SPOT2-HRV2-XS_20060303-105546-570_L1C_044-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060303-105546-570_L1C_044-264-1_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060303-105546-570_L1C_044-264-1_D_V1-0.zip
run script
2024-01-10T22:16:16.747    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:16:16.749    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060303-105546-570_L1C_044-264-1_D_V1-0.zip
2024-01-10T22:16:16.749    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:16:16.749    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:16:16.749    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:16:16.749    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:16:16.749    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:16:16.749    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:16:16.749    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:16:16.749    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060303-105546-570_L1C_044-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/03/24/SPOT2-HRV1-XS_20060324-105156-195_L1C_041-263-0_D_V1-0/SPOT2-HRV1-XS_20060324-105156-195_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060324-105156-195_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060324-105156-195_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T22:17:57.152    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:17:57.153    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060324-105156-195_L1C_041-263-0_D_V1-0.zip
2024-01-10T22:17:57.153    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:17:57.154    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:17:57.154    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:17:57.154    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:17:57.154    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:17:57.154    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:17:57.154    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:17:57.154    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060324-105156-195_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/03/24/SPOT2-HRV1-XS_20060324-105204-503_L1C_041-264-0_D_V1-0/SPOT2-HRV1-XS_20060324-105204-503_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060324-105204-503_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060324-105204-503_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T22:19:17.869    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:19:17.870    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060324-105204-503_L1C_041-264-0_D_V1-0.zip
2024-01-10T22:19:17.870    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:19:17.870    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:19:17.870    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:19:17.870    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:19:17.871    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:19:17.871    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:19:17.871    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:19:17.871    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060324-105204-503_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/03/24/SPOT2-HRV2-XS_20060324-105154-465_L1C_043-263-0_D_V1-0/SPOT2-HRV2-XS_20060324-105154-465_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060324-105154-465_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060324-105154-465_L1C_043-263-0_D_V1-0.zip
run script
2024-01-10T22:21:12.754    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:21:12.755    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060324-105154-465_L1C_043-263-0_D_V1-0.zip
2024-01-10T22:21:12.755    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:21:12.755    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:21:12.755    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:21:12.755    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:21:12.755    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:21:12.755    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:21:12.755    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:21:12.755    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060324-105154-465_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/03/24/SPOT2-HRV2-XS_20060324-105202-789_L1C_043-264-0_D_V1-0/SPOT2-HRV2-XS_20060324-105202-789_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060324-105202-789_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060324-105202-789_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T22:22:30.813    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:22:30.813    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060324-105202-789_L1C_043-264-0_D_V1-0.zip
2024-01-10T22:22:30.813    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:22:30.814    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:22:30.814    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:22:30.814    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:22:30.814    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:22:30.814    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:22:30.814    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:22:30.814    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060324-105202-789_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/03/24/SPOT2-HRV2-XS_20060324-105204-593_L1C_043-264-2_D_V1-0/SPOT2-HRV2-XS_20060324-105204-593_L1C_043-264-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060324-105204-593_L1C_043-264-2_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060324-105204-593_L1C_043-264-2_D_V1-0.zip
run script
2024-01-10T22:24:10.938    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:24:10.938    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060324-105204-593_L1C_043-264-2_D_V1-0.zip
2024-01-10T22:24:10.939    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:24:10.939    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:24:10.939    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:24:10.939    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:24:10.939    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:24:10.939    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:24:10.939    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:24:10.939    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060324-105204-593_L1C_043-264-2_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/19/SPOT2-HRV2-XS_20060519-111514-208_L1C_041-263-9_D_V1-0/SPOT2-HRV2-XS_20060519-111514-208_L1C_041-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060519-111514-208_L1C_041-263-9_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060519-111514-208_L1C_041-263-9_D_V1-0.zip
run script
2024-01-10T22:25:39.288    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:25:39.289    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060519-111514-208_L1C_041-263-9_D_V1-0.zip
2024-01-10T22:25:39.289    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:25:39.289    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:25:39.290    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:25:39.290    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:25:39.290    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:25:39.290    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:25:39.290    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:25:39.290    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060519-111514-208_L1C_041-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/10/SPOT2-HRV2-XS_20060610-105202-353_L1C_041-263-0_D_V1-0/SPOT2-HRV2-XS_20060610-105202-353_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060610-105202-353_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060610-105202-353_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T22:27:56.766    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:27:56.767    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060610-105202-353_L1C_041-263-0_D_V1-0.zip
2024-01-10T22:27:56.767    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:27:56.767    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:27:56.767    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:27:56.767    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:27:56.767    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:27:56.767    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:27:56.767    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:27:56.767    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060610-105202-353_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/10/SPOT2-HRV2-XS_20060610-105203-256_L1C_041-263-1_D_V1-0/SPOT2-HRV2-XS_20060610-105203-256_L1C_041-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060610-105203-256_L1C_041-263-1_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060610-105203-256_L1C_041-263-1_D_V1-0.zip
run script
2024-01-10T22:29:16.601    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:29:16.602    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060610-105203-256_L1C_041-263-1_D_V1-0.zip
2024-01-10T22:29:16.602    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:29:16.603    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:29:16.603    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:29:16.603    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:29:16.603    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:29:16.603    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:29:16.603    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:29:16.603    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060610-105203-256_L1C_041-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/10/SPOT2-HRV1-XS_20060610-105200-924_L1C_042-263-0_D_V1-0/SPOT2-HRV1-XS_20060610-105200-924_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060610-105200-924_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060610-105200-924_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T22:30:48.148    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:30:48.149    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060610-105200-924_L1C_042-263-0_D_V1-0.zip
2024-01-10T22:30:48.149    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:30:48.149    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:30:48.149    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:30:48.149    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:30:48.149    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:30:48.149    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:30:48.149    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:30:48.149    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060610-105200-924_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/10/SPOT2-HRV1-XS_20060610-105203-632_L1C_042-263-3_D_V1-0/SPOT2-HRV1-XS_20060610-105203-632_L1C_042-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060610-105203-632_L1C_042-263-3_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060610-105203-632_L1C_042-263-3_D_V1-0.zip
run script
2024-01-10T22:32:06.671    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:32:06.672    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060610-105203-632_L1C_042-263-3_D_V1-0.zip
2024-01-10T22:32:06.672    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:32:06.672    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:32:06.672    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:32:06.672    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:32:06.672    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:32:06.672    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:32:06.672    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:32:06.672    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060610-105203-632_L1C_042-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/17/SPOT2-HRV1-XS_20060717-104027-280_L1C_041-263-0_D_V1-0/SPOT2-HRV1-XS_20060717-104027-280_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060717-104027-280_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060717-104027-280_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T22:33:44.239    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:33:44.240    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060717-104027-280_L1C_041-263-0_D_V1-0.zip
2024-01-10T22:33:44.240    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:33:44.240    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:33:44.240    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:33:44.240    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:33:44.240    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:33:44.241    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:33:44.241    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:33:44.241    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060717-104027-280_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/17/SPOT2-HRV1-XS_20060717-104032-694_L1C_041-263-6_D_V1-0/SPOT2-HRV1-XS_20060717-104032-694_L1C_041-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060717-104032-694_L1C_041-263-6_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060717-104032-694_L1C_041-263-6_D_V1-0.zip
run script
2024-01-10T22:35:15.651    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:35:15.652    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060717-104032-694_L1C_041-263-6_D_V1-0.zip
2024-01-10T22:35:15.652    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:35:15.652    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:35:15.653    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:35:15.653    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:35:15.653    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:35:15.653    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:35:15.653    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:35:15.653    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060717-104032-694_L1C_041-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/17/SPOT2-HRV2-XS_20060717-104027-132_L1C_041-263-0_D_V1-0/SPOT2-HRV2-XS_20060717-104027-132_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060717-104027-132_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060717-104027-132_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T22:37:29.904    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:37:29.904    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060717-104027-132_L1C_041-263-0_D_V1-0.zip
2024-01-10T22:37:29.904    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:37:29.904    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:37:29.904    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:37:29.905    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:37:29.905    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:37:29.905    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:37:29.905    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:37:29.905    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060717-104027-132_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/17/SPOT2-HRV2-XS_20060717-104032-547_L1C_041-263-6_D_V1-0/SPOT2-HRV2-XS_20060717-104032-547_L1C_041-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060717-104032-547_L1C_041-263-6_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060717-104032-547_L1C_041-263-6_D_V1-0.zip
run script
2024-01-10T22:39:03.527    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:39:03.528    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060717-104032-547_L1C_041-263-6_D_V1-0.zip
2024-01-10T22:39:03.528    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:39:03.528    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:39:03.528    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:39:03.528    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:39:03.528    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:39:03.528    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:39:03.528    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:39:03.528    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060717-104032-547_L1C_041-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/29/SPOT2-HRV2-XS_20061029-104031-692_L1C_041-263-0_D_V1-0/SPOT2-HRV2-XS_20061029-104031-692_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061029-104031-692_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061029-104031-692_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T22:41:15.559    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:41:15.559    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061029-104031-692_L1C_041-263-0_D_V1-0.zip
2024-01-10T22:41:15.559    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:41:15.559    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:41:15.559    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:41:15.559    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:41:15.559    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:41:15.559    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:41:15.559    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:41:15.559    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061029-104031-692_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/29/SPOT2-HRV2-XS_20061029-104039-814_L1C_041-263-9_D_V1-0/SPOT2-HRV2-XS_20061029-104039-814_L1C_041-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061029-104039-814_L1C_041-263-9_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061029-104039-814_L1C_041-263-9_D_V1-0.zip
run script
2024-01-10T22:42:46.631    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:42:46.632    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061029-104039-814_L1C_041-263-9_D_V1-0.zip
2024-01-10T22:42:46.632    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:42:46.632    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:42:46.632    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:42:46.632    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:42:46.632    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:42:46.632    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:42:46.632    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:42:46.632    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061029-104039-814_L1C_041-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/29/SPOT2-HRV1-XS_20061029-104031-051_L1C_042-263-0_D_V1-0/SPOT2-HRV1-XS_20061029-104031-051_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061029-104031-051_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061029-104031-051_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T22:44:53.097    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:44:53.098    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061029-104031-051_L1C_042-263-0_D_V1-0.zip
2024-01-10T22:44:53.098    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:44:53.098    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:44:53.098    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:44:53.098    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:44:53.098    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:44:53.098    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:44:53.098    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:44:53.098    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T22:46:10.665    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (312 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061029-104031-051_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/10/29/SPOT2-HRV1-XS_20061029-104039-326_L1C_042-264-0_D_V1-0/SPOT2-HRV1-XS_20061029-104039-326_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061029-104039-326_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061029-104039-326_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T22:46:13.552    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:46:13.552    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061029-104039-326_L1C_042-264-0_D_V1-0.zip
2024-01-10T22:46:13.552    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:46:13.552    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:46:13.552    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:46:13.552    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:46:13.552    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:46:13.552    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:46:13.552    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:46:13.552    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061029-104039-326_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/03/SPOT2-HRV2-XS_20061103-104430-478_L1C_041-263-9_D_V1-0/SPOT2-HRV2-XS_20061103-104430-478_L1C_041-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061103-104430-478_L1C_041-263-9_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061103-104430-478_L1C_041-263-9_D_V1-0.zip
run script
2024-01-10T22:48:11.121    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:48:11.122    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061103-104430-478_L1C_041-263-9_D_V1-0.zip
2024-01-10T22:48:11.122    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:48:11.122    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:48:11.122    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:48:11.122    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:48:11.122    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:48:11.122    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:48:11.122    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:48:11.122    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061103-104430-478_L1C_041-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/03/SPOT2-HRV2-XS_20061103-104430-641_L1C_041-264-0_D_V1-0/SPOT2-HRV2-XS_20061103-104430-641_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061103-104430-641_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061103-104430-641_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T22:50:15.645    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:50:15.646    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061103-104430-641_L1C_041-264-0_D_V1-0.zip
2024-01-10T22:50:15.646    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:50:15.646    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:50:15.646    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:50:15.647    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:50:15.647    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:50:15.647    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:50:15.647    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:50:15.647    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061103-104430-641_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/03/SPOT2-HRV1-XS_20061103-104430-391_L1C_044-264-3_D_V1-0/SPOT2-HRV1-XS_20061103-104430-391_L1C_044-264-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061103-104430-391_L1C_044-264-3_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061103-104430-391_L1C_044-264-3_D_V1-0.zip
run script
2024-01-10T22:52:18.463    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:52:18.463    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061103-104430-391_L1C_044-264-3_D_V1-0.zip
2024-01-10T22:52:18.464    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:52:18.464    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:52:18.464    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:52:18.464    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:52:18.464    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:52:18.464    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:52:18.464    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:52:18.464    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061103-104430-391_L1C_044-264-3_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/03/SPOT2-HRV1-XS_20061103-104435-992_L1C_044-265-0_D_V1-0/SPOT2-HRV1-XS_20061103-104435-992_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061103-104435-992_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061103-104435-992_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T22:53:42.033    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:53:42.035    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061103-104435-992_L1C_044-265-0_D_V1-0.zip
2024-01-10T22:53:42.035    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:53:42.035    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:53:42.035    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:53:42.035    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:53:42.035    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:53:42.035    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:53:42.035    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:53:42.035    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061103-104435-992_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/12/20/SPOT2-HRV2-XS_20061220-104008-885_L1C_041-263-7_D_V1-0/SPOT2-HRV2-XS_20061220-104008-885_L1C_041-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061220-104008-885_L1C_041-263-7_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061220-104008-885_L1C_041-263-7_D_V1-0.zip
run script
2024-01-10T22:54:12.745    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:54:12.745    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061220-104008-885_L1C_041-263-7_D_V1-0.zip
2024-01-10T22:54:12.745    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:54:12.745    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:54:12.745    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:54:12.745    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:54:12.745    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:54:12.745    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:54:12.745    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:54:12.745    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061220-104008-885_L1C_041-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/12/20/SPOT2-HRV2-XS_20061220-104010-840_L1C_041-264-0_D_V1-0/SPOT2-HRV2-XS_20061220-104010-840_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061220-104010-840_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061220-104010-840_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T22:56:23.685    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:56:23.687    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061220-104010-840_L1C_041-264-0_D_V1-0.zip
2024-01-10T22:56:23.687    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:56:23.687    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:56:23.687    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:56:23.687    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:56:23.687    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:56:23.687    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:56:23.687    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:56:23.687    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061220-104010-840_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/12/20/SPOT2-HRV1-XS_20061220-104008-352_L1C_042-263-8_D_V1-0/SPOT2-HRV1-XS_20061220-104008-352_L1C_042-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061220-104008-352_L1C_042-263-8_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061220-104008-352_L1C_042-263-8_D_V1-0.zip
run script
2024-01-10T22:58:36.796    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T22:58:36.797    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061220-104008-352_L1C_042-263-8_D_V1-0.zip
2024-01-10T22:58:36.797    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T22:58:36.797    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T22:58:36.797    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T22:58:36.797    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T22:58:36.797    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T22:58:36.797    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T22:58:36.797    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T22:58:36.797    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061220-104008-352_L1C_042-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/12/20/SPOT2-HRV1-XS_20061220-104009-414_L1C_042-264-0_D_V1-0/SPOT2-HRV1-XS_20061220-104009-414_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061220-104009-414_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061220-104009-414_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T23:00:25.098    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:00:25.098    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061220-104009-414_L1C_042-264-0_D_V1-0.zip
2024-01-10T23:00:25.098    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:00:25.099    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:00:25.099    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:00:25.099    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:00:25.099    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:00:25.099    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:00:25.099    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:00:25.099    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T23:02:07.268    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (410 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061220-104009-414_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/05/04/SPOT2-HRV2-XS_20060504-110326-177_L1C_042-262-6_D_V1-0/SPOT2-HRV2-XS_20060504-110326-177_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060504-110326-177_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060504-110326-177_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T23:02:10.553    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:02:10.553    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060504-110326-177_L1C_042-262-6_D_V1-0.zip
2024-01-10T23:02:10.553    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:02:10.553    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:02:10.553    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:02:10.554    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:02:10.554    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:02:10.554    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:02:10.554    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:02:10.554    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060504-110326-177_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/30/SPOT2-HRV1-XS_20060430-104022-870_L1C_042-263-5_D_V1-0/SPOT2-HRV1-XS_20060430-104022-870_L1C_042-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060430-104022-870_L1C_042-263-5_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060430-104022-870_L1C_042-263-5_D_V1-0.zip
run script
2024-01-10T23:03:01.885    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:03:01.887    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060430-104022-870_L1C_042-263-5_D_V1-0.zip
2024-01-10T23:03:01.887    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:03:01.887    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:03:01.887    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:03:01.887    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:03:01.887    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:03:01.887    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:03:01.887    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:03:01.887    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060430-104022-870_L1C_042-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/30/SPOT2-HRV1-XS_20060430-104026-639_L1C_042-264-0_D_V1-0/SPOT2-HRV1-XS_20060430-104026-639_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060430-104026-639_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060430-104026-639_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T23:04:53.281    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:04:53.282    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060430-104026-639_L1C_042-264-0_D_V1-0.zip
2024-01-10T23:04:53.282    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:04:53.282    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:04:53.282    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:04:53.282    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:04:53.282    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:04:53.282    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:04:53.282    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:04:53.282    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T23:06:35.083    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (408 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060430-104026-639_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/08/07/SPOT2-HRV2-XS_20060807-103641-160_L1C_042-263-7_D_V1-0/SPOT2-HRV2-XS_20060807-103641-160_L1C_042-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060807-103641-160_L1C_042-263-7_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060807-103641-160_L1C_042-263-7_D_V1-0.zip
run script
2024-01-10T23:06:38.243    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:06:38.244    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060807-103641-160_L1C_042-263-7_D_V1-0.zip
2024-01-10T23:06:38.244    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:06:38.244    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:06:38.244    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:06:38.244    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:06:38.244    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:06:38.244    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:06:38.244    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:06:38.244    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060807-103641-160_L1C_042-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/07/SPOT2-HRV2-XS_20060807-103643-116_L1C_043-264-0_D_V1-0/SPOT2-HRV2-XS_20060807-103643-116_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060807-103643-116_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060807-103643-116_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T23:08:36.858    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:08:36.859    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060807-103643-116_L1C_043-264-0_D_V1-0.zip
2024-01-10T23:08:36.859    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:08:36.859    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:08:36.859    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:08:36.859    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:08:36.859    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:08:36.859    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:08:36.859    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:08:36.859    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060807-103643-116_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/07/SPOT2-HRV1-XS_20060807-103640-884_L1C_044-263-8_D_V1-0/SPOT2-HRV1-XS_20060807-103640-884_L1C_044-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060807-103640-884_L1C_044-263-8_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060807-103640-884_L1C_044-263-8_D_V1-0.zip
run script
2024-01-10T23:10:33.462    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:10:33.464    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060807-103640-884_L1C_044-263-8_D_V1-0.zip
2024-01-10T23:10:33.464    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:10:33.464    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:10:33.464    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:10:33.464    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:10:33.464    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:10:33.464    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:10:33.464    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:10:33.464    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060807-103640-884_L1C_044-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 2 ... 2 2 2]
 [0 0 2 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/07/SPOT2-HRV1-XS_20060807-103641-942_L1C_044-264-0_D_V1-0/SPOT2-HRV1-XS_20060807-103641-942_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060807-103641-942_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060807-103641-942_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T23:12:28.780    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:12:28.781    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060807-103641-942_L1C_044-264-0_D_V1-0.zip
2024-01-10T23:12:28.781    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:12:28.781    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:12:28.781    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:12:28.781    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:12:28.781    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:12:28.781    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:12:28.781    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:12:28.781    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060807-103641-942_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/07/SPOT2-HRV1-XS_20060807-103650-229_L1C_044-265-0_D_V1-0/SPOT2-HRV1-XS_20060807-103650-229_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060807-103650-229_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060807-103650-229_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T23:14:22.947    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:14:22.948    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060807-103650-229_L1C_044-265-0_D_V1-0.zip
2024-01-10T23:14:22.948    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:14:22.948    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:14:22.948    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:14:22.948    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:14:22.948    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:14:22.948    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:14:22.948    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:14:22.948    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060807-103650-229_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 2]
 [2 2 2 ... 0 0 2]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/08/SPOT2-HRV1-XS_20061008-104435-464_L1C_042-263-9_D_V1-0/SPOT2-HRV1-XS_20061008-104435-464_L1C_042-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061008-104435-464_L1C_042-263-9_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061008-104435-464_L1C_042-263-9_D_V1-0.zip
run script
2024-01-10T23:14:54.996    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:14:54.997    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061008-104435-464_L1C_042-263-9_D_V1-0.zip
2024-01-10T23:14:54.997    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:14:54.997    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:14:54.997    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:14:54.997    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:14:54.997    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:14:54.997    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:14:54.997    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:14:54.997    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T23:16:32.789    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (846 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061008-104435-464_L1C_042-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/10/08/SPOT2-HRV1-XS_20061008-104435-633_L1C_042-264-0_D_V1-0/SPOT2-HRV1-XS_20061008-104435-633_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061008-104435-633_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061008-104435-633_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T23:16:35.772    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:16:35.773    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061008-104435-633_L1C_042-264-0_D_V1-0.zip
2024-01-10T23:16:35.773    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:16:35.773    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:16:35.773    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:16:35.773    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:16:35.773    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:16:35.773    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:16:35.773    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:16:35.773    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T23:18:12.804    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1698 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061008-104435-633_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/10/08/SPOT2-HRV2-XS_20061008-104434-839_L1C_044-264-1_D_V1-0/SPOT2-HRV2-XS_20061008-104434-839_L1C_044-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061008-104434-839_L1C_044-264-1_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061008-104434-839_L1C_044-264-1_D_V1-0.zip
run script
2024-01-10T23:18:15.760    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:18:15.760    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061008-104434-839_L1C_044-264-1_D_V1-0.zip
2024-01-10T23:18:15.760    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:18:15.760    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:18:15.761    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:18:15.761    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:18:15.761    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:18:15.761    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:18:15.761    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:18:15.761    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061008-104434-839_L1C_044-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/08/SPOT2-HRV2-XS_20061008-104442-244_L1C_044-265-0_D_V1-0/SPOT2-HRV2-XS_20061008-104442-244_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061008-104442-244_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061008-104442-244_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T23:19:56.743    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:19:56.744    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061008-104442-244_L1C_044-265-0_D_V1-0.zip
2024-01-10T23:19:56.744    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:19:56.744    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:19:56.744    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:19:56.745    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:19:56.745    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:19:56.745    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:19:56.745    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:19:56.745    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061008-104442-244_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/13/SPOT2-HRV2-XS_20061013-104827-066_L1C_042-263-9_D_V1-0/SPOT2-HRV2-XS_20061013-104827-066_L1C_042-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061013-104827-066_L1C_042-263-9_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061013-104827-066_L1C_042-263-9_D_V1-0.zip
run script
2024-01-10T23:20:26.998    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:20:26.998    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061013-104827-066_L1C_042-263-9_D_V1-0.zip
2024-01-10T23:20:26.998    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:20:26.998    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:20:26.998    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:20:26.998    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:20:26.998    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:20:26.999    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:20:26.999    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:20:26.999    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T23:21:58.268    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (410 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061013-104827-066_L1C_042-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/10/13/SPOT2-HRV2-XS_20061013-104827-249_L1C_042-264-0_D_V1-0/SPOT2-HRV2-XS_20061013-104827-249_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061013-104827-249_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061013-104827-249_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T23:22:01.303    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:22:01.303    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061013-104827-249_L1C_042-264-0_D_V1-0.zip
2024-01-10T23:22:01.303    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:22:01.304    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:22:01.304    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:22:01.304    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:22:01.304    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:22:01.304    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:22:01.304    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:22:01.304    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T23:23:32.270    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (207 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061013-104827-249_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/10/13/SPOT2-HRV1-XS_20061013-104826-476_L1C_044-264-1_D_V1-0/SPOT2-HRV1-XS_20061013-104826-476_L1C_044-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061013-104826-476_L1C_044-264-1_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061013-104826-476_L1C_044-264-1_D_V1-0.zip
run script
2024-01-10T23:23:35.289    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:23:35.291    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061013-104826-476_L1C_044-264-1_D_V1-0.zip
2024-01-10T23:23:35.291    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:23:35.291    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:23:35.291    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:23:35.291    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:23:35.291    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:23:35.291    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:23:35.291    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:23:35.291    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061013-104826-476_L1C_044-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/02/SPOT2-HRV1-XS_20061102-110340-907_L1C_042-263-0_D_V1-0/SPOT2-HRV1-XS_20061102-110340-907_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061102-110340-907_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061102-110340-907_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T23:25:12.127    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:25:12.128    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061102-110340-907_L1C_042-263-0_D_V1-0.zip
2024-01-10T23:25:12.128    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:25:12.129    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:25:12.129    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:25:12.129    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:25:12.129    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:25:12.129    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:25:12.129    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:25:12.129    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T23:25:13.849    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (141 x 1). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061102-110340-907_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2006/11/02/SPOT2-HRV1-XS_20061102-110343-615_L1C_042-263-3_D_V1-0/SPOT2-HRV1-XS_20061102-110343-615_L1C_042-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061102-110343-615_L1C_042-263-3_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061102-110343-615_L1C_042-263-3_D_V1-0.zip
run script
2024-01-10T23:25:16.665    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:25:16.665    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061102-110343-615_L1C_042-263-3_D_V1-0.zip
2024-01-10T23:25:16.665    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:25:16.665    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:25:16.665    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:25:16.666    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:25:16.666    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:25:16.666    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:25:16.666    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:25:16.666    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061102-110343-615_L1C_042-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/02/SPOT2-HRV2-XS_20061102-110337-872_L1C_044-263-0_D_V1-0/SPOT2-HRV2-XS_20061102-110337-872_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061102-110337-872_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061102-110337-872_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T23:26:55.174    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:26:55.175    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061102-110337-872_L1C_044-263-0_D_V1-0.zip
2024-01-10T23:26:55.175    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:26:55.175    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:26:55.175    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:26:55.175    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:26:55.175    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:26:55.175    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:26:55.176    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:26:55.176    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T23:26:57.612    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (626 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061102-110337-872_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2006/11/02/SPOT2-HRV2-XS_20061102-110344-189_L1C_044-263-7_D_V1-0/SPOT2-HRV2-XS_20061102-110344-189_L1C_044-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061102-110344-189_L1C_044-263-7_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061102-110344-189_L1C_044-263-7_D_V1-0.zip
run script
2024-01-10T23:27:00.493    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:27:00.494    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061102-110344-189_L1C_044-263-7_D_V1-0.zip
2024-01-10T23:27:00.494    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:27:00.494    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:27:00.494    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:27:00.494    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:27:00.494    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:27:00.494    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:27:00.494    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:27:00.494    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061102-110344-189_L1C_044-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/07/SPOT2-HRV2-XS_20061107-110729-611_L1C_042-263-0_D_V1-0/SPOT2-HRV2-XS_20061107-110729-611_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061107-110729-611_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061107-110729-611_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T23:28:51.513    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:28:51.514    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061107-110729-611_L1C_042-263-0_D_V1-0.zip
2024-01-10T23:28:51.514    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:28:51.514    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:28:51.514    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:28:51.514    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:28:51.514    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:28:51.515    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:28:51.515    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:28:51.515    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061107-110729-611_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/07/SPOT2-HRV2-XS_20061107-110730-514_L1C_042-263-1_D_V1-0/SPOT2-HRV2-XS_20061107-110730-514_L1C_042-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061107-110730-514_L1C_042-263-1_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061107-110730-514_L1C_042-263-1_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2006/11/07/SPOT2-HRV1-XS_20061107-110727-367_L1C_044-263-0_D_V1-0/SPOT2-HRV1-XS_20061107-110727-367_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061107-110727-367_L1C_044-263-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061107-110727-367_L1C_044-263-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2006/11/07/SPOT2-HRV1-XS_20061107-110730-977_L1C_044-263-4_D_V1-0/SPOT2-HRV1-XS_20061107-110730-977_L1C_044-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061107-110730-977_L1C_044-263-4_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061107-110730-977_L1C_044-263-4_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2006/12/15/SPOT2-HRV1-XS_20061215-103619-648_L1C_042-263-8_D_V1-0/SPOT2-HRV1-XS_20061215-103619-648_L1C_042-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061215-103619-648_L1C_042-263-8_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061215-103619-648_L1C_042-263-8_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2006/12/15/SPOT2-HRV1-XS_20061215-103620-698_L1C_042-264-0_D_V1-0/SPOT2-HRV1-XS_20061215-103620-698_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061215-103620-698_L1C_042-264-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061215-103620-698_L1C_042-264-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2006/07/27/SPOT2-HRV1-XS_20060727-104822-023_L1C_042-264-5_D_V1-0/SPOT2-HRV1-XS_20060727-104822-023_L1C_042-264-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060727-104822-023_L1C_042-264-5_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060727-104822-023_L1C_042-264-5_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2006/07/27/SPOT2-HRV2-XS_20060727-104822-342_L1C_045-264-9_D_V1-0/SPOT2-HRV2-XS_20060727-104822-342_L1C_045-264-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060727-104822-342_L1C_045-264-9_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060727-104822-342_L1C_045-264-9_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2006/07/27/SPOT2-HRV2-XS_20060727-104822-552_L1C_045-265-0_D_V1-0/SPOT2-HRV2-XS_20060727-104822-552_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060727-104822-552_L1C_045-265-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060727-104822-552_L1C_045-265-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2006/02/10/SPOT2-HRV2-XS_20060210-105926-174_L1C_043-263-9_D_V1-0/SPOT2-HRV2-XS_20060210-105926-174_L1C_043-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060210-105926-174_L1C_043-263-9_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060210-105926-174_L1C_043-263-9_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2006/02/10/SPOT2-HRV2-XS_20060210-105926-409_L1C_043-264-0_D_V1-0/SPOT2-HRV2-XS_20060210-105926-409_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060210-105926-409_L1C_043-264-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060210-105926-409_L1C_043-264-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2006/07/22/SPOT2-HRV1-XS_20060722-104428-739_L1C_043-264-4_D_V1-0/SPOT2-HRV1-XS_20060722-104428-739_L1C_043-264-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060722-104428-739_L1C_043-264-4_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060722-104428-739_L1C_043-264-4_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2006/07/22/SPOT2-HRV2-XS_20060722-104428-186_L1C_046-264-7_D_V1-0/SPOT2-HRV2-XS_20060722-104428-186_L1C_046-264-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060722-104428-186_L1C_046-264-7_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060722-104428-186_L1C_046-264-7_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2006/07/22/SPOT2-HRV2-XS_20060722-104430-192_L1C_046-265-0_D_V1-0/SPOT2-HRV2-XS_20060722-104430-192_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060722-104430-192_L1C_046-265-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060722-104430-192_L1C_046-265-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2006/04/04/SPOT2-HRV2-XS_20060404-104015-958_L1C_044-262-7_D_V1-0/SPOT2-HRV2-XS_20060404-104015-958_L1C_044-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060404-104015-958_L1C_044-262-7_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060404-104015-958_L1C_044-262-7_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2006/09/07/SPOT2-HRV2-XS_20060907-104027-471_L1C_044-262-4_D_V1-0/SPOT2-HRV2-XS_20060907-104027-471_L1C_044-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060907-104027-471_L1C_044-262-4_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060907-104027-471_L1C_044-262-4_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2006/05/09/SPOT2-HRV1-XS_20060509-110724-859_L1C_044-263-9_D_V1-0/SPOT2-HRV1-XS_20060509-110724-859_L1C_044-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060509-110724-859_L1C_044-263-9_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060509-110724-859_L1C_044-263-9_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2006/05/09/SPOT2-HRV1-XS_20060509-110725-165_L1C_044-264-0_D_V1-0/SPOT2-HRV1-XS_20060509-110725-165_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060509-110725-165_L1C_044-264-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060509-110725-165_L1C_044-264-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2006/05/09/SPOT2-HRV2-XS_20060509-110724-624_L1C_047-264-4_D_V1-0/SPOT2-HRV2-XS_20060509-110724-624_L1C_047-264-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060509-110724-624_L1C_047-264-4_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060509-110724-624_L1C_047-264-4_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2006/09/27/SPOT2-HRV1-XS_20060927-105608-295_L1C_044-263-8_D_V1-0/SPOT2-HRV1-XS_20060927-105608-295_L1C_044-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060927-105608-295_L1C_044-263-8_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060927-105608-295_L1C_044-263-8_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2006/09/27/SPOT2-HRV1-XS_20060927-105609-429_L1C_044-264-0_D_V1-0/SPOT2-HRV1-XS_20060927-105609-429_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060927-105609-429_L1C_044-264-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060927-105609-429_L1C_044-264-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2006/09/27/SPOT2-HRV1-XS_20060927-105617-788_L1C_044-265-0_D_V1-0/SPOT2-HRV1-XS_20060927-105617-788_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060927-105617-788_L1C_044-265-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060927-105617-788_L1C_044-265-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2006/09/27/SPOT2-HRV2-XS_20060927-105608-430_L1C_046-264-1_D_V1-0/SPOT2-HRV2-XS_20060927-105608-430_L1C_046-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060927-105608-430_L1C_046-264-1_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060927-105608-430_L1C_046-264-1_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2006/09/27/SPOT2-HRV2-XS_20060927-105615-905_L1C_046-265-0_D_V1-0/SPOT2-HRV2-XS_20060927-105615-905_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060927-105615-905_L1C_046-265-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060927-105615-905_L1C_046-265-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2006/10/23/SPOT2-HRV2-XS_20061023-105558-710_L1C_044-263-0_D_V1-0/SPOT2-HRV2-XS_20061023-105558-710_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061023-105558-710_L1C_044-263-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061023-105558-710_L1C_044-263-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2006/10/24/SPOT2-HRV1-XS_20061024-103638-139_L1C_044-263-0_D_V1-0/SPOT2-HRV1-XS_20061024-103638-139_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 400
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061024-103638-139_L1C_044-263-0_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061024-103638-139_L1C_044-263-0_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2006/10/24/SPOT2-HRV1-XS_20061024-103640-846_L1C_044-263-3_D_V1-0/SPOT2-HRV1-XS_20061024-103640-846_L1C_044-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061024-103640-846_L1C_044-263-3_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061024-103640-846_L1C_044-263-3_D_V1-0.zip
run script
2024-01-10T23:31:00.919    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:31:00.920    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061024-103640-846_L1C_044-263-3_D_V1-0.zip
2024-01-10T23:31:00.920    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:31:00.920    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:31:00.920    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:31:00.920    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:31:00.920    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:31:00.920    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:31:00.920    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:31:00.920    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061024-103640-846_L1C_044-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/12/09/SPOT2-HRV2-XS_20061209-105150-487_L1C_044-263-8_D_V1-0/SPOT2-HRV2-XS_20061209-105150-487_L1C_044-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061209-105150-487_L1C_044-263-8_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061209-105150-487_L1C_044-263-8_D_V1-0.zip
run script
2024-01-10T23:32:40.653    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:32:40.654    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061209-105150-487_L1C_044-263-8_D_V1-0.zip
2024-01-10T23:32:40.654    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:32:40.654    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:32:40.654    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:32:40.654    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:32:40.654    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:32:40.654    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:32:40.655    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:32:40.655    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061209-105150-487_L1C_044-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/12/09/SPOT2-HRV2-XS_20061209-105151-603_L1C_044-264-0_D_V1-0/SPOT2-HRV2-XS_20061209-105151-603_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061209-105151-603_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061209-105151-603_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T23:34:17.459    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:34:17.460    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061209-105151-603_L1C_044-264-0_D_V1-0.zip
2024-01-10T23:34:17.460    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:34:17.460    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:34:17.460    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:34:17.460    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:34:17.460    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:34:17.460    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:34:17.460    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:34:17.461    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061209-105151-603_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/12/09/SPOT2-HRV2-XS_20061209-105156-115_L1C_044-264-5_D_V1-0/SPOT2-HRV2-XS_20061209-105156-115_L1C_044-264-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061209-105156-115_L1C_044-264-5_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061209-105156-115_L1C_044-264-5_D_V1-0.zip
run script
2024-01-10T23:35:59.193    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:35:59.194    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061209-105156-115_L1C_044-264-5_D_V1-0.zip
2024-01-10T23:35:59.194    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:35:59.194    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:35:59.194    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:35:59.194    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:35:59.194    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:35:59.194    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:35:59.194    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:35:59.194    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061209-105156-115_L1C_044-264-5_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/12/30/SPOT2-HRV2-XS_20061230-104749-999_L1C_044-263-8_D_V1-0/SPOT2-HRV2-XS_20061230-104749-999_L1C_044-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061230-104749-999_L1C_044-263-8_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061230-104749-999_L1C_044-263-8_D_V1-0.zip
run script
2024-01-10T23:37:03.315    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:37:03.316    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061230-104749-999_L1C_044-263-8_D_V1-0.zip
2024-01-10T23:37:03.316    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:37:03.316    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:37:03.316    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:37:03.316    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:37:03.316    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:37:03.316    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:37:03.316    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:37:03.317    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061230-104749-999_L1C_044-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/12/30/SPOT2-HRV2-XS_20061230-104756-509_L1C_044-264-6_D_V1-0/SPOT2-HRV2-XS_20061230-104756-509_L1C_044-264-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061230-104756-509_L1C_044-264-6_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061230-104756-509_L1C_044-264-6_D_V1-0.zip
run script
2024-01-10T23:38:44.205    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:38:44.207    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061230-104756-509_L1C_044-264-6_D_V1-0.zip
2024-01-10T23:38:44.207    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:38:44.207    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:38:44.207    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:38:44.207    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:38:44.207    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:38:44.207    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:38:44.207    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:38:44.207    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061230-104756-509_L1C_044-264-6_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/27/SPOT2-HRV1-XS_20060827-105221-036_L1C_044-264-7_D_V1-0/SPOT2-HRV1-XS_20060827-105221-036_L1C_044-264-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060827-105221-036_L1C_044-264-7_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060827-105221-036_L1C_044-264-7_D_V1-0.zip
run script
2024-01-10T23:39:40.294    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:39:40.295    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060827-105221-036_L1C_044-264-7_D_V1-0.zip
2024-01-10T23:39:40.295    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:39:40.295    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:39:40.295    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:39:40.295    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:39:40.295    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:39:40.295    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:39:40.295    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:39:40.295    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060827-105221-036_L1C_044-264-7_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/27/SPOT2-HRV1-XS_20060827-105223-057_L1C_044-265-0_D_V1-0/SPOT2-HRV1-XS_20060827-105223-057_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060827-105223-057_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060827-105223-057_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T23:40:30.172    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:40:30.172    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060827-105223-057_L1C_044-265-0_D_V1-0.zip
2024-01-10T23:40:30.173    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:40:30.173    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:40:30.173    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:40:30.173    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:40:30.173    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:40:30.173    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:40:30.173    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:40:30.173    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060827-105223-057_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/27/SPOT2-HRV2-XS_20060827-105221-051_L1C_045-264-9_D_V1-0/SPOT2-HRV2-XS_20060827-105221-051_L1C_045-264-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060827-105221-051_L1C_045-264-9_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060827-105221-051_L1C_045-264-9_D_V1-0.zip
run script
2024-01-10T23:40:59.111    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:40:59.113    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060827-105221-051_L1C_045-264-9_D_V1-0.zip
2024-01-10T23:40:59.113    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:40:59.113    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:40:59.113    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:40:59.113    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:40:59.113    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:40:59.113    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:40:59.113    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:40:59.113    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060827-105221-051_L1C_045-264-9_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/27/SPOT2-HRV2-XS_20060827-105221-283_L1C_045-265-0_D_V1-0/SPOT2-HRV2-XS_20060827-105221-283_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060827-105221-283_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060827-105221-283_L1C_045-265-0_D_V1-0.zip
run script
2024-01-10T23:41:27.485    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:41:27.486    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060827-105221-283_L1C_045-265-0_D_V1-0.zip
2024-01-10T23:41:27.486    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:41:27.486    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:41:27.486    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:41:27.486    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:41:27.486    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:41:27.486    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:41:27.486    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:41:27.487    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060827-105221-283_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/17/SPOT2-HRV1-XS_20060917-104832-721_L1C_044-264-8_D_V1-0/SPOT2-HRV1-XS_20060917-104832-721_L1C_044-264-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060917-104832-721_L1C_044-264-8_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060917-104832-721_L1C_044-264-8_D_V1-0.zip
run script
2024-01-10T23:41:52.169    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:41:52.170    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060917-104832-721_L1C_044-264-8_D_V1-0.zip
2024-01-10T23:41:52.170    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:41:52.170    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:41:52.170    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:41:52.170    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:41:52.170    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:41:52.170    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:41:52.170    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:41:52.170    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060917-104832-721_L1C_044-264-8_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/17/SPOT2-HRV1-XS_20060917-104833-825_L1C_044-265-0_D_V1-0/SPOT2-HRV1-XS_20060917-104833-825_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060917-104833-825_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060917-104833-825_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T23:42:32.827    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:42:32.828    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060917-104833-825_L1C_044-265-0_D_V1-0.zip
2024-01-10T23:42:32.828    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:42:32.828    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:42:32.828    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:42:32.828    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:42:32.828    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:42:32.828    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:42:32.829    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:42:32.829    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060917-104833-825_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/01/04/SPOT2-HRV2-XS_20060104-111049-033_L1C_044-265-0_D_V1-0/SPOT2-HRV2-XS_20060104-111049-033_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060104-111049-033_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060104-111049-033_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T23:43:02.144    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:43:02.146    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060104-111049-033_L1C_044-265-0_D_V1-0.zip
2024-01-10T23:43:02.146    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:43:02.146    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:43:02.146    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:43:02.146    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:43:02.146    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:43:02.146    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:43:02.146    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:43:02.146    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060104-111049-033_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/01/04/SPOT2-HRV2-XS_20060104-111038-412_L1C_045-263-7_D_V1-0/SPOT2-HRV2-XS_20060104-111038-412_L1C_045-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060104-111038-412_L1C_045-263-7_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060104-111038-412_L1C_045-263-7_D_V1-0.zip
run script
2024-01-10T23:43:43.378    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:43:43.378    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060104-111038-412_L1C_045-263-7_D_V1-0.zip
2024-01-10T23:43:43.378    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:43:43.378    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:43:43.378    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:43:43.378    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:43:43.378    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:43:43.378    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:43:43.378    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:43:43.378    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T23:43:46.072    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (230 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060104-111038-412_L1C_045-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2006/01/04/SPOT2-HRV2-XS_20060104-111040-563_L1C_045-264-0_D_V1-0/SPOT2-HRV2-XS_20060104-111040-563_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060104-111040-563_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060104-111040-563_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T23:43:48.908    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:43:48.908    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060104-111040-563_L1C_045-264-0_D_V1-0.zip
2024-01-10T23:43:48.908    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:43:48.908    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:43:48.908    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:43:48.908    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:43:48.908    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:43:48.908    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:43:48.908    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:43:48.908    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060104-111040-563_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/01/26/SPOT2-HRV1-XS_20060126-104726-651_L1C_045-262-7_D_V1-0/SPOT2-HRV1-XS_20060126-104726-651_L1C_045-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060126-104726-651_L1C_045-262-7_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060126-104726-651_L1C_045-262-7_D_V1-0.zip
run script
2024-01-10T23:45:59.132    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:45:59.132    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060126-104726-651_L1C_045-262-7_D_V1-0.zip
2024-01-10T23:45:59.132    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:45:59.132    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:45:59.132    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:45:59.132    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:45:59.132    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:45:59.132    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:45:59.132    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:45:59.132    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060126-104726-651_L1C_045-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/01/26/SPOT2-HRV1-XS_20060126-104745-102_L1C_046-264-9_D_V1-0/SPOT2-HRV1-XS_20060126-104745-102_L1C_046-264-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060126-104745-102_L1C_046-264-9_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060126-104745-102_L1C_046-264-9_D_V1-0.zip
run script
2024-01-10T23:46:32.886    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:46:32.888    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060126-104745-102_L1C_046-264-9_D_V1-0.zip
2024-01-10T23:46:32.888    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:46:32.888    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:46:32.888    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:46:32.888    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:46:32.888    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:46:32.888    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:46:32.888    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:46:32.888    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060126-104745-102_L1C_046-264-9_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/01/26/SPOT2-HRV1-XS_20060126-104745-316_L1C_046-265-0_D_V1-0/SPOT2-HRV1-XS_20060126-104745-316_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060126-104745-316_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060126-104745-316_L1C_046-265-0_D_V1-0.zip
run script
2024-01-10T23:46:59.890    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:46:59.891    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060126-104745-316_L1C_046-265-0_D_V1-0.zip
2024-01-10T23:46:59.891    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:46:59.891    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:46:59.891    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:46:59.891    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:46:59.891    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:46:59.891    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:46:59.891    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:46:59.892    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060126-104745-316_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/02/06/SPOT2-HRV1-XS_20060206-103558-767_L1C_045-262-7_D_V1-0/SPOT2-HRV1-XS_20060206-103558-767_L1C_045-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060206-103558-767_L1C_045-262-7_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060206-103558-767_L1C_045-262-7_D_V1-0.zip
run script
2024-01-10T23:47:24.353    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:47:24.354    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060206-103558-767_L1C_045-262-7_D_V1-0.zip
2024-01-10T23:47:24.354    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:47:24.354    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:47:24.354    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:47:24.354    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:47:24.354    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:47:24.354    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:47:24.354    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:47:24.354    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060206-103558-767_L1C_045-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/02/06/SPOT2-HRV1-XS_20060206-103600-728_L1C_045-263-0_D_V1-0/SPOT2-HRV1-XS_20060206-103600-728_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060206-103600-728_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060206-103600-728_L1C_045-263-0_D_V1-0.zip
run script
2024-01-10T23:48:03.796    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:48:03.797    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060206-103600-728_L1C_045-263-0_D_V1-0.zip
2024-01-10T23:48:03.797    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:48:03.797    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:48:03.797    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:48:03.797    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:48:03.797    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:48:03.798    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:48:03.798    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:48:03.798    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060206-103600-728_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/02/06/SPOT2-HRV1-XS_20060206-103609-012_L1C_045-264-0_D_V1-0/SPOT2-HRV1-XS_20060206-103609-012_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060206-103609-012_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060206-103609-012_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T23:48:55.982    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:48:55.983    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060206-103609-012_L1C_045-264-0_D_V1-0.zip
2024-01-10T23:48:55.983    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:48:55.983    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:48:55.983    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:48:55.983    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:48:55.983    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:48:55.983    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:48:55.984    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:48:55.984    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060206-103609-012_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/02/06/SPOT2-HRV1-XS_20060206-103617-302_L1C_046-265-0_D_V1-0/SPOT2-HRV1-XS_20060206-103617-302_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060206-103617-302_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060206-103617-302_L1C_046-265-0_D_V1-0.zip
run script
2024-01-10T23:50:17.379    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:50:17.380    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060206-103617-302_L1C_046-265-0_D_V1-0.zip
2024-01-10T23:50:17.380    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:50:17.380    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:50:17.380    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:50:17.380    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:50:17.380    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:50:17.380    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:50:17.380    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:50:17.380    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060206-103617-302_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/25/SPOT2-HRV1-XS_20060425-103623-651_L1C_045-262-9_D_V1-0/SPOT2-HRV1-XS_20060425-103623-651_L1C_045-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060425-103623-651_L1C_045-262-9_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060425-103623-651_L1C_045-262-9_D_V1-0.zip
run script
2024-01-10T23:50:42.903    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:50:42.905    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060425-103623-651_L1C_045-262-9_D_V1-0.zip
2024-01-10T23:50:42.905    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:50:42.905    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:50:42.905    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:50:42.905    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:50:42.905    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:50:42.905    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:50:42.905    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:50:42.905    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060425-103623-651_L1C_045-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/25/SPOT2-HRV1-XS_20060425-103623-808_L1C_045-263-0_D_V1-0/SPOT2-HRV1-XS_20060425-103623-808_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060425-103623-808_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060425-103623-808_L1C_045-263-0_D_V1-0.zip
run script
2024-01-10T23:51:34.984    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:51:34.984    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060425-103623-808_L1C_045-263-0_D_V1-0.zip
2024-01-10T23:51:34.984    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:51:34.984    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:51:34.984    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:51:34.984    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:51:34.984    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:51:34.984    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:51:34.984    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:51:34.984    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060425-103623-808_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/25/SPOT2-HRV1-XS_20060425-103632-095_L1C_045-264-0_D_V1-0/SPOT2-HRV1-XS_20060425-103632-095_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060425-103632-095_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060425-103632-095_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T23:52:28.042    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:52:28.043    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060425-103632-095_L1C_045-264-0_D_V1-0.zip
2024-01-10T23:52:28.043    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:52:28.043    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:52:28.043    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:52:28.044    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:52:28.044    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:52:28.044    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:52:28.044    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:52:28.044    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060425-103632-095_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/26/SPOT2-HRV1-XS_20060626-104414-308_L1C_045-262-8_D_V1-0/SPOT2-HRV1-XS_20060626-104414-308_L1C_045-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060626-104414-308_L1C_045-262-8_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060626-104414-308_L1C_045-262-8_D_V1-0.zip
run script
2024-01-10T23:53:52.029    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:53:52.030    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060626-104414-308_L1C_045-262-8_D_V1-0.zip
2024-01-10T23:53:52.030    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:53:52.030    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:53:52.030    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:53:52.030    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:53:52.030    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:53:52.030    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:53:52.030    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:53:52.030    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060626-104414-308_L1C_045-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/26/SPOT2-HRV1-XS_20060626-104415-391_L1C_045-263-0_D_V1-0/SPOT2-HRV1-XS_20060626-104415-391_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060626-104415-391_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060626-104415-391_L1C_045-263-0_D_V1-0.zip
run script
2024-01-10T23:54:36.005    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:54:36.006    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060626-104415-391_L1C_045-263-0_D_V1-0.zip
2024-01-10T23:54:36.006    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:54:36.006    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:54:36.006    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:54:36.006    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:54:36.006    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:54:36.006    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:54:36.006    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:54:36.006    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060626-104415-391_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/26/SPOT2-HRV1-XS_20060626-104423-699_L1C_045-264-0_D_V1-0/SPOT2-HRV1-XS_20060626-104423-699_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060626-104423-699_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060626-104423-699_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T23:55:26.920    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:55:26.922    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060626-104423-699_L1C_045-264-0_D_V1-0.zip
2024-01-10T23:55:26.922    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:55:26.922    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:55:26.922    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:55:26.922    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:55:26.922    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:55:26.922    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:55:26.922    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:55:26.922    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060626-104423-699_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/26/SPOT2-HRV1-XS_20060626-104432-016_L1C_045-265-0_D_V1-0/SPOT2-HRV1-XS_20060626-104432-016_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060626-104432-016_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060626-104432-016_L1C_045-265-0_D_V1-0.zip
run script
2024-01-10T23:56:48.888    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:56:48.889    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060626-104432-016_L1C_045-265-0_D_V1-0.zip
2024-01-10T23:56:48.889    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:56:48.889    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:56:48.889    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:56:48.890    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:56:48.890    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:56:48.890    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:56:48.890    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:56:48.890    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060626-104432-016_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/13/SPOT2-HRV1-XS_20061113-105154-838_L1C_045-262-7_D_V1-0/SPOT2-HRV1-XS_20061113-105154-838_L1C_045-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061113-105154-838_L1C_045-262-7_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061113-105154-838_L1C_045-262-7_D_V1-0.zip
run script
2024-01-10T23:57:15.244    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:57:15.245    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061113-105154-838_L1C_045-262-7_D_V1-0.zip
2024-01-10T23:57:15.246    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:57:15.246    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:57:15.246    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:57:15.246    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:57:15.246    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:57:15.246    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:57:15.246    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:57:15.246    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061113-105154-838_L1C_045-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/13/SPOT2-HRV1-XS_20061113-105156-860_L1C_045-263-0_D_V1-0/SPOT2-HRV1-XS_20061113-105156-860_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061113-105156-860_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061113-105156-860_L1C_045-263-0_D_V1-0.zip
run script
2024-01-10T23:57:50.184    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:57:50.184    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061113-105156-860_L1C_045-263-0_D_V1-0.zip
2024-01-10T23:57:50.184    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:57:50.184    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:57:50.184    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:57:50.184    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:57:50.184    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:57:50.185    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:57:50.185    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:57:50.185    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061113-105156-860_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/13/SPOT2-HRV1-XS_20061113-105205-207_L1C_045-264-0_D_V1-0/SPOT2-HRV1-XS_20061113-105205-207_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061113-105205-207_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061113-105205-207_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T23:58:40.323    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T23:58:40.324    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061113-105205-207_L1C_045-264-0_D_V1-0.zip
2024-01-10T23:58:40.324    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T23:58:40.324    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T23:58:40.324    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T23:58:40.324    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T23:58:40.324    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T23:58:40.325    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T23:58:40.325    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T23:58:40.325    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061113-105205-207_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/13/SPOT2-HRV1-XS_20061113-105207-012_L1C_045-264-2_D_V1-0/SPOT2-HRV1-XS_20061113-105207-012_L1C_045-264-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061113-105207-012_L1C_045-264-2_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061113-105207-012_L1C_045-264-2_D_V1-0.zip
run script
2024-01-11T00:00:00.882    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:00:00.882    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061113-105207-012_L1C_045-264-2_D_V1-0.zip
2024-01-11T00:00:00.883    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:00:00.883    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:00:00.883    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:00:00.883    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:00:00.883    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:00:00.883    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:00:00.883    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:00:00.883    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061113-105207-012_L1C_045-264-2_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/02/05/SPOT2-HRV2-XS_20060205-105519-264_L1C_045-263-0_D_V1-0/SPOT2-HRV2-XS_20060205-105519-264_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060205-105519-264_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060205-105519-264_L1C_045-263-0_D_V1-0.zip
run script
2024-01-11T00:01:16.895    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:01:16.895    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060205-105519-264_L1C_045-263-0_D_V1-0.zip
2024-01-11T00:01:16.895    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:01:16.895    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:01:16.895    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:01:16.895    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:01:16.895    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:01:16.895    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:01:16.896    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:01:16.896    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060205-105519-264_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/02/05/SPOT2-HRV2-XS_20060205-105527-632_L1C_045-264-0_D_V1-0/SPOT2-HRV2-XS_20060205-105527-632_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060205-105527-632_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060205-105527-632_L1C_045-264-0_D_V1-0.zip
run script
2024-01-11T00:02:05.871    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:02:05.871    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060205-105527-632_L1C_045-264-0_D_V1-0.zip
2024-01-11T00:02:05.871    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:02:05.871    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:02:05.871    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:02:05.871    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:02:05.871    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:02:05.871    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:02:05.872    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:02:05.872    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060205-105527-632_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/02/05/SPOT2-HRV2-XS_20060205-105528-535_L1C_045-264-1_D_V1-0/SPOT2-HRV2-XS_20060205-105528-535_L1C_045-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060205-105528-535_L1C_045-264-1_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060205-105528-535_L1C_045-264-1_D_V1-0.zip
run script
2024-01-11T00:03:25.552    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:03:25.553    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060205-105528-535_L1C_045-264-1_D_V1-0.zip
2024-01-11T00:03:25.553    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:03:25.553    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:03:25.553    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:03:25.553    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:03:25.553    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:03:25.553    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:03:25.553    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:03:25.554    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060205-105528-535_L1C_045-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/16/SPOT2-HRV2-XS_20060616-103635-359_L1C_045-263-5_D_V1-0/SPOT2-HRV2-XS_20060616-103635-359_L1C_045-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060616-103635-359_L1C_045-263-5_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060616-103635-359_L1C_045-263-5_D_V1-0.zip
run script
2024-01-11T00:04:45.993    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:04:45.994    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060616-103635-359_L1C_045-263-5_D_V1-0.zip
2024-01-11T00:04:45.994    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:04:45.994    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:04:45.994    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:04:45.994    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:04:45.994    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:04:45.994    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:04:45.994    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:04:45.994    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060616-103635-359_L1C_045-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/16/SPOT2-HRV2-XS_20060616-103639-128_L1C_045-264-0_D_V1-0/SPOT2-HRV2-XS_20060616-103639-128_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060616-103639-128_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060616-103639-128_L1C_045-264-0_D_V1-0.zip
run script
2024-01-11T00:06:07.263    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:06:07.264    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060616-103639-128_L1C_045-264-0_D_V1-0.zip
2024-01-11T00:06:07.264    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:06:07.264    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:06:07.264    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:06:07.264    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:06:07.264    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:06:07.264    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:06:07.264    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:06:07.265    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060616-103639-128_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/16/SPOT2-HRV2-XS_20060616-103647-421_L1C_045-265-0_D_V1-0/SPOT2-HRV2-XS_20060616-103647-421_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060616-103647-421_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060616-103647-421_L1C_045-265-0_D_V1-0.zip
run script
2024-01-11T00:07:34.178    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:07:34.178    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060616-103647-421_L1C_045-265-0_D_V1-0.zip
2024-01-11T00:07:34.179    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:07:34.179    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:07:34.179    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:07:34.179    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:07:34.179    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:07:34.179    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:07:34.179    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:07:34.179    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060616-103647-421_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/21/SPOT2-HRV2-XS_20060621-104023-201_L1C_045-263-0_D_V1-0/SPOT2-HRV2-XS_20060621-104023-201_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060621-104023-201_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060621-104023-201_L1C_045-263-0_D_V1-0.zip
run script
2024-01-11T00:08:01.666    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:08:01.666    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060621-104023-201_L1C_045-263-0_D_V1-0.zip
2024-01-11T00:08:01.666    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:08:01.666    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:08:01.666    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:08:01.666    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:08:01.666    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:08:01.666    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:08:01.666    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:08:01.666    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060621-104023-201_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 0]
 [2 2 2 ... 2 2 0]
 [2 2 2 ... 2 2 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/21/SPOT2-HRV2-XS_20060621-104031-497_L1C_045-264-0_D_V1-0/SPOT2-HRV2-XS_20060621-104031-497_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060621-104031-497_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060621-104031-497_L1C_045-264-0_D_V1-0.zip
run script
2024-01-11T00:08:55.440    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:08:55.440    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060621-104031-497_L1C_045-264-0_D_V1-0.zip
2024-01-11T00:08:55.440    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:08:55.440    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:08:55.440    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:08:55.440    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:08:55.440    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:08:55.440    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:08:55.440    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:08:55.440    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060621-104031-497_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/21/SPOT2-HRV2-XS_20060621-104037-814_L1C_045-264-7_D_V1-0/SPOT2-HRV2-XS_20060621-104037-814_L1C_045-264-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060621-104037-814_L1C_045-264-7_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060621-104037-814_L1C_045-264-7_D_V1-0.zip
run script
2024-01-11T00:10:19.599    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:10:19.601    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060621-104037-814_L1C_045-264-7_D_V1-0.zip
2024-01-11T00:10:19.601    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:10:19.601    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:10:19.601    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:10:19.601    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:10:19.601    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:10:19.601    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:10:19.601    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:10:19.601    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060621-104037-814_L1C_045-264-7_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/25/SPOT2-HRV2-XS_20060625-110333-285_L1C_045-263-0_D_V1-0/SPOT2-HRV2-XS_20060625-110333-285_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060625-110333-285_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060625-110333-285_L1C_045-263-0_D_V1-0.zip
run script
2024-01-11T00:11:00.307    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:11:00.308    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060625-110333-285_L1C_045-263-0_D_V1-0.zip
2024-01-11T00:11:00.308    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:11:00.308    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:11:00.308    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:11:00.308    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:11:00.308    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:11:00.308    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:11:00.308    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:11:00.308    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060625-110333-285_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/25/SPOT2-HRV2-XS_20060625-110341-702_L1C_045-264-0_D_V1-0/SPOT2-HRV2-XS_20060625-110341-702_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060625-110341-702_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060625-110341-702_L1C_045-264-0_D_V1-0.zip
run script
2024-01-11T00:11:51.937    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:11:51.939    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060625-110341-702_L1C_045-264-0_D_V1-0.zip
2024-01-11T00:11:51.939    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:11:51.939    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:11:51.939    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:11:51.939    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:11:51.939    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:11:51.939    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:11:51.939    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:11:51.939    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060625-110341-702_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/25/SPOT2-HRV2-XS_20060625-110347-116_L1C_045-264-6_D_V1-0/SPOT2-HRV2-XS_20060625-110347-116_L1C_045-264-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060625-110347-116_L1C_045-264-6_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060625-110347-116_L1C_045-264-6_D_V1-0.zip
run script
2024-01-11T00:13:20.814    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:13:20.814    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060625-110347-116_L1C_045-264-6_D_V1-0.zip
2024-01-11T00:13:20.814    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:13:20.814    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:13:20.814    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:13:20.814    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:13:20.814    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:13:20.814    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:13:20.814    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:13:20.814    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060625-110347-116_L1C_045-264-6_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/07/SPOT2-HRV2-XS_20060707-103246-298_L1C_045-263-8_D_V1-0/SPOT2-HRV2-XS_20060707-103246-298_L1C_045-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060707-103246-298_L1C_045-263-8_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060707-103246-298_L1C_045-263-8_D_V1-0.zip
run script
2024-01-11T00:14:16.473    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:14:16.474    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060707-103246-298_L1C_045-263-8_D_V1-0.zip
2024-01-11T00:14:16.474    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:14:16.474    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:14:16.474    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:14:16.474    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:14:16.474    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:14:16.474    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:14:16.474    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:14:16.474    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060707-103246-298_L1C_045-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/07/SPOT2-HRV2-XS_20060707-103247-354_L1C_045-264-0_D_V1-0/SPOT2-HRV2-XS_20060707-103247-354_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060707-103247-354_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060707-103247-354_L1C_045-264-0_D_V1-0.zip
run script
2024-01-11T00:15:41.986    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:15:41.988    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060707-103247-354_L1C_045-264-0_D_V1-0.zip
2024-01-11T00:15:41.988    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:15:41.988    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:15:41.988    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:15:41.988    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:15:41.988    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:15:41.988    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:15:41.988    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:15:41.988    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060707-103247-354_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/07/SPOT2-HRV2-XS_20060707-103255-638_L1C_046-265-0_D_V1-0/SPOT2-HRV2-XS_20060707-103255-638_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060707-103255-638_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060707-103255-638_L1C_046-265-0_D_V1-0.zip
run script
2024-01-11T00:17:08.494    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:17:08.496    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060707-103255-638_L1C_046-265-0_D_V1-0.zip
2024-01-11T00:17:08.496    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:17:08.496    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:17:08.496    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:17:08.496    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:17:08.496    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:17:08.496    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:17:08.496    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:17:08.496    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060707-103255-638_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/12/SPOT2-HRV2-XS_20060712-103639-328_L1C_045-263-9_D_V1-0/SPOT2-HRV2-XS_20060712-103639-328_L1C_045-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060712-103639-328_L1C_045-263-9_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060712-103639-328_L1C_045-263-9_D_V1-0.zip
run script
2024-01-11T00:17:36.214    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:17:36.214    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060712-103639-328_L1C_045-263-9_D_V1-0.zip
2024-01-11T00:17:36.214    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:17:36.214    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:17:36.214    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:17:36.214    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:17:36.214    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:17:36.215    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:17:36.215    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:17:36.215    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060712-103639-328_L1C_045-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/12/SPOT2-HRV2-XS_20060712-103639-490_L1C_045-264-0_D_V1-0/SPOT2-HRV2-XS_20060712-103639-490_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060712-103639-490_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060712-103639-490_L1C_045-264-0_D_V1-0.zip
run script
2024-01-11T00:19:04.164    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:19:04.165    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060712-103639-490_L1C_045-264-0_D_V1-0.zip
2024-01-11T00:19:04.165    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:19:04.165    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:19:04.165    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:19:04.165    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:19:04.165    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:19:04.165    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:19:04.165    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:19:04.166    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060712-103639-490_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/12/SPOT2-HRV2-XS_20060712-103647-780_L1C_045-265-0_D_V1-0/SPOT2-HRV2-XS_20060712-103647-780_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060712-103647-780_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060712-103647-780_L1C_045-265-0_D_V1-0.zip
run script
2024-01-11T00:20:30.781    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:20:30.782    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060712-103647-780_L1C_045-265-0_D_V1-0.zip
2024-01-11T00:20:30.782    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:20:30.782    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:20:30.782    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:20:30.783    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:20:30.783    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:20:30.783    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:20:30.783    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:20:30.783    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060712-103647-780_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/23/SPOT2-HRV2-XS_20061123-105934-652_L1C_045-263-0_D_V1-0/SPOT2-HRV2-XS_20061123-105934-652_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061123-105934-652_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061123-105934-652_L1C_045-263-0_D_V1-0.zip
run script
2024-01-11T00:20:58.086    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:20:58.087    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061123-105934-652_L1C_045-263-0_D_V1-0.zip
2024-01-11T00:20:58.087    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:20:58.087    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:20:58.087    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:20:58.087    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:20:58.087    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:20:58.087    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:20:58.087    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:20:58.088    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061123-105934-652_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/23/SPOT2-HRV2-XS_20061123-105936-457_L1C_045-263-2_D_V1-0/SPOT2-HRV2-XS_20061123-105936-457_L1C_045-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061123-105936-457_L1C_045-263-2_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061123-105936-457_L1C_045-263-2_D_V1-0.zip
run script
2024-01-11T00:21:47.259    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:21:47.259    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061123-105936-457_L1C_045-263-2_D_V1-0.zip
2024-01-11T00:21:47.259    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:21:47.259    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:21:47.259    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:21:47.259    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:21:47.259    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:21:47.260    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:21:47.260    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:21:47.260    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20061123-105936-457_L1C_045-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/12/10/SPOT2-HRV1-XS_20061210-103229-011_L1C_045-263-9_D_V1-0/SPOT2-HRV1-XS_20061210-103229-011_L1C_045-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061210-103229-011_L1C_045-263-9_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061210-103229-011_L1C_045-263-9_D_V1-0.zip
run script
2024-01-11T00:22:48.796    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:22:48.796    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061210-103229-011_L1C_045-263-9_D_V1-0.zip
2024-01-11T00:22:48.796    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:22:48.796    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:22:48.796    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:22:48.796    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:22:48.796    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:22:48.796    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:22:48.796    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:22:48.797    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061210-103229-011_L1C_045-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/12/10/SPOT2-HRV1-XS_20061210-103229-167_L1C_046-264-0_D_V1-0/SPOT2-HRV1-XS_20061210-103229-167_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061210-103229-167_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061210-103229-167_L1C_046-264-0_D_V1-0.zip
run script
2024-01-11T00:24:14.386    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:24:14.387    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061210-103229-167_L1C_046-264-0_D_V1-0.zip
2024-01-11T00:24:14.387    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:24:14.387    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:24:14.387    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:24:14.387    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:24:14.387    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:24:14.387    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:24:14.387    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:24:14.388    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061210-103229-167_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/12/10/SPOT2-HRV1-XS_20061210-103237-451_L1C_046-265-0_D_V1-0/SPOT2-HRV1-XS_20061210-103237-451_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061210-103237-451_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061210-103237-451_L1C_046-265-0_D_V1-0.zip
run script
2024-01-11T00:25:34.443    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:25:34.444    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061210-103237-451_L1C_046-265-0_D_V1-0.zip
2024-01-11T00:25:34.444    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:25:34.444    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:25:34.444    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:25:34.444    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:25:34.444    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:25:34.444    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:25:34.445    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:25:34.445    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061210-103237-451_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/12/19/SPOT2-HRV1-XS_20061219-105922-646_L1C_045-263-6_D_V1-0/SPOT2-HRV1-XS_20061219-105922-646_L1C_045-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061219-105922-646_L1C_045-263-6_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061219-105922-646_L1C_045-263-6_D_V1-0.zip
run script
2024-01-11T00:26:01.621    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:26:01.623    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061219-105922-646_L1C_045-263-6_D_V1-0.zip
2024-01-11T00:26:01.623    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:26:01.623    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:26:01.623    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:26:01.623    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:26:01.623    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:26:01.623    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:26:01.623    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:26:01.623    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061219-105922-646_L1C_045-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/12/19/SPOT2-HRV1-XS_20061219-105925-624_L1C_045-264-0_D_V1-0/SPOT2-HRV1-XS_20061219-105925-624_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061219-105925-624_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061219-105925-624_L1C_045-264-0_D_V1-0.zip
run script
2024-01-11T00:27:22.003    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:27:22.004    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061219-105925-624_L1C_045-264-0_D_V1-0.zip
2024-01-11T00:27:22.004    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:27:22.004    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:27:22.004    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:27:22.004    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:27:22.004    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:27:22.004    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:27:22.005    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:27:22.005    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061219-105925-624_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/12/19/SPOT2-HRV1-XS_20061219-105926-526_L1C_045-264-1_D_V1-0/SPOT2-HRV1-XS_20061219-105926-526_L1C_045-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061219-105926-526_L1C_045-264-1_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061219-105926-526_L1C_045-264-1_D_V1-0.zip
run script
2024-01-11T00:28:50.464    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:28:50.465    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061219-105926-526_L1C_045-264-1_D_V1-0.zip
2024-01-11T00:28:50.465    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:28:50.465    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:28:50.465    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:28:50.465    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:28:50.465    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:28:50.465    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:28:50.465    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:28:50.465    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061219-105926-526_L1C_045-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/12/24/SPOT2-HRV1-XS_20061224-110308-887_L1C_045-263-1_D_V1-0/SPOT2-HRV1-XS_20061224-110308-887_L1C_045-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061224-110308-887_L1C_045-263-1_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061224-110308-887_L1C_045-263-1_D_V1-0.zip
run script
2024-01-11T00:30:15.955    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:30:15.956    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061224-110308-887_L1C_045-263-1_D_V1-0.zip
2024-01-11T00:30:15.956    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:30:15.956    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:30:15.956    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:30:15.956    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:30:15.956    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:30:15.956    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:30:15.956    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:30:15.956    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20061224-110308-887_L1C_045-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/01/10/SPOT2-HRV2-XS_20060110-105516-649_L1C_045-264-0_D_V1-0/SPOT2-HRV2-XS_20060110-105516-649_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060110-105516-649_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060110-105516-649_L1C_045-264-0_D_V1-0.zip
run script
2024-01-11T00:31:21.037    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:31:21.037    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060110-105516-649_L1C_045-264-0_D_V1-0.zip
2024-01-11T00:31:21.038    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:31:21.038    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:31:21.038    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:31:21.038    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:31:21.038    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:31:21.038    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:31:21.038    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:31:21.038    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-11T00:31:22.807    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1738 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060110-105516-649_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2006/01/10/SPOT2-HRV2-XS_20060110-105525-014_L1C_045-265-0_D_V1-0/SPOT2-HRV2-XS_20060110-105525-014_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060110-105525-014_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060110-105525-014_L1C_045-265-0_D_V1-0.zip
run script
2024-01-11T00:31:25.836    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:31:25.836    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060110-105525-014_L1C_045-265-0_D_V1-0.zip
2024-01-11T00:31:25.836    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:31:25.836    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:31:25.836    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:31:25.836    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:31:25.837    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:31:25.837    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:31:25.837    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:31:25.837    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060110-105525-014_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/01/10/SPOT2-HRV1-XS_20060110-105506-690_L1C_046-263-0_D_V1-0/SPOT2-HRV1-XS_20060110-105506-690_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060110-105506-690_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060110-105506-690_L1C_046-263-0_D_V1-0.zip
run script
2024-01-11T00:31:56.567    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:31:56.567    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060110-105506-690_L1C_046-263-0_D_V1-0.zip
2024-01-11T00:31:56.567    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:31:56.567    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:31:56.567    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:31:56.568    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:31:56.568    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:31:56.568    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:31:56.568    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:31:56.568    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060110-105506-690_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/01/10/SPOT2-HRV1-XS_20060110-105515-064_L1C_046-264-0_D_V1-0/SPOT2-HRV1-XS_20060110-105515-064_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060110-105515-064_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060110-105515-064_L1C_046-264-0_D_V1-0.zip
run script
2024-01-11T00:32:33.488    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:32:33.490    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060110-105515-064_L1C_046-264-0_D_V1-0.zip
2024-01-11T00:32:33.490    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:32:33.490    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:32:33.490    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:32:33.490    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:32:33.490    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:32:33.490    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:32:33.490    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:32:33.490    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060110-105515-064_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/02/27/SPOT2-HRV2-XS_20060227-103234-674_L1C_045-264-5_D_V1-0/SPOT2-HRV2-XS_20060227-103234-674_L1C_045-264-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060227-103234-674_L1C_045-264-5_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060227-103234-674_L1C_045-264-5_D_V1-0.zip
run script
2024-01-11T00:33:38.596    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:33:38.597    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060227-103234-674_L1C_045-264-5_D_V1-0.zip
2024-01-11T00:33:38.597    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:33:38.597    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:33:38.597    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:33:38.597    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:33:38.597    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:33:38.597    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:33:38.598    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:33:38.598    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060227-103234-674_L1C_045-264-5_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/26/SPOT2-HRV2-XS_20060726-110731-620_L1C_045-264-0_D_V1-0/SPOT2-HRV2-XS_20060726-110731-620_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060726-110731-620_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060726-110731-620_L1C_045-264-0_D_V1-0.zip
run script
2024-01-11T00:34:37.277    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:34:37.278    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060726-110731-620_L1C_045-264-0_D_V1-0.zip
2024-01-11T00:34:37.278    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:34:37.278    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:34:37.278    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:34:37.278    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:34:37.278    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:34:37.279    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:34:37.279    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:34:37.279    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060726-110731-620_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/26/SPOT2-HRV2-XS_20060726-110740-072_L1C_045-265-0_D_V1-0/SPOT2-HRV2-XS_20060726-110740-072_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060726-110740-072_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060726-110740-072_L1C_045-265-0_D_V1-0.zip
run script
2024-01-11T00:36:10.127    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:36:10.129    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060726-110740-072_L1C_045-265-0_D_V1-0.zip
2024-01-11T00:36:10.129    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:36:10.129    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:36:10.129    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:36:10.129    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:36:10.129    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:36:10.129    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:36:10.129    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:36:10.129    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060726-110740-072_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/26/SPOT2-HRV2-XS_20060726-110740-975_L1C_045-265-1_D_V1-0/SPOT2-HRV2-XS_20060726-110740-975_L1C_045-265-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060726-110740-975_L1C_045-265-1_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060726-110740-975_L1C_045-265-1_D_V1-0.zip
run script
2024-01-11T00:36:42.480    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:36:42.481    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060726-110740-975_L1C_045-265-1_D_V1-0.zip
2024-01-11T00:36:42.481    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:36:42.481    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:36:42.481    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:36:42.481    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:36:42.481    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:36:42.481    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:36:42.481    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:36:42.481    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060726-110740-975_L1C_045-265-1_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/26/SPOT2-HRV2-XS_20060726-110720-138_L1C_046-262-6_D_V1-0/SPOT2-HRV2-XS_20060726-110720-138_L1C_046-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060726-110720-138_L1C_046-262-6_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060726-110720-138_L1C_046-262-6_D_V1-0.zip
run script
2024-01-11T00:37:06.882    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:37:06.882    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060726-110720-138_L1C_046-262-6_D_V1-0.zip
2024-01-11T00:37:06.882    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:37:06.882    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:37:06.882    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:37:06.882    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:37:06.883    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:37:06.883    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:37:06.883    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:37:06.883    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060726-110720-138_L1C_046-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/26/SPOT2-HRV2-XS_20060726-110723-170_L1C_046-263-0_D_V1-0/SPOT2-HRV2-XS_20060726-110723-170_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060726-110723-170_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060726-110723-170_L1C_046-263-0_D_V1-0.zip
run script
2024-01-11T00:37:36.776    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:37:36.777    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060726-110723-170_L1C_046-263-0_D_V1-0.zip
2024-01-11T00:37:36.777    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:37:36.777    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:37:36.777    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:37:36.777    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:37:36.777    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:37:36.777    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:37:36.777    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:37:36.777    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060726-110723-170_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/28/SPOT2-HRV1-XS_20060928-103655-712_L1C_045-264-8_D_V1-0/SPOT2-HRV1-XS_20060928-103655-712_L1C_045-264-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060928-103655-712_L1C_045-264-8_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060928-103655-712_L1C_045-264-8_D_V1-0.zip
run script
2024-01-11T00:38:26.934    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:38:26.935    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060928-103655-712_L1C_045-264-8_D_V1-0.zip
2024-01-11T00:38:26.935    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:38:26.935    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:38:26.935    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:38:26.935    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:38:26.935    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:38:26.935    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:38:26.935    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:38:26.935    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060928-103655-712_L1C_045-264-8_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/28/SPOT2-HRV1-XS_20060928-103656-783_L1C_045-265-0_D_V1-0/SPOT2-HRV1-XS_20060928-103656-783_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060928-103656-783_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060928-103656-783_L1C_045-265-0_D_V1-0.zip
run script
2024-01-11T00:39:04.917    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:39:04.918    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060928-103656-783_L1C_045-265-0_D_V1-0.zip
2024-01-11T00:39:04.918    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:39:04.919    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:39:04.919    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:39:04.919    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:39:04.919    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:39:04.919    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:39:04.919    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:39:04.919    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060928-103656-783_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/01/05/SPOT2-HRV1-XS_20060105-105122-123_L1C_046-263-9_D_V1-0/SPOT2-HRV1-XS_20060105-105122-123_L1C_046-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060105-105122-123_L1C_046-263-9_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060105-105122-123_L1C_046-263-9_D_V1-0.zip
run script
2024-01-11T00:39:31.084    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:39:31.084    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060105-105122-123_L1C_046-263-9_D_V1-0.zip
2024-01-11T00:39:31.084    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:39:31.084    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:39:31.084    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:39:31.084    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:39:31.084    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:39:31.084    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:39:31.084    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:39:31.085    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060105-105122-123_L1C_046-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/01/05/SPOT2-HRV1-XS_20060105-105122-355_L1C_046-264-0_D_V1-0/SPOT2-HRV1-XS_20060105-105122-355_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060105-105122-355_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060105-105122-355_L1C_046-264-0_D_V1-0.zip
run script
2024-01-11T00:40:38.395    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:40:38.397    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060105-105122-355_L1C_046-264-0_D_V1-0.zip
2024-01-11T00:40:38.397    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:40:38.397    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:40:38.397    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:40:38.397    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:40:38.397    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:40:38.397    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:40:38.397    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:40:38.397    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060105-105122-355_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/01/05/SPOT2-HRV1-XS_20060105-105130-711_L1C_046-265-0_D_V1-0/SPOT2-HRV1-XS_20060105-105130-711_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060105-105130-711_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060105-105130-711_L1C_046-265-0_D_V1-0.zip
run script
2024-01-11T00:41:44.006    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:41:44.006    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060105-105130-711_L1C_046-265-0_D_V1-0.zip
2024-01-11T00:41:44.006    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:41:44.006    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:41:44.006    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:41:44.006    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:41:44.006    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:41:44.006    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:41:44.006    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:41:44.006    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060105-105130-711_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/16/SPOT2-HRV1-XS_20060516-103240-103_L1C_046-264-3_D_V1-0/SPOT2-HRV1-XS_20060516-103240-103_L1C_046-264-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060516-103240-103_L1C_046-264-3_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060516-103240-103_L1C_046-264-3_D_V1-0.zip
run script
2024-01-11T00:42:06.679    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:42:06.679    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060516-103240-103_L1C_046-264-3_D_V1-0.zip
2024-01-11T00:42:06.679    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:42:06.679    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:42:06.679    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:42:06.680    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:42:06.680    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:42:06.680    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:42:06.680    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:42:06.680    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060516-103240-103_L1C_046-264-3_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/16/SPOT2-HRV1-XS_20060516-103245-682_L1C_046-265-0_D_V1-0/SPOT2-HRV1-XS_20060516-103245-682_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060516-103245-682_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060516-103245-682_L1C_046-265-0_D_V1-0.zip
run script
2024-01-11T00:42:52.666    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:42:52.667    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060516-103245-682_L1C_046-265-0_D_V1-0.zip
2024-01-11T00:42:52.667    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:42:52.667    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:42:52.667    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:42:52.667    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:42:52.667    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:42:52.667    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:42:52.668    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:42:52.668    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060516-103245-682_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/11/SPOT2-HRV2-XS_20060611-103248-777_L1C_047-264-5_D_V1-0/SPOT2-HRV2-XS_20060611-103248-777_L1C_047-264-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060611-103248-777_L1C_047-264-5_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060611-103248-777_L1C_047-264-5_D_V1-0.zip
run script
2024-01-11T00:43:12.421    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:43:12.421    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060611-103248-777_L1C_047-264-5_D_V1-0.zip
2024-01-11T00:43:12.421    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:43:12.421    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:43:12.421    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:43:12.421    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:43:12.421    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:43:12.422    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:43:12.422    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:43:12.422    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV2-XS_20060611-103248-777_L1C_047-264-5_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/16/SPOT2-HRV1-XS_20060816-110351-036_L1C_047-265-0_D_V1-0/SPOT2-HRV1-XS_20060816-110351-036_L1C_047-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060816-110351-036_L1C_047-265-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060816-110351-036_L1C_047-265-0_D_V1-0.zip
run script
2024-01-11T00:43:22.722    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:43:22.722    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060816-110351-036_L1C_047-265-0_D_V1-0.zip
2024-01-11T00:43:22.722    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:43:22.722    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:43:22.722    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:43:22.722    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:43:22.722    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:43:22.723    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:43:22.723    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:43:22.723    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT2-HRV1-XS_20060816-110351-036_L1C_047-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 0 2 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/02/22/SPOT1-HRV1-XS_19890222-112113-706_L1C_036-262-0_D_V1-0/SPOT1-HRV1-XS_19890222-112113-706_L1C_036-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890222-112113-706_L1C_036-262-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890222-112113-706_L1C_036-262-0_D_V1-0.zip
run script
2024-01-11T00:43:32.902    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:43:32.902    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890222-112113-706_L1C_036-262-0_D_V1-0.zip
2024-01-11T00:43:32.902    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:43:32.902    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:43:32.902    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:43:32.902    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:43:32.902    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:43:32.903    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:43:32.903    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:43:32.903    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-11T00:43:34.456    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 432). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890222-112113-706_L1C_036-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/1989/02/22/SPOT1-HRV1-XS_19890222-112122-129_L1C_036-263-0_D_V1-0/SPOT1-HRV1-XS_19890222-112122-129_L1C_036-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890222-112122-129_L1C_036-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890222-112122-129_L1C_036-263-0_D_V1-0.zip
run script
2024-01-11T00:43:37.320    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:43:37.321    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890222-112122-129_L1C_036-263-0_D_V1-0.zip
2024-01-11T00:43:37.321    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:43:37.321    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:43:37.321    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:43:37.321    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:43:37.321    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:43:37.321    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:43:37.321    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:43:37.321    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890222-112122-129_L1C_036-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/02/22/SPOT1-HRV2-XS_19890222-112118-772_L1C_038-263-0_D_V1-0/SPOT1-HRV2-XS_19890222-112118-772_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890222-112118-772_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890222-112118-772_L1C_038-263-0_D_V1-0.zip
run script
2024-01-11T00:44:30.131    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:44:30.131    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890222-112118-772_L1C_038-263-0_D_V1-0.zip
2024-01-11T00:44:30.131    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:44:30.131    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:44:30.131    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:44:30.131    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:44:30.131    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:44:30.131    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:44:30.131    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:44:30.131    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890222-112118-772_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/02/22/SPOT1-HRV2-XS_19890222-112126-894_L1C_038-263-9_D_V1-0/SPOT1-HRV2-XS_19890222-112126-894_L1C_038-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890222-112126-894_L1C_038-263-9_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890222-112126-894_L1C_038-263-9_D_V1-0.zip
run script
2024-01-11T00:46:00.411    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:46:00.413    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890222-112126-894_L1C_038-263-9_D_V1-0.zip
2024-01-11T00:46:00.413    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:46:00.413    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:46:00.413    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:46:00.413    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:46:00.413    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:46:00.413    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:46:00.413    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:46:00.413    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890222-112126-894_L1C_038-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/05/27/SPOT1-HRV2-XS_19890527-111309-114_L1C_036-262-0_D_V1-0/SPOT1-HRV2-XS_19890527-111309-114_L1C_036-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890527-111309-114_L1C_036-262-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890527-111309-114_L1C_036-262-0_D_V1-0.zip
run script
2024-01-11T00:48:11.558    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:48:11.559    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890527-111309-114_L1C_036-262-0_D_V1-0.zip
2024-01-11T00:48:11.559    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:48:11.560    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:48:11.560    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:48:11.560    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:48:11.560    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:48:11.560    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:48:11.560    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:48:11.560    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890527-111309-114_L1C_036-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1989/05/27/SPOT1-HRV1-XS_19890527-111308-936_L1C_042-263-0_D_V1-0/SPOT1-HRV1-XS_19890527-111308-936_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890527-111308-936_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890527-111308-936_L1C_042-263-0_D_V1-0.zip
run script
2024-01-11T00:48:14.871    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:48:14.872    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890527-111308-936_L1C_042-263-0_D_V1-0.zip
2024-01-11T00:48:14.872    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:48:14.872    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:48:14.872    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:48:14.872    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:48:14.872    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:48:14.872    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:48:14.872    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:48:14.872    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890527-111308-936_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/02/SPOT1-HRV1-XS_19890802-112513-875_L1C_036-262-0_D_V1-0/SPOT1-HRV1-XS_19890802-112513-875_L1C_036-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890802-112513-875_L1C_036-262-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890802-112513-875_L1C_036-262-0_D_V1-0.zip
run script
2024-01-11T00:49:47.699    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:49:47.700    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890802-112513-875_L1C_036-262-0_D_V1-0.zip
2024-01-11T00:49:47.700    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:49:47.700    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:49:47.700    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:49:47.700    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:49:47.700    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:49:47.700    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:49:47.700    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:49:47.700    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-11T00:49:49.605    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 209). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890802-112513-875_L1C_036-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/1989/08/02/SPOT1-HRV1-XS_19890802-112522-325_L1C_036-263-0_D_V1-0/SPOT1-HRV1-XS_19890802-112522-325_L1C_036-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890802-112522-325_L1C_036-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890802-112522-325_L1C_036-263-0_D_V1-0.zip
run script
2024-01-11T00:49:52.556    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:49:52.556    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890802-112522-325_L1C_036-263-0_D_V1-0.zip
2024-01-11T00:49:52.556    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:49:52.556    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:49:52.556    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:49:52.556    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:49:52.556    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:49:52.556    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:49:52.556    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:49:52.556    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890802-112522-325_L1C_036-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/02/13/SPOT1-HRV1-XS_19890213-105431-257_L1C_036-263-0_D_V1-0/SPOT1-HRV1-XS_19890213-105431-257_L1C_036-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890213-105431-257_L1C_036-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890213-105431-257_L1C_036-263-0_D_V1-0.zip
run script
2024-01-11T00:50:44.861    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:50:44.862    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890213-105431-257_L1C_036-263-0_D_V1-0.zip
2024-01-11T00:50:44.862    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:50:44.862    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:50:44.862    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:50:44.862    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:50:44.862    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:50:44.862    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:50:44.862    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:50:44.862    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890213-105431-257_L1C_036-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/02/17/SPOT1-HRV1-XS_19890217-111738-435_L1C_036-263-0_D_V1-0/SPOT1-HRV1-XS_19890217-111738-435_L1C_036-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890217-111738-435_L1C_036-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890217-111738-435_L1C_036-263-0_D_V1-0.zip
run script
2024-01-11T00:51:42.255    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:51:42.256    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890217-111738-435_L1C_036-263-0_D_V1-0.zip
2024-01-11T00:51:42.256    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:51:42.256    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:51:42.256    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:51:42.256    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:51:42.256    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:51:42.256    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:51:42.256    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:51:42.257    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890217-111738-435_L1C_036-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/02/17/SPOT1-HRV2-XS_19890217-111736-510_L1C_037-263-0_D_V1-0/SPOT1-HRV2-XS_19890217-111736-510_L1C_037-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890217-111736-510_L1C_037-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890217-111736-510_L1C_037-263-0_D_V1-0.zip
run script
2024-01-11T00:52:30.372    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:52:30.373    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890217-111736-510_L1C_037-263-0_D_V1-0.zip
2024-01-11T00:52:30.373    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:52:30.373    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:52:30.373    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:52:30.373    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:52:30.373    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:52:30.374    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:52:30.374    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:52:30.374    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890217-111736-510_L1C_037-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 2 2]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 0]
 [2 0 0 ... 0 0 0]
 [2 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/03/26/SPOT1-HRV1-XS_19890326-110544-125_L1C_036-263-0_D_V1-0/SPOT1-HRV1-XS_19890326-110544-125_L1C_036-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890326-110544-125_L1C_036-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890326-110544-125_L1C_036-263-0_D_V1-0.zip
run script
2024-01-11T00:53:53.542    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:53:53.543    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890326-110544-125_L1C_036-263-0_D_V1-0.zip
2024-01-11T00:53:53.543    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:53:53.543    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:53:53.543    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:53:53.543    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:53:53.543    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:53:53.543    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:53:53.543    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:53:53.543    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890326-110544-125_L1C_036-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/03/26/SPOT1-HRV2-XS_19890326-110536-500_L1C_042-263-0_D_V1-0/SPOT1-HRV2-XS_19890326-110536-500_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890326-110536-500_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890326-110536-500_L1C_042-263-0_D_V1-0.zip
run script
2024-01-11T00:54:49.284    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:54:49.284    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890326-110536-500_L1C_042-263-0_D_V1-0.zip
2024-01-11T00:54:49.285    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:54:49.285    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:54:49.285    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:54:49.285    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:54:49.285    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:54:49.285    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:54:49.285    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:54:49.285    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890326-110536-500_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/03/26/SPOT1-HRV2-XS_19890326-110544-901_L1C_042-264-0_D_V1-0/SPOT1-HRV2-XS_19890326-110544-901_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890326-110544-901_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890326-110544-901_L1C_042-264-0_D_V1-0.zip
run script
2024-01-11T00:56:12.045    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:56:12.045    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890326-110544-901_L1C_042-264-0_D_V1-0.zip
2024-01-11T00:56:12.045    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:56:12.045    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:56:12.045    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:56:12.045    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:56:12.045    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:56:12.045    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:56:12.045    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:56:12.045    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-11T00:56:14.641    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (231 x 1). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890326-110544-901_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/1989/07/28/SPOT1-HRV1-XS_19890728-112132-569_L1C_036-263-0_D_V1-0/SPOT1-HRV1-XS_19890728-112132-569_L1C_036-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890728-112132-569_L1C_036-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890728-112132-569_L1C_036-263-0_D_V1-0.zip
run script
2024-01-11T00:56:17.754    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:56:17.754    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890728-112132-569_L1C_036-263-0_D_V1-0.zip
2024-01-11T00:56:17.754    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:56:17.755    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:56:17.755    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:56:17.755    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:56:17.755    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:56:17.755    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:56:17.755    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:56:17.755    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890728-112132-569_L1C_036-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/07/28/SPOT1-HRV2-XS_19890728-112128-719_L1C_039-263-0_D_V1-0/SPOT1-HRV2-XS_19890728-112128-719_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890728-112128-719_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890728-112128-719_L1C_039-263-0_D_V1-0.zip
run script
2024-01-11T00:57:18.177    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:57:18.178    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890728-112128-719_L1C_039-263-0_D_V1-0.zip
2024-01-11T00:57:18.178    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:57:18.178    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:57:18.179    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:57:18.179    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:57:18.179    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:57:18.179    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:57:18.179    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:57:18.179    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890728-112128-719_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/07/28/SPOT1-HRV2-XS_19890728-112136-840_L1C_039-263-9_D_V1-0/SPOT1-HRV2-XS_19890728-112136-840_L1C_039-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890728-112136-840_L1C_039-263-9_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890728-112136-840_L1C_039-263-9_D_V1-0.zip
run script
2024-01-11T00:58:51.671    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T00:58:51.671    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890728-112136-840_L1C_039-263-9_D_V1-0.zip
2024-01-11T00:58:51.671    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T00:58:51.671    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T00:58:51.671    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T00:58:51.671    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T00:58:51.671    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T00:58:51.671    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T00:58:51.671    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T00:58:51.671    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890728-112136-840_L1C_039-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/09/23/SPOT1-HRV2-XS_19890923-112543-989_L1C_036-263-0_D_V1-0/SPOT1-HRV2-XS_19890923-112543-989_L1C_036-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890923-112543-989_L1C_036-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890923-112543-989_L1C_036-263-0_D_V1-0.zip
run script
2024-01-11T01:01:04.309    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T01:01:04.309    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890923-112543-989_L1C_036-263-0_D_V1-0.zip
2024-01-11T01:01:04.309    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:01:04.310    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:01:04.310    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T01:01:04.310    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:01:04.310    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:01:04.310    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:01:04.310    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:01:04.310    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890923-112543-989_L1C_036-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 2]
 [2 2 2 ... 0 0 2]
 [2 2 2 ... 0 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/02/12/SPOT1-HRV1-XS_19890212-111350-152_L1C_037-262-9_D_V1-0/SPOT1-HRV1-XS_19890212-111350-152_L1C_037-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890212-111350-152_L1C_037-262-9_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890212-111350-152_L1C_037-262-9_D_V1-0.zip
run script
2024-01-11T01:01:59.279    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T01:01:59.280    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890212-111350-152_L1C_037-262-9_D_V1-0.zip
2024-01-11T01:01:59.280    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:01:59.280    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:01:59.281    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T01:01:59.281    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:01:59.281    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:01:59.281    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:01:59.281    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:01:59.281    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890212-111350-152_L1C_037-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/24/SPOT1-HRV1-XS_19890824-110223-460_L1C_037-263-0_D_V1-0/SPOT1-HRV1-XS_19890824-110223-460_L1C_037-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890824-110223-460_L1C_037-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890824-110223-460_L1C_037-263-0_D_V1-0.zip
run script
2024-01-11T01:03:07.540    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T01:03:07.540    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890824-110223-460_L1C_037-263-0_D_V1-0.zip
2024-01-11T01:03:07.541    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:03:07.541    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:03:07.541    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T01:03:07.541    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:03:07.541    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:03:07.541    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:03:07.541    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:03:07.541    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890824-110223-460_L1C_037-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/24/SPOT1-HRV2-XS_19890824-110214-517_L1C_044-263-0_D_V1-0/SPOT1-HRV2-XS_19890824-110214-517_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890824-110214-517_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890824-110214-517_L1C_044-263-0_D_V1-0.zip
run script
2024-01-11T01:04:16.113    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T01:04:16.114    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890824-110214-517_L1C_044-263-0_D_V1-0.zip
2024-01-11T01:04:16.115    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:04:16.115    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:04:16.115    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T01:04:16.115    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:04:16.115    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:04:16.115    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:04:16.115    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:04:16.115    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890824-110214-517_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/24/SPOT1-HRV2-XS_19890824-110222-918_L1C_044-264-0_D_V1-0/SPOT1-HRV2-XS_19890824-110222-918_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890824-110222-918_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890824-110222-918_L1C_044-264-0_D_V1-0.zip
run script
2024-01-11T01:05:38.306    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T01:05:38.306    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890824-110222-918_L1C_044-264-0_D_V1-0.zip
2024-01-11T01:05:38.306    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:05:38.306    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:05:38.306    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T01:05:38.306    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:05:38.307    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:05:38.307    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:05:38.307    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:05:38.307    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890824-110222-918_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/24/SPOT1-HRV2-XS_19890824-110231-040_L1C_044-264-9_D_V1-0/SPOT1-HRV2-XS_19890824-110231-040_L1C_044-264-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890824-110231-040_L1C_044-264-9_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890824-110231-040_L1C_044-264-9_D_V1-0.zip
run script
2024-01-11T01:07:28.200    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T01:07:28.201    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890824-110231-040_L1C_044-264-9_D_V1-0.zip
2024-01-11T01:07:28.201    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:07:28.201    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:07:28.201    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T01:07:28.201    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:07:28.201    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:07:28.201    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:07:28.201    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:07:28.201    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890824-110231-040_L1C_044-264-9_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/03/06/SPOT1-HRV1-XS_19890306-105030-772_L1C_038-262-9_D_V1-0/SPOT1-HRV1-XS_19890306-105030-772_L1C_038-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890306-105030-772_L1C_038-262-9_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890306-105030-772_L1C_038-262-9_D_V1-0.zip
run script
2024-01-11T01:08:03.494    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T01:08:03.495    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890306-105030-772_L1C_038-262-9_D_V1-0.zip
2024-01-11T01:08:03.495    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:08:03.495    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:08:03.495    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T01:08:03.495    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:08:03.495    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:08:03.496    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:08:03.496    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:08:03.496    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890306-105030-772_L1C_038-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/03/05/SPOT1-HRV1-XS_19890305-110950-195_L1C_038-263-0_D_V1-0/SPOT1-HRV1-XS_19890305-110950-195_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890305-110950-195_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890305-110950-195_L1C_038-263-0_D_V1-0.zip
run script
2024-01-11T01:09:21.292    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T01:09:21.293    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890305-110950-195_L1C_038-263-0_D_V1-0.zip
2024-01-11T01:09:21.293    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:09:21.293    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:09:21.293    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T01:09:21.293    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:09:21.293    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:09:21.293    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:09:21.293    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:09:21.293    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890305-110950-195_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 0 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/05/06/SPOT1-HRV1-XS_19890506-111714-768_L1C_038-263-0_D_V1-0/SPOT1-HRV1-XS_19890506-111714-768_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890506-111714-768_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890506-111714-768_L1C_038-263-0_D_V1-0.zip
run script
2024-01-11T01:10:37.985    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T01:10:37.986    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890506-111714-768_L1C_038-263-0_D_V1-0.zip
2024-01-11T01:10:37.986    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:10:37.986    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:10:37.986    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T01:10:37.986    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:10:37.986    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:10:37.986    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:10:37.986    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:10:37.986    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890506-111714-768_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/10/26/SPOT1-HRV2-XS_19891026-105104-214_L1C_038-263-0_D_V1-0/SPOT1-HRV2-XS_19891026-105104-214_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19891026-105104-214_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19891026-105104-214_L1C_038-263-0_D_V1-0.zip
run script
2024-01-11T01:12:06.087    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T01:12:06.088    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19891026-105104-214_L1C_038-263-0_D_V1-0.zip
2024-01-11T01:12:06.088    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:12:06.088    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:12:06.089    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T01:12:06.089    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:12:06.089    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:12:06.089    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:12:06.089    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:12:06.089    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19891026-105104-214_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/10/26/SPOT1-HRV2-XS_19891026-105112-504_L1C_038-264-0_D_V1-0/SPOT1-HRV2-XS_19891026-105112-504_L1C_038-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19891026-105112-504_L1C_038-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19891026-105112-504_L1C_038-264-0_D_V1-0.zip
run script
2024-01-11T01:13:19.478    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T01:13:19.478    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19891026-105112-504_L1C_038-264-0_D_V1-0.zip
2024-01-11T01:13:19.478    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:13:19.478    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:13:19.478    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T01:13:19.478    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:13:19.479    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:13:19.479    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:13:19.479    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:13:19.479    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19891026-105112-504_L1C_038-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/23/SPOT1-HRV1-XS_19890823-112146-831_L1C_038-264-0_D_V1-0/SPOT1-HRV1-XS_19890823-112146-831_L1C_038-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890823-112146-831_L1C_038-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890823-112146-831_L1C_038-264-0_D_V1-0.zip
run script
2024-01-11T01:15:12.955    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T01:15:12.956    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890823-112146-831_L1C_038-264-0_D_V1-0.zip
2024-01-11T01:15:12.956    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:15:12.956    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:15:12.956    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T01:15:12.956    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:15:12.956    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:15:12.956    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:15:12.956    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:15:12.956    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890823-112146-831_L1C_038-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/08/23/SPOT1-HRV2-XS_19890823-112145-273_L1C_039-264-0_D_V1-0/SPOT1-HRV2-XS_19890823-112145-273_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890823-112145-273_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890823-112145-273_L1C_039-264-0_D_V1-0.zip
run script
2024-01-11T01:17:24.209    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T01:17:24.209    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890823-112145-273_L1C_039-264-0_D_V1-0.zip
2024-01-11T01:17:24.209    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:17:24.209    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:17:24.209    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T01:17:24.209    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:17:24.210    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:17:24.210    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:17:24.210    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:17:24.210    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890823-112145-273_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/02/08/SPOT1-HRV2-XS_19890208-105037-211_L1C_039-263-0_D_V1-0/SPOT1-HRV2-XS_19890208-105037-211_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890208-105037-211_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890208-105037-211_L1C_039-263-0_D_V1-0.zip
run script
2024-01-11T01:19:45.867    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T01:19:45.867    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890208-105037-211_L1C_039-263-0_D_V1-0.zip
2024-01-11T01:19:45.867    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:19:45.867    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:19:45.867    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T01:19:45.868    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:19:45.868    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:19:45.868    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:19:45.868    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:19:45.868    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-11T01:20:50.369    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (290 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890208-105037-211_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/1989/02/08/SPOT1-HRV2-XS_19890208-105045-332_L1C_039-263-9_D_V1-0/SPOT1-HRV2-XS_19890208-105045-332_L1C_039-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890208-105045-332_L1C_039-263-9_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890208-105045-332_L1C_039-263-9_D_V1-0.zip
run script
2024-01-11T01:20:53.481    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T01:20:53.483    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890208-105045-332_L1C_039-263-9_D_V1-0.zip
2024-01-11T01:20:53.483    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:20:53.483    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:20:53.483    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T01:20:53.483    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:20:53.483    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:20:53.483    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:20:53.483    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:20:53.483    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890208-105045-332_L1C_039-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/06/17/SPOT1-HRV1-XS_19890617-110934-660_L1C_039-263-0_D_V1-0/SPOT1-HRV1-XS_19890617-110934-660_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890617-110934-660_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890617-110934-660_L1C_039-263-0_D_V1-0.zip
run script
2024-01-11T01:22:40.842    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T01:22:40.842    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890617-110934-660_L1C_039-263-0_D_V1-0.zip
2024-01-11T01:22:40.843    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:22:40.843    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:22:40.843    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T01:22:40.843    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:22:40.843    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:22:40.843    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:22:40.843    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:22:40.843    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890617-110934-660_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/06/17/SPOT1-HRV1-XS_19890617-110942-782_L1C_039-263-9_D_V1-0/SPOT1-HRV1-XS_19890617-110942-782_L1C_039-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19890617-110942-782_L1C_039-263-9_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890617-110942-782_L1C_039-263-9_D_V1-0.zip
run script
2024-01-11T01:23:55.252    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T01:23:55.253    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890617-110942-782_L1C_039-263-9_D_V1-0.zip
2024-01-11T01:23:55.253    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:23:55.253    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:23:55.253    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T01:23:55.253    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:23:55.253    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:23:55.253    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:23:55.253    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:23:55.253    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV1-XS_19890617-110942-782_L1C_039-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/06/17/SPOT1-HRV2-XS_19890617-110926-051_L1C_045-263-0_D_V1-0/SPOT1-HRV2-XS_19890617-110926-051_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890617-110926-051_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890617-110926-051_L1C_045-263-0_D_V1-0.zip
run script
2024-01-11T01:25:45.880    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T01:25:45.880    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890617-110926-051_L1C_045-263-0_D_V1-0.zip
2024-01-11T01:25:45.880    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:25:45.880    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:25:45.880    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T01:25:45.880    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:25:45.880    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:25:45.880    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:25:45.880    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:25:45.880    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890617-110926-051_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/06/17/SPOT1-HRV2-XS_19890617-110934-522_L1C_045-264-0_D_V1-0/SPOT1-HRV2-XS_19890617-110934-522_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890617-110934-522_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890617-110934-522_L1C_045-264-0_D_V1-0.zip
run script
2024-01-11T01:27:04.848    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T01:27:04.849    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890617-110934-522_L1C_045-264-0_D_V1-0.zip
2024-01-11T01:27:04.849    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:27:04.849    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:27:04.849    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T01:27:04.849    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:27:04.849    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:27:04.849    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:27:04.849    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:27:04.849    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890617-110934-522_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/06/17/SPOT1-HRV2-XS_19890617-110942-644_L1C_045-264-9_D_V1-0/SPOT1-HRV2-XS_19890617-110942-644_L1C_045-264-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890617-110942-644_L1C_045-264-9_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890617-110942-644_L1C_045-264-9_D_V1-0.zip
run script
2024-01-11T01:29:08.360    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T01:29:08.361    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890617-110942-644_L1C_045-264-9_D_V1-0.zip
2024-01-11T01:29:08.361    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:29:08.362    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:29:08.362    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T01:29:08.362    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:29:08.362    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:29:08.362    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:29:08.362    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:29:08.362    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890617-110942-644_L1C_045-264-9_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1989/07/13/SPOT1-HRV2-XS_19890713-110954-527_L1C_039-263-0_D_V1-0/SPOT1-HRV2-XS_19890713-110954-527_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19890713-110954-527_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890713-110954-527_L1C_039-263-0_D_V1-0.zip
run script
2024-01-11T01:29:52.160    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-11T01:29:52.161    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890713-110954-527_L1C_039-263-0_D_V1-0.zip
2024-01-11T01:29:52.161    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-11T01:29:52.161    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-11T01:29:52.161    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-11T01:29:52.161    INFO:run_snow_swh.py::main:model type : mtn
2024-01-11T01:29:52.161    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-11T01:29:52.161    INFO:run_snow_swh.py::main:mask inference : None
2024-01-11T01:29:52.162    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-11T01:29:52.162    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4122100/INPUT/SPOT1-HRV2-XS_19890713-110954-527_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4122100/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
end
[2024-01-11 01:31:03.566199595+00:00] cnes_level2/barrouz/4122100:  Account (env) = cnes_level2
[2024-01-11 01:31:03.567608439+00:00] cnes_level2/barrouz/4122100:     User (env) = barrouz
[2024-01-11 01:31:03.568814377+00:00] cnes_level2/barrouz/4122100:        GroupId = cesbio(426000053)
[2024-01-11 01:31:03.570060343+00:00] cnes_level2/barrouz/4122100:         UserId = barrouz(9134)
[2024-01-11 01:31:03.571318840+00:00] cnes_level2/barrouz/4122100:        Account = cnes_level2
[2024-01-11 01:31:03.572616466+00:00] cnes_level2/barrouz/4122100:        Account = cnes_level2
[2024-01-11 01:31:03.573921002+00:00] cnes_level2/barrouz/4122100:      Partition = cpu2022
[2024-01-11 01:31:03.575407826+00:00] cnes_level2/barrouz/4122100:            QOS = cpu_2022_1280
[2024-01-11 01:31:03.577165928+00:00] cnes_level2/barrouz/4122100:        JobName = inf_PYR_25_TCD-ONLY_AVG-1200
[2024-01-11 01:31:03.578771900+00:00] cnes_level2/barrouz/4122100:     SubmitTime = 2024-01-10T19:48:29
[2024-01-11 01:31:03.580283494+00:00] cnes_level2/barrouz/4122100:        RunTime = 05:42:10
[2024-01-11 01:31:03.581736529+00:00] cnes_level2/barrouz/4122100:      TimeLimit = 1-16:00:00
[2024-01-11 01:31:03.583074714+00:00] cnes_level2/barrouz/4122100:   EligibleTime = 2024-01-10T19:48:29
[2024-01-11 01:31:03.584471520+00:00] cnes_level2/barrouz/4122100:      StartTime = 2024-01-10T19:48:53
[2024-01-11 01:31:03.585904334+00:00] cnes_level2/barrouz/4122100:        EndTime = 2024-01-11T01:31:03
[2024-01-11 01:31:03.587320269+00:00] cnes_level2/barrouz/4122100:       ExitCode = 0:0
[2024-01-11 01:31:03.588780684+00:00] cnes_level2/barrouz/4122100:       NodeList = trex068
[2024-01-11 01:31:03.590157809+00:00] cnes_level2/barrouz/4122100:      BatchHost = trex068
[2024-01-11 01:31:03.591662313+00:00] cnes_level2/barrouz/4122100:           TRES = 
[2024-01-11 01:31:03.593128247+00:00] cnes_level2/barrouz/4122100:        Command = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh_job.sh
[2024-01-11 01:31:03.594580692+00:00] cnes_level2/barrouz/4122100:        WorkDir = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code
[2024-01-11 01:31:03.596045716+00:00] cnes_level2/barrouz/4122100:         StdErr = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_PYR_25_TCD-ONLY_AVG-1200.log
[2024-01-11 01:31:03.597424992+00:00] cnes_level2/barrouz/4122100:         StdOut = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_PYR_25_TCD-ONLY_AVG-1200.log

#########################################
#        EVIDEN - CNES                  #
#        Job Accounting                 #
#########################################
Cluster              : trex
JobIDRaw             : 4122100
JobID                : 4122100
JobName              : inf_PYR_25_TCD-ONLY_AVG-1200
Account              : cnes_level2
User                 : barrouz(9134), cesbio(426000053)
Partition            : cpu2022
QOS                  : cpu_2022_1280
Nodelist             : trex068 (1)
State                : COMPLETED  (Exitcode=0:0, DerivedExitCode=0:0, Restarts=0)
Submit date          : 2024-01-10T19:48:29
Start time           : 2024-01-10T19:48:53
End time             : 2024-01-11T01:31:03
Elapsed time         : 05:42:10  (Timelimit=1-16:00:00, Suspended=00:00:00)
TEI                  : 1 day, 21:37:20
Command              : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh_job.sh
StdOut               : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_PYR_25_TCD-ONLY_AVG-1200.log
StdErr               : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_PYR_25_TCD-ONLY_AVG-1200.log

STEP(s) : 2
--------- 
   StepID  | JobName      State       Exit   Start               End                 Elapsed   TotalCPU   CPUTime    ConsumedEnergy MaxDiskRead MaxDiskWrite     MaxRSS MaxRSSTask MaxRSSNode NNodes UserCPU    NodeList
   ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 
   batch   | batch        COMPLETED   0:0    2024-01-10T19:48:53 2024-01-11T01:31:03 05:42:10  1-03:45:12 1-21:37:20        0.1625M  170958.49M    72155.93M  95495940K          0    trex068      1 18:29:22   trex068
   extern  | extern       COMPLETED   0:0    2024-01-10T19:48:53 2024-01-11T01:31:03 05:42:10  00:00.001  1-21:37:20        0.1625M       0.00M        0.00M      1688K          0    trex068      1 00:00:00   trex068

