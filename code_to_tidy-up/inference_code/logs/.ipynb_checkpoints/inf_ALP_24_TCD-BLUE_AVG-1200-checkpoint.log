unload conda/22.11.1  : OK 
load conda/22.11.1  : OK 
envs_dirs : /work/scratch/env/barrouz/conda_env/
pkgs_dirs : /work/scratch/env/barrouz/pkgs_conda
INPUT_PATH /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/ALP/24.txt
OUTPUT_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
DEM_PATH /work/CAMPUS/etudes/Neige/DEM
TCD_PATH /work/datalake/static_aux/TreeCoverDensity
MODELS_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
KEEP_REFL 0
MASK 1
start
/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/ALP/24.txt
muscate/SPOTWORLDHERITAGE/2006/04/13/SPOT4-HRVIR2-XS_20060413-103831-803_L1C_048-260-2_D_V1-0/SPOT4-HRVIR2-XS_20060413-103831-803_L1C_048-260-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060413-103831-803_L1C_048-260-2_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060413-103831-803_L1C_048-260-2_D_V1-0.zip
run script
2024-01-15T04:40:16.550    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T04:40:16.551    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060413-103831-803_L1C_048-260-2_D_V1-0.zip
2024-01-15T04:40:16.551    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T04:40:16.551    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T04:40:16.552    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T04:40:16.552    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T04:40:16.552    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T04:40:16.552    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T04:40:16.552    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T04:40:16.552    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060413-103831-803_L1C_048-260-2_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2006/04/13/SPOT4-HRVIR2-XS_20060413-103838-297_L1C_048-261-0_D_V1-0/SPOT4-HRVIR2-XS_20060413-103838-297_L1C_048-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060413-103838-297_L1C_048-261-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060413-103838-297_L1C_048-261-0_D_V1-0.zip
run script
2024-01-15T04:40:19.932    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T04:40:19.933    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060413-103838-297_L1C_048-261-0_D_V1-0.zip
2024-01-15T04:40:19.933    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T04:40:19.933    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T04:40:19.933    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T04:40:19.933    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T04:40:19.933    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T04:40:19.933    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T04:40:19.933    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T04:40:19.933    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060413-103838-297_L1C_048-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2006/04/13/SPOT4-HRVIR1-XS_20060413-103847-451_L1C_051-262-5_D_V1-0/SPOT4-HRVIR1-XS_20060413-103847-451_L1C_051-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060413-103847-451_L1C_051-262-5_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060413-103847-451_L1C_051-262-5_D_V1-0.zip
run script
2024-01-15T04:40:23.016    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T04:40:23.017    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060413-103847-451_L1C_051-262-5_D_V1-0.zip
2024-01-15T04:40:23.017    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T04:40:23.017    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T04:40:23.017    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T04:40:23.017    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T04:40:23.017    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T04:40:23.018    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T04:40:23.018    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T04:40:23.018    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060413-103847-451_L1C_051-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/13/SPOT4-HRVIR1-XS_20060413-103851-280_L1C_051-263-0_D_V1-0/SPOT4-HRVIR1-XS_20060413-103851-280_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060413-103851-280_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060413-103851-280_L1C_051-263-0_D_V1-0.zip
run script
2024-01-15T04:42:00.817    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T04:42:00.818    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060413-103851-280_L1C_051-263-0_D_V1-0.zip
2024-01-15T04:42:00.818    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T04:42:00.818    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T04:42:00.818    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T04:42:00.818    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T04:42:00.818    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T04:42:00.818    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T04:42:00.818    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T04:42:00.818    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060413-103851-280_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/13/SPOT4-HRVIR1-XS_20060413-103824-511_L1C_053-260-0_D_V1-0/SPOT4-HRVIR1-XS_20060413-103824-511_L1C_053-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060413-103824-511_L1C_053-260-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060413-103824-511_L1C_053-260-0_D_V1-0.zip
run script
2024-01-15T04:42:55.234    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T04:42:55.235    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060413-103824-511_L1C_053-260-0_D_V1-0.zip
2024-01-15T04:42:55.235    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T04:42:55.235    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T04:42:55.235    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T04:42:55.235    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T04:42:55.235    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T04:42:55.235    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T04:42:55.235    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T04:42:55.235    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060413-103824-511_L1C_053-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/13/SPOT4-HRVIR1-XS_20060413-103832-855_L1C_053-261-0_D_V1-0/SPOT4-HRVIR1-XS_20060413-103832-855_L1C_053-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060413-103832-855_L1C_053-261-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060413-103832-855_L1C_053-261-0_D_V1-0.zip
run script
2024-01-15T04:45:31.840    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T04:45:31.841    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060413-103832-855_L1C_053-261-0_D_V1-0.zip
2024-01-15T04:45:31.841    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T04:45:31.841    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T04:45:31.841    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T04:45:31.841    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T04:45:31.841    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T04:45:31.841    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T04:45:31.841    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T04:45:31.841    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060413-103832-855_L1C_053-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/13/SPOT4-HRVIR2-XS_20060513-110152-363_L1C_048-260-7_D_V1-0/SPOT4-HRVIR2-XS_20060513-110152-363_L1C_048-260-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060513-110152-363_L1C_048-260-7_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060513-110152-363_L1C_048-260-7_D_V1-0.zip
run script
2024-01-15T04:48:29.206    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T04:48:29.207    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060513-110152-363_L1C_048-260-7_D_V1-0.zip
2024-01-15T04:48:29.208    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T04:48:29.208    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T04:48:29.208    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T04:48:29.208    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T04:48:29.208    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T04:48:29.208    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T04:48:29.208    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T04:48:29.208    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060513-110152-363_L1C_048-260-7_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2006/05/13/SPOT4-HRVIR1-XS_20060513-110137-023_L1C_049-259-2_D_V1-0/SPOT4-HRVIR1-XS_20060513-110137-023_L1C_049-259-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060513-110137-023_L1C_049-259-2_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060513-110137-023_L1C_049-259-2_D_V1-0.zip
run script
2024-01-15T04:48:32.239    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T04:48:32.239    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060513-110137-023_L1C_049-259-2_D_V1-0.zip
2024-01-15T04:48:32.239    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T04:48:32.239    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T04:48:32.239    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T04:48:32.240    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T04:48:32.240    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T04:48:32.240    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T04:48:32.240    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T04:48:32.240    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060513-110137-023_L1C_049-259-2_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/13/SPOT4-HRVIR1-XS_20060513-110143-679_L1C_049-260-0_D_V1-0/SPOT4-HRVIR1-XS_20060513-110143-679_L1C_049-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060513-110143-679_L1C_049-260-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060513-110143-679_L1C_049-260-0_D_V1-0.zip
run script
2024-01-15T04:49:59.204    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T04:49:59.204    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060513-110143-679_L1C_049-260-0_D_V1-0.zip
2024-01-15T04:49:59.204    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T04:49:59.204    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T04:49:59.204    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T04:49:59.204    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T04:49:59.204    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T04:49:59.204    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T04:49:59.204    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T04:49:59.204    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060513-110143-679_L1C_049-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/13/SPOT4-HRVIR1-XS_20060513-110152-141_L1C_049-261-0_D_V1-0/SPOT4-HRVIR1-XS_20060513-110152-141_L1C_049-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060513-110152-141_L1C_049-261-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060513-110152-141_L1C_049-261-0_D_V1-0.zip
run script
2024-01-15T04:51:01.634    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T04:51:01.635    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060513-110152-141_L1C_049-261-0_D_V1-0.zip
2024-01-15T04:51:01.635    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T04:51:01.635    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T04:51:01.635    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T04:51:01.636    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T04:51:01.636    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T04:51:01.636    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T04:51:01.636    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T04:51:01.636    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060513-110152-141_L1C_049-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/12/SPOT4-HRVIR2-XS_20061012-103851-362_L1C_049-255-9_D_V1-0/SPOT4-HRVIR2-XS_20061012-103851-362_L1C_049-255-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20061012-103851-362_L1C_049-255-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061012-103851-362_L1C_049-255-9_D_V1-0.zip
run script
2024-01-15T04:51:36.295    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T04:51:36.297    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061012-103851-362_L1C_049-255-9_D_V1-0.zip
2024-01-15T04:51:36.297    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T04:51:36.297    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T04:51:36.297    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T04:51:36.297    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T04:51:36.297    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T04:51:36.297    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T04:51:36.297    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T04:51:36.297    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061012-103851-362_L1C_049-255-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/12/SPOT4-HRVIR2-XS_20061012-103851-501_L1C_049-256-0_D_V1-0/SPOT4-HRVIR2-XS_20061012-103851-501_L1C_049-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20061012-103851-501_L1C_049-256-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061012-103851-501_L1C_049-256-0_D_V1-0.zip
run script
2024-01-15T04:53:07.931    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T04:53:07.932    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061012-103851-501_L1C_049-256-0_D_V1-0.zip
2024-01-15T04:53:07.932    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T04:53:07.932    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T04:53:07.932    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T04:53:07.932    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T04:53:07.932    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T04:53:07.933    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T04:53:07.933    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T04:53:07.933    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061012-103851-501_L1C_049-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/12/SPOT4-HRVIR2-XS_20061012-103854-208_L1C_049-256-3_D_V1-0/SPOT4-HRVIR2-XS_20061012-103854-208_L1C_049-256-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20061012-103854-208_L1C_049-256-3_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061012-103854-208_L1C_049-256-3_D_V1-0.zip
run script
2024-01-15T04:54:34.505    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T04:54:34.506    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061012-103854-208_L1C_049-256-3_D_V1-0.zip
2024-01-15T04:54:34.506    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T04:54:34.507    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T04:54:34.507    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T04:54:34.507    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T04:54:34.507    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T04:54:34.507    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T04:54:34.507    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T04:54:34.507    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061012-103854-208_L1C_049-256-3_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/12/SPOT4-HRVIR2-XS_20061012-103915-537_L1C_049-258-8_D_V1-0/SPOT4-HRVIR2-XS_20061012-103915-537_L1C_049-258-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20061012-103915-537_L1C_049-258-8_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061012-103915-537_L1C_049-258-8_D_V1-0.zip
run script
2024-01-15T04:55:57.739    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T04:55:57.740    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061012-103915-537_L1C_049-258-8_D_V1-0.zip
2024-01-15T04:55:57.740    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T04:55:57.740    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T04:55:57.740    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T04:55:57.740    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T04:55:57.740    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T04:55:57.740    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T04:55:57.740    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T04:55:57.740    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061012-103915-537_L1C_049-258-8_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/12/SPOT4-HRVIR2-XS_20061012-103916-601_L1C_049-259-0_D_V1-0/SPOT4-HRVIR2-XS_20061012-103916-601_L1C_049-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20061012-103916-601_L1C_049-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061012-103916-601_L1C_049-259-0_D_V1-0.zip
run script
2024-01-15T04:56:22.916    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T04:56:22.918    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061012-103916-601_L1C_049-259-0_D_V1-0.zip
2024-01-15T04:56:22.918    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T04:56:22.918    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T04:56:22.918    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T04:56:22.918    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T04:56:22.918    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T04:56:22.918    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T04:56:22.918    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T04:56:22.918    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061012-103916-601_L1C_049-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/12/SPOT4-HRVIR1-XS_20061012-103904-816_L1C_052-258-0_D_V1-0/SPOT4-HRVIR1-XS_20061012-103904-816_L1C_052-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20061012-103904-816_L1C_052-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061012-103904-816_L1C_052-258-0_D_V1-0.zip
run script
2024-01-15T04:56:43.825    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T04:56:43.826    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061012-103904-816_L1C_052-258-0_D_V1-0.zip
2024-01-15T04:56:43.827    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T04:56:43.827    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T04:56:43.827    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T04:56:43.827    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T04:56:43.827    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T04:56:43.827    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T04:56:43.827    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T04:56:43.827    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061012-103904-816_L1C_052-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/12/SPOT4-HRVIR2-XS_20061012-103934-468_L1C_053-261-7_D_V1-0/SPOT4-HRVIR2-XS_20061012-103934-468_L1C_053-261-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20061012-103934-468_L1C_053-261-7_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061012-103934-468_L1C_053-261-7_D_V1-0.zip
run script
2024-01-15T04:59:46.190    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T04:59:46.191    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061012-103934-468_L1C_053-261-7_D_V1-0.zip
2024-01-15T04:59:46.191    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T04:59:46.191    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T04:59:46.191    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T04:59:46.191    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T04:59:46.191    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T04:59:46.191    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T04:59:46.191    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T04:59:46.191    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T05:00:53.232    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 123). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061012-103934-468_L1C_053-261-7_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/10/12/SPOT4-HRVIR2-XS_20061012-103936-498_L1C_053-262-0_D_V1-0/SPOT4-HRVIR2-XS_20061012-103936-498_L1C_053-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20061012-103936-498_L1C_053-262-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061012-103936-498_L1C_053-262-0_D_V1-0.zip
run script
2024-01-15T05:00:56.200    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:00:56.202    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061012-103936-498_L1C_053-262-0_D_V1-0.zip
2024-01-15T05:00:56.202    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:00:56.202    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:00:56.202    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:00:56.202    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:00:56.202    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:00:56.202    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:00:56.202    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:00:56.202    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061012-103936-498_L1C_053-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/12/SPOT4-HRVIR1-XS_20061012-103934-627_L1C_054-261-9_D_V1-0/SPOT4-HRVIR1-XS_20061012-103934-627_L1C_054-261-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20061012-103934-627_L1C_054-261-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061012-103934-627_L1C_054-261-9_D_V1-0.zip
run script
2024-01-15T05:03:28.575    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:03:28.576    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061012-103934-627_L1C_054-261-9_D_V1-0.zip
2024-01-15T05:03:28.576    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:03:28.576    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:03:28.576    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:03:28.576    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:03:28.576    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:03:28.576    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:03:28.576    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:03:28.576    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061012-103934-627_L1C_054-261-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/12/SPOT4-HRVIR1-XS_20061012-103936-673_L1C_054-262-2_D_V1-0/SPOT4-HRVIR1-XS_20061012-103936-673_L1C_054-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20061012-103936-673_L1C_054-262-2_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061012-103936-673_L1C_054-262-2_D_V1-0.zip
run script
2024-01-15T05:05:27.024    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:05:27.025    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061012-103936-673_L1C_054-262-2_D_V1-0.zip
2024-01-15T05:05:27.025    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:05:27.025    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:05:27.025    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:05:27.025    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:05:27.025    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:05:27.025    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:05:27.025    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:05:27.026    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061012-103936-673_L1C_054-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/02/SPOT4-HRVIR2-XS_20061102-103507-738_L1C_049-255-5_D_V1-0/SPOT4-HRVIR2-XS_20061102-103507-738_L1C_049-255-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20061102-103507-738_L1C_049-255-5_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061102-103507-738_L1C_049-255-5_D_V1-0.zip
run script
2024-01-15T05:07:24.520    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:07:24.521    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061102-103507-738_L1C_049-255-5_D_V1-0.zip
2024-01-15T05:07:24.521    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:07:24.521    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:07:24.522    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:07:24.522    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:07:24.522    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:07:24.522    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:07:24.522    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:07:24.522    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T05:08:29.361    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (288 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061102-103507-738_L1C_049-255-5_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/11/02/SPOT4-HRVIR2-XS_20061102-103511-468_L1C_049-256-0_D_V1-0/SPOT4-HRVIR2-XS_20061102-103511-468_L1C_049-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20061102-103511-468_L1C_049-256-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061102-103511-468_L1C_049-256-0_D_V1-0.zip
run script
2024-01-15T05:08:32.414    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:08:32.415    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061102-103511-468_L1C_049-256-0_D_V1-0.zip
2024-01-15T05:08:32.415    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:08:32.415    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:08:32.415    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:08:32.415    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:08:32.415    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:08:32.415    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:08:32.416    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:08:32.416    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061102-103511-468_L1C_049-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/02/SPOT4-HRVIR2-XS_20061102-103519-716_L1C_049-257-0_D_V1-0/SPOT4-HRVIR2-XS_20061102-103519-716_L1C_049-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20061102-103519-716_L1C_049-257-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061102-103519-716_L1C_049-257-0_D_V1-0.zip
run script
2024-01-15T05:09:58.116    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:09:58.117    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061102-103519-716_L1C_049-257-0_D_V1-0.zip
2024-01-15T05:09:58.117    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:09:58.117    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:09:58.117    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:09:58.117    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:09:58.117    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:09:58.117    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:09:58.117    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:09:58.117    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061102-103519-716_L1C_049-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/02/SPOT4-HRVIR2-XS_20061102-103521-520_L1C_049-257-2_D_V1-0/SPOT4-HRVIR2-XS_20061102-103521-520_L1C_049-257-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20061102-103521-520_L1C_049-257-2_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061102-103521-520_L1C_049-257-2_D_V1-0.zip
run script
2024-01-15T05:11:10.997    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:11:10.998    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061102-103521-520_L1C_049-257-2_D_V1-0.zip
2024-01-15T05:11:10.998    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:11:10.998    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:11:10.998    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:11:10.998    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:11:10.998    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:11:10.998    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:11:10.999    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:11:10.999    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061102-103521-520_L1C_049-257-2_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/02/SPOT4-HRVIR1-XS_20061102-103600-178_L1C_049-261-8_D_V1-0/SPOT4-HRVIR1-XS_20061102-103600-178_L1C_049-261-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20061102-103600-178_L1C_049-261-8_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061102-103600-178_L1C_049-261-8_D_V1-0.zip
run script
2024-01-15T05:12:20.281    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:12:20.283    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061102-103600-178_L1C_049-261-8_D_V1-0.zip
2024-01-15T05:12:20.283    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:12:20.283    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:12:20.283    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:12:20.283    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:12:20.283    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:12:20.283    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:12:20.283    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:12:20.284    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061102-103600-178_L1C_049-261-8_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2006/11/02/SPOT4-HRVIR1-XS_20061102-103601-249_L1C_049-262-0_D_V1-0/SPOT4-HRVIR1-XS_20061102-103601-249_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20061102-103601-249_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061102-103601-249_L1C_049-262-0_D_V1-0.zip
run script
2024-01-15T05:12:23.500    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:12:23.501    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061102-103601-249_L1C_049-262-0_D_V1-0.zip
2024-01-15T05:12:23.501    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:12:23.501    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:12:23.501    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:12:23.501    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:12:23.502    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:12:23.502    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:12:23.502    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:12:23.502    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061102-103601-249_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2006/11/02/SPOT4-HRVIR2-XS_20061102-103452-756_L1C_051-254-0_D_V1-0/SPOT4-HRVIR2-XS_20061102-103452-756_L1C_051-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20061102-103452-756_L1C_051-254-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061102-103452-756_L1C_051-254-0_D_V1-0.zip
run script
2024-01-15T05:12:26.481    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:12:26.482    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061102-103452-756_L1C_051-254-0_D_V1-0.zip
2024-01-15T05:12:26.482    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:12:26.482    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:12:26.483    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:12:26.483    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:12:26.483    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:12:26.483    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:12:26.483    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:12:26.483    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061102-103452-756_L1C_051-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2006/10/28/SPOT4-HRVIR1-XS_20061028-103128-903_L1C_049-257-4_D_V1-0/SPOT4-HRVIR1-XS_20061028-103128-903_L1C_049-257-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20061028-103128-903_L1C_049-257-4_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061028-103128-903_L1C_049-257-4_D_V1-0.zip
run script
2024-01-15T05:12:29.678    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:12:29.678    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061028-103128-903_L1C_049-257-4_D_V1-0.zip
2024-01-15T05:12:29.679    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:12:29.679    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:12:29.679    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:12:29.679    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:12:29.679    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:12:29.679    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:12:29.679    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:12:29.679    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061028-103128-903_L1C_049-257-4_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/28/SPOT4-HRVIR1-XS_20061028-103131-610_L1C_049-257-7_D_V1-0/SPOT4-HRVIR1-XS_20061028-103131-610_L1C_049-257-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20061028-103131-610_L1C_049-257-7_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061028-103131-610_L1C_049-257-7_D_V1-0.zip
run script
2024-01-15T05:13:27.803    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:13:27.804    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061028-103131-610_L1C_049-257-7_D_V1-0.zip
2024-01-15T05:13:27.804    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:13:27.804    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:13:27.804    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:13:27.804    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:13:27.804    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:13:27.804    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:13:27.804    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:13:27.804    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061028-103131-610_L1C_049-257-7_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/28/SPOT4-HRVIR2-XS_20061028-103152-716_L1C_050-260-4_D_V1-0/SPOT4-HRVIR2-XS_20061028-103152-716_L1C_050-260-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20061028-103152-716_L1C_050-260-4_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061028-103152-716_L1C_050-260-4_D_V1-0.zip
run script
2024-01-15T05:14:22.405    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:14:22.405    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061028-103152-716_L1C_050-260-4_D_V1-0.zip
2024-01-15T05:14:22.405    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:14:22.406    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:14:22.406    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:14:22.406    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:14:22.406    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:14:22.406    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:14:22.406    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:14:22.406    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061028-103152-716_L1C_050-260-4_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/28/SPOT4-HRVIR2-XS_20061028-103157-382_L1C_050-261-0_D_V1-0/SPOT4-HRVIR2-XS_20061028-103157-382_L1C_050-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20061028-103157-382_L1C_050-261-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061028-103157-382_L1C_050-261-0_D_V1-0.zip
run script
2024-01-15T05:15:26.531    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:15:26.531    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061028-103157-382_L1C_050-261-0_D_V1-0.zip
2024-01-15T05:15:26.531    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:15:26.531    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:15:26.533    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:15:26.533    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:15:26.533    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:15:26.533    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:15:26.533    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:15:26.533    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061028-103157-382_L1C_050-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/28/SPOT4-HRVIR2-XS_20061028-103159-187_L1C_050-261-2_D_V1-0/SPOT4-HRVIR2-XS_20061028-103159-187_L1C_050-261-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20061028-103159-187_L1C_050-261-2_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061028-103159-187_L1C_050-261-2_D_V1-0.zip
run script
2024-01-15T05:16:16.082    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:16:16.083    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061028-103159-187_L1C_050-261-2_D_V1-0.zip
2024-01-15T05:16:16.083    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:16:16.083    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:16:16.083    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:16:16.083    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:16:16.083    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:16:16.083    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:16:16.083    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:16:16.084    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061028-103159-187_L1C_050-261-2_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/07/SPOT4-HRVIR2-XS_20061107-103925-987_L1C_049-258-4_D_V1-0/SPOT4-HRVIR2-XS_20061107-103925-987_L1C_049-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20061107-103925-987_L1C_049-258-4_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061107-103925-987_L1C_049-258-4_D_V1-0.zip
run script
2024-01-15T05:17:03.340    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:17:03.341    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061107-103925-987_L1C_049-258-4_D_V1-0.zip
2024-01-15T05:17:03.341    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:17:03.341    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:17:03.341    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:17:03.341    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:17:03.341    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:17:03.341    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:17:03.341    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:17:03.341    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061107-103925-987_L1C_049-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/07/SPOT4-HRVIR2-XS_20061107-103930-662_L1C_049-259-0_D_V1-0/SPOT4-HRVIR2-XS_20061107-103930-662_L1C_049-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20061107-103930-662_L1C_049-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061107-103930-662_L1C_049-259-0_D_V1-0.zip
run script
2024-01-15T05:17:41.728    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:17:41.730    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061107-103930-662_L1C_049-259-0_D_V1-0.zip
2024-01-15T05:17:41.730    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:17:41.730    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:17:41.730    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:17:41.730    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:17:41.730    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:17:41.730    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:17:41.730    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:17:41.730    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061107-103930-662_L1C_049-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/07/SPOT4-HRVIR1-XS_20061107-103846-877_L1C_051-254-0_D_V1-0/SPOT4-HRVIR1-XS_20061107-103846-877_L1C_051-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20061107-103846-877_L1C_051-254-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061107-103846-877_L1C_051-254-0_D_V1-0.zip
run script
2024-01-15T05:18:10.426    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:18:10.427    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061107-103846-877_L1C_051-254-0_D_V1-0.zip
2024-01-15T05:18:10.427    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:18:10.427    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:18:10.427    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:18:10.428    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:18:10.428    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:18:10.428    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:18:10.428    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:18:10.428    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061107-103846-877_L1C_051-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2006/11/07/SPOT4-HRVIR1-XS_20061107-103925-684_L1C_053-259-0_D_V1-0/SPOT4-HRVIR1-XS_20061107-103925-684_L1C_053-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20061107-103925-684_L1C_053-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061107-103925-684_L1C_053-259-0_D_V1-0.zip
run script
2024-01-15T05:18:13.434    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:18:13.434    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061107-103925-684_L1C_053-259-0_D_V1-0.zip
2024-01-15T05:18:13.434    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:18:13.434    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:18:13.435    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:18:13.435    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:18:13.435    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:18:13.435    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:18:13.435    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:18:13.435    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061107-103925-684_L1C_053-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/07/SPOT4-HRVIR2-XS_20061107-103946-093_L1C_053-261-4_D_V1-0/SPOT4-HRVIR2-XS_20061107-103946-093_L1C_053-261-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20061107-103946-093_L1C_053-261-4_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061107-103946-093_L1C_053-261-4_D_V1-0.zip
run script
2024-01-15T05:20:36.624    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:20:36.625    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061107-103946-093_L1C_053-261-4_D_V1-0.zip
2024-01-15T05:20:36.625    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:20:36.625    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:20:36.625    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:20:36.625    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:20:36.625    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:20:36.625    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:20:36.625    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:20:36.625    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061107-103946-093_L1C_053-261-4_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/07/SPOT4-HRVIR2-XS_20061107-103950-830_L1C_053-262-0_D_V1-0/SPOT4-HRVIR2-XS_20061107-103950-830_L1C_053-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20061107-103950-830_L1C_053-262-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061107-103950-830_L1C_053-262-0_D_V1-0.zip
run script
2024-01-15T05:23:30.208    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:23:30.209    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061107-103950-830_L1C_053-262-0_D_V1-0.zip
2024-01-15T05:23:30.210    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:23:30.210    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:23:30.210    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:23:30.210    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:23:30.210    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:23:30.210    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:23:30.210    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:23:30.210    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061107-103950-830_L1C_053-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/01/08/SPOT4-HRVIR2-XS_20060108-110512-369_L1C_049-259-1_D_V1-0/SPOT4-HRVIR2-XS_20060108-110512-369_L1C_049-259-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060108-110512-369_L1C_049-259-1_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060108-110512-369_L1C_049-259-1_D_V1-0.zip
run script
2024-01-15T05:26:04.218    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:26:04.219    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060108-110512-369_L1C_049-259-1_D_V1-0.zip
2024-01-15T05:26:04.219    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:26:04.219    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:26:04.219    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:26:04.219    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:26:04.219    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:26:04.219    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:26:04.220    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:26:04.220    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060108-110512-369_L1C_049-259-1_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/01/08/SPOT4-HRVIR2-XS_20060108-110519-946_L1C_049-260-0_D_V1-0/SPOT4-HRVIR2-XS_20060108-110519-946_L1C_049-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060108-110519-946_L1C_049-260-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060108-110519-946_L1C_049-260-0_D_V1-0.zip
run script
2024-01-15T05:26:52.167    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:26:52.168    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060108-110519-946_L1C_049-260-0_D_V1-0.zip
2024-01-15T05:26:52.168    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:26:52.168    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:26:52.168    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:26:52.168    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:26:52.168    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:26:52.168    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:26:52.168    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:26:52.168    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060108-110519-946_L1C_049-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/09/SPOT4-HRVIR1-XS_20060509-103834-749_L1C_049-259-9_D_V1-0/SPOT4-HRVIR1-XS_20060509-103834-749_L1C_049-259-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060509-103834-749_L1C_049-259-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060509-103834-749_L1C_049-259-9_D_V1-0.zip
run script
2024-01-15T05:27:05.290    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:27:05.291    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060509-103834-749_L1C_049-259-9_D_V1-0.zip
2024-01-15T05:27:05.291    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:27:05.292    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:27:05.292    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:27:05.292    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:27:05.292    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:27:05.292    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:27:05.292    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:27:05.292    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060509-103834-749_L1C_049-259-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/09/SPOT4-HRVIR1-XS_20060509-103843-228_L1C_049-261-0_D_V1-0/SPOT4-HRVIR1-XS_20060509-103843-228_L1C_049-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060509-103843-228_L1C_049-261-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060509-103843-228_L1C_049-261-0_D_V1-0.zip
run script
2024-01-15T05:27:39.560    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:27:39.561    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060509-103843-228_L1C_049-261-0_D_V1-0.zip
2024-01-15T05:27:39.561    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:27:39.561    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:27:39.561    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:27:39.561    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:27:39.561    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:27:39.561    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:27:39.561    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:27:39.561    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060509-103843-228_L1C_049-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/09/SPOT4-HRVIR1-XS_20060509-103851-539_L1C_049-262-0_D_V1-0/SPOT4-HRVIR1-XS_20060509-103851-539_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060509-103851-539_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060509-103851-539_L1C_049-262-0_D_V1-0.zip
run script
2024-01-15T05:27:55.617    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:27:55.618    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060509-103851-539_L1C_049-262-0_D_V1-0.zip
2024-01-15T05:27:55.618    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:27:55.618    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:27:55.619    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:27:55.619    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:27:55.619    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:27:55.619    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:27:55.619    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:27:55.619    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060509-103851-539_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2006/03/28/SPOT4-HRVIR1-XS_20060328-104623-134_L1C_049-261-9_D_V1-0/SPOT4-HRVIR1-XS_20060328-104623-134_L1C_049-261-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060328-104623-134_L1C_049-261-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060328-104623-134_L1C_049-261-9_D_V1-0.zip
run script
2024-01-15T05:27:58.618    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:27:58.619    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060328-104623-134_L1C_049-261-9_D_V1-0.zip
2024-01-15T05:27:58.619    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:27:58.620    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:27:58.620    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:27:58.620    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:27:58.620    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:27:58.620    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:27:58.620    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:27:58.620    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060328-104623-134_L1C_049-261-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2006/03/28/SPOT4-HRVIR1-XS_20060328-104607-308_L1C_054-261-0_D_V1-0/SPOT4-HRVIR1-XS_20060328-104607-308_L1C_054-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060328-104607-308_L1C_054-261-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060328-104607-308_L1C_054-261-0_D_V1-0.zip
run script
2024-01-15T05:28:01.541    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:28:01.542    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060328-104607-308_L1C_054-261-0_D_V1-0.zip
2024-01-15T05:28:01.542    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:28:01.542    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:28:01.542    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:28:01.542    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:28:01.542    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:28:01.542    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:28:01.543    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:28:01.543    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060328-104607-308_L1C_054-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/03/29/SPOT4-HRVIR1-XS_20060329-102704-145_L1C_049-261-9_D_V1-0/SPOT4-HRVIR1-XS_20060329-102704-145_L1C_049-261-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060329-102704-145_L1C_049-261-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060329-102704-145_L1C_049-261-9_D_V1-0.zip
run script
2024-01-15T05:29:39.950    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:29:39.951    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060329-102704-145_L1C_049-261-9_D_V1-0.zip
2024-01-15T05:29:39.951    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:29:39.951    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:29:39.951    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:29:39.951    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:29:39.951    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:29:39.951    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:29:39.951    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:29:39.951    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060329-102704-145_L1C_049-261-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2006/09/25/SPOT4-HRVIR1-XS_20060925-110652-015_L1C_049-261-8_D_V1-0/SPOT4-HRVIR1-XS_20060925-110652-015_L1C_049-261-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060925-110652-015_L1C_049-261-8_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060925-110652-015_L1C_049-261-8_D_V1-0.zip
run script
2024-01-15T05:29:43.231    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:29:43.233    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060925-110652-015_L1C_049-261-8_D_V1-0.zip
2024-01-15T05:29:43.233    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:29:43.233    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:29:43.233    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:29:43.233    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:29:43.233    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:29:43.233    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:29:43.233    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:29:43.233    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060925-110652-015_L1C_049-261-8_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2006/09/25/SPOT4-HRVIR1-XS_20060925-110653-287_L1C_049-262-0_D_V1-0/SPOT4-HRVIR1-XS_20060925-110653-287_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060925-110653-287_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060925-110653-287_L1C_049-262-0_D_V1-0.zip
run script
2024-01-15T05:29:46.329    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:29:46.331    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060925-110653-287_L1C_049-262-0_D_V1-0.zip
2024-01-15T05:29:46.331    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:29:46.331    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:29:46.331    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:29:46.331    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:29:46.331    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:29:46.331    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:29:46.331    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:29:46.331    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060925-110653-287_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2006/11/11/SPOT4-HRVIR1-XS_20061111-110304-823_L1C_049-261-8_D_V1-0/SPOT4-HRVIR1-XS_20061111-110304-823_L1C_049-261-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20061111-110304-823_L1C_049-261-8_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061111-110304-823_L1C_049-261-8_D_V1-0.zip
run script
2024-01-15T05:29:49.202    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:29:49.202    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061111-110304-823_L1C_049-261-8_D_V1-0.zip
2024-01-15T05:29:49.202    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:29:49.203    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:29:49.203    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:29:49.203    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:29:49.203    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:29:49.203    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:29:49.203    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:29:49.203    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061111-110304-823_L1C_049-261-8_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2006/11/11/SPOT4-HRVIR1-XS_20061111-110306-065_L1C_049-262-0_D_V1-0/SPOT4-HRVIR1-XS_20061111-110306-065_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20061111-110306-065_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061111-110306-065_L1C_049-262-0_D_V1-0.zip
run script
2024-01-15T05:29:52.139    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:29:52.139    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061111-110306-065_L1C_049-262-0_D_V1-0.zip
2024-01-15T05:29:52.139    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:29:52.139    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:29:52.139    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:29:52.139    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:29:52.139    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:29:52.139    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:29:52.140    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:29:52.140    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061111-110306-065_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2006/11/13/SPOT4-HRVIR1-XS_20061113-102423-887_L1C_049-261-3_D_V1-0/SPOT4-HRVIR1-XS_20061113-102423-887_L1C_049-261-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20061113-102423-887_L1C_049-261-3_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061113-102423-887_L1C_049-261-3_D_V1-0.zip
run script
2024-01-15T05:29:55.534    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:29:55.535    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061113-102423-887_L1C_049-261-3_D_V1-0.zip
2024-01-15T05:29:55.535    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:29:55.535    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:29:55.535    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:29:55.535    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:29:55.535    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:29:55.535    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:29:55.535    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:29:55.535    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T05:29:58.490    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (190 x 1). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061113-102423-887_L1C_049-261-3_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2006/11/13/SPOT4-HRVIR1-XS_20061113-102429-437_L1C_049-262-0_D_V1-0/SPOT4-HRVIR1-XS_20061113-102429-437_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20061113-102429-437_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061113-102429-437_L1C_049-262-0_D_V1-0.zip
run script
2024-01-15T05:30:01.969    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:30:01.969    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061113-102429-437_L1C_049-262-0_D_V1-0.zip
2024-01-15T05:30:01.969    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:30:01.969    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:30:01.969    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:30:01.969    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:30:01.969    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:30:01.969    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:30:01.970    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:30:01.970    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061113-102429-437_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2006/11/13/SPOT4-HRVIR2-XS_20061113-102424-242_L1C_054-261-9_D_V1-0/SPOT4-HRVIR2-XS_20061113-102424-242_L1C_054-261-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20061113-102424-242_L1C_054-261-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061113-102424-242_L1C_054-261-9_D_V1-0.zip
run script
2024-01-15T05:30:04.871    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:30:04.873    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061113-102424-242_L1C_054-261-9_D_V1-0.zip
2024-01-15T05:30:04.873    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:30:04.873    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:30:04.873    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:30:04.873    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:30:04.873    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:30:04.873    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:30:04.873    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:30:04.873    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061113-102424-242_L1C_054-261-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/13/SPOT4-HRVIR2-XS_20061113-102429-819_L1C_054-262-6_D_V1-0/SPOT4-HRVIR2-XS_20061113-102429-819_L1C_054-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20061113-102429-819_L1C_054-262-6_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061113-102429-819_L1C_054-262-6_D_V1-0.zip
run script
2024-01-15T05:31:56.884    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:31:56.885    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061113-102429-819_L1C_054-262-6_D_V1-0.zip
2024-01-15T05:31:56.885    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:31:56.885    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:31:56.886    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:31:56.886    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:31:56.886    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:31:56.886    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:31:56.886    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:31:56.886    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061113-102429-819_L1C_054-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/03/22/SPOT4-HRVIR1-XS_20060322-110146-261_L1C_049-262-0_D_V1-0/SPOT4-HRVIR1-XS_20060322-110146-261_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060322-110146-261_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060322-110146-261_L1C_049-262-0_D_V1-0.zip
run script
2024-01-15T05:33:11.789    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:33:11.791    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060322-110146-261_L1C_049-262-0_D_V1-0.zip
2024-01-15T05:33:11.791    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:33:11.791    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:33:11.791    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:33:11.791    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:33:11.791    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:33:11.791    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:33:11.791    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:33:11.791    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060322-110146-261_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2006/03/22/SPOT4-HRVIR1-XS_20060322-110108-578_L1C_051-258-0_D_V1-0/SPOT4-HRVIR1-XS_20060322-110108-578_L1C_051-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060322-110108-578_L1C_051-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060322-110108-578_L1C_051-258-0_D_V1-0.zip
run script
2024-01-15T05:33:14.940    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:33:14.940    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060322-110108-578_L1C_051-258-0_D_V1-0.zip
2024-01-15T05:33:14.940    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:33:14.940    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:33:14.940    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:33:14.940    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:33:14.940    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:33:14.941    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:33:14.941    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:33:14.941    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T05:37:22.130    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 1786). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060322-110108-578_L1C_051-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/03/22/SPOT4-HRVIR1-XS_20060322-110112-188_L1C_051-258-4_D_V1-0/SPOT4-HRVIR1-XS_20060322-110112-188_L1C_051-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060322-110112-188_L1C_051-258-4_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060322-110112-188_L1C_051-258-4_D_V1-0.zip
run script
2024-01-15T05:37:25.566    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:37:25.568    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060322-110112-188_L1C_051-258-4_D_V1-0.zip
2024-01-15T05:37:25.568    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:37:25.568    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:37:25.568    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:37:25.568    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:37:25.568    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:37:25.568    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:37:25.568    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:37:25.568    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060322-110112-188_L1C_051-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/04/SPOT4-HRVIR1-XS_20060704-110225-839_L1C_049-262-0_D_V1-0/SPOT4-HRVIR1-XS_20060704-110225-839_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060704-110225-839_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060704-110225-839_L1C_049-262-0_D_V1-0.zip
run script
2024-01-15T05:41:43.500    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:41:43.500    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060704-110225-839_L1C_049-262-0_D_V1-0.zip
2024-01-15T05:41:43.500    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:41:43.500    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:41:43.500    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:41:43.500    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:41:43.500    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:41:43.500    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:41:43.500    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:41:43.500    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060704-110225-839_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2006/01/31/SPOT4-HRVIR2-XS_20060131-102139-820_L1C_050-254-0_D_V1-0/SPOT4-HRVIR2-XS_20060131-102139-820_L1C_050-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060131-102139-820_L1C_050-254-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060131-102139-820_L1C_050-254-0_D_V1-0.zip
run script
2024-01-15T05:41:46.791    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:41:46.791    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060131-102139-820_L1C_050-254-0_D_V1-0.zip
2024-01-15T05:41:46.791    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:41:46.791    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:41:46.792    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:41:46.792    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:41:46.792    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:41:46.792    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:41:46.792    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:41:46.792    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060131-102139-820_L1C_050-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2006/01/31/SPOT4-HRVIR2-XS_20060131-102148-017_L1C_050-255-0_D_V1-0/SPOT4-HRVIR2-XS_20060131-102148-017_L1C_050-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060131-102148-017_L1C_050-255-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060131-102148-017_L1C_050-255-0_D_V1-0.zip
run script
2024-01-15T05:41:49.880    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:41:49.881    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060131-102148-017_L1C_050-255-0_D_V1-0.zip
2024-01-15T05:41:49.881    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:41:49.881    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:41:49.882    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:41:49.882    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:41:49.882    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:41:49.882    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:41:49.882    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:41:49.882    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060131-102148-017_L1C_050-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 0 0 0]
 [2 1 1 ... 0 0 1]
 [1 1 1 ... 0 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/01/31/SPOT4-HRVIR2-XS_20060131-102156-225_L1C_050-256-0_D_V1-0/SPOT4-HRVIR2-XS_20060131-102156-225_L1C_050-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060131-102156-225_L1C_050-256-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060131-102156-225_L1C_050-256-0_D_V1-0.zip
run script
2024-01-15T05:42:51.539    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:42:51.540    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060131-102156-225_L1C_050-256-0_D_V1-0.zip
2024-01-15T05:42:51.540    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:42:51.540    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:42:51.540    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:42:51.540    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:42:51.540    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:42:51.540    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:42:51.541    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:42:51.541    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060131-102156-225_L1C_050-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/01/31/SPOT4-HRVIR2-XS_20060131-102158-030_L1C_050-256-2_D_V1-0/SPOT4-HRVIR2-XS_20060131-102158-030_L1C_050-256-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060131-102158-030_L1C_050-256-2_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060131-102158-030_L1C_050-256-2_D_V1-0.zip
run script
2024-01-15T05:46:15.066    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:46:15.067    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060131-102158-030_L1C_050-256-2_D_V1-0.zip
2024-01-15T05:46:15.067    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:46:15.067    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:46:15.067    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:46:15.067    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:46:15.067    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:46:15.067    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:46:15.067    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:46:15.067    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060131-102158-030_L1C_050-256-2_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/01/31/SPOT4-HRVIR2-XS_20060131-102242-051_L1C_051-261-6_D_V1-0/SPOT4-HRVIR2-XS_20060131-102242-051_L1C_051-261-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060131-102242-051_L1C_051-261-6_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060131-102242-051_L1C_051-261-6_D_V1-0.zip
run script
2024-01-15T05:49:40.736    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:49:40.738    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060131-102242-051_L1C_051-261-6_D_V1-0.zip
2024-01-15T05:49:40.738    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:49:40.738    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:49:40.738    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:49:40.738    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:49:40.738    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:49:40.738    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:49:40.738    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:49:40.738    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T05:52:07.279    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1 x 30). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060131-102242-051_L1C_051-261-6_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/01/31/SPOT4-HRVIR2-XS_20060131-102244-906_L1C_051-262-0_D_V1-0/SPOT4-HRVIR2-XS_20060131-102244-906_L1C_051-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060131-102244-906_L1C_051-262-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060131-102244-906_L1C_051-262-0_D_V1-0.zip
run script
2024-01-15T05:52:10.244    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:52:10.245    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060131-102244-906_L1C_051-262-0_D_V1-0.zip
2024-01-15T05:52:10.245    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:52:10.245    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:52:10.245    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:52:10.245    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:52:10.245    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:52:10.245    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:52:10.245    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:52:10.245    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060131-102244-906_L1C_051-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/01/31/SPOT4-HRVIR2-XS_20060131-102253-184_L1C_052-263-0_D_V1-0/SPOT4-HRVIR2-XS_20060131-102253-184_L1C_052-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060131-102253-184_L1C_052-263-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060131-102253-184_L1C_052-263-0_D_V1-0.zip
run script
2024-01-15T05:54:23.956    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:54:23.958    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060131-102253-184_L1C_052-263-0_D_V1-0.zip
2024-01-15T05:54:23.958    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:54:23.958    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:54:23.958    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:54:23.958    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:54:23.958    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:54:23.958    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:54:23.958    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:54:23.958    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060131-102253-184_L1C_052-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/01/31/SPOT4-HRVIR1-XS_20060131-102241-814_L1C_054-261-9_D_V1-0/SPOT4-HRVIR1-XS_20060131-102241-814_L1C_054-261-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060131-102241-814_L1C_054-261-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060131-102241-814_L1C_054-261-9_D_V1-0.zip
run script
2024-01-15T05:55:20.022    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:55:20.023    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060131-102241-814_L1C_054-261-9_D_V1-0.zip
2024-01-15T05:55:20.024    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:55:20.024    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:55:20.024    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:55:20.024    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:55:20.024    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:55:20.024    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:55:20.024    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:55:20.024    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060131-102241-814_L1C_054-261-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/10/SPOT4-HRVIR2-XS_20060610-102237-122_L1C_050-254-8_D_V1-0/SPOT4-HRVIR2-XS_20060610-102237-122_L1C_050-254-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060610-102237-122_L1C_050-254-8_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060610-102237-122_L1C_050-254-8_D_V1-0.zip
run script
2024-01-15T05:57:04.292    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:57:04.294    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060610-102237-122_L1C_050-254-8_D_V1-0.zip
2024-01-15T05:57:04.294    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:57:04.294    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:57:04.294    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:57:04.294    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:57:04.294    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:57:04.294    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:57:04.294    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:57:04.294    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060610-102237-122_L1C_050-254-8_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/10/SPOT4-HRVIR2-XS_20060610-102238-100_L1C_050-255-0_D_V1-0/SPOT4-HRVIR2-XS_20060610-102238-100_L1C_050-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060610-102238-100_L1C_050-255-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060610-102238-100_L1C_050-255-0_D_V1-0.zip
run script
2024-01-15T05:57:46.638    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:57:46.639    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060610-102238-100_L1C_050-255-0_D_V1-0.zip
2024-01-15T05:57:46.639    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:57:46.640    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:57:46.640    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:57:46.640    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:57:46.640    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:57:46.640    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:57:46.640    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:57:46.640    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060610-102238-100_L1C_050-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/10/SPOT4-HRVIR2-XS_20060610-102246-305_L1C_050-256-0_D_V1-0/SPOT4-HRVIR2-XS_20060610-102246-305_L1C_050-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060610-102246-305_L1C_050-256-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060610-102246-305_L1C_050-256-0_D_V1-0.zip
run script
2024-01-15T05:58:49.759    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T05:58:49.760    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060610-102246-305_L1C_050-256-0_D_V1-0.zip
2024-01-15T05:58:49.760    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T05:58:49.760    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T05:58:49.760    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T05:58:49.760    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T05:58:49.760    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T05:58:49.760    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T05:58:49.760    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T05:58:49.760    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060610-102246-305_L1C_050-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/10/SPOT4-HRVIR2-XS_20060610-102300-418_L1C_051-257-8_D_V1-0/SPOT4-HRVIR2-XS_20060610-102300-418_L1C_051-257-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060610-102300-418_L1C_051-257-8_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060610-102300-418_L1C_051-257-8_D_V1-0.zip
run script
2024-01-15T06:02:04.059    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T06:02:04.060    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060610-102300-418_L1C_051-257-8_D_V1-0.zip
2024-01-15T06:02:04.060    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T06:02:04.060    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T06:02:04.060    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T06:02:04.060    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T06:02:04.060    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T06:02:04.060    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T06:02:04.061    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T06:02:04.061    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T06:05:21.956    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1 x 222). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060610-102300-418_L1C_051-257-8_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/06/10/SPOT4-HRVIR2-XS_20060610-102301-432_L1C_051-258-0_D_V1-0/SPOT4-HRVIR2-XS_20060610-102301-432_L1C_051-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060610-102301-432_L1C_051-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060610-102301-432_L1C_051-258-0_D_V1-0.zip
run script
2024-01-15T06:05:25.226    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T06:05:25.227    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060610-102301-432_L1C_051-258-0_D_V1-0.zip
2024-01-15T06:05:25.228    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T06:05:25.228    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T06:05:25.228    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T06:05:25.228    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T06:05:25.228    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T06:05:25.228    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T06:05:25.228    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T06:05:25.228    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T06:06:51.873    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 602). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060610-102301-432_L1C_051-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/06/10/SPOT4-HRVIR2-XS_20060610-102309-677_L1C_052-259-0_D_V1-0/SPOT4-HRVIR2-XS_20060610-102309-677_L1C_052-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060610-102309-677_L1C_052-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060610-102309-677_L1C_052-259-0_D_V1-0.zip
run script
2024-01-15T06:06:54.929    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T06:06:54.930    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060610-102309-677_L1C_052-259-0_D_V1-0.zip
2024-01-15T06:06:54.930    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T06:06:54.930    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T06:06:54.930    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T06:06:54.930    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T06:06:54.930    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T06:06:54.930    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T06:06:54.930    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T06:06:54.930    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060610-102309-677_L1C_052-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 1 ... 2 2 2]
 [0 0 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/10/SPOT4-HRVIR2-XS_20060610-102317-928_L1C_052-260-0_D_V1-0/SPOT4-HRVIR2-XS_20060610-102317-928_L1C_052-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060610-102317-928_L1C_052-260-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060610-102317-928_L1C_052-260-0_D_V1-0.zip
run script
2024-01-15T06:10:16.910    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T06:10:16.912    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060610-102317-928_L1C_052-260-0_D_V1-0.zip
2024-01-15T06:10:16.912    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T06:10:16.912    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T06:10:16.912    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T06:10:16.912    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T06:10:16.912    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T06:10:16.912    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T06:10:16.912    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T06:10:16.912    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060610-102317-928_L1C_052-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/31/SPOT4-HRVIR1-XS_20060831-104616-825_L1C_050-254-0_D_V1-0/SPOT4-HRVIR1-XS_20060831-104616-825_L1C_050-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060831-104616-825_L1C_050-254-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060831-104616-825_L1C_050-254-0_D_V1-0.zip
run script
2024-01-15T06:13:11.970    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T06:13:11.971    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060831-104616-825_L1C_050-254-0_D_V1-0.zip
2024-01-15T06:13:11.971    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T06:13:11.971    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T06:13:11.971    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T06:13:11.971    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T06:13:11.971    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T06:13:11.971    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T06:13:11.971    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T06:13:11.971    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060831-104616-825_L1C_050-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2006/08/31/SPOT4-HRVIR1-XS_20060831-104625-136_L1C_050-255-0_D_V1-0/SPOT4-HRVIR1-XS_20060831-104625-136_L1C_050-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060831-104625-136_L1C_050-255-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060831-104625-136_L1C_050-255-0_D_V1-0.zip
run script
2024-01-15T06:13:14.992    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T06:13:14.992    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060831-104625-136_L1C_050-255-0_D_V1-0.zip
2024-01-15T06:13:14.992    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T06:13:14.992    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T06:13:14.992    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T06:13:14.993    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T06:13:14.993    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T06:13:14.993    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T06:13:14.993    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T06:13:14.993    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060831-104625-136_L1C_050-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/31/SPOT4-HRVIR1-XS_20060831-104639-812_L1C_051-257-0_D_V1-0/SPOT4-HRVIR1-XS_20060831-104639-812_L1C_051-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060831-104639-812_L1C_051-257-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060831-104639-812_L1C_051-257-0_D_V1-0.zip
run script
2024-01-15T06:14:15.449    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T06:14:15.450    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060831-104639-812_L1C_051-257-0_D_V1-0.zip
2024-01-15T06:14:15.451    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T06:14:15.451    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T06:14:15.451    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T06:14:15.451    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T06:14:15.451    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T06:14:15.451    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T06:14:15.451    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T06:14:15.451    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060831-104639-812_L1C_051-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/31/SPOT4-HRVIR1-XS_20060831-104648-165_L1C_051-258-0_D_V1-0/SPOT4-HRVIR1-XS_20060831-104648-165_L1C_051-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060831-104648-165_L1C_051-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060831-104648-165_L1C_051-258-0_D_V1-0.zip
run script
2024-01-15T06:17:52.745    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T06:17:52.747    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060831-104648-165_L1C_051-258-0_D_V1-0.zip
2024-01-15T06:17:52.747    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T06:17:52.747    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T06:17:52.747    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T06:17:52.747    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T06:17:52.747    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T06:17:52.747    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T06:17:52.747    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T06:17:52.747    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060831-104648-165_L1C_051-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/31/SPOT4-HRVIR1-XS_20060831-104702-580_L1C_053-259-9_D_V1-0/SPOT4-HRVIR1-XS_20060831-104702-580_L1C_053-259-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060831-104702-580_L1C_053-259-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060831-104702-580_L1C_053-259-9_D_V1-0.zip
run script
2024-01-15T06:21:04.143    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T06:21:04.145    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060831-104702-580_L1C_053-259-9_D_V1-0.zip
2024-01-15T06:21:04.145    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T06:21:04.145    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T06:21:04.145    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T06:21:04.145    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T06:21:04.145    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T06:21:04.145    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T06:21:04.145    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T06:21:04.145    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T06:21:49.342    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 160). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060831-104702-580_L1C_053-259-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/08/31/SPOT4-HRVIR1-XS_20060831-104711-240_L1C_053-261-0_D_V1-0/SPOT4-HRVIR1-XS_20060831-104711-240_L1C_053-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060831-104711-240_L1C_053-261-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060831-104711-240_L1C_053-261-0_D_V1-0.zip
run script
2024-01-15T06:21:52.453    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T06:21:52.454    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060831-104711-240_L1C_053-261-0_D_V1-0.zip
2024-01-15T06:21:52.454    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T06:21:52.454    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T06:21:52.454    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T06:21:52.454    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T06:21:52.454    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T06:21:52.454    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T06:21:52.454    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T06:21:52.454    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060831-104711-240_L1C_053-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/05/SPOT4-HRVIR1-XS_20060905-105017-725_L1C_050-254-8_D_V1-0/SPOT4-HRVIR1-XS_20060905-105017-725_L1C_050-254-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060905-105017-725_L1C_050-254-8_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105017-725_L1C_050-254-8_D_V1-0.zip
run script
2024-01-15T06:24:59.612    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T06:24:59.613    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105017-725_L1C_050-254-8_D_V1-0.zip
2024-01-15T06:24:59.613    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T06:24:59.614    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T06:24:59.614    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T06:24:59.614    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T06:24:59.614    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T06:24:59.614    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T06:24:59.614    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T06:24:59.614    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105017-725_L1C_050-254-8_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/05/SPOT4-HRVIR1-XS_20060905-105018-853_L1C_050-255-0_D_V1-0/SPOT4-HRVIR1-XS_20060905-105018-853_L1C_050-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060905-105018-853_L1C_050-255-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105018-853_L1C_050-255-0_D_V1-0.zip
run script
2024-01-15T06:25:42.420    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T06:25:42.422    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105018-853_L1C_050-255-0_D_V1-0.zip
2024-01-15T06:25:42.422    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T06:25:42.422    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T06:25:42.422    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T06:25:42.422    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T06:25:42.422    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T06:25:42.422    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T06:25:42.422    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T06:25:42.422    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105018-853_L1C_050-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/05/SPOT4-HRVIR1-XS_20060905-105027-203_L1C_050-256-0_D_V1-0/SPOT4-HRVIR1-XS_20060905-105027-203_L1C_050-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060905-105027-203_L1C_050-256-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105027-203_L1C_050-256-0_D_V1-0.zip
run script
2024-01-15T06:26:44.328    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T06:26:44.329    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105027-203_L1C_050-256-0_D_V1-0.zip
2024-01-15T06:26:44.329    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T06:26:44.329    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T06:26:44.329    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T06:26:44.329    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T06:26:44.329    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T06:26:44.330    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T06:26:44.330    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T06:26:44.330    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105027-203_L1C_050-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/05/SPOT4-HRVIR1-XS_20060905-105035-562_L1C_050-257-0_D_V1-0/SPOT4-HRVIR1-XS_20060905-105035-562_L1C_050-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060905-105035-562_L1C_050-257-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105035-562_L1C_050-257-0_D_V1-0.zip
run script
2024-01-15T06:30:12.814    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T06:30:12.816    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105035-562_L1C_050-257-0_D_V1-0.zip
2024-01-15T06:30:12.816    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T06:30:12.816    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T06:30:12.816    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T06:30:12.816    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T06:30:12.816    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T06:30:12.816    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T06:30:12.816    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T06:30:12.816    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105035-562_L1C_050-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/05/SPOT4-HRVIR1-XS_20060905-105043-927_L1C_050-258-0_D_V1-0/SPOT4-HRVIR1-XS_20060905-105043-927_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060905-105043-927_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105043-927_L1C_050-258-0_D_V1-0.zip
run script
2024-01-15T06:33:33.390    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T06:33:33.391    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105043-927_L1C_050-258-0_D_V1-0.zip
2024-01-15T06:33:33.391    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T06:33:33.391    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T06:33:33.391    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T06:33:33.391    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T06:33:33.391    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T06:33:33.391    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T06:33:33.391    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T06:33:33.391    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T06:35:39.809    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 230). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105043-927_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/09/05/SPOT4-HRVIR1-XS_20060905-105052-299_L1C_050-259-0_D_V1-0/SPOT4-HRVIR1-XS_20060905-105052-299_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060905-105052-299_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105052-299_L1C_050-259-0_D_V1-0.zip
run script
2024-01-15T06:35:42.942    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T06:35:42.943    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105052-299_L1C_050-259-0_D_V1-0.zip
2024-01-15T06:35:42.943    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T06:35:42.943    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T06:35:42.943    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T06:35:42.943    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T06:35:42.943    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T06:35:42.943    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T06:35:42.943    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T06:35:42.944    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105052-299_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/05/SPOT4-HRVIR1-XS_20060905-105100-676_L1C_050-260-0_D_V1-0/SPOT4-HRVIR1-XS_20060905-105100-676_L1C_050-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060905-105100-676_L1C_050-260-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105100-676_L1C_050-260-0_D_V1-0.zip
run script
2024-01-15T06:37:44.568    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T06:37:44.568    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105100-676_L1C_050-260-0_D_V1-0.zip
2024-01-15T06:37:44.569    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T06:37:44.569    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T06:37:44.569    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T06:37:44.569    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T06:37:44.569    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T06:37:44.569    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T06:37:44.569    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T06:37:44.569    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105100-676_L1C_050-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/05/SPOT4-HRVIR1-XS_20060905-105115-367_L1C_051-262-0_D_V1-0/SPOT4-HRVIR1-XS_20060905-105115-367_L1C_051-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060905-105115-367_L1C_051-262-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105115-367_L1C_051-262-0_D_V1-0.zip
run script
2024-01-15T06:39:14.870    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T06:39:14.871    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105115-367_L1C_051-262-0_D_V1-0.zip
2024-01-15T06:39:14.872    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T06:39:14.872    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T06:39:14.872    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T06:39:14.872    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T06:39:14.872    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T06:39:14.872    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T06:39:14.872    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T06:39:14.872    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T06:41:21.311    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (216 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105115-367_L1C_051-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/09/05/SPOT4-HRVIR1-XS_20060905-105123-780_L1C_051-263-0_D_V1-0/SPOT4-HRVIR1-XS_20060905-105123-780_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060905-105123-780_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105123-780_L1C_051-263-0_D_V1-0.zip
run script
2024-01-15T06:41:24.241    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T06:41:24.243    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105123-780_L1C_051-263-0_D_V1-0.zip
2024-01-15T06:41:24.243    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T06:41:24.243    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T06:41:24.243    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T06:41:24.243    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T06:41:24.243    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T06:41:24.243    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T06:41:24.243    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T06:41:24.243    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060905-105123-780_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/19/SPOT4-HRVIR1-XS_20060619-104953-522_L1C_050-255-9_D_V1-0/SPOT4-HRVIR1-XS_20060619-104953-522_L1C_050-255-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060619-104953-522_L1C_050-255-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060619-104953-522_L1C_050-255-9_D_V1-0.zip
run script
2024-01-15T06:42:17.293    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T06:42:17.294    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060619-104953-522_L1C_050-255-9_D_V1-0.zip
2024-01-15T06:42:17.294    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T06:42:17.294    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T06:42:17.294    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T06:42:17.294    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T06:42:17.294    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T06:42:17.294    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T06:42:17.294    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T06:42:17.295    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060619-104953-522_L1C_050-255-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/19/SPOT4-HRVIR1-XS_20060619-104953-747_L1C_050-256-0_D_V1-0/SPOT4-HRVIR1-XS_20060619-104953-747_L1C_050-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060619-104953-747_L1C_050-256-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060619-104953-747_L1C_050-256-0_D_V1-0.zip
run script
2024-01-15T06:45:28.868    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T06:45:28.869    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060619-104953-747_L1C_050-256-0_D_V1-0.zip
2024-01-15T06:45:28.869    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T06:45:28.869    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T06:45:28.869    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T06:45:28.869    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T06:45:28.869    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T06:45:28.869    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T06:45:28.869    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T06:45:28.869    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060619-104953-747_L1C_050-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/19/SPOT4-HRVIR1-XS_20060619-105002-103_L1C_050-257-0_D_V1-0/SPOT4-HRVIR1-XS_20060619-105002-103_L1C_050-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060619-105002-103_L1C_050-257-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060619-105002-103_L1C_050-257-0_D_V1-0.zip
run script
2024-01-15T06:48:39.665    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T06:48:39.666    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060619-105002-103_L1C_050-257-0_D_V1-0.zip
2024-01-15T06:48:39.666    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T06:48:39.666    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T06:48:39.666    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T06:48:39.667    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T06:48:39.667    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T06:48:39.667    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T06:48:39.667    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T06:48:39.667    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060619-105002-103_L1C_050-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/19/SPOT4-HRVIR2-XS_20060619-104959-473_L1C_052-256-9_D_V1-0/SPOT4-HRVIR2-XS_20060619-104959-473_L1C_052-256-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060619-104959-473_L1C_052-256-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060619-104959-473_L1C_052-256-9_D_V1-0.zip
run script
2024-01-15T06:51:44.408    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T06:51:44.409    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060619-104959-473_L1C_052-256-9_D_V1-0.zip
2024-01-15T06:51:44.409    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T06:51:44.409    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T06:51:44.410    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T06:51:44.410    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T06:51:44.410    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T06:51:44.410    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T06:51:44.410    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T06:51:44.410    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060619-104959-473_L1C_052-256-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/19/SPOT4-HRVIR2-XS_20060619-105008-115_L1C_052-258-0_D_V1-0/SPOT4-HRVIR2-XS_20060619-105008-115_L1C_052-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060619-105008-115_L1C_052-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060619-105008-115_L1C_052-258-0_D_V1-0.zip
run script
2024-01-15T06:55:21.534    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T06:55:21.535    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060619-105008-115_L1C_052-258-0_D_V1-0.zip
2024-01-15T06:55:21.535    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T06:55:21.535    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T06:55:21.535    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T06:55:21.535    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T06:55:21.535    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T06:55:21.535    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T06:55:21.535    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T06:55:21.535    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060619-105008-115_L1C_052-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/19/SPOT4-HRVIR2-XS_20060619-105022-451_L1C_052-259-7_D_V1-0/SPOT4-HRVIR2-XS_20060619-105022-451_L1C_052-259-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060619-105022-451_L1C_052-259-7_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060619-105022-451_L1C_052-259-7_D_V1-0.zip
run script
2024-01-15T06:58:50.324    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T06:58:50.324    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060619-105022-451_L1C_052-259-7_D_V1-0.zip
2024-01-15T06:58:50.324    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T06:58:50.325    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T06:58:50.325    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T06:58:50.325    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T06:58:50.325    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T06:58:50.325    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T06:58:50.325    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T06:58:50.325    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060619-105022-451_L1C_052-259-7_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/19/SPOT4-HRVIR2-XS_20060619-105024-535_L1C_052-260-0_D_V1-0/SPOT4-HRVIR2-XS_20060619-105024-535_L1C_052-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060619-105024-535_L1C_052-260-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060619-105024-535_L1C_052-260-0_D_V1-0.zip
run script
2024-01-15T07:02:17.922    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T07:02:17.922    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060619-105024-535_L1C_052-260-0_D_V1-0.zip
2024-01-15T07:02:17.922    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T07:02:17.922    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T07:02:17.922    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T07:02:17.922    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T07:02:17.922    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T07:02:17.922    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T07:02:17.922    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T07:02:17.922    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060619-105024-535_L1C_052-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/20/SPOT4-HRVIR2-XS_20060620-103035-728_L1C_050-255-9_D_V1-0/SPOT4-HRVIR2-XS_20060620-103035-728_L1C_050-255-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060620-103035-728_L1C_050-255-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060620-103035-728_L1C_050-255-9_D_V1-0.zip
run script
2024-01-15T07:05:25.180    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T07:05:25.181    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060620-103035-728_L1C_050-255-9_D_V1-0.zip
2024-01-15T07:05:25.181    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T07:05:25.181    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T07:05:25.181    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T07:05:25.181    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T07:05:25.181    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T07:05:25.181    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T07:05:25.181    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T07:05:25.181    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060620-103035-728_L1C_050-255-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/20/SPOT4-HRVIR2-XS_20060620-103035-840_L1C_050-256-0_D_V1-0/SPOT4-HRVIR2-XS_20060620-103035-840_L1C_050-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060620-103035-840_L1C_050-256-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060620-103035-840_L1C_050-256-0_D_V1-0.zip
run script
2024-01-15T07:08:14.667    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T07:08:14.667    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060620-103035-840_L1C_050-256-0_D_V1-0.zip
2024-01-15T07:08:14.667    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T07:08:14.667    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T07:08:14.667    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T07:08:14.667    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T07:08:14.667    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T07:08:14.668    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T07:08:14.668    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T07:08:14.668    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060620-103035-840_L1C_050-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/20/SPOT4-HRVIR2-XS_20060620-103044-082_L1C_050-257-0_D_V1-0/SPOT4-HRVIR2-XS_20060620-103044-082_L1C_050-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060620-103044-082_L1C_050-257-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060620-103044-082_L1C_050-257-0_D_V1-0.zip
run script
2024-01-15T07:11:02.459    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T07:11:02.461    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060620-103044-082_L1C_050-257-0_D_V1-0.zip
2024-01-15T07:11:02.461    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T07:11:02.461    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T07:11:02.461    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T07:11:02.461    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T07:11:02.461    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T07:11:02.461    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T07:11:02.461    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T07:11:02.461    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060620-103044-082_L1C_050-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 0 ... 2 2 2]
 [2 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/20/SPOT4-HRVIR2-XS_20060620-103052-332_L1C_050-258-0_D_V1-0/SPOT4-HRVIR2-XS_20060620-103052-332_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060620-103052-332_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060620-103052-332_L1C_050-258-0_D_V1-0.zip
run script
2024-01-15T07:13:55.700    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T07:13:55.701    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060620-103052-332_L1C_050-258-0_D_V1-0.zip
2024-01-15T07:13:55.701    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T07:13:55.701    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T07:13:55.701    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T07:13:55.701    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T07:13:55.701    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T07:13:55.701    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T07:13:55.701    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T07:13:55.702    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T07:15:50.171    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 1786). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060620-103052-332_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/06/20/SPOT4-HRVIR2-XS_20060620-103100-592_L1C_050-259-0_D_V1-0/SPOT4-HRVIR2-XS_20060620-103100-592_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060620-103100-592_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060620-103100-592_L1C_050-259-0_D_V1-0.zip
run script
2024-01-15T07:15:52.910    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T07:15:52.911    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060620-103100-592_L1C_050-259-0_D_V1-0.zip
2024-01-15T07:15:52.911    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T07:15:52.911    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T07:15:52.911    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T07:15:52.911    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T07:15:52.911    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T07:15:52.911    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T07:15:52.911    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T07:15:52.911    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060620-103100-592_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/24/SPOT4-HRVIR2-XS_20060624-105347-175_L1C_050-255-9_D_V1-0/SPOT4-HRVIR2-XS_20060624-105347-175_L1C_050-255-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060624-105347-175_L1C_050-255-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060624-105347-175_L1C_050-255-9_D_V1-0.zip
run script
2024-01-15T07:17:40.484    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T07:17:40.485    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060624-105347-175_L1C_050-255-9_D_V1-0.zip
2024-01-15T07:17:40.485    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T07:17:40.485    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T07:17:40.485    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T07:17:40.485    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T07:17:40.485    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T07:17:40.485    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T07:17:40.485    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T07:17:40.485    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060624-105347-175_L1C_050-255-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/24/SPOT4-HRVIR2-XS_20060624-105347-430_L1C_050-256-0_D_V1-0/SPOT4-HRVIR2-XS_20060624-105347-430_L1C_050-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060624-105347-430_L1C_050-256-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060624-105347-430_L1C_050-256-0_D_V1-0.zip
run script
2024-01-15T07:21:00.086    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T07:21:00.087    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060624-105347-430_L1C_050-256-0_D_V1-0.zip
2024-01-15T07:21:00.088    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T07:21:00.088    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T07:21:00.088    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T07:21:00.088    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T07:21:00.088    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T07:21:00.088    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T07:21:00.088    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T07:21:00.088    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060624-105347-430_L1C_050-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/24/SPOT4-HRVIR2-XS_20060624-105351-040_L1C_050-256-4_D_V1-0/SPOT4-HRVIR2-XS_20060624-105351-040_L1C_050-256-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060624-105351-040_L1C_050-256-4_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060624-105351-040_L1C_050-256-4_D_V1-0.zip
run script
2024-01-15T07:24:24.204    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T07:24:24.205    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060624-105351-040_L1C_050-256-4_D_V1-0.zip
2024-01-15T07:24:24.205    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T07:24:24.205    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T07:24:24.205    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T07:24:24.205    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T07:24:24.205    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T07:24:24.206    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T07:24:24.206    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T07:24:24.206    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060624-105351-040_L1C_050-256-4_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/24/SPOT4-HRVIR1-XS_20060624-105401-668_L1C_051-258-0_D_V1-0/SPOT4-HRVIR1-XS_20060624-105401-668_L1C_051-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060624-105401-668_L1C_051-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060624-105401-668_L1C_051-258-0_D_V1-0.zip
run script
2024-01-15T07:27:42.291    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T07:27:42.292    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060624-105401-668_L1C_051-258-0_D_V1-0.zip
2024-01-15T07:27:42.292    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T07:27:42.292    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T07:27:42.292    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T07:27:42.292    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T07:27:42.292    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T07:27:42.292    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T07:27:42.293    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T07:27:42.293    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060624-105401-668_L1C_051-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/24/SPOT4-HRVIR1-XS_20060624-105401-373_L1C_052-257-9_D_V1-0/SPOT4-HRVIR1-XS_20060624-105401-373_L1C_052-257-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060624-105401-373_L1C_052-257-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060624-105401-373_L1C_052-257-9_D_V1-0.zip
run script
2024-01-15T07:31:19.637    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T07:31:19.638    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060624-105401-373_L1C_052-257-9_D_V1-0.zip
2024-01-15T07:31:19.638    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T07:31:19.638    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T07:31:19.638    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T07:31:19.638    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T07:31:19.639    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T07:31:19.639    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T07:31:19.639    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T07:31:19.639    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T07:34:52.989    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (0 x 3644). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060624-105401-373_L1C_052-257-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/06/24/SPOT4-HRVIR1-XS_20060624-105415-987_L1C_052-259-7_D_V1-0/SPOT4-HRVIR1-XS_20060624-105415-987_L1C_052-259-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060624-105415-987_L1C_052-259-7_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060624-105415-987_L1C_052-259-7_D_V1-0.zip
run script
2024-01-15T07:34:56.158    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T07:34:56.159    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060624-105415-987_L1C_052-259-7_D_V1-0.zip
2024-01-15T07:34:56.160    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T07:34:56.160    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T07:34:56.160    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T07:34:56.160    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T07:34:56.160    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T07:34:56.160    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T07:34:56.160    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T07:34:56.160    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060624-105415-987_L1C_052-259-7_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/24/SPOT4-HRVIR1-XS_20060624-105418-101_L1C_052-260-0_D_V1-0/SPOT4-HRVIR1-XS_20060624-105418-101_L1C_052-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060624-105418-101_L1C_052-260-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060624-105418-101_L1C_052-260-0_D_V1-0.zip
run script
2024-01-15T07:38:41.260    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T07:38:41.261    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060624-105418-101_L1C_052-260-0_D_V1-0.zip
2024-01-15T07:38:41.261    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T07:38:41.261    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T07:38:41.261    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T07:38:41.261    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T07:38:41.261    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T07:38:41.262    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T07:38:41.262    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T07:38:41.262    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060624-105418-101_L1C_052-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/03/SPOT4-HRVIR1-XS_20060503-105328-550_L1C_050-256-3_D_V1-0/SPOT4-HRVIR1-XS_20060503-105328-550_L1C_050-256-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060503-105328-550_L1C_050-256-3_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060503-105328-550_L1C_050-256-3_D_V1-0.zip
run script
2024-01-15T07:42:03.454    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T07:42:03.455    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060503-105328-550_L1C_050-256-3_D_V1-0.zip
2024-01-15T07:42:03.456    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T07:42:03.456    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T07:42:03.456    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T07:42:03.456    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T07:42:03.456    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T07:42:03.456    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T07:42:03.456    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T07:42:03.456    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060503-105328-550_L1C_050-256-3_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/03/SPOT4-HRVIR1-XS_20060503-105334-229_L1C_050-257-0_D_V1-0/SPOT4-HRVIR1-XS_20060503-105334-229_L1C_050-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060503-105334-229_L1C_050-257-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060503-105334-229_L1C_050-257-0_D_V1-0.zip
run script
2024-01-15T07:45:28.021    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T07:45:28.022    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060503-105334-229_L1C_050-257-0_D_V1-0.zip
2024-01-15T07:45:28.022    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T07:45:28.022    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T07:45:28.023    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T07:45:28.023    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T07:45:28.023    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T07:45:28.023    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T07:45:28.023    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T07:45:28.023    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060503-105334-229_L1C_050-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/03/SPOT4-HRVIR1-XS_20060503-105342-621_L1C_050-258-0_D_V1-0/SPOT4-HRVIR1-XS_20060503-105342-621_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060503-105342-621_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060503-105342-621_L1C_050-258-0_D_V1-0.zip
run script
2024-01-15T07:48:50.477    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T07:48:50.478    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060503-105342-621_L1C_050-258-0_D_V1-0.zip
2024-01-15T07:48:50.478    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T07:48:50.478    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T07:48:50.478    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T07:48:50.478    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T07:48:50.478    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T07:48:50.478    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T07:48:50.478    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T07:48:50.479    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T07:50:55.987    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1 x 228). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060503-105342-621_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/05/03/SPOT4-HRVIR1-XS_20060503-105357-172_L1C_052-260-1_D_V1-0/SPOT4-HRVIR1-XS_20060503-105357-172_L1C_052-260-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060503-105357-172_L1C_052-260-1_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060503-105357-172_L1C_052-260-1_D_V1-0.zip
run script
2024-01-15T07:50:59.316    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T07:50:59.318    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060503-105357-172_L1C_052-260-1_D_V1-0.zip
2024-01-15T07:50:59.318    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T07:50:59.318    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T07:50:59.318    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T07:50:59.318    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T07:50:59.318    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T07:50:59.318    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T07:50:59.318    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T07:50:59.318    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060503-105357-172_L1C_052-260-1_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/03/SPOT4-HRVIR1-XS_20060503-105402-587_L1C_052-260-7_D_V1-0/SPOT4-HRVIR1-XS_20060503-105402-587_L1C_052-260-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060503-105402-587_L1C_052-260-7_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060503-105402-587_L1C_052-260-7_D_V1-0.zip
run script
2024-01-15T07:54:23.164    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T07:54:23.166    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060503-105402-587_L1C_052-260-7_D_V1-0.zip
2024-01-15T07:54:23.166    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T07:54:23.166    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T07:54:23.166    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T07:54:23.166    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T07:54:23.166    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T07:54:23.166    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T07:54:23.166    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T07:54:23.166    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060503-105402-587_L1C_052-260-7_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/15/SPOT4-HRVIR1-XS_20060515-102233-372_L1C_050-256-0_D_V1-0/SPOT4-HRVIR1-XS_20060515-102233-372_L1C_050-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060515-102233-372_L1C_050-256-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060515-102233-372_L1C_050-256-0_D_V1-0.zip
run script
2024-01-15T07:57:56.529    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T07:57:56.530    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060515-102233-372_L1C_050-256-0_D_V1-0.zip
2024-01-15T07:57:56.530    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T07:57:56.530    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T07:57:56.530    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T07:57:56.530    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T07:57:56.530    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T07:57:56.530    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T07:57:56.530    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T07:57:56.530    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060515-102233-372_L1C_050-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/15/SPOT4-HRVIR1-XS_20060515-102241-587_L1C_050-257-0_D_V1-0/SPOT4-HRVIR1-XS_20060515-102241-587_L1C_050-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060515-102241-587_L1C_050-257-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060515-102241-587_L1C_050-257-0_D_V1-0.zip
run script
2024-01-15T08:01:06.171    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T08:01:06.173    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060515-102241-587_L1C_050-257-0_D_V1-0.zip
2024-01-15T08:01:06.173    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T08:01:06.173    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T08:01:06.173    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T08:01:06.173    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T08:01:06.173    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T08:01:06.173    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T08:01:06.173    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T08:01:06.173    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060515-102241-587_L1C_050-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/27/SPOT4-HRVIR1-XS_20061027-105039-304_L1C_050-256-7_D_V1-0/SPOT4-HRVIR1-XS_20061027-105039-304_L1C_050-256-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20061027-105039-304_L1C_050-256-7_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061027-105039-304_L1C_050-256-7_D_V1-0.zip
run script
2024-01-15T08:04:22.939    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T08:04:22.940    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061027-105039-304_L1C_050-256-7_D_V1-0.zip
2024-01-15T08:04:22.940    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T08:04:22.940    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T08:04:22.940    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T08:04:22.940    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T08:04:22.940    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T08:04:22.940    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T08:04:22.941    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T08:04:22.941    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061027-105039-304_L1C_050-256-7_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/27/SPOT4-HRVIR1-XS_20061027-105040-207_L1C_050-256-8_D_V1-0/SPOT4-HRVIR1-XS_20061027-105040-207_L1C_050-256-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20061027-105040-207_L1C_050-256-8_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061027-105040-207_L1C_050-256-8_D_V1-0.zip
run script
2024-01-15T08:08:01.603    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T08:08:01.604    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061027-105040-207_L1C_050-256-8_D_V1-0.zip
2024-01-15T08:08:01.605    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T08:08:01.605    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T08:08:01.605    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T08:08:01.605    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T08:08:01.605    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T08:08:01.605    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T08:08:01.605    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T08:08:01.605    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061027-105040-207_L1C_050-256-8_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/06/SPOT4-HRVIR1-XS_20061106-105825-771_L1C_050-256-6_D_V1-0/SPOT4-HRVIR1-XS_20061106-105825-771_L1C_050-256-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20061106-105825-771_L1C_050-256-6_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061106-105825-771_L1C_050-256-6_D_V1-0.zip
run script
2024-01-15T08:11:39.760    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T08:11:39.761    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061106-105825-771_L1C_050-256-6_D_V1-0.zip
2024-01-15T08:11:39.761    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T08:11:39.762    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T08:11:39.762    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T08:11:39.762    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T08:11:39.762    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T08:11:39.762    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T08:11:39.762    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T08:11:39.762    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061106-105825-771_L1C_050-256-6_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/06/SPOT4-HRVIR1-XS_20061106-105828-782_L1C_050-257-0_D_V1-0/SPOT4-HRVIR1-XS_20061106-105828-782_L1C_050-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20061106-105828-782_L1C_050-257-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061106-105828-782_L1C_050-257-0_D_V1-0.zip
run script
2024-01-15T08:15:59.252    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T08:15:59.253    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061106-105828-782_L1C_050-257-0_D_V1-0.zip
2024-01-15T08:15:59.253    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T08:15:59.253    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T08:15:59.253    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T08:15:59.253    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T08:15:59.254    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T08:15:59.254    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T08:15:59.254    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T08:15:59.254    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061106-105828-782_L1C_050-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/06/SPOT4-HRVIR1-XS_20061106-105837-213_L1C_050-258-0_D_V1-0/SPOT4-HRVIR1-XS_20061106-105837-213_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20061106-105837-213_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061106-105837-213_L1C_050-258-0_D_V1-0.zip
run script
2024-01-15T08:20:12.404    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T08:20:12.405    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061106-105837-213_L1C_050-258-0_D_V1-0.zip
2024-01-15T08:20:12.406    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T08:20:12.406    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T08:20:12.406    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T08:20:12.406    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T08:20:12.406    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T08:20:12.406    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T08:20:12.406    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T08:20:12.406    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061106-105837-213_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/11/06/SPOT4-HRVIR1-XS_20061106-105839-920_L1C_050-258-3_D_V1-0/SPOT4-HRVIR1-XS_20061106-105839-920_L1C_050-258-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20061106-105839-920_L1C_050-258-3_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061106-105839-920_L1C_050-258-3_D_V1-0.zip
run script
2024-01-15T08:23:31.156    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T08:23:31.158    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061106-105839-920_L1C_050-258-3_D_V1-0.zip
2024-01-15T08:23:31.158    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T08:23:31.158    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T08:23:31.158    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T08:23:31.158    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T08:23:31.158    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T08:23:31.158    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T08:23:31.158    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T08:23:31.158    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T08:23:33.466    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 255). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061106-105839-920_L1C_050-258-3_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2006/03/18/SPOT4-HRVIR1-XS_20060318-103757-026_L1C_050-257-6_D_V1-0/SPOT4-HRVIR1-XS_20060318-103757-026_L1C_050-257-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060318-103757-026_L1C_050-257-6_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060318-103757-026_L1C_050-257-6_D_V1-0.zip
run script
2024-01-15T08:23:36.514    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T08:23:36.515    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060318-103757-026_L1C_050-257-6_D_V1-0.zip
2024-01-15T08:23:36.515    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T08:23:36.515    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T08:23:36.515    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T08:23:36.515    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T08:23:36.515    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T08:23:36.515    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T08:23:36.515    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T08:23:36.515    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060318-103757-026_L1C_050-257-6_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 0 0 0]
 [1 1 1 ... 0 0 0]
 [1 1 1 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/03/18/SPOT4-HRVIR1-XS_20060318-103759-901_L1C_050-258-0_D_V1-0/SPOT4-HRVIR1-XS_20060318-103759-901_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060318-103759-901_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060318-103759-901_L1C_050-258-0_D_V1-0.zip
run script
2024-01-15T08:26:09.125    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T08:26:09.125    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060318-103759-901_L1C_050-258-0_D_V1-0.zip
2024-01-15T08:26:09.125    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T08:26:09.125    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T08:26:09.126    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T08:26:09.126    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T08:26:09.126    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T08:26:09.126    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T08:26:09.126    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T08:26:09.126    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T08:28:01.046    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 442). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060318-103759-901_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/03/18/SPOT4-HRVIR2-XS_20060318-103749-698_L1C_052-257-0_D_V1-0/SPOT4-HRVIR2-XS_20060318-103749-698_L1C_052-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060318-103749-698_L1C_052-257-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060318-103749-698_L1C_052-257-0_D_V1-0.zip
run script
2024-01-15T08:28:04.581    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T08:28:04.581    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060318-103749-698_L1C_052-257-0_D_V1-0.zip
2024-01-15T08:28:04.582    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T08:28:04.582    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T08:28:04.582    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T08:28:04.582    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T08:28:04.582    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T08:28:04.582    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T08:28:04.582    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T08:28:04.582    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060318-103749-698_L1C_052-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 1 1 1]
 [1 1 1 ... 1 1 1]
 [1 1 1 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/26/SPOT4-HRVIR2-XS_20060826-104250-786_L1C_050-257-4_D_V1-0/SPOT4-HRVIR2-XS_20060826-104250-786_L1C_050-257-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060826-104250-786_L1C_050-257-4_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060826-104250-786_L1C_050-257-4_D_V1-0.zip
run script
2024-01-15T08:31:12.961    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T08:31:12.962    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060826-104250-786_L1C_050-257-4_D_V1-0.zip
2024-01-15T08:31:12.962    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T08:31:12.962    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T08:31:12.962    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T08:31:12.962    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T08:31:12.962    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T08:31:12.962    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T08:31:12.962    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T08:31:12.962    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060826-104250-786_L1C_050-257-4_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/26/SPOT4-HRVIR2-XS_20060826-104255-490_L1C_050-258-0_D_V1-0/SPOT4-HRVIR2-XS_20060826-104255-490_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060826-104255-490_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060826-104255-490_L1C_050-258-0_D_V1-0.zip
run script
2024-01-15T08:34:02.233    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T08:34:02.233    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060826-104255-490_L1C_050-258-0_D_V1-0.zip
2024-01-15T08:34:02.233    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T08:34:02.234    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T08:34:02.234    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T08:34:02.234    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T08:34:02.234    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T08:34:02.234    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T08:34:02.234    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T08:34:02.234    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T08:35:55.609    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 440). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060826-104255-490_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/08/26/SPOT4-HRVIR2-XS_20060826-104303-810_L1C_050-259-0_D_V1-0/SPOT4-HRVIR2-XS_20060826-104303-810_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060826-104303-810_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060826-104303-810_L1C_050-259-0_D_V1-0.zip
run script
2024-01-15T08:35:58.964    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T08:35:58.965    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060826-104303-810_L1C_050-259-0_D_V1-0.zip
2024-01-15T08:35:58.965    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T08:35:58.965    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T08:35:58.965    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T08:35:58.965    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T08:35:58.965    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T08:35:58.965    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T08:35:58.965    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T08:35:58.966    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060826-104303-810_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/26/SPOT4-HRVIR2-XS_20060826-104312-137_L1C_050-260-0_D_V1-0/SPOT4-HRVIR2-XS_20060826-104312-137_L1C_050-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060826-104312-137_L1C_050-260-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060826-104312-137_L1C_050-260-0_D_V1-0.zip
run script
2024-01-15T08:37:57.069    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T08:37:57.070    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060826-104312-137_L1C_050-260-0_D_V1-0.zip
2024-01-15T08:37:57.071    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T08:37:57.071    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T08:37:57.071    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T08:37:57.071    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T08:37:57.071    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T08:37:57.071    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T08:37:57.071    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T08:37:57.071    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060826-104312-137_L1C_050-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/26/SPOT4-HRVIR1-XS_20060826-104245-309_L1C_051-256-9_D_V1-0/SPOT4-HRVIR1-XS_20060826-104245-309_L1C_051-256-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060826-104245-309_L1C_051-256-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060826-104245-309_L1C_051-256-9_D_V1-0.zip
run script
2024-01-15T08:39:20.284    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T08:39:20.285    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060826-104245-309_L1C_051-256-9_D_V1-0.zip
2024-01-15T08:39:20.285    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T08:39:20.285    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T08:39:20.285    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T08:39:20.285    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T08:39:20.287    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T08:39:20.287    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T08:39:20.287    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T08:39:20.287    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060826-104245-309_L1C_051-256-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/26/SPOT4-HRVIR1-XS_20060826-104253-840_L1C_051-258-0_D_V1-0/SPOT4-HRVIR1-XS_20060826-104253-840_L1C_051-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060826-104253-840_L1C_051-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060826-104253-840_L1C_051-258-0_D_V1-0.zip
run script
2024-01-15T08:42:30.019    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T08:42:30.020    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060826-104253-840_L1C_051-258-0_D_V1-0.zip
2024-01-15T08:42:30.020    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T08:42:30.020    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T08:42:30.020    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T08:42:30.020    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T08:42:30.020    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T08:42:30.020    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T08:42:30.020    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T08:42:30.021    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060826-104253-840_L1C_051-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/26/SPOT4-HRVIR1-XS_20060826-104302-175_L1C_051-259-0_D_V1-0/SPOT4-HRVIR1-XS_20060826-104302-175_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060826-104302-175_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060826-104302-175_L1C_051-259-0_D_V1-0.zip
run script
2024-01-15T08:45:21.938    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T08:45:21.939    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060826-104302-175_L1C_051-259-0_D_V1-0.zip
2024-01-15T08:45:21.939    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T08:45:21.939    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T08:45:21.939    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T08:45:21.939    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T08:45:21.939    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T08:45:21.939    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T08:45:21.939    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T08:45:21.939    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060826-104302-175_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/26/SPOT4-HRVIR1-XS_20060826-104310-516_L1C_051-260-0_D_V1-0/SPOT4-HRVIR1-XS_20060826-104310-516_L1C_051-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060826-104310-516_L1C_051-260-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060826-104310-516_L1C_051-260-0_D_V1-0.zip
run script
2024-01-15T08:48:27.179    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T08:48:27.180    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060826-104310-516_L1C_051-260-0_D_V1-0.zip
2024-01-15T08:48:27.180    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T08:48:27.180    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T08:48:27.181    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T08:48:27.181    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T08:48:27.181    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T08:48:27.181    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T08:48:27.181    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T08:48:27.181    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060826-104310-516_L1C_051-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/26/SPOT4-HRVIR2-XS_20060826-104326-810_L1C_051-261-9_D_V1-0/SPOT4-HRVIR2-XS_20060826-104326-810_L1C_051-261-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060826-104326-810_L1C_051-261-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060826-104326-810_L1C_051-261-9_D_V1-0.zip
run script
2024-01-15T08:50:55.851    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T08:50:55.852    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060826-104326-810_L1C_051-261-9_D_V1-0.zip
2024-01-15T08:50:55.852    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T08:50:55.852    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T08:50:55.852    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T08:50:55.852    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T08:50:55.852    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T08:50:55.853    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T08:50:55.853    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T08:50:55.853    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T08:52:42.274    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (412 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060826-104326-810_L1C_051-261-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/08/26/SPOT4-HRVIR2-XS_20060826-104335-407_L1C_051-263-0_D_V1-0/SPOT4-HRVIR2-XS_20060826-104335-407_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060826-104335-407_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060826-104335-407_L1C_051-263-0_D_V1-0.zip
run script
2024-01-15T08:52:46.224    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T08:52:46.225    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060826-104335-407_L1C_051-263-0_D_V1-0.zip
2024-01-15T08:52:46.225    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T08:52:46.225    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T08:52:46.225    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T08:52:46.225    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T08:52:46.225    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T08:52:46.225    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T08:52:46.225    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T08:52:46.226    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060826-104335-407_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/26/SPOT4-HRVIR1-XS_20060826-104325-120_L1C_053-261-9_D_V1-0/SPOT4-HRVIR1-XS_20060826-104325-120_L1C_053-261-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060826-104325-120_L1C_053-261-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060826-104325-120_L1C_053-261-9_D_V1-0.zip
run script
2024-01-15T08:53:35.473    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T08:53:35.475    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060826-104325-120_L1C_053-261-9_D_V1-0.zip
2024-01-15T08:53:35.475    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T08:53:35.475    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T08:53:35.475    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T08:53:35.475    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T08:53:35.475    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T08:53:35.475    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T08:53:35.475    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T08:53:35.475    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060826-104325-120_L1C_053-261-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/26/SPOT4-HRVIR1-XS_20060826-104327-177_L1C_053-262-2_D_V1-0/SPOT4-HRVIR1-XS_20060826-104327-177_L1C_053-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060826-104327-177_L1C_053-262-2_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060826-104327-177_L1C_053-262-2_D_V1-0.zip
run script
2024-01-15T08:56:03.913    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T08:56:03.914    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060826-104327-177_L1C_053-262-2_D_V1-0.zip
2024-01-15T08:56:03.914    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T08:56:03.914    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T08:56:03.914    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T08:56:03.914    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T08:56:03.914    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T08:56:03.914    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T08:56:03.914    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T08:56:03.914    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060826-104327-177_L1C_053-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/03/07/SPOT4-HRVIR2-XS_20060307-104955-713_L1C_050-261-4_D_V1-0/SPOT4-HRVIR2-XS_20060307-104955-713_L1C_050-261-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060307-104955-713_L1C_050-261-4_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060307-104955-713_L1C_050-261-4_D_V1-0.zip
run script
2024-01-15T08:58:34.440    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T08:58:34.441    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060307-104955-713_L1C_050-261-4_D_V1-0.zip
2024-01-15T08:58:34.441    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T08:58:34.441    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T08:58:34.442    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T08:58:34.442    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T08:58:34.442    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T08:58:34.442    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T08:58:34.442    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T08:58:34.442    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060307-104955-713_L1C_050-261-4_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [0 1 1 ... 0 0 0]
 [0 0 1 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/03/07/SPOT4-HRVIR2-XS_20060307-105000-493_L1C_050-262-0_D_V1-0/SPOT4-HRVIR2-XS_20060307-105000-493_L1C_050-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060307-105000-493_L1C_050-262-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060307-105000-493_L1C_050-262-0_D_V1-0.zip
run script
2024-01-15T08:59:40.168    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T08:59:40.168    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060307-105000-493_L1C_050-262-0_D_V1-0.zip
2024-01-15T08:59:40.168    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T08:59:40.168    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T08:59:40.168    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T08:59:40.168    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T08:59:40.168    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T08:59:40.168    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T08:59:40.168    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T08:59:40.168    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060307-105000-493_L1C_050-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/03/07/SPOT4-HRVIR1-XS_20060307-104956-047_L1C_053-261-9_D_V1-0/SPOT4-HRVIR1-XS_20060307-104956-047_L1C_053-261-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060307-104956-047_L1C_053-261-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060307-104956-047_L1C_053-261-9_D_V1-0.zip
run script
2024-01-15T09:00:27.737    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:00:27.738    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060307-104956-047_L1C_053-261-9_D_V1-0.zip
2024-01-15T09:00:27.738    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:00:27.738    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:00:27.739    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:00:27.739    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:00:27.739    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:00:27.739    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:00:27.739    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:00:27.739    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060307-104956-047_L1C_053-261-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/03/07/SPOT4-HRVIR1-XS_20060307-105004-791_L1C_053-263-0_D_V1-0/SPOT4-HRVIR1-XS_20060307-105004-791_L1C_053-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060307-105004-791_L1C_053-263-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060307-105004-791_L1C_053-263-0_D_V1-0.zip
run script
2024-01-15T09:03:09.926    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:03:09.927    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060307-105004-791_L1C_053-263-0_D_V1-0.zip
2024-01-15T09:03:09.927    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:03:09.927    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:03:09.927    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:03:09.927    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:03:09.927    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:03:09.927    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:03:09.927    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:03:09.928    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060307-105004-791_L1C_053-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/25/SPOT4-HRVIR2-XS_20060525-103107-397_L1C_050-261-5_D_V1-0/SPOT4-HRVIR2-XS_20060525-103107-397_L1C_050-261-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060525-103107-397_L1C_050-261-5_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060525-103107-397_L1C_050-261-5_D_V1-0.zip
run script
2024-01-15T09:04:25.302    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:04:25.303    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060525-103107-397_L1C_050-261-5_D_V1-0.zip
2024-01-15T09:04:25.303    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:04:25.303    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:04:25.303    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:04:25.303    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:04:25.303    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:04:25.303    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:04:25.304    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:04:25.304    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060525-103107-397_L1C_050-261-5_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/25/SPOT4-HRVIR2-XS_20060525-103111-172_L1C_050-262-0_D_V1-0/SPOT4-HRVIR2-XS_20060525-103111-172_L1C_050-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060525-103111-172_L1C_050-262-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060525-103111-172_L1C_050-262-0_D_V1-0.zip
run script
2024-01-15T09:05:23.931    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:05:23.932    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060525-103111-172_L1C_050-262-0_D_V1-0.zip
2024-01-15T09:05:23.932    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:05:23.932    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:05:23.932    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:05:23.932    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:05:23.932    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:05:23.932    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:05:23.932    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:05:23.933    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060525-103111-172_L1C_050-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/25/SPOT4-HRVIR2-XS_20060525-103036-204_L1C_052-258-0_D_V1-0/SPOT4-HRVIR2-XS_20060525-103036-204_L1C_052-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060525-103036-204_L1C_052-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060525-103036-204_L1C_052-258-0_D_V1-0.zip
run script
2024-01-15T09:06:09.138    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:06:09.139    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060525-103036-204_L1C_052-258-0_D_V1-0.zip
2024-01-15T09:06:09.139    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:06:09.139    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:06:09.139    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:06:09.139    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:06:09.139    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:06:09.140    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:06:09.140    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:06:09.140    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060525-103036-204_L1C_052-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/25/SPOT4-HRVIR2-XS_20060525-103044-479_L1C_052-259-0_D_V1-0/SPOT4-HRVIR2-XS_20060525-103044-479_L1C_052-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060525-103044-479_L1C_052-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060525-103044-479_L1C_052-259-0_D_V1-0.zip
run script
2024-01-15T09:08:52.050    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:08:52.052    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060525-103044-479_L1C_052-259-0_D_V1-0.zip
2024-01-15T09:08:52.052    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:08:52.052    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:08:52.052    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:08:52.052    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:08:52.052    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:08:52.052    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:08:52.052    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:08:52.052    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060525-103044-479_L1C_052-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/25/SPOT4-HRVIR2-XS_20060525-103052-760_L1C_052-260-0_D_V1-0/SPOT4-HRVIR2-XS_20060525-103052-760_L1C_052-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060525-103052-760_L1C_052-260-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060525-103052-760_L1C_052-260-0_D_V1-0.zip
run script
2024-01-15T09:11:45.431    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:11:45.432    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060525-103052-760_L1C_052-260-0_D_V1-0.zip
2024-01-15T09:11:45.432    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:11:45.432    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:11:45.433    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:11:45.433    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:11:45.433    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:11:45.433    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:11:45.433    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:11:45.433    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060525-103052-760_L1C_052-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/25/SPOT4-HRVIR1-XS_20060525-103051-304_L1C_053-260-0_D_V1-0/SPOT4-HRVIR1-XS_20060525-103051-304_L1C_053-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060525-103051-304_L1C_053-260-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060525-103051-304_L1C_053-260-0_D_V1-0.zip
run script
2024-01-15T09:14:15.483    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:14:15.484    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060525-103051-304_L1C_053-260-0_D_V1-0.zip
2024-01-15T09:14:15.485    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:14:15.485    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:14:15.485    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:14:15.485    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:14:15.485    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:14:15.485    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:14:15.485    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:14:15.485    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060525-103051-304_L1C_053-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/25/SPOT4-HRVIR1-XS_20060525-103059-606_L1C_053-261-0_D_V1-0/SPOT4-HRVIR1-XS_20060525-103059-606_L1C_053-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060525-103059-606_L1C_053-261-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060525-103059-606_L1C_053-261-0_D_V1-0.zip
run script
2024-01-15T09:16:19.961    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:16:19.970    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060525-103059-606_L1C_053-261-0_D_V1-0.zip
2024-01-15T09:16:19.970    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:16:19.970    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:16:19.970    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:16:19.971    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:16:19.971    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:16:19.971    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:16:19.971    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:16:19.971    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060525-103059-606_L1C_053-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/25/SPOT4-HRVIR1-XS_20060525-103107-918_L1C_053-262-0_D_V1-0/SPOT4-HRVIR1-XS_20060525-103107-918_L1C_053-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060525-103107-918_L1C_053-262-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060525-103107-918_L1C_053-262-0_D_V1-0.zip
run script
2024-01-15T09:18:58.516    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:18:58.518    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060525-103107-918_L1C_053-262-0_D_V1-0.zip
2024-01-15T09:18:58.518    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:18:58.518    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:18:58.518    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:18:58.518    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:18:58.518    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:18:58.518    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:18:58.518    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:18:58.518    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060525-103107-918_L1C_053-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/25/SPOT4-HRVIR1-XS_20060525-103110-625_L1C_053-262-3_D_V1-0/SPOT4-HRVIR1-XS_20060525-103110-625_L1C_053-262-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060525-103110-625_L1C_053-262-3_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060525-103110-625_L1C_053-262-3_D_V1-0.zip
run script
2024-01-15T09:21:15.394    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:21:15.395    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060525-103110-625_L1C_053-262-3_D_V1-0.zip
2024-01-15T09:21:15.395    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:21:15.395    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:21:15.395    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:21:15.395    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:21:15.395    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:21:15.395    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:21:15.395    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:21:15.395    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060525-103110-625_L1C_053-262-3_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/20/SPOT4-HRVIR1-XS_20060820-105842-838_L1C_050-261-0_D_V1-0/SPOT4-HRVIR1-XS_20060820-105842-838_L1C_050-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060820-105842-838_L1C_050-261-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060820-105842-838_L1C_050-261-0_D_V1-0.zip
run script
2024-01-15T09:23:29.988    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:23:29.988    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060820-105842-838_L1C_050-261-0_D_V1-0.zip
2024-01-15T09:23:29.988    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:23:29.988    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:23:29.988    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:23:29.988    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:23:29.988    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:23:29.989    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:23:29.989    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:23:29.989    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060820-105842-838_L1C_050-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/20/SPOT4-HRVIR1-XS_20060820-105851-282_L1C_050-262-0_D_V1-0/SPOT4-HRVIR1-XS_20060820-105851-282_L1C_050-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060820-105851-282_L1C_050-262-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060820-105851-282_L1C_050-262-0_D_V1-0.zip
run script
2024-01-15T09:24:38.050    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:24:38.050    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060820-105851-282_L1C_050-262-0_D_V1-0.zip
2024-01-15T09:24:38.050    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:24:38.050    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:24:38.051    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:24:38.051    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:24:38.051    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:24:38.051    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:24:38.051    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:24:38.051    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060820-105851-282_L1C_050-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/20/SPOT4-HRVIR2-XS_20060820-105818-889_L1C_053-258-7_D_V1-0/SPOT4-HRVIR2-XS_20060820-105818-889_L1C_053-258-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060820-105818-889_L1C_053-258-7_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060820-105818-889_L1C_053-258-7_D_V1-0.zip
run script
2024-01-15T09:25:16.470    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:25:16.470    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060820-105818-889_L1C_053-258-7_D_V1-0.zip
2024-01-15T09:25:16.471    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:25:16.471    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:25:16.471    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:25:16.471    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:25:16.471    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:25:16.471    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:25:16.471    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:25:16.471    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060820-105818-889_L1C_053-258-7_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/20/SPOT4-HRVIR2-XS_20060820-105821-058_L1C_053-259-0_D_V1-0/SPOT4-HRVIR2-XS_20060820-105821-058_L1C_053-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060820-105821-058_L1C_053-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060820-105821-058_L1C_053-259-0_D_V1-0.zip
run script
2024-01-15T09:27:51.487    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:27:51.487    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060820-105821-058_L1C_053-259-0_D_V1-0.zip
2024-01-15T09:27:51.487    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:27:51.487    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:27:51.487    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:27:51.487    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:27:51.487    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:27:51.487    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:27:51.487    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:27:51.488    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060820-105821-058_L1C_053-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/03/24/SPOT4-HRVIR2-XS_20060324-102309-684_L1C_050-262-1_D_V1-0/SPOT4-HRVIR2-XS_20060324-102309-684_L1C_050-262-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060324-102309-684_L1C_050-262-1_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060324-102309-684_L1C_050-262-1_D_V1-0.zip
run script
2024-01-15T09:30:44.723    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:30:44.724    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060324-102309-684_L1C_050-262-1_D_V1-0.zip
2024-01-15T09:30:44.724    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:30:44.724    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:30:44.724    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:30:44.724    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:30:44.724    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:30:44.724    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:30:44.724    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:30:44.724    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060324-102309-684_L1C_050-262-1_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/05/SPOT4-HRVIR1-XS_20060605-101853-447_L1C_051-256-4_D_V1-0/SPOT4-HRVIR1-XS_20060605-101853-447_L1C_051-256-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060605-101853-447_L1C_051-256-4_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060605-101853-447_L1C_051-256-4_D_V1-0.zip
run script
2024-01-15T09:31:22.143    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:31:22.143    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060605-101853-447_L1C_051-256-4_D_V1-0.zip
2024-01-15T09:31:22.143    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:31:22.143    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:31:22.143    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:31:22.143    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:31:22.143    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:31:22.143    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:31:22.143    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:31:22.143    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060605-101853-447_L1C_051-256-4_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/05/SPOT4-HRVIR1-XS_20060605-101858-053_L1C_052-257-0_D_V1-0/SPOT4-HRVIR1-XS_20060605-101858-053_L1C_052-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060605-101858-053_L1C_052-257-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060605-101858-053_L1C_052-257-0_D_V1-0.zip
run script
2024-01-15T09:34:07.298    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:34:07.299    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060605-101858-053_L1C_052-257-0_D_V1-0.zip
2024-01-15T09:34:07.299    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:34:07.299    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:34:07.299    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:34:07.299    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:34:07.299    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:34:07.299    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:34:07.299    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:34:07.299    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060605-101858-053_L1C_052-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/05/SPOT4-HRVIR1-XS_20060605-101906-277_L1C_052-258-0_D_V1-0/SPOT4-HRVIR1-XS_20060605-101906-277_L1C_052-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060605-101906-277_L1C_052-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060605-101906-277_L1C_052-258-0_D_V1-0.zip
run script
2024-01-15T09:37:25.761    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:37:25.762    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060605-101906-277_L1C_052-258-0_D_V1-0.zip
2024-01-15T09:37:25.762    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:37:25.762    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:37:25.762    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:37:25.762    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:37:25.762    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:37:25.762    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:37:25.762    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:37:25.762    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060605-101906-277_L1C_052-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/15/SPOT4-HRVIR2-XS_20060615-102642-273_L1C_051-256-3_D_V1-0/SPOT4-HRVIR2-XS_20060615-102642-273_L1C_051-256-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060615-102642-273_L1C_051-256-3_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060615-102642-273_L1C_051-256-3_D_V1-0.zip
run script
2024-01-15T09:40:18.139    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:40:18.140    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060615-102642-273_L1C_051-256-3_D_V1-0.zip
2024-01-15T09:40:18.140    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:40:18.140    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:40:18.140    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:40:18.140    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:40:18.140    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:40:18.140    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:40:18.141    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:40:18.141    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060615-102642-273_L1C_051-256-3_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/15/SPOT4-HRVIR1-XS_20060615-102721-117_L1C_051-260-9_D_V1-0/SPOT4-HRVIR1-XS_20060615-102721-117_L1C_051-260-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060615-102721-117_L1C_051-260-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060615-102721-117_L1C_051-260-9_D_V1-0.zip
run script
2024-01-15T09:42:44.057    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:42:44.059    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060615-102721-117_L1C_051-260-9_D_V1-0.zip
2024-01-15T09:42:44.059    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:42:44.059    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:42:44.059    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:42:44.059    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:42:44.059    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:42:44.059    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:42:44.059    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:42:44.059    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060615-102721-117_L1C_051-260-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 0 ... 2 2 2]
 [2 2 0 ... 2 2 2]
 [2 2 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/15/SPOT4-HRVIR1-XS_20060615-102729-548_L1C_051-262-0_D_V1-0/SPOT4-HRVIR1-XS_20060615-102729-548_L1C_051-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060615-102729-548_L1C_051-262-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060615-102729-548_L1C_051-262-0_D_V1-0.zip
run script
2024-01-15T09:45:07.340    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:45:07.342    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060615-102729-548_L1C_051-262-0_D_V1-0.zip
2024-01-15T09:45:07.342    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:45:07.342    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:45:07.342    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:45:07.342    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:45:07.342    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:45:07.343    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:45:07.343    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:45:07.343    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T09:46:49.614    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (203 x 1). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060615-102729-548_L1C_051-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/06/15/SPOT4-HRVIR1-XS_20060615-102737-838_L1C_051-263-0_D_V1-0/SPOT4-HRVIR1-XS_20060615-102737-838_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060615-102737-838_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060615-102737-838_L1C_051-263-0_D_V1-0.zip
run script
2024-01-15T09:46:52.967    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:46:52.969    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060615-102737-838_L1C_051-263-0_D_V1-0.zip
2024-01-15T09:46:52.969    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:46:52.969    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:46:52.969    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:46:52.969    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:46:52.969    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:46:52.969    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:46:52.969    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:46:52.969    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060615-102737-838_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/15/SPOT4-HRVIR2-XS_20060615-102647-805_L1C_052-257-0_D_V1-0/SPOT4-HRVIR2-XS_20060615-102647-805_L1C_052-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060615-102647-805_L1C_052-257-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060615-102647-805_L1C_052-257-0_D_V1-0.zip
run script
2024-01-15T09:47:39.260    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:47:39.261    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060615-102647-805_L1C_052-257-0_D_V1-0.zip
2024-01-15T09:47:39.261    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:47:39.261    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:47:39.261    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:47:39.261    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:47:39.261    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:47:39.261    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:47:39.262    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:47:39.262    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060615-102647-805_L1C_052-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/15/SPOT4-HRVIR2-XS_20060615-102720-675_L1C_054-261-3_D_V1-0/SPOT4-HRVIR2-XS_20060615-102720-675_L1C_054-261-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060615-102720-675_L1C_054-261-3_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060615-102720-675_L1C_054-261-3_D_V1-0.zip
run script
2024-01-15T09:50:31.361    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:50:31.362    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060615-102720-675_L1C_054-261-3_D_V1-0.zip
2024-01-15T09:50:31.362    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:50:31.362    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:50:31.362    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:50:31.362    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:50:31.362    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:50:31.363    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:50:31.363    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:50:31.363    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060615-102720-675_L1C_054-261-3_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/15/SPOT4-HRVIR2-XS_20060615-102726-273_L1C_054-262-0_D_V1-0/SPOT4-HRVIR2-XS_20060615-102726-273_L1C_054-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060615-102726-273_L1C_054-262-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060615-102726-273_L1C_054-262-0_D_V1-0.zip
run script
2024-01-15T09:51:57.176    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:51:57.177    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060615-102726-273_L1C_054-262-0_D_V1-0.zip
2024-01-15T09:51:57.177    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:51:57.177    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:51:57.177    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:51:57.177    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:51:57.177    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:51:57.177    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:51:57.177    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:51:57.177    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060615-102726-273_L1C_054-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/15/SPOT4-HRVIR2-XS_20060615-102729-882_L1C_054-262-4_D_V1-0/SPOT4-HRVIR2-XS_20060615-102729-882_L1C_054-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060615-102729-882_L1C_054-262-4_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060615-102729-882_L1C_054-262-4_D_V1-0.zip
run script
2024-01-15T09:53:21.940    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:53:21.941    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060615-102729-882_L1C_054-262-4_D_V1-0.zip
2024-01-15T09:53:21.941    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:53:21.941    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:53:21.941    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:53:21.941    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:53:21.941    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:53:21.941    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:53:21.941    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:53:21.942    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060615-102729-882_L1C_054-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/25/SPOT4-HRVIR2-XS_20060625-103444-559_L1C_051-257-9_D_V1-0/SPOT4-HRVIR2-XS_20060625-103444-559_L1C_051-257-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060625-103444-559_L1C_051-257-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060625-103444-559_L1C_051-257-9_D_V1-0.zip
run script
2024-01-15T09:54:39.593    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:54:39.594    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060625-103444-559_L1C_051-257-9_D_V1-0.zip
2024-01-15T09:54:39.594    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:54:39.594    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:54:39.594    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:54:39.594    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:54:39.594    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:54:39.594    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:54:39.594    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:54:39.595    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060625-103444-559_L1C_051-257-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/25/SPOT4-HRVIR1-XS_20060625-103512-488_L1C_051-261-3_D_V1-0/SPOT4-HRVIR1-XS_20060625-103512-488_L1C_051-261-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060625-103512-488_L1C_051-261-3_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060625-103512-488_L1C_051-261-3_D_V1-0.zip
run script
2024-01-15T09:57:16.215    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:57:16.217    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060625-103512-488_L1C_051-261-3_D_V1-0.zip
2024-01-15T09:57:16.217    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:57:16.217    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:57:16.217    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:57:16.217    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:57:16.217    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:57:16.217    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:57:16.217    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:57:16.217    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060625-103512-488_L1C_051-261-3_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/25/SPOT4-HRVIR1-XS_20060625-103518-092_L1C_051-262-0_D_V1-0/SPOT4-HRVIR1-XS_20060625-103518-092_L1C_051-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060625-103518-092_L1C_051-262-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060625-103518-092_L1C_051-262-0_D_V1-0.zip
run script
2024-01-15T09:59:25.336    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T09:59:25.337    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060625-103518-092_L1C_051-262-0_D_V1-0.zip
2024-01-15T09:59:25.337    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T09:59:25.337    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T09:59:25.337    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T09:59:25.337    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T09:59:25.337    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T09:59:25.337    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T09:59:25.337    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T09:59:25.337    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T10:01:02.759    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (207 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060625-103518-092_L1C_051-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/06/25/SPOT4-HRVIR1-XS_20060625-103526-415_L1C_051-263-0_D_V1-0/SPOT4-HRVIR1-XS_20060625-103526-415_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060625-103526-415_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060625-103526-415_L1C_051-263-0_D_V1-0.zip
run script
2024-01-15T10:01:06.227    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:01:06.227    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060625-103526-415_L1C_051-263-0_D_V1-0.zip
2024-01-15T10:01:06.227    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:01:06.227    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:01:06.227    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:01:06.227    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:01:06.227    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:01:06.227    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:01:06.227    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:01:06.227    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060625-103526-415_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/25/SPOT4-HRVIR2-XS_20060625-103445-624_L1C_052-258-1_D_V1-0/SPOT4-HRVIR2-XS_20060625-103445-624_L1C_052-258-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060625-103445-624_L1C_052-258-1_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060625-103445-624_L1C_052-258-1_D_V1-0.zip
run script
2024-01-15T10:01:51.900    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:01:51.901    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060625-103445-624_L1C_052-258-1_D_V1-0.zip
2024-01-15T10:01:51.901    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:01:51.901    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:01:51.901    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:01:51.901    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:01:51.901    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:01:51.901    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:01:51.901    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:01:51.901    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060625-103445-624_L1C_052-258-1_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/21/SPOT4-HRVIR2-XS_20060721-103452-584_L1C_051-257-7_D_V1-0/SPOT4-HRVIR2-XS_20060721-103452-584_L1C_051-257-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060721-103452-584_L1C_051-257-7_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060721-103452-584_L1C_051-257-7_D_V1-0.zip
run script
2024-01-15T10:04:25.541    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:04:25.542    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060721-103452-584_L1C_051-257-7_D_V1-0.zip
2024-01-15T10:04:25.542    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:04:25.542    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:04:25.542    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:04:25.542    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:04:25.542    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:04:25.542    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:04:25.542    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:04:25.542    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060721-103452-584_L1C_051-257-7_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/21/SPOT4-HRVIR2-XS_20060721-103454-551_L1C_052-258-0_D_V1-0/SPOT4-HRVIR2-XS_20060721-103454-551_L1C_052-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060721-103454-551_L1C_052-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060721-103454-551_L1C_052-258-0_D_V1-0.zip
run script
2024-01-15T10:07:14.661    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:07:14.662    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060721-103454-551_L1C_052-258-0_D_V1-0.zip
2024-01-15T10:07:14.662    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:07:14.662    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:07:14.662    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:07:14.662    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:07:14.663    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:07:14.663    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:07:14.663    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:07:14.663    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T10:08:22.484    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 542). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060721-103454-551_L1C_052-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/07/21/SPOT4-HRVIR2-XS_20060721-103502-673_L1C_052-258-9_D_V1-0/SPOT4-HRVIR2-XS_20060721-103502-673_L1C_052-258-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060721-103502-673_L1C_052-258-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060721-103502-673_L1C_052-258-9_D_V1-0.zip
run script
2024-01-15T10:08:26.305    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:08:26.306    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060721-103502-673_L1C_052-258-9_D_V1-0.zip
2024-01-15T10:08:26.306    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:08:26.306    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:08:26.306    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:08:26.306    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:08:26.306    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:08:26.306    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:08:26.306    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:08:26.307    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060721-103502-673_L1C_052-258-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/21/SPOT4-HRVIR2-XS_20060721-103516-286_L1C_052-260-6_D_V1-0/SPOT4-HRVIR2-XS_20060721-103516-286_L1C_052-260-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060721-103516-286_L1C_052-260-6_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060721-103516-286_L1C_052-260-6_D_V1-0.zip
run script
2024-01-15T10:11:11.780    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:11:11.781    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060721-103516-286_L1C_052-260-6_D_V1-0.zip
2024-01-15T10:11:11.782    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:11:11.782    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:11:11.782    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:11:11.782    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:11:11.782    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:11:11.782    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:11:11.782    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:11:11.782    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060721-103516-286_L1C_052-260-6_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/16/SPOT4-HRVIR2-XS_20060816-103504-230_L1C_051-257-9_D_V1-0/SPOT4-HRVIR2-XS_20060816-103504-230_L1C_051-257-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060816-103504-230_L1C_051-257-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060816-103504-230_L1C_051-257-9_D_V1-0.zip
run script
2024-01-15T10:13:45.553    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:13:45.555    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060816-103504-230_L1C_051-257-9_D_V1-0.zip
2024-01-15T10:13:45.555    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:13:45.555    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:13:45.555    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:13:45.555    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:13:45.555    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:13:45.555    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:13:45.555    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:13:45.555    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060816-103504-230_L1C_051-257-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/16/SPOT4-HRVIR2-XS_20060816-103504-393_L1C_052-258-0_D_V1-0/SPOT4-HRVIR2-XS_20060816-103504-393_L1C_052-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060816-103504-393_L1C_052-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060816-103504-393_L1C_052-258-0_D_V1-0.zip
run script
2024-01-15T10:16:20.600    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:16:20.601    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060816-103504-393_L1C_052-258-0_D_V1-0.zip
2024-01-15T10:16:20.601    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:16:20.601    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:16:20.601    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:16:20.601    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:16:20.602    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:16:20.602    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:16:20.602    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:16:20.602    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T10:17:27.447    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 546). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060816-103504-393_L1C_052-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/08/16/SPOT4-HRVIR2-XS_20060816-103510-710_L1C_052-258-7_D_V1-0/SPOT4-HRVIR2-XS_20060816-103510-710_L1C_052-258-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060816-103510-710_L1C_052-258-7_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060816-103510-710_L1C_052-258-7_D_V1-0.zip
run script
2024-01-15T10:17:31.090    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:17:31.091    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060816-103510-710_L1C_052-258-7_D_V1-0.zip
2024-01-15T10:17:31.091    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:17:31.091    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:17:31.091    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:17:31.091    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:17:31.091    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:17:31.091    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:17:31.092    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:17:31.092    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060816-103510-710_L1C_052-258-7_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 2 2]
 [2 2 2 ... 0 2 2]
 [2 2 2 ... 0 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/15/SPOT4-HRVIR1-XS_20060815-105421-176_L1C_051-258-0_D_V1-0/SPOT4-HRVIR1-XS_20060815-105421-176_L1C_051-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060815-105421-176_L1C_051-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060815-105421-176_L1C_051-258-0_D_V1-0.zip
run script
2024-01-15T10:20:20.037    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:20:20.038    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060815-105421-176_L1C_051-258-0_D_V1-0.zip
2024-01-15T10:20:20.038    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:20:20.038    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:20:20.038    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:20:20.038    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:20:20.038    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:20:20.038    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:20:20.038    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:20:20.038    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060815-105421-176_L1C_051-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/15/SPOT4-HRVIR1-XS_20060815-105420-882_L1C_052-257-9_D_V1-0/SPOT4-HRVIR1-XS_20060815-105420-882_L1C_052-257-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060815-105420-882_L1C_052-257-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060815-105420-882_L1C_052-257-9_D_V1-0.zip
run script
2024-01-15T10:23:22.104    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:23:22.105    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060815-105420-882_L1C_052-257-9_D_V1-0.zip
2024-01-15T10:23:22.106    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:23:22.106    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:23:22.106    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:23:22.106    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:23:22.106    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:23:22.106    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:23:22.106    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:23:22.106    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T10:26:25.975    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 1826). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060815-105420-882_L1C_052-257-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/08/15/SPOT4-HRVIR2-XS_20060815-105427-213_L1C_053-259-0_D_V1-0/SPOT4-HRVIR2-XS_20060815-105427-213_L1C_053-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060815-105427-213_L1C_053-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060815-105427-213_L1C_053-259-0_D_V1-0.zip
run script
2024-01-15T10:26:29.189    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:26:29.190    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060815-105427-213_L1C_053-259-0_D_V1-0.zip
2024-01-15T10:26:29.191    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:26:29.191    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:26:29.191    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:26:29.191    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:26:29.191    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:26:29.191    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:26:29.191    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:26:29.191    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060815-105427-213_L1C_053-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/06/SPOT4-HRVIR2-XS_20060906-103127-302_L1C_051-258-3_D_V1-0/SPOT4-HRVIR2-XS_20060906-103127-302_L1C_051-258-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060906-103127-302_L1C_051-258-3_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060906-103127-302_L1C_051-258-3_D_V1-0.zip
run script
2024-01-15T10:29:03.646    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:29:03.647    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060906-103127-302_L1C_051-258-3_D_V1-0.zip
2024-01-15T10:29:03.647    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:29:03.647    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:29:03.647    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:29:03.647    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:29:03.647    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:29:03.647    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:29:03.647    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:29:03.647    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060906-103127-302_L1C_051-258-3_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/06/SPOT4-HRVIR2-XS_20060906-103132-870_L1C_051-259-0_D_V1-0/SPOT4-HRVIR2-XS_20060906-103132-870_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060906-103132-870_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060906-103132-870_L1C_051-259-0_D_V1-0.zip
run script
2024-01-15T10:31:34.993    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:31:34.995    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060906-103132-870_L1C_051-259-0_D_V1-0.zip
2024-01-15T10:31:34.995    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:31:34.995    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:31:34.995    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:31:34.995    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:31:34.995    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:31:34.995    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:31:34.995    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:31:34.995    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060906-103132-870_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 2 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/06/SPOT4-HRVIR2-XS_20060906-103141-151_L1C_051-260-0_D_V1-0/SPOT4-HRVIR2-XS_20060906-103141-151_L1C_051-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060906-103141-151_L1C_051-260-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060906-103141-151_L1C_051-260-0_D_V1-0.zip
run script
2024-01-15T10:34:25.659    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:34:25.660    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060906-103141-151_L1C_051-260-0_D_V1-0.zip
2024-01-15T10:34:25.660    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:34:25.660    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:34:25.660    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:34:25.660    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:34:25.660    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:34:25.660    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:34:25.660    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:34:25.660    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060906-103141-151_L1C_051-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/16/SPOT4-HRVIR1-XS_20060916-103915-565_L1C_051-258-3_D_V1-0/SPOT4-HRVIR1-XS_20060916-103915-565_L1C_051-258-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060916-103915-565_L1C_051-258-3_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060916-103915-565_L1C_051-258-3_D_V1-0.zip
run script
2024-01-15T10:36:42.088    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:36:42.090    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060916-103915-565_L1C_051-258-3_D_V1-0.zip
2024-01-15T10:36:42.090    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:36:42.090    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:36:42.090    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:36:42.090    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:36:42.090    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:36:42.090    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:36:42.090    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:36:42.090    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060916-103915-565_L1C_051-258-3_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/16/SPOT4-HRVIR1-XS_20060916-103921-172_L1C_051-259-0_D_V1-0/SPOT4-HRVIR1-XS_20060916-103921-172_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060916-103921-172_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060916-103921-172_L1C_051-259-0_D_V1-0.zip
run script
2024-01-15T10:39:15.103    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:39:15.104    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060916-103921-172_L1C_051-259-0_D_V1-0.zip
2024-01-15T10:39:15.104    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:39:15.104    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:39:15.104    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:39:15.104    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:39:15.104    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:39:15.104    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:39:15.104    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:39:15.104    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060916-103921-172_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/16/SPOT4-HRVIR1-XS_20060916-103929-492_L1C_051-260-0_D_V1-0/SPOT4-HRVIR1-XS_20060916-103929-492_L1C_051-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060916-103929-492_L1C_051-260-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060916-103929-492_L1C_051-260-0_D_V1-0.zip
run script
2024-01-15T10:42:04.344    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:42:04.345    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060916-103929-492_L1C_051-260-0_D_V1-0.zip
2024-01-15T10:42:04.345    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:42:04.345    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:42:04.345    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:42:04.345    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:42:04.345    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:42:04.345    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:42:04.346    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:42:04.346    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060916-103929-492_L1C_051-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/16/SPOT4-HRVIR2-XS_20060916-103948-073_L1C_051-262-2_D_V1-0/SPOT4-HRVIR2-XS_20060916-103948-073_L1C_051-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060916-103948-073_L1C_051-262-2_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060916-103948-073_L1C_051-262-2_D_V1-0.zip
run script
2024-01-15T10:44:27.596    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:44:27.596    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060916-103948-073_L1C_051-262-2_D_V1-0.zip
2024-01-15T10:44:27.597    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:44:27.597    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:44:27.597    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:44:27.597    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:44:27.597    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:44:27.597    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:44:27.597    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:44:27.597    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060916-103948-073_L1C_051-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/16/SPOT4-HRVIR2-XS_20060916-103954-609_L1C_051-263-0_D_V1-0/SPOT4-HRVIR2-XS_20060916-103954-609_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060916-103954-609_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060916-103954-609_L1C_051-263-0_D_V1-0.zip
run script
2024-01-15T10:46:03.889    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:46:03.890    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060916-103954-609_L1C_051-263-0_D_V1-0.zip
2024-01-15T10:46:03.890    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:46:03.890    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:46:03.890    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:46:03.890    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:46:03.890    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:46:03.890    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:46:03.890    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:46:03.890    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060916-103954-609_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/16/SPOT4-HRVIR1-XS_20060916-103944-193_L1C_053-261-9_D_V1-0/SPOT4-HRVIR1-XS_20060916-103944-193_L1C_053-261-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060916-103944-193_L1C_053-261-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060916-103944-193_L1C_053-261-9_D_V1-0.zip
run script
2024-01-15T10:46:47.741    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:46:47.742    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060916-103944-193_L1C_053-261-9_D_V1-0.zip
2024-01-15T10:46:47.742    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:46:47.742    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:46:47.743    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:46:47.743    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:46:47.743    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:46:47.743    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:46:47.743    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:46:47.743    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060916-103944-193_L1C_053-261-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/21/SPOT4-HRVIR2-XS_20060921-104312-962_L1C_051-258-7_D_V1-0/SPOT4-HRVIR2-XS_20060921-104312-962_L1C_051-258-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060921-104312-962_L1C_051-258-7_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060921-104312-962_L1C_051-258-7_D_V1-0.zip
run script
2024-01-15T10:49:04.734    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:49:04.735    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060921-104312-962_L1C_051-258-7_D_V1-0.zip
2024-01-15T10:49:04.735    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:49:04.735    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:49:04.735    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:49:04.735    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:49:04.735    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:49:04.736    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:49:04.736    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:49:04.736    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060921-104312-962_L1C_051-258-7_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/21/SPOT4-HRVIR2-XS_20060921-104314-983_L1C_051-259-0_D_V1-0/SPOT4-HRVIR2-XS_20060921-104314-983_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060921-104314-983_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060921-104314-983_L1C_051-259-0_D_V1-0.zip
run script
2024-01-15T10:51:57.633    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:51:57.634    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060921-104314-983_L1C_051-259-0_D_V1-0.zip
2024-01-15T10:51:57.634    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:51:57.634    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:51:57.634    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:51:57.634    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:51:57.634    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:51:57.634    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:51:57.634    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:51:57.634    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060921-104314-983_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/21/SPOT4-HRVIR2-XS_20060921-104323-328_L1C_051-260-0_D_V1-0/SPOT4-HRVIR2-XS_20060921-104323-328_L1C_051-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060921-104323-328_L1C_051-260-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060921-104323-328_L1C_051-260-0_D_V1-0.zip
run script
2024-01-15T10:54:51.641    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:54:51.642    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060921-104323-328_L1C_051-260-0_D_V1-0.zip
2024-01-15T10:54:51.642    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:54:51.642    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:54:51.643    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:54:51.643    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:54:51.643    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:54:51.643    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:54:51.643    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:54:51.643    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060921-104323-328_L1C_051-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/21/SPOT4-HRVIR2-XS_20060921-104331-675_L1C_051-261-0_D_V1-0/SPOT4-HRVIR2-XS_20060921-104331-675_L1C_051-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060921-104331-675_L1C_051-261-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060921-104331-675_L1C_051-261-0_D_V1-0.zip
run script
2024-01-15T10:57:12.355    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:57:12.356    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060921-104331-675_L1C_051-261-0_D_V1-0.zip
2024-01-15T10:57:12.356    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:57:12.356    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:57:12.356    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:57:12.356    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:57:12.356    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:57:12.356    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:57:12.356    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:57:12.356    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060921-104331-675_L1C_051-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/21/SPOT4-HRVIR2-XS_20060921-104340-031_L1C_051-262-0_D_V1-0/SPOT4-HRVIR2-XS_20060921-104340-031_L1C_051-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060921-104340-031_L1C_051-262-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060921-104340-031_L1C_051-262-0_D_V1-0.zip
run script
2024-01-15T10:59:31.677    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T10:59:31.678    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060921-104340-031_L1C_051-262-0_D_V1-0.zip
2024-01-15T10:59:31.678    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T10:59:31.678    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T10:59:31.679    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T10:59:31.679    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T10:59:31.679    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T10:59:31.679    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T10:59:31.679    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T10:59:31.679    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060921-104340-031_L1C_051-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/21/SPOT4-HRVIR2-XS_20060921-104348-396_L1C_051-263-0_D_V1-0/SPOT4-HRVIR2-XS_20060921-104348-396_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060921-104348-396_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060921-104348-396_L1C_051-263-0_D_V1-0.zip
run script
2024-01-15T11:01:10.933    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:01:10.934    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060921-104348-396_L1C_051-263-0_D_V1-0.zip
2024-01-15T11:01:10.934    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:01:10.934    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:01:10.934    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:01:10.934    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:01:10.935    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:01:10.935    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:01:10.935    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:01:10.935    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060921-104348-396_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/08/SPOT4-HRVIR2-XS_20060408-103430-770_L1C_051-259-7_D_V1-0/SPOT4-HRVIR2-XS_20060408-103430-770_L1C_051-259-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060408-103430-770_L1C_051-259-7_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060408-103430-770_L1C_051-259-7_D_V1-0.zip
run script
2024-01-15T11:01:56.705    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:01:56.706    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060408-103430-770_L1C_051-259-7_D_V1-0.zip
2024-01-15T11:01:56.706    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:01:56.706    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:01:56.706    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:01:56.706    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:01:56.706    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:01:56.706    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:01:56.706    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:01:56.706    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T11:04:29.073    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 117). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060408-103430-770_L1C_051-259-7_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/04/08/SPOT4-HRVIR2-XS_20060408-103432-753_L1C_051-260-0_D_V1-0/SPOT4-HRVIR2-XS_20060408-103432-753_L1C_051-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060408-103432-753_L1C_051-260-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060408-103432-753_L1C_051-260-0_D_V1-0.zip
run script
2024-01-15T11:04:32.622    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:04:32.622    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060408-103432-753_L1C_051-260-0_D_V1-0.zip
2024-01-15T11:04:32.622    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:04:32.622    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:04:32.622    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:04:32.622    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:04:32.623    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:04:32.623    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:04:32.623    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:04:32.623    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060408-103432-753_L1C_051-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/08/SPOT4-HRVIR2-XS_20060408-103441-061_L1C_051-261-0_D_V1-0/SPOT4-HRVIR2-XS_20060408-103441-061_L1C_051-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060408-103441-061_L1C_051-261-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060408-103441-061_L1C_051-261-0_D_V1-0.zip
run script
2024-01-15T11:06:52.857    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:06:52.858    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060408-103441-061_L1C_051-261-0_D_V1-0.zip
2024-01-15T11:06:52.858    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:06:52.858    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:06:52.858    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:06:52.858    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:06:52.858    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:06:52.858    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:06:52.858    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:06:52.859    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060408-103441-061_L1C_051-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [0 1 1 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/08/SPOT4-HRVIR2-XS_20060408-103449-375_L1C_052-262-0_D_V1-0/SPOT4-HRVIR2-XS_20060408-103449-375_L1C_052-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060408-103449-375_L1C_052-262-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060408-103449-375_L1C_052-262-0_D_V1-0.zip
run script
2024-01-15T11:09:14.916    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:09:14.917    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060408-103449-375_L1C_052-262-0_D_V1-0.zip
2024-01-15T11:09:14.917    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:09:14.917    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:09:14.917    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:09:14.917    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:09:14.917    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:09:14.917    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:09:14.917    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:09:14.917    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060408-103449-375_L1C_052-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/06/SPOT4-HRVIR1-XS_20060706-102327-092_L1C_051-259-6_D_V1-0/SPOT4-HRVIR1-XS_20060706-102327-092_L1C_051-259-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060706-102327-092_L1C_051-259-6_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060706-102327-092_L1C_051-259-6_D_V1-0.zip
run script
2024-01-15T11:10:56.125    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:10:56.126    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060706-102327-092_L1C_051-259-6_D_V1-0.zip
2024-01-15T11:10:56.126    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:10:56.126    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:10:56.126    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:10:56.126    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:10:56.126    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:10:56.126    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:10:56.126    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:10:56.127    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060706-102327-092_L1C_051-259-6_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/06/SPOT4-HRVIR1-XS_20060706-102329-931_L1C_051-260-0_D_V1-0/SPOT4-HRVIR1-XS_20060706-102329-931_L1C_051-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060706-102329-931_L1C_051-260-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060706-102329-931_L1C_051-260-0_D_V1-0.zip
run script
2024-01-15T11:13:48.160    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:13:48.161    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060706-102329-931_L1C_051-260-0_D_V1-0.zip
2024-01-15T11:13:48.161    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:13:48.161    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:13:48.162    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:13:48.162    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:13:48.162    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:13:48.162    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:13:48.162    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:13:48.162    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060706-102329-931_L1C_051-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/06/SPOT4-HRVIR1-XS_20060706-102338-191_L1C_052-261-0_D_V1-0/SPOT4-HRVIR1-XS_20060706-102338-191_L1C_052-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060706-102338-191_L1C_052-261-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060706-102338-191_L1C_052-261-0_D_V1-0.zip
run script
2024-01-15T11:16:22.261    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:16:22.262    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060706-102338-191_L1C_052-261-0_D_V1-0.zip
2024-01-15T11:16:22.262    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:16:22.262    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:16:22.262    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:16:22.263    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:16:22.263    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:16:22.263    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:16:22.263    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:16:22.263    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060706-102338-191_L1C_052-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/06/SPOT4-HRVIR1-XS_20060706-102339-996_L1C_052-261-2_D_V1-0/SPOT4-HRVIR1-XS_20060706-102339-996_L1C_052-261-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060706-102339-996_L1C_052-261-2_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060706-102339-996_L1C_052-261-2_D_V1-0.zip
run script
2024-01-15T11:19:01.435    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:19:01.436    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060706-102339-996_L1C_052-261-2_D_V1-0.zip
2024-01-15T11:19:01.436    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:19:01.436    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:19:01.436    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:19:01.436    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:19:01.436    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:19:01.437    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:19:01.437    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:19:01.437    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060706-102339-996_L1C_052-261-2_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/27/SPOT4-HRVIR1-XS_20060927-102750-273_L1C_051-259-0_D_V1-0/SPOT4-HRVIR1-XS_20060927-102750-273_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060927-102750-273_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060927-102750-273_L1C_051-259-0_D_V1-0.zip
run script
2024-01-15T11:21:34.818    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:21:34.819    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060927-102750-273_L1C_051-259-0_D_V1-0.zip
2024-01-15T11:21:34.819    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:21:34.819    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:21:34.819    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:21:34.819    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:21:34.819    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:21:34.819    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:21:34.819    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:21:34.820    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060927-102750-273_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/27/SPOT4-HRVIR1-XS_20060927-102753-882_L1C_051-259-4_D_V1-0/SPOT4-HRVIR1-XS_20060927-102753-882_L1C_051-259-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060927-102753-882_L1C_051-259-4_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060927-102753-882_L1C_051-259-4_D_V1-0.zip
run script
2024-01-15T11:24:30.052    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:24:30.053    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060927-102753-882_L1C_051-259-4_D_V1-0.zip
2024-01-15T11:24:30.053    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:24:30.053    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:24:30.053    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:24:30.053    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:24:30.053    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:24:30.053    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:24:30.053    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:24:30.053    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060927-102753-882_L1C_051-259-4_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/11/SPOT4-HRVIR1-XS_20060911-103551-053_L1C_051-261-8_D_V1-0/SPOT4-HRVIR1-XS_20060911-103551-053_L1C_051-261-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060911-103551-053_L1C_051-261-8_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060911-103551-053_L1C_051-261-8_D_V1-0.zip
run script
2024-01-15T11:27:27.934    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:27:27.936    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060911-103551-053_L1C_051-261-8_D_V1-0.zip
2024-01-15T11:27:27.936    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:27:27.936    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:27:27.936    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:27:27.936    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:27:27.936    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:27:27.936    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:27:27.936    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:27:27.936    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T11:29:04.675    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (207 x 1). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060911-103551-053_L1C_051-261-8_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/09/11/SPOT4-HRVIR1-XS_20060911-103552-148_L1C_051-262-0_D_V1-0/SPOT4-HRVIR1-XS_20060911-103552-148_L1C_051-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060911-103552-148_L1C_051-262-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060911-103552-148_L1C_051-262-0_D_V1-0.zip
run script
2024-01-15T11:29:08.306    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:29:08.306    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060911-103552-148_L1C_051-262-0_D_V1-0.zip
2024-01-15T11:29:08.306    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:29:08.306    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:29:08.306    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:29:08.306    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:29:08.306    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:29:08.306    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:29:08.307    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:29:08.307    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060911-103552-148_L1C_051-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/11/SPOT4-HRVIR1-XS_20060911-103600-468_L1C_051-263-0_D_V1-0/SPOT4-HRVIR1-XS_20060911-103600-468_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060911-103600-468_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060911-103600-468_L1C_051-263-0_D_V1-0.zip
run script
2024-01-15T11:30:43.530    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:30:43.531    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060911-103600-468_L1C_051-263-0_D_V1-0.zip
2024-01-15T11:30:43.531    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:30:43.531    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:30:43.531    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:30:43.531    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:30:43.531    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:30:43.531    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:30:43.531    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:30:43.531    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060911-103600-468_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/12/SPOT4-HRVIR1-XS_20060412-105807-533_L1C_051-262-9_D_V1-0/SPOT4-HRVIR1-XS_20060412-105807-533_L1C_051-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060412-105807-533_L1C_051-262-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060412-105807-533_L1C_051-262-9_D_V1-0.zip
run script
2024-01-15T11:31:28.685    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:31:28.687    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060412-105807-533_L1C_051-262-9_D_V1-0.zip
2024-01-15T11:31:28.687    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:31:28.687    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:31:28.687    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:31:28.687    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:31:28.687    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:31:28.687    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:31:28.687    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:31:28.687    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060412-105807-533_L1C_051-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/26/SPOT4-HRVIR2-XS_20060926-104740-670_L1C_051-262-8_D_V1-0/SPOT4-HRVIR2-XS_20060926-104740-670_L1C_051-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060926-104740-670_L1C_051-262-8_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060926-104740-670_L1C_051-262-8_D_V1-0.zip
run script
2024-01-15T11:32:28.499    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:32:28.500    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060926-104740-670_L1C_051-262-8_D_V1-0.zip
2024-01-15T11:32:28.500    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:32:28.500    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:32:28.500    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:32:28.500    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:32:28.500    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:32:28.501    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:32:28.501    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:32:28.501    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060926-104740-670_L1C_051-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/26/SPOT4-HRVIR2-XS_20060926-104741-840_L1C_051-263-0_D_V1-0/SPOT4-HRVIR2-XS_20060926-104741-840_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060926-104741-840_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060926-104741-840_L1C_051-263-0_D_V1-0.zip
run script
2024-01-15T11:33:32.504    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:33:32.505    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060926-104741-840_L1C_051-263-0_D_V1-0.zip
2024-01-15T11:33:32.506    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:33:32.506    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:33:32.506    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:33:32.506    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:33:32.506    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:33:32.506    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:33:32.506    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:33:32.506    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060926-104741-840_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/26/SPOT4-HRVIR1-XS_20060926-104721-131_L1C_053-260-7_D_V1-0/SPOT4-HRVIR1-XS_20060926-104721-131_L1C_053-260-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060926-104721-131_L1C_053-260-7_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060926-104721-131_L1C_053-260-7_D_V1-0.zip
run script
2024-01-15T11:34:22.338    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:34:22.339    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060926-104721-131_L1C_053-260-7_D_V1-0.zip
2024-01-15T11:34:22.339    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:34:22.339    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:34:22.339    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:34:22.339    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:34:22.339    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:34:22.339    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:34:22.339    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:34:22.340    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060926-104721-131_L1C_053-260-7_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 0 ... 2 2 2]
 [2 2 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/26/SPOT4-HRVIR1-XS_20060926-104723-209_L1C_053-261-0_D_V1-0/SPOT4-HRVIR1-XS_20060926-104723-209_L1C_053-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060926-104723-209_L1C_053-261-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060926-104723-209_L1C_053-261-0_D_V1-0.zip
run script
2024-01-15T11:37:14.180    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:37:14.181    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060926-104723-209_L1C_053-261-0_D_V1-0.zip
2024-01-15T11:37:14.181    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:37:14.181    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:37:14.181    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:37:14.181    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:37:14.181    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:37:14.181    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:37:14.181    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:37:14.181    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060926-104723-209_L1C_053-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 2 ... 2 2 2]
 [0 2 2 ... 2 2 2]
 [0 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/26/SPOT4-HRVIR1-XS_20060926-104731-610_L1C_053-262-0_D_V1-0/SPOT4-HRVIR1-XS_20060926-104731-610_L1C_053-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060926-104731-610_L1C_053-262-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060926-104731-610_L1C_053-262-0_D_V1-0.zip
run script
2024-01-15T11:39:59.018    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:39:59.020    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060926-104731-610_L1C_053-262-0_D_V1-0.zip
2024-01-15T11:39:59.020    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:39:59.020    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:39:59.020    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:39:59.020    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:39:59.020    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:39:59.020    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:39:59.020    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:39:59.020    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060926-104731-610_L1C_053-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/26/SPOT4-HRVIR1-XS_20060926-104737-025_L1C_053-262-6_D_V1-0/SPOT4-HRVIR1-XS_20060926-104737-025_L1C_053-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060926-104737-025_L1C_053-262-6_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060926-104737-025_L1C_053-262-6_D_V1-0.zip
run script
2024-01-15T11:42:30.957    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:42:30.958    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060926-104737-025_L1C_053-262-6_D_V1-0.zip
2024-01-15T11:42:30.958    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:42:30.958    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:42:30.958    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:42:30.958    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:42:30.958    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:42:30.958    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:42:30.958    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:42:30.958    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060926-104737-025_L1C_053-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/14/SPOT4-HRVIR2-XS_20060514-104157-235_L1C_052-256-7_D_V1-0/SPOT4-HRVIR2-XS_20060514-104157-235_L1C_052-256-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060514-104157-235_L1C_052-256-7_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060514-104157-235_L1C_052-256-7_D_V1-0.zip
run script
2024-01-15T11:44:13.352    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:44:13.353    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060514-104157-235_L1C_052-256-7_D_V1-0.zip
2024-01-15T11:44:13.353    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:44:13.353    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:44:13.353    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:44:13.353    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:44:13.353    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:44:13.353    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:44:13.354    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:44:13.354    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060514-104157-235_L1C_052-256-7_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/14/SPOT4-HRVIR2-XS_20060514-104159-241_L1C_052-257-0_D_V1-0/SPOT4-HRVIR2-XS_20060514-104159-241_L1C_052-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060514-104159-241_L1C_052-257-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060514-104159-241_L1C_052-257-0_D_V1-0.zip
run script
2024-01-15T11:46:56.695    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:46:56.696    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060514-104159-241_L1C_052-257-0_D_V1-0.zip
2024-01-15T11:46:56.696    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:46:56.696    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:46:56.696    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:46:56.696    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:46:56.696    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:46:56.697    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:46:56.697    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:46:56.697    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060514-104159-241_L1C_052-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/14/SPOT4-HRVIR2-XS_20060514-104207-571_L1C_052-258-0_D_V1-0/SPOT4-HRVIR2-XS_20060514-104207-571_L1C_052-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060514-104207-571_L1C_052-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060514-104207-571_L1C_052-258-0_D_V1-0.zip
run script
2024-01-15T11:49:48.762    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:49:48.763    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060514-104207-571_L1C_052-258-0_D_V1-0.zip
2024-01-15T11:49:48.763    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:49:48.763    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:49:48.763    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:49:48.763    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:49:48.763    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:49:48.763    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:49:48.763    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:49:48.764    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060514-104207-571_L1C_052-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/14/SPOT4-HRVIR2-XS_20060514-104215-909_L1C_052-259-0_D_V1-0/SPOT4-HRVIR2-XS_20060514-104215-909_L1C_052-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060514-104215-909_L1C_052-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060514-104215-909_L1C_052-259-0_D_V1-0.zip
run script
2024-01-15T11:52:28.422    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:52:28.423    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060514-104215-909_L1C_052-259-0_D_V1-0.zip
2024-01-15T11:52:28.423    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:52:28.423    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:52:28.423    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:52:28.423    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:52:28.423    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:52:28.423    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:52:28.423    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:52:28.423    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060514-104215-909_L1C_052-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/14/SPOT4-HRVIR2-XS_20060514-104224-253_L1C_052-260-0_D_V1-0/SPOT4-HRVIR2-XS_20060514-104224-253_L1C_052-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060514-104224-253_L1C_052-260-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060514-104224-253_L1C_052-260-0_D_V1-0.zip
run script
2024-01-15T11:55:19.024    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:55:19.026    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060514-104224-253_L1C_052-260-0_D_V1-0.zip
2024-01-15T11:55:19.026    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:55:19.026    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:55:19.026    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:55:19.026    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:55:19.027    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:55:19.027    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:55:19.027    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:55:19.027    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060514-104224-253_L1C_052-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/14/SPOT4-HRVIR1-XS_20060514-104222-219_L1C_053-260-0_D_V1-0/SPOT4-HRVIR1-XS_20060514-104222-219_L1C_053-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060514-104222-219_L1C_053-260-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060514-104222-219_L1C_053-260-0_D_V1-0.zip
run script
2024-01-15T11:57:44.689    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:57:44.690    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060514-104222-219_L1C_053-260-0_D_V1-0.zip
2024-01-15T11:57:44.690    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:57:44.691    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:57:44.691    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:57:44.691    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:57:44.691    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:57:44.691    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:57:44.691    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:57:44.691    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060514-104222-219_L1C_053-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/14/SPOT4-HRVIR1-XS_20060514-104230-587_L1C_053-261-0_D_V1-0/SPOT4-HRVIR1-XS_20060514-104230-587_L1C_053-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060514-104230-587_L1C_053-261-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060514-104230-587_L1C_053-261-0_D_V1-0.zip
run script
2024-01-15T11:59:47.925    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T11:59:47.926    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060514-104230-587_L1C_053-261-0_D_V1-0.zip
2024-01-15T11:59:47.926    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T11:59:47.926    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T11:59:47.926    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T11:59:47.926    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T11:59:47.926    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T11:59:47.926    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T11:59:47.926    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T11:59:47.926    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060514-104230-587_L1C_053-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/30/SPOT4-HRVIR1-XS_20060630-103837-567_L1C_052-257-8_D_V1-0/SPOT4-HRVIR1-XS_20060630-103837-567_L1C_052-257-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060630-103837-567_L1C_052-257-8_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060630-103837-567_L1C_052-257-8_D_V1-0.zip
run script
2024-01-15T12:02:25.772    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T12:02:25.773    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060630-103837-567_L1C_052-257-8_D_V1-0.zip
2024-01-15T12:02:25.773    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T12:02:25.773    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T12:02:25.773    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T12:02:25.773    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T12:02:25.773    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T12:02:25.773    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T12:02:25.774    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T12:02:25.774    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T12:05:07.381    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 422). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060630-103837-567_L1C_052-257-8_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 0]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/06/30/SPOT4-HRVIR1-XS_20060630-103838-653_L1C_052-258-0_D_V1-0/SPOT4-HRVIR1-XS_20060630-103838-653_L1C_052-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060630-103838-653_L1C_052-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060630-103838-653_L1C_052-258-0_D_V1-0.zip
run script
2024-01-15T12:05:10.812    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T12:05:10.812    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060630-103838-653_L1C_052-258-0_D_V1-0.zip
2024-01-15T12:05:10.812    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T12:05:10.812    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T12:05:10.812    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T12:05:10.812    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T12:05:10.812    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T12:05:10.812    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T12:05:10.812    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T12:05:10.813    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060630-103838-653_L1C_052-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/30/SPOT4-HRVIR1-XS_20060630-103846-964_L1C_052-259-0_D_V1-0/SPOT4-HRVIR1-XS_20060630-103846-964_L1C_052-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060630-103846-964_L1C_052-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060630-103846-964_L1C_052-259-0_D_V1-0.zip
run script
2024-01-15T12:07:48.220    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T12:07:48.222    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060630-103846-964_L1C_052-259-0_D_V1-0.zip
2024-01-15T12:07:48.222    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T12:07:48.222    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T12:07:48.222    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T12:07:48.222    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T12:07:48.222    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T12:07:48.222    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T12:07:48.222    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T12:07:48.222    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060630-103846-964_L1C_052-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/30/SPOT4-HRVIR1-XS_20060630-103856-186_L1C_052-260-1_D_V1-0/SPOT4-HRVIR1-XS_20060630-103856-186_L1C_052-260-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060630-103856-186_L1C_052-260-1_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060630-103856-186_L1C_052-260-1_D_V1-0.zip
run script
2024-01-15T12:10:33.940    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T12:10:33.941    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060630-103856-186_L1C_052-260-1_D_V1-0.zip
2024-01-15T12:10:33.941    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T12:10:33.941    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T12:10:33.941    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T12:10:33.941    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T12:10:33.941    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T12:10:33.941    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T12:10:33.941    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T12:10:33.941    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060630-103856-186_L1C_052-260-1_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [0 0 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/15/SPOT4-HRVIR1-XS_20060715-105016-529_L1C_052-257-7_D_V1-0/SPOT4-HRVIR1-XS_20060715-105016-529_L1C_052-257-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060715-105016-529_L1C_052-257-7_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060715-105016-529_L1C_052-257-7_D_V1-0.zip
run script
2024-01-15T12:12:51.915    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T12:12:51.916    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060715-105016-529_L1C_052-257-7_D_V1-0.zip
2024-01-15T12:12:51.916    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T12:12:51.916    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T12:12:51.916    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T12:12:51.916    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T12:12:51.916    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T12:12:51.916    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T12:12:51.917    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T12:12:51.917    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060715-105016-529_L1C_052-257-7_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/15/SPOT4-HRVIR1-XS_20060715-105018-599_L1C_052-258-0_D_V1-0/SPOT4-HRVIR1-XS_20060715-105018-599_L1C_052-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060715-105018-599_L1C_052-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060715-105018-599_L1C_052-258-0_D_V1-0.zip
run script
2024-01-15T12:16:02.974    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T12:16:02.975    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060715-105018-599_L1C_052-258-0_D_V1-0.zip
2024-01-15T12:16:02.975    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T12:16:02.975    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T12:16:02.975    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T12:16:02.975    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T12:16:02.975    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T12:16:02.975    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T12:16:02.975    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T12:16:02.975    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060715-105018-599_L1C_052-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/20/SPOT4-HRVIR2-XS_20060720-105411-092_L1C_052-257-9_D_V1-0/SPOT4-HRVIR2-XS_20060720-105411-092_L1C_052-257-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060720-105411-092_L1C_052-257-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060720-105411-092_L1C_052-257-9_D_V1-0.zip
run script
2024-01-15T12:18:58.049    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T12:18:58.050    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060720-105411-092_L1C_052-257-9_D_V1-0.zip
2024-01-15T12:18:58.050    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T12:18:58.050    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T12:18:58.050    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T12:18:58.050    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T12:18:58.050    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T12:18:58.050    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T12:18:58.050    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T12:18:58.051    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T12:22:03.506    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (0 x 3948). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060720-105411-092_L1C_052-257-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/07/20/SPOT4-HRVIR2-XS_20060720-105419-813_L1C_052-259-0_D_V1-0/SPOT4-HRVIR2-XS_20060720-105419-813_L1C_052-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060720-105419-813_L1C_052-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060720-105419-813_L1C_052-259-0_D_V1-0.zip
run script
2024-01-15T12:22:07.140    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T12:22:07.142    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060720-105419-813_L1C_052-259-0_D_V1-0.zip
2024-01-15T12:22:07.142    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T12:22:07.142    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T12:22:07.142    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T12:22:07.142    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T12:22:07.142    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T12:22:07.142    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T12:22:07.142    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T12:22:07.142    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060720-105419-813_L1C_052-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/20/SPOT4-HRVIR1-XS_20060720-105432-163_L1C_052-260-5_D_V1-0/SPOT4-HRVIR1-XS_20060720-105432-163_L1C_052-260-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060720-105432-163_L1C_052-260-5_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060720-105432-163_L1C_052-260-5_D_V1-0.zip
run script
2024-01-15T12:25:19.350    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T12:25:19.351    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060720-105432-163_L1C_052-260-5_D_V1-0.zip
2024-01-15T12:25:19.351    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T12:25:19.351    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T12:25:19.351    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T12:25:19.351    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T12:25:19.352    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T12:25:19.352    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T12:25:19.352    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T12:25:19.352    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060720-105432-163_L1C_052-260-5_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/20/SPOT4-HRVIR1-XS_20060720-105433-968_L1C_052-260-7_D_V1-0/SPOT4-HRVIR1-XS_20060720-105433-968_L1C_052-260-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060720-105433-968_L1C_052-260-7_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060720-105433-968_L1C_052-260-7_D_V1-0.zip
run script
2024-01-15T12:28:26.317    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T12:28:26.318    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060720-105433-968_L1C_052-260-7_D_V1-0.zip
2024-01-15T12:28:26.318    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T12:28:26.318    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T12:28:26.318    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T12:28:26.319    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T12:28:26.319    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T12:28:26.319    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T12:28:26.319    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T12:28:26.319    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060720-105433-968_L1C_052-260-7_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/20/SPOT4-HRVIR2-XS_20060720-105428-241_L1C_052-260-0_D_V1-0/SPOT4-HRVIR2-XS_20060720-105428-241_L1C_052-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060720-105428-241_L1C_052-260-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060720-105428-241_L1C_052-260-0_D_V1-0.zip
run script
2024-01-15T12:31:31.418    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T12:31:31.419    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060720-105428-241_L1C_052-260-0_D_V1-0.zip
2024-01-15T12:31:31.419    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T12:31:31.419    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T12:31:31.419    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T12:31:31.419    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T12:31:31.419    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T12:31:31.420    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T12:31:31.420    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T12:31:31.420    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060720-105428-241_L1C_052-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/20/SPOT4-HRVIR1-XS_20060720-105417-466_L1C_053-259-0_D_V1-0/SPOT4-HRVIR1-XS_20060720-105417-466_L1C_053-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060720-105417-466_L1C_053-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060720-105417-466_L1C_053-259-0_D_V1-0.zip
run script
2024-01-15T12:34:22.534    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T12:34:22.536    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060720-105417-466_L1C_053-259-0_D_V1-0.zip
2024-01-15T12:34:22.536    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T12:34:22.536    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T12:34:22.536    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T12:34:22.536    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T12:34:22.536    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T12:34:22.536    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T12:34:22.536    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T12:34:22.536    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060720-105417-466_L1C_053-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/26/SPOT4-HRVIR1-XS_20060726-103846-777_L1C_052-257-8_D_V1-0/SPOT4-HRVIR1-XS_20060726-103846-777_L1C_052-257-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060726-103846-777_L1C_052-257-8_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060726-103846-777_L1C_052-257-8_D_V1-0.zip
run script
2024-01-15T12:36:39.261    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T12:36:39.262    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060726-103846-777_L1C_052-257-8_D_V1-0.zip
2024-01-15T12:36:39.262    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T12:36:39.262    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T12:36:39.262    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T12:36:39.262    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T12:36:39.262    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T12:36:39.262    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T12:36:39.262    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T12:36:39.263    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T12:39:18.098    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 424). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060726-103846-777_L1C_052-257-8_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/07/26/SPOT4-HRVIR1-XS_20060726-103847-862_L1C_052-258-0_D_V1-0/SPOT4-HRVIR1-XS_20060726-103847-862_L1C_052-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060726-103847-862_L1C_052-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060726-103847-862_L1C_052-258-0_D_V1-0.zip
run script
2024-01-15T12:39:21.520    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T12:39:21.522    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060726-103847-862_L1C_052-258-0_D_V1-0.zip
2024-01-15T12:39:21.522    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T12:39:21.522    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T12:39:21.522    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T12:39:21.522    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T12:39:21.522    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T12:39:21.522    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T12:39:21.522    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T12:39:21.522    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060726-103847-862_L1C_052-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/26/SPOT4-HRVIR1-XS_20060726-103856-176_L1C_052-259-0_D_V1-0/SPOT4-HRVIR1-XS_20060726-103856-176_L1C_052-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060726-103856-176_L1C_052-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060726-103856-176_L1C_052-259-0_D_V1-0.zip
run script
2024-01-15T12:41:58.922    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T12:41:58.923    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060726-103856-176_L1C_052-259-0_D_V1-0.zip
2024-01-15T12:41:58.923    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T12:41:58.923    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T12:41:58.923    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T12:41:58.923    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T12:41:58.923    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T12:41:58.923    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T12:41:58.924    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T12:41:58.924    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060726-103856-176_L1C_052-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/26/SPOT4-HRVIR1-XS_20060726-103857-981_L1C_052-259-2_D_V1-0/SPOT4-HRVIR1-XS_20060726-103857-981_L1C_052-259-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060726-103857-981_L1C_052-259-2_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060726-103857-981_L1C_052-259-2_D_V1-0.zip
run script
2024-01-15T12:44:45.376    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T12:44:45.377    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060726-103857-981_L1C_052-259-2_D_V1-0.zip
2024-01-15T12:44:45.377    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T12:44:45.378    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T12:44:45.378    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T12:44:45.378    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T12:44:45.378    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T12:44:45.378    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T12:44:45.378    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T12:44:45.378    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060726-103857-981_L1C_052-259-2_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/27/SPOT4-HRVIR1-XS_20060727-101927-864_L1C_052-257-9_D_V1-0/SPOT4-HRVIR1-XS_20060727-101927-864_L1C_052-257-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060727-101927-864_L1C_052-257-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060727-101927-864_L1C_052-257-9_D_V1-0.zip
run script
2024-01-15T12:47:27.322    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T12:47:27.324    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060727-101927-864_L1C_052-257-9_D_V1-0.zip
2024-01-15T12:47:27.324    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T12:47:27.324    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T12:47:27.324    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T12:47:27.324    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T12:47:27.324    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T12:47:27.324    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T12:47:27.324    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T12:47:27.324    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060727-101927-864_L1C_052-257-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/27/SPOT4-HRVIR1-XS_20060727-101935-185_L1C_052-258-8_D_V1-0/SPOT4-HRVIR1-XS_20060727-101935-185_L1C_052-258-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060727-101935-185_L1C_052-258-8_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060727-101935-185_L1C_052-258-8_D_V1-0.zip
run script
2024-01-15T12:50:18.222    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T12:50:18.224    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060727-101935-185_L1C_052-258-8_D_V1-0.zip
2024-01-15T12:50:18.224    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T12:50:18.224    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T12:50:18.224    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T12:50:18.224    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T12:50:18.224    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T12:50:18.224    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T12:50:18.224    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T12:50:18.224    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060727-101935-185_L1C_052-258-8_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/27/SPOT4-HRVIR2-XS_20060727-101927-662_L1C_053-258-1_D_V1-0/SPOT4-HRVIR2-XS_20060727-101927-662_L1C_053-258-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060727-101927-662_L1C_053-258-1_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060727-101927-662_L1C_053-258-1_D_V1-0.zip
run script
2024-01-15T12:53:19.360    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T12:53:19.361    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060727-101927-662_L1C_053-258-1_D_V1-0.zip
2024-01-15T12:53:19.361    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T12:53:19.361    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T12:53:19.361    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T12:53:19.361    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T12:53:19.362    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T12:53:19.362    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T12:53:19.362    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T12:53:19.362    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060727-101927-662_L1C_053-258-1_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/27/SPOT4-HRVIR2-XS_20060727-101934-999_L1C_053-259-0_D_V1-0/SPOT4-HRVIR2-XS_20060727-101934-999_L1C_053-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060727-101934-999_L1C_053-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060727-101934-999_L1C_053-259-0_D_V1-0.zip
run script
2024-01-15T12:54:46.266    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T12:54:46.267    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060727-101934-999_L1C_053-259-0_D_V1-0.zip
2024-01-15T12:54:46.267    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T12:54:46.267    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T12:54:46.267    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T12:54:46.267    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T12:54:46.268    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T12:54:46.268    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T12:54:46.268    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T12:54:46.268    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060727-101934-999_L1C_053-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/06/SPOT4-HRVIR1-XS_20060806-102714-856_L1C_052-257-9_D_V1-0/SPOT4-HRVIR1-XS_20060806-102714-856_L1C_052-257-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060806-102714-856_L1C_052-257-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060806-102714-856_L1C_052-257-9_D_V1-0.zip
run script
2024-01-15T12:56:44.981    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T12:56:44.982    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060806-102714-856_L1C_052-257-9_D_V1-0.zip
2024-01-15T12:56:44.982    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T12:56:44.982    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T12:56:44.983    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T12:56:44.983    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T12:56:44.983    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T12:56:44.983    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T12:56:44.983    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T12:56:44.983    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060806-102714-856_L1C_052-257-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/06/SPOT4-HRVIR1-XS_20060806-102722-205_L1C_052-258-8_D_V1-0/SPOT4-HRVIR1-XS_20060806-102722-205_L1C_052-258-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060806-102722-205_L1C_052-258-8_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060806-102722-205_L1C_052-258-8_D_V1-0.zip
run script
2024-01-15T12:59:18.123    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T12:59:18.125    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060806-102722-205_L1C_052-258-8_D_V1-0.zip
2024-01-15T12:59:18.126    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T12:59:18.126    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T12:59:18.126    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T12:59:18.126    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T12:59:18.126    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T12:59:18.126    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T12:59:18.126    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T12:59:18.126    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060806-102722-205_L1C_052-258-8_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/21/SPOT4-HRVIR2-XS_20060821-103856-122_L1C_052-257-6_D_V1-0/SPOT4-HRVIR2-XS_20060821-103856-122_L1C_052-257-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060821-103856-122_L1C_052-257-6_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060821-103856-122_L1C_052-257-6_D_V1-0.zip
run script
2024-01-15T13:01:59.267    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T13:01:59.268    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060821-103856-122_L1C_052-257-6_D_V1-0.zip
2024-01-15T13:01:59.268    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T13:01:59.268    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T13:01:59.268    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T13:01:59.268    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T13:01:59.268    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T13:01:59.268    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T13:01:59.268    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T13:01:59.268    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060821-103856-122_L1C_052-257-6_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 0 0]
 [2 2 2 ... 1 0 0]
 [2 2 2 ... 1 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/21/SPOT4-HRVIR2-XS_20060821-103859-016_L1C_052-258-0_D_V1-0/SPOT4-HRVIR2-XS_20060821-103859-016_L1C_052-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060821-103859-016_L1C_052-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060821-103859-016_L1C_052-258-0_D_V1-0.zip
run script
2024-01-15T13:04:46.971    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T13:04:46.972    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060821-103859-016_L1C_052-258-0_D_V1-0.zip
2024-01-15T13:04:46.972    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T13:04:46.972    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T13:04:46.972    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T13:04:46.972    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T13:04:46.972    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T13:04:46.973    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T13:04:46.973    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T13:04:46.973    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060821-103859-016_L1C_052-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/15/SPOT4-HRVIR2-XS_20060915-105824-010_L1C_052-257-4_D_V1-0/SPOT4-HRVIR2-XS_20060915-105824-010_L1C_052-257-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060915-105824-010_L1C_052-257-4_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060915-105824-010_L1C_052-257-4_D_V1-0.zip
run script
2024-01-15T13:07:22.087    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T13:07:22.088    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060915-105824-010_L1C_052-257-4_D_V1-0.zip
2024-01-15T13:07:22.089    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T13:07:22.089    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T13:07:22.089    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T13:07:22.089    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T13:07:22.089    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T13:07:22.089    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T13:07:22.089    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T13:07:22.089    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060915-105824-010_L1C_052-257-4_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 0 0 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/15/SPOT4-HRVIR2-XS_20060915-105828-853_L1C_052-258-0_D_V1-0/SPOT4-HRVIR2-XS_20060915-105828-853_L1C_052-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060915-105828-853_L1C_052-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060915-105828-853_L1C_052-258-0_D_V1-0.zip
run script
2024-01-15T13:10:54.763    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T13:10:54.765    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060915-105828-853_L1C_052-258-0_D_V1-0.zip
2024-01-15T13:10:54.765    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T13:10:54.765    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T13:10:54.765    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T13:10:54.765    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T13:10:54.765    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T13:10:54.765    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T13:10:54.765    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T13:10:54.765    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060915-105828-853_L1C_052-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/17/SPOT4-HRVIR1-XS_20061017-104252-793_L1C_052-257-2_D_V1-0/SPOT4-HRVIR1-XS_20061017-104252-793_L1C_052-257-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20061017-104252-793_L1C_052-257-2_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061017-104252-793_L1C_052-257-2_D_V1-0.zip
run script
2024-01-15T13:14:11.147    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T13:14:11.149    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061017-104252-793_L1C_052-257-2_D_V1-0.zip
2024-01-15T13:14:11.149    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T13:14:11.149    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T13:14:11.149    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T13:14:11.149    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T13:14:11.149    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T13:14:11.149    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T13:14:11.149    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T13:14:11.149    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061017-104252-793_L1C_052-257-2_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/17/SPOT4-HRVIR1-XS_20061017-104259-321_L1C_052-258-0_D_V1-0/SPOT4-HRVIR1-XS_20061017-104259-321_L1C_052-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20061017-104259-321_L1C_052-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061017-104259-321_L1C_052-258-0_D_V1-0.zip
run script
2024-01-15T13:16:52.930    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T13:16:52.931    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061017-104259-321_L1C_052-258-0_D_V1-0.zip
2024-01-15T13:16:52.932    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T13:16:52.932    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T13:16:52.932    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T13:16:52.932    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T13:16:52.932    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T13:16:52.932    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T13:16:52.932    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T13:16:52.932    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061017-104259-321_L1C_052-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/04/SPOT4-HRVIR1-XS_20060604-103831-326_L1C_052-258-6_D_V1-0/SPOT4-HRVIR1-XS_20060604-103831-326_L1C_052-258-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060604-103831-326_L1C_052-258-6_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060604-103831-326_L1C_052-258-6_D_V1-0.zip
run script
2024-01-15T13:19:29.660    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T13:19:29.661    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060604-103831-326_L1C_052-258-6_D_V1-0.zip
2024-01-15T13:19:29.661    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T13:19:29.661    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T13:19:29.661    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T13:19:29.661    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T13:19:29.661    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T13:19:29.661    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T13:19:29.661    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T13:19:29.661    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060604-103831-326_L1C_052-258-6_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 1 1 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/04/SPOT4-HRVIR1-XS_20060604-103834-223_L1C_052-259-0_D_V1-0/SPOT4-HRVIR1-XS_20060604-103834-223_L1C_052-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060604-103834-223_L1C_052-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060604-103834-223_L1C_052-259-0_D_V1-0.zip
run script
2024-01-15T13:22:19.559    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T13:22:19.560    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060604-103834-223_L1C_052-259-0_D_V1-0.zip
2024-01-15T13:22:19.560    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T13:22:19.560    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T13:22:19.560    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T13:22:19.561    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T13:22:19.561    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T13:22:19.561    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T13:22:19.561    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T13:22:19.561    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060604-103834-223_L1C_052-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/04/SPOT4-HRVIR1-XS_20060604-103842-543_L1C_052-260-0_D_V1-0/SPOT4-HRVIR1-XS_20060604-103842-543_L1C_052-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060604-103842-543_L1C_052-260-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060604-103842-543_L1C_052-260-0_D_V1-0.zip
run script
2024-01-15T13:25:06.996    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T13:25:06.997    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060604-103842-543_L1C_052-260-0_D_V1-0.zip
2024-01-15T13:25:06.997    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T13:25:06.997    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T13:25:06.997    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T13:25:06.997    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T13:25:06.998    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T13:25:06.998    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T13:25:06.998    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T13:25:06.998    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060604-103842-543_L1C_052-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/04/SPOT4-HRVIR1-XS_20060604-103845-250_L1C_052-260-3_D_V1-0/SPOT4-HRVIR1-XS_20060604-103845-250_L1C_052-260-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060604-103845-250_L1C_052-260-3_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060604-103845-250_L1C_052-260-3_D_V1-0.zip
run script
2024-01-15T13:27:29.125    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T13:27:29.127    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060604-103845-250_L1C_052-260-3_D_V1-0.zip
2024-01-15T13:27:29.127    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T13:27:29.127    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T13:27:29.127    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T13:27:29.127    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T13:27:29.127    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T13:27:29.127    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T13:27:29.127    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T13:27:29.127    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060604-103845-250_L1C_052-260-3_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/01/SPOT4-HRVIR2-XS_20060701-101919-881_L1C_052-258-1_D_V1-0/SPOT4-HRVIR2-XS_20060701-101919-881_L1C_052-258-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060701-101919-881_L1C_052-258-1_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060701-101919-881_L1C_052-258-1_D_V1-0.zip
run script
2024-01-15T13:29:55.855    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T13:29:55.857    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060701-101919-881_L1C_052-258-1_D_V1-0.zip
2024-01-15T13:29:55.857    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T13:29:55.857    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T13:29:55.857    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T13:29:55.857    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T13:29:55.857    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T13:29:55.857    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T13:29:55.857    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T13:29:55.857    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060701-101919-881_L1C_052-258-1_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/01/SPOT4-HRVIR2-XS_20060701-101927-211_L1C_052-259-0_D_V1-0/SPOT4-HRVIR2-XS_20060701-101927-211_L1C_052-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060701-101927-211_L1C_052-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060701-101927-211_L1C_052-259-0_D_V1-0.zip
run script
2024-01-15T13:32:40.111    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T13:32:40.112    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060701-101927-211_L1C_052-259-0_D_V1-0.zip
2024-01-15T13:32:40.112    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T13:32:40.112    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T13:32:40.112    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T13:32:40.113    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T13:32:40.113    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T13:32:40.113    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T13:32:40.113    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T13:32:40.113    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060701-101927-211_L1C_052-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/01/SPOT4-HRVIR1-XS_20060701-101940-504_L1C_052-260-6_D_V1-0/SPOT4-HRVIR1-XS_20060701-101940-504_L1C_052-260-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060701-101940-504_L1C_052-260-6_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060701-101940-504_L1C_052-260-6_D_V1-0.zip
run script
2024-01-15T13:35:45.989    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T13:35:45.990    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060701-101940-504_L1C_052-260-6_D_V1-0.zip
2024-01-15T13:35:45.990    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T13:35:45.990    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T13:35:45.990    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T13:35:45.990    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T13:35:45.991    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T13:35:45.991    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T13:35:45.991    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T13:35:45.991    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060701-101940-504_L1C_052-260-6_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/01/SPOT4-HRVIR1-XS_20060701-101942-308_L1C_052-260-8_D_V1-0/SPOT4-HRVIR1-XS_20060701-101942-308_L1C_052-260-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060701-101942-308_L1C_052-260-8_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060701-101942-308_L1C_052-260-8_D_V1-0.zip
run script
2024-01-15T13:38:35.704    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T13:38:35.705    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060701-101942-308_L1C_052-260-8_D_V1-0.zip
2024-01-15T13:38:35.705    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T13:38:35.705    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T13:38:35.705    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T13:38:35.705    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T13:38:35.705    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T13:38:35.705    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T13:38:35.705    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T13:38:35.706    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060701-101942-308_L1C_052-260-8_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 2 2 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/01/SPOT4-HRVIR2-XS_20060701-101935-453_L1C_052-260-0_D_V1-0/SPOT4-HRVIR2-XS_20060701-101935-453_L1C_052-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060701-101935-453_L1C_052-260-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060701-101935-453_L1C_052-260-0_D_V1-0.zip
run script
2024-01-15T13:41:21.067    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T13:41:21.068    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060701-101935-453_L1C_052-260-0_D_V1-0.zip
2024-01-15T13:41:21.068    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T13:41:21.068    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T13:41:21.068    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T13:41:21.068    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T13:41:21.068    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T13:41:21.068    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T13:41:21.068    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T13:41:21.068    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060701-101935-453_L1C_052-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/31/SPOT4-HRVIR1-XS_20060731-104240-694_L1C_052-258-0_D_V1-0/SPOT4-HRVIR1-XS_20060731-104240-694_L1C_052-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060731-104240-694_L1C_052-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060731-104240-694_L1C_052-258-0_D_V1-0.zip
run script
2024-01-15T13:43:54.261    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T13:43:54.263    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060731-104240-694_L1C_052-258-0_D_V1-0.zip
2024-01-15T13:43:54.263    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T13:43:54.263    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T13:43:54.263    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T13:43:54.263    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T13:43:54.263    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T13:43:54.263    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T13:43:54.263    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T13:43:54.263    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060731-104240-694_L1C_052-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/31/SPOT4-HRVIR1-XS_20060731-104247-011_L1C_052-258-7_D_V1-0/SPOT4-HRVIR1-XS_20060731-104247-011_L1C_052-258-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060731-104247-011_L1C_052-258-7_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060731-104247-011_L1C_052-258-7_D_V1-0.zip
run script
2024-01-15T13:46:25.349    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T13:46:25.350    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060731-104247-011_L1C_052-258-7_D_V1-0.zip
2024-01-15T13:46:25.350    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T13:46:25.350    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T13:46:25.350    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T13:46:25.351    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T13:46:25.351    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T13:46:25.351    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T13:46:25.351    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T13:46:25.351    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060731-104247-011_L1C_052-258-7_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/08/10/SPOT4-HRVIR1-XS_20060810-105026-635_L1C_052-258-0_D_V1-0/SPOT4-HRVIR1-XS_20060810-105026-635_L1C_052-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060810-105026-635_L1C_052-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060810-105026-635_L1C_052-258-0_D_V1-0.zip
run script
2024-01-15T13:49:11.479    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T13:49:11.480    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060810-105026-635_L1C_052-258-0_D_V1-0.zip
2024-01-15T13:49:11.480    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T13:49:11.480    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T13:49:11.480    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T13:49:11.480    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T13:49:11.480    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T13:49:11.481    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T13:49:11.481    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T13:49:11.481    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060810-105026-635_L1C_052-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/01/SPOT4-HRVIR1-XS_20061001-105057-897_L1C_052-258-5_D_V1-0/SPOT4-HRVIR1-XS_20061001-105057-897_L1C_052-258-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20061001-105057-897_L1C_052-258-5_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061001-105057-897_L1C_052-258-5_D_V1-0.zip
run script
2024-01-15T13:52:03.064    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T13:52:03.065    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061001-105057-897_L1C_052-258-5_D_V1-0.zip
2024-01-15T13:52:03.065    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T13:52:03.065    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T13:52:03.065    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T13:52:03.065    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T13:52:03.065    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T13:52:03.065    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T13:52:03.066    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T13:52:03.066    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061001-105057-897_L1C_052-258-5_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/13/SPOT4-HRVIR1-XS_20061013-101945-231_L1C_052-258-0_D_V1-0/SPOT4-HRVIR1-XS_20061013-101945-231_L1C_052-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20061013-101945-231_L1C_052-258-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061013-101945-231_L1C_052-258-0_D_V1-0.zip
run script
2024-01-15T13:55:03.338    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T13:55:03.340    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061013-101945-231_L1C_052-258-0_D_V1-0.zip
2024-01-15T13:55:03.340    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T13:55:03.340    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T13:55:03.340    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T13:55:03.340    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T13:55:03.340    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T13:55:03.340    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T13:55:03.340    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T13:55:03.340    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20061013-101945-231_L1C_052-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/29/SPOT4-HRVIR1-XS_20060429-103045-263_L1C_052-259-8_D_V1-0/SPOT4-HRVIR1-XS_20060429-103045-263_L1C_052-259-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060429-103045-263_L1C_052-259-8_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060429-103045-263_L1C_052-259-8_D_V1-0.zip
run script
2024-01-15T13:57:50.411    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T13:57:50.412    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060429-103045-263_L1C_052-259-8_D_V1-0.zip
2024-01-15T13:57:50.413    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T13:57:50.413    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T13:57:50.413    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T13:57:50.413    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T13:57:50.413    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T13:57:50.413    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T13:57:50.413    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T13:57:50.413    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T13:59:05.650    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 308). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060429-103045-263_L1C_052-259-8_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/04/29/SPOT4-HRVIR1-XS_20060429-103046-331_L1C_052-260-0_D_V1-0/SPOT4-HRVIR1-XS_20060429-103046-331_L1C_052-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060429-103046-331_L1C_052-260-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060429-103046-331_L1C_052-260-0_D_V1-0.zip
run script
2024-01-15T13:59:09.558    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T13:59:09.558    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060429-103046-331_L1C_052-260-0_D_V1-0.zip
2024-01-15T13:59:09.558    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T13:59:09.559    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T13:59:09.559    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T13:59:09.559    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T13:59:09.559    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T13:59:09.559    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T13:59:09.559    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T13:59:09.559    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060429-103046-331_L1C_052-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/29/SPOT4-HRVIR1-XS_20060429-103052-647_L1C_052-260-7_D_V1-0/SPOT4-HRVIR1-XS_20060429-103052-647_L1C_052-260-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060429-103052-647_L1C_052-260-7_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060429-103052-647_L1C_052-260-7_D_V1-0.zip
run script
2024-01-15T14:01:34.775    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T14:01:34.777    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060429-103052-647_L1C_052-260-7_D_V1-0.zip
2024-01-15T14:01:34.777    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T14:01:34.777    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T14:01:34.777    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T14:01:34.777    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T14:01:34.777    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T14:01:34.777    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T14:01:34.777    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T14:01:34.777    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060429-103052-647_L1C_052-260-7_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [2 2 0 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/16/SPOT4-HRVIR2-XS_20060716-103114-658_L1C_052-259-6_D_V1-0/SPOT4-HRVIR2-XS_20060716-103114-658_L1C_052-259-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060716-103114-658_L1C_052-259-6_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060716-103114-658_L1C_052-259-6_D_V1-0.zip
run script
2024-01-15T14:04:09.875    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T14:04:09.876    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060716-103114-658_L1C_052-259-6_D_V1-0.zip
2024-01-15T14:04:09.876    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T14:04:09.876    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T14:04:09.876    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T14:04:09.876    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T14:04:09.877    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T14:04:09.877    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T14:04:09.877    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T14:04:09.877    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060716-103114-658_L1C_052-259-6_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/16/SPOT4-HRVIR1-XS_20060716-103121-932_L1C_052-260-5_D_V1-0/SPOT4-HRVIR1-XS_20060716-103121-932_L1C_052-260-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060716-103121-932_L1C_052-260-5_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060716-103121-932_L1C_052-260-5_D_V1-0.zip
run script
2024-01-15T14:06:46.316    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T14:06:46.317    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060716-103121-932_L1C_052-260-5_D_V1-0.zip
2024-01-15T14:06:46.317    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T14:06:46.317    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T14:06:46.317    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T14:06:46.318    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T14:06:46.318    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T14:06:46.318    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T14:06:46.318    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T14:06:46.318    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060716-103121-932_L1C_052-260-5_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/16/SPOT4-HRVIR1-XS_20060716-103124-639_L1C_052-260-8_D_V1-0/SPOT4-HRVIR1-XS_20060716-103124-639_L1C_052-260-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060716-103124-639_L1C_052-260-8_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060716-103124-639_L1C_052-260-8_D_V1-0.zip
run script
2024-01-15T14:09:20.843    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T14:09:20.844    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060716-103124-639_L1C_052-260-8_D_V1-0.zip
2024-01-15T14:09:20.844    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T14:09:20.844    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T14:09:20.844    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T14:09:20.844    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T14:09:20.844    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T14:09:20.844    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T14:09:20.844    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T14:09:20.844    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060716-103124-639_L1C_052-260-8_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/16/SPOT4-HRVIR2-XS_20060716-103117-528_L1C_052-260-0_D_V1-0/SPOT4-HRVIR2-XS_20060716-103117-528_L1C_052-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060716-103117-528_L1C_052-260-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060716-103117-528_L1C_052-260-0_D_V1-0.zip
run script
2024-01-15T14:11:58.874    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T14:11:58.875    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060716-103117-528_L1C_052-260-0_D_V1-0.zip
2024-01-15T14:11:58.875    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T14:11:58.875    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T14:11:58.875    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T14:11:58.875    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T14:11:58.875    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T14:11:58.875    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T14:11:58.875    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T14:11:58.876    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060716-103117-528_L1C_052-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/16/SPOT4-HRVIR2-XS_20060716-103120-235_L1C_052-260-3_D_V1-0/SPOT4-HRVIR2-XS_20060716-103120-235_L1C_052-260-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060716-103120-235_L1C_052-260-3_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060716-103120-235_L1C_052-260-3_D_V1-0.zip
run script
2024-01-15T14:14:21.483    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T14:14:21.483    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060716-103120-235_L1C_052-260-3_D_V1-0.zip
2024-01-15T14:14:21.483    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T14:14:21.483    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T14:14:21.483    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T14:14:21.483    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T14:14:21.483    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T14:14:21.484    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T14:14:21.484    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T14:14:21.484    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060716-103120-235_L1C_052-260-3_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/16/SPOT4-HRVIR1-XS_20060716-103105-809_L1C_053-258-7_D_V1-0/SPOT4-HRVIR1-XS_20060716-103105-809_L1C_053-258-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060716-103105-809_L1C_053-258-7_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060716-103105-809_L1C_053-258-7_D_V1-0.zip
run script
2024-01-15T14:16:53.189    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T14:16:53.190    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060716-103105-809_L1C_053-258-7_D_V1-0.zip
2024-01-15T14:16:53.190    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T14:16:53.190    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T14:16:53.190    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T14:16:53.191    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T14:16:53.191    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T14:16:53.191    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T14:16:53.191    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T14:16:53.191    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T14:16:55.057    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (54 x 1). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060716-103105-809_L1C_053-258-7_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2006/07/16/SPOT4-HRVIR1-XS_20060716-103107-779_L1C_053-259-0_D_V1-0/SPOT4-HRVIR1-XS_20060716-103107-779_L1C_053-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060716-103107-779_L1C_053-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060716-103107-779_L1C_053-259-0_D_V1-0.zip
run script
2024-01-15T14:16:58.720    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T14:16:58.721    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060716-103107-779_L1C_053-259-0_D_V1-0.zip
2024-01-15T14:16:58.721    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T14:16:58.721    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T14:16:58.721    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T14:16:58.721    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T14:16:58.721    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T14:16:58.721    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T14:16:58.721    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T14:16:58.721    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060716-103107-779_L1C_053-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/24/SPOT4-HRVIR1-XS_20060424-102656-768_L1C_052-260-4_D_V1-0/SPOT4-HRVIR1-XS_20060424-102656-768_L1C_052-260-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060424-102656-768_L1C_052-260-4_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060424-102656-768_L1C_052-260-4_D_V1-0.zip
run script
2024-01-15T14:18:50.327    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T14:18:50.327    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060424-102656-768_L1C_052-260-4_D_V1-0.zip
2024-01-15T14:18:50.327    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T14:18:50.327    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T14:18:50.327    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T14:18:50.327    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T14:18:50.327    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T14:18:50.327    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T14:18:50.328    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T14:18:50.328    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060424-102656-768_L1C_052-260-4_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/05/04/SPOT4-HRVIR1-XS_20060504-103445-540_L1C_052-260-7_D_V1-0/SPOT4-HRVIR1-XS_20060504-103445-540_L1C_052-260-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060504-103445-540_L1C_052-260-7_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060504-103445-540_L1C_052-260-7_D_V1-0.zip
run script
2024-01-15T14:21:28.763    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T14:21:28.764    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060504-103445-540_L1C_052-260-7_D_V1-0.zip
2024-01-15T14:21:28.765    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T14:21:28.765    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T14:21:28.765    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T14:21:28.765    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T14:21:28.765    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T14:21:28.765    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T14:21:28.765    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T14:21:28.765    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060504-103445-540_L1C_052-260-7_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/25/SPOT4-HRVIR1-XS_20060725-105809-954_L1C_053-258-9_D_V1-0/SPOT4-HRVIR1-XS_20060725-105809-954_L1C_053-258-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20060725-105809-954_L1C_053-258-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060725-105809-954_L1C_053-258-9_D_V1-0.zip
run script
2024-01-15T14:24:05.119    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T14:24:05.120    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060725-105809-954_L1C_053-258-9_D_V1-0.zip
2024-01-15T14:24:05.120    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T14:24:05.120    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T14:24:05.120    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T14:24:05.120    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T14:24:05.120    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T14:24:05.120    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T14:24:05.120    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T14:24:05.120    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR1-XS_20060725-105809-954_L1C_053-258-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/10/SPOT4-HRVIR2-XS_20060910-105440-506_L1C_053-258-8_D_V1-0/SPOT4-HRVIR2-XS_20060910-105440-506_L1C_053-258-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060910-105440-506_L1C_053-258-8_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060910-105440-506_L1C_053-258-8_D_V1-0.zip
run script
2024-01-15T14:27:00.523    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T14:27:00.524    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060910-105440-506_L1C_053-258-8_D_V1-0.zip
2024-01-15T14:27:00.524    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T14:27:00.524    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T14:27:00.524    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T14:27:00.524    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T14:27:00.524    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T14:27:00.524    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T14:27:00.524    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T14:27:00.524    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060910-105440-506_L1C_053-258-8_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/10/SPOT4-HRVIR2-XS_20060910-105441-733_L1C_053-259-0_D_V1-0/SPOT4-HRVIR2-XS_20060910-105441-733_L1C_053-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060910-105441-733_L1C_053-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060910-105441-733_L1C_053-259-0_D_V1-0.zip
run script
2024-01-15T14:29:32.740    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T14:29:32.742    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060910-105441-733_L1C_053-259-0_D_V1-0.zip
2024-01-15T14:29:32.742    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T14:29:32.742    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T14:29:32.742    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T14:29:32.742    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T14:29:32.742    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T14:29:32.742    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T14:29:32.742    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T14:29:32.742    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060910-105441-733_L1C_053-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/10/SPOT4-HRVIR2-XS_20060910-105455-988_L1C_054-260-9_D_V1-0/SPOT4-HRVIR2-XS_20060910-105455-988_L1C_054-260-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060910-105455-988_L1C_054-260-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060910-105455-988_L1C_054-260-9_D_V1-0.zip
run script
2024-01-15T14:32:14.450    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T14:32:14.451    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060910-105455-988_L1C_054-260-9_D_V1-0.zip
2024-01-15T14:32:14.452    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T14:32:14.452    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T14:32:14.452    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T14:32:14.452    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T14:32:14.452    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T14:32:14.452    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T14:32:14.452    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T14:32:14.452    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060910-105455-988_L1C_054-260-9_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/10/SPOT4-HRVIR2-XS_20060910-105504-832_L1C_054-262-0_D_V1-0/SPOT4-HRVIR2-XS_20060910-105504-832_L1C_054-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060910-105504-832_L1C_054-262-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060910-105504-832_L1C_054-262-0_D_V1-0.zip
run script
2024-01-15T14:34:03.346    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T14:34:03.347    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060910-105504-832_L1C_054-262-0_D_V1-0.zip
2024-01-15T14:34:03.347    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T14:34:03.347    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T14:34:03.347    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T14:34:03.347    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T14:34:03.347    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T14:34:03.347    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T14:34:03.347    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T14:34:03.347    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-15T14:34:06.120    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (510 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060910-105504-832_L1C_054-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2006/09/10/SPOT4-HRVIR2-XS_20060910-105508-441_L1C_054-262-4_D_V1-0/SPOT4-HRVIR2-XS_20060910-105508-441_L1C_054-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20060910-105508-441_L1C_054-262-4_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060910-105508-441_L1C_054-262-4_D_V1-0.zip
run script
2024-01-15T14:34:09.808    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T14:34:09.809    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060910-105508-441_L1C_054-262-4_D_V1-0.zip
2024-01-15T14:34:09.809    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T14:34:09.809    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T14:34:09.809    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T14:34:09.809    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T14:34:09.809    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T14:34:09.809    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T14:34:09.809    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T14:34:09.809    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20060910-105508-441_L1C_054-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/02/SPOT4-HRVIR2-XS_20061002-103139-843_L1C_053-258-6_D_V1-0/SPOT4-HRVIR2-XS_20061002-103139-843_L1C_053-258-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20061002-103139-843_L1C_053-258-6_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061002-103139-843_L1C_053-258-6_D_V1-0.zip
run script
2024-01-15T14:36:05.526    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T14:36:05.527    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061002-103139-843_L1C_053-258-6_D_V1-0.zip
2024-01-15T14:36:05.527    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T14:36:05.527    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T14:36:05.527    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T14:36:05.528    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T14:36:05.528    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T14:36:05.528    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T14:36:05.528    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T14:36:05.528    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061002-103139-843_L1C_053-258-6_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [1 1 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/02/SPOT4-HRVIR2-XS_20061002-103142-713_L1C_053-259-0_D_V1-0/SPOT4-HRVIR2-XS_20061002-103142-713_L1C_053-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20061002-103142-713_L1C_053-259-0_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061002-103142-713_L1C_053-259-0_D_V1-0.zip
run script
2024-01-15T14:38:08.787    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T14:38:08.788    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061002-103142-713_L1C_053-259-0_D_V1-0.zip
2024-01-15T14:38:08.788    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T14:38:08.788    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T14:38:08.788    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T14:38:08.788    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T14:38:08.788    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T14:38:08.788    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T14:38:08.788    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T14:38:08.788    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061002-103142-713_L1C_053-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4283283/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/02/SPOT4-HRVIR2-XS_20061002-103157-484_L1C_054-260-9_D_V1-0/SPOT4-HRVIR2-XS_20061002-103157-484_L1C_054-260-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20061002-103157-484_L1C_054-260-9_D_V1-0.zip
/tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061002-103157-484_L1C_054-260-9_D_V1-0.zip
run script
2024-01-15T14:40:11.947    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-BLUE_AVG-1200
2024-01-15T14:40:11.949    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283283/INPUT/SPOT4-HRVIR2-XS_20061002-103157-484_L1C_054-260-9_D_V1-0.zip
2024-01-15T14:40:11.949    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-15T14:40:11.949    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-15T14:40:11.949    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-15T14:40:11.949    INFO:run_snow_swh.py::main:model type : mtn
2024-01-15T14:40:11.949    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-15T14:40:11.949    INFO:run_snow_swh.py::main:mask inference : None
2024-01-15T14:40:11.949    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-15T14:40:11.949    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
slurmstepd: error: *** JOB 4283283 ON trex036 CANCELLED AT 2024-01-15T14:40:18 DUE TO TIME LIMIT ***
[2024-01-15 14:40:20.390552245+00:00] cnes_level2/barrouz/4283283:  Account (env) = cnes_level2
[2024-01-15 14:40:20.391823046+00:00] cnes_level2/barrouz/4283283:     User (env) = barrouz
[2024-01-15 14:40:20.392991618+00:00] cnes_level2/barrouz/4283283:        GroupId = cesbio(426000053)
[2024-01-15 14:40:20.394156610+00:00] cnes_level2/barrouz/4283283:         UserId = barrouz(9134)
[2024-01-15 14:40:20.395372891+00:00] cnes_level2/barrouz/4283283:        Account = cnes_level2
[2024-01-15 14:40:20.396623683+00:00] cnes_level2/barrouz/4283283:        Account = cnes_level2
[2024-01-15 14:40:20.397847654+00:00] cnes_level2/barrouz/4283283:      Partition = cpu2022
[2024-01-15 14:40:20.399007706+00:00] cnes_level2/barrouz/4283283:            QOS = cpu_2022_1280
[2024-01-15 14:40:20.400147188+00:00] cnes_level2/barrouz/4283283:        JobName = inf_ALP_24_TCD-BLUE_AVG-1200
[2024-01-15 14:40:20.401345359+00:00] cnes_level2/barrouz/4283283:     SubmitTime = 2024-01-14T21:02:07
[2024-01-15 14:40:20.402457512+00:00] cnes_level2/barrouz/4283283:        RunTime = 10:00:08
[2024-01-15 14:40:20.403578784+00:00] cnes_level2/barrouz/4283283:      TimeLimit = 10:00:00
[2024-01-15 14:40:20.404732336+00:00] cnes_level2/barrouz/4283283:   EligibleTime = 2024-01-14T21:02:07
[2024-01-15 14:40:20.405894297+00:00] cnes_level2/barrouz/4283283:      StartTime = 2024-01-15T04:40:10
[2024-01-15 14:40:20.407083549+00:00] cnes_level2/barrouz/4283283:        EndTime = 2024-01-15T14:40:18
[2024-01-15 14:40:20.408317270+00:00] cnes_level2/barrouz/4283283:       ExitCode = 0:15
[2024-01-15 14:40:20.409543502+00:00] cnes_level2/barrouz/4283283:       NodeList = trex036
[2024-01-15 14:40:20.410838583+00:00] cnes_level2/barrouz/4283283:      BatchHost = trex036
[2024-01-15 14:40:20.411972254+00:00] cnes_level2/barrouz/4283283:           TRES = 
[2024-01-15 14:40:20.413138706+00:00] cnes_level2/barrouz/4283283:        Command = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh_job.sh
[2024-01-15 14:40:20.414346658+00:00] cnes_level2/barrouz/4283283:        WorkDir = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code
[2024-01-15 14:40:20.415578889+00:00] cnes_level2/barrouz/4283283:         StdErr = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_ALP_24_TCD-BLUE_AVG-1200.log
[2024-01-15 14:40:20.417330027+00:00] cnes_level2/barrouz/4283283:         StdOut = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_ALP_24_TCD-BLUE_AVG-1200.log

#########################################
#        EVIDEN - CNES                  #
#        Job Accounting                 #
#########################################
Cluster              : trex
JobIDRaw             : 4283283
JobID                : 4283283
JobName              : inf_ALP_24_TCD-BLUE_AVG-1200
Account              : cnes_level2
User                 : barrouz(9134), cesbio(426000053)
Partition            : cpu2022
QOS                  : cpu_2022_1280
Nodelist             : trex036 (1)
State                : TIMEOUT  (Exitcode=0:0, DerivedExitCode=0:0, Restarts=0)
Submit date          : 2024-01-14T21:02:07
Start time           : 2024-01-15T04:40:10
End time             : 2024-01-15T14:40:18
Elapsed time         : 10:00:08  (Timelimit=10:00:00, Suspended=00:00:00)
TEI                  : 3 days, 8:01:04
Command              : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh_job.sh
StdOut               : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_ALP_24_TCD-BLUE_AVG-1200.log
StdErr               : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_ALP_24_TCD-BLUE_AVG-1200.log

STEP(s) : 2
--------- 
   StepID  | JobName      State       Exit   Start               End                 Elapsed   TotalCPU   CPUTime    ConsumedEnergy MaxDiskRead MaxDiskWrite     MaxRSS MaxRSSTask MaxRSSNode NNodes UserCPU    NodeList
   ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 
   batch   | batch        CANCELLED   0:15   2024-01-15T04:40:10 2024-01-15T14:40:19 10:00:09  2-01:27:12 3-08:01:12       0.28875M  284786.02M   127776.07M  91592900K          0    trex036      1 1-10:41:43 trex036
   extern  | extern       COMPLETED   0:0    2024-01-15T04:40:10 2024-01-15T14:40:18 10:00:08  00:00.001  3-08:01:04       0.28875M       0.00M        0.00M      1692K          0    trex036      1 00:00:00   trex036

