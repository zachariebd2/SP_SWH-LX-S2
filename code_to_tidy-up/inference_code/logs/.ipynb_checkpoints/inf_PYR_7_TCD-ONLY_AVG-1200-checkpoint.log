unload conda/22.11.1  : OK 
load conda/22.11.1  : OK 
envs_dirs : /work/scratch/env/barrouz/conda_env/
pkgs_dirs : /work/scratch/env/barrouz/pkgs_conda
INPUT_PATH /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/PYR/7.txt
OUTPUT_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
DEM_PATH /work/CAMPUS/etudes/Neige/DEM
TCD_PATH /work/datalake/static_aux/TreeCoverDensity
MODELS_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
KEEP_REFL 0
MASK 1
start
/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/PYR/7.txt
muscate/SPOTWORLDHERITAGE/2001/12/10/SPOT2-HRV2-XS_20011210-104641-840_L1C_039-263-0_D_V1-0/SPOT2-HRV2-XS_20011210-104641-840_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011210-104641-840_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011210-104641-840_L1C_039-263-0_D_V1-0.zip
run script
2024-01-16T04:05:42.575    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:05:42.576    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011210-104641-840_L1C_039-263-0_D_V1-0.zip
2024-01-16T04:05:42.576    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:05:42.576    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:05:42.576    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:05:42.576    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:05:42.576    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:05:42.576    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:05:42.577    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:05:42.577    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T04:05:46.630    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (296 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011210-104641-840_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2001/12/10/SPOT2-HRV2-XS_20011210-104650-124_L1C_039-264-0_D_V1-0/SPOT2-HRV2-XS_20011210-104650-124_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011210-104650-124_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011210-104650-124_L1C_039-264-0_D_V1-0.zip
run script
2024-01-16T04:05:50.220    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:05:50.220    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011210-104650-124_L1C_039-264-0_D_V1-0.zip
2024-01-16T04:05:50.220    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:05:50.221    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:05:50.221    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:05:50.221    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:05:50.221    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:05:50.221    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:05:50.221    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:05:50.221    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011210-104650-124_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/12/25/SPOT2-HRV2-XS_20011225-105823-329_L1C_039-263-0_D_V1-0/SPOT2-HRV2-XS_20011225-105823-329_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011225-105823-329_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011225-105823-329_L1C_039-263-0_D_V1-0.zip
run script
2024-01-16T04:08:33.915    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:08:33.916    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011225-105823-329_L1C_039-263-0_D_V1-0.zip
2024-01-16T04:08:33.916    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:08:33.916    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:08:33.916    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:08:33.916    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:08:33.916    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:08:33.916    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:08:33.916    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:08:33.916    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011225-105823-329_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 2 2]
 [2 2 2 ... 0 2 2]
 [2 2 2 ... 0 0 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/12/25/SPOT2-HRV2-XS_20011225-105831-652_L1C_039-264-0_D_V1-0/SPOT2-HRV2-XS_20011225-105831-652_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011225-105831-652_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011225-105831-652_L1C_039-264-0_D_V1-0.zip
run script
2024-01-16T04:10:21.421    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:10:21.422    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011225-105831-652_L1C_039-264-0_D_V1-0.zip
2024-01-16T04:10:21.422    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:10:21.422    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:10:21.422    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:10:21.422    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:10:21.422    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:10:21.422    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:10:21.422    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:10:21.423    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011225-105831-652_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/01/26/SPOT2-HRV1-XS_20010126-110314-414_L1C_040-262-4_D_V1-0/SPOT2-HRV1-XS_20010126-110314-414_L1C_040-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010126-110314-414_L1C_040-262-4_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010126-110314-414_L1C_040-262-4_D_V1-0.zip
run script
2024-01-16T04:12:55.256    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:12:55.257    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010126-110314-414_L1C_040-262-4_D_V1-0.zip
2024-01-16T04:12:55.257    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:12:55.257    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:12:55.257    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:12:55.257    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:12:55.257    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:12:55.258    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:12:55.258    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:12:55.258    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010126-110314-414_L1C_040-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 2 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/01/26/SPOT2-HRV1-XS_20010126-110317-122_L1C_040-262-7_D_V1-0/SPOT2-HRV1-XS_20010126-110317-122_L1C_040-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010126-110317-122_L1C_040-262-7_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010126-110317-122_L1C_040-262-7_D_V1-0.zip
run script
2024-01-16T04:13:39.586    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:13:39.587    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010126-110317-122_L1C_040-262-7_D_V1-0.zip
2024-01-16T04:13:39.588    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:13:39.588    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:13:39.588    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:13:39.588    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:13:39.588    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:13:39.588    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:13:39.588    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:13:39.588    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010126-110317-122_L1C_040-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/01/26/SPOT2-HRV2-XS_20010126-110314-857_L1C_043-262-8_D_V1-0/SPOT2-HRV2-XS_20010126-110314-857_L1C_043-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010126-110314-857_L1C_043-262-8_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010126-110314-857_L1C_043-262-8_D_V1-0.zip
run script
2024-01-16T04:15:04.753    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:15:04.754    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010126-110314-857_L1C_043-262-8_D_V1-0.zip
2024-01-16T04:15:04.754    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:15:04.754    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:15:04.754    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:15:04.754    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:15:04.754    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:15:04.754    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:15:04.755    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:15:04.755    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010126-110314-857_L1C_043-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/01/26/SPOT2-HRV2-XS_20010126-110316-015_L1C_043-263-0_D_V1-0/SPOT2-HRV2-XS_20010126-110316-015_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010126-110316-015_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010126-110316-015_L1C_043-263-0_D_V1-0.zip
run script
2024-01-16T04:16:44.514    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:16:44.515    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010126-110316-015_L1C_043-263-0_D_V1-0.zip
2024-01-16T04:16:44.515    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:16:44.515    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:16:44.515    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:16:44.515    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:16:44.515    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:16:44.515    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:16:44.515    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:16:44.515    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010126-110316-015_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/01/26/SPOT2-HRV2-XS_20010126-110316-917_L1C_043-263-1_D_V1-0/SPOT2-HRV2-XS_20010126-110316-917_L1C_043-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010126-110316-917_L1C_043-263-1_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010126-110316-917_L1C_043-263-1_D_V1-0.zip
run script
2024-01-16T04:18:35.322    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:18:35.323    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010126-110316-917_L1C_043-263-1_D_V1-0.zip
2024-01-16T04:18:35.323    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:18:35.324    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:18:35.324    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:18:35.324    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:18:35.324    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:18:35.324    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:18:35.324    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:18:35.324    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010126-110316-917_L1C_043-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/05/16/SPOT2-HRV1-XS_20010516-104741-921_L1C_040-262-4_D_V1-0/SPOT2-HRV1-XS_20010516-104741-921_L1C_040-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010516-104741-921_L1C_040-262-4_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010516-104741-921_L1C_040-262-4_D_V1-0.zip
run script
2024-01-16T04:20:44.173    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:20:44.174    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010516-104741-921_L1C_040-262-4_D_V1-0.zip
2024-01-16T04:20:44.174    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:20:44.174    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:20:44.174    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:20:44.174    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:20:44.174    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:20:44.174    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:20:44.174    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:20:44.174    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010516-104741-921_L1C_040-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/05/16/SPOT2-HRV1-XS_20010516-104746-590_L1C_040-263-0_D_V1-0/SPOT2-HRV1-XS_20010516-104746-590_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010516-104746-590_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010516-104746-590_L1C_040-263-0_D_V1-0.zip
run script
2024-01-16T04:21:31.703    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:21:31.704    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010516-104746-590_L1C_040-263-0_D_V1-0.zip
2024-01-16T04:21:31.704    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:21:31.704    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:21:31.704    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:21:31.704    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:21:31.704    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:21:31.704    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:21:31.704    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:21:31.704    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010516-104746-590_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 2 2]
 [2 2 2 ... 0 2 2]
 [2 2 2 ... 0 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/05/16/SPOT2-HRV1-XS_20010516-104754-874_L1C_040-264-0_D_V1-0/SPOT2-HRV1-XS_20010516-104754-874_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010516-104754-874_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010516-104754-874_L1C_040-264-0_D_V1-0.zip
run script
2024-01-16T04:23:15.865    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:23:15.867    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010516-104754-874_L1C_040-264-0_D_V1-0.zip
2024-01-16T04:23:15.867    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:23:15.867    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:23:15.867    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:23:15.867    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:23:15.867    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:23:15.867    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:23:15.867    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:23:15.867    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T04:23:20.512    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (866 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010516-104754-874_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2001/05/16/SPOT2-HRV2-XS_20010516-104741-347_L1C_043-262-7_D_V1-0/SPOT2-HRV2-XS_20010516-104741-347_L1C_043-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010516-104741-347_L1C_043-262-7_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010516-104741-347_L1C_043-262-7_D_V1-0.zip
run script
2024-01-16T04:23:23.829    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:23:23.829    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010516-104741-347_L1C_043-262-7_D_V1-0.zip
2024-01-16T04:23:23.829    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:23:23.830    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:23:23.830    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:23:23.830    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:23:23.830    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:23:23.830    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:23:23.830    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:23:23.830    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010516-104741-347_L1C_043-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/05/16/SPOT2-HRV2-XS_20010516-104743-326_L1C_043-263-0_D_V1-0/SPOT2-HRV2-XS_20010516-104743-326_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010516-104743-326_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010516-104743-326_L1C_043-263-0_D_V1-0.zip
run script
2024-01-16T04:24:47.470    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:24:47.471    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010516-104743-326_L1C_043-263-0_D_V1-0.zip
2024-01-16T04:24:47.472    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:24:47.472    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:24:47.472    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:24:47.472    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:24:47.472    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:24:47.472    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:24:47.472    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:24:47.472    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010516-104743-326_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 2]
 [0 0 0 ... 0 0 2]
 [0 0 0 ... 0 0 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/05/16/SPOT2-HRV2-XS_20010516-104751-631_L1C_043-264-0_D_V1-0/SPOT2-HRV2-XS_20010516-104751-631_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010516-104751-631_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010516-104751-631_L1C_043-264-0_D_V1-0.zip
run script
2024-01-16T04:26:35.513    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:26:35.514    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010516-104751-631_L1C_043-264-0_D_V1-0.zip
2024-01-16T04:26:35.514    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:26:35.514    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:26:35.514    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:26:35.514    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:26:35.514    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:26:35.514    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:26:35.514    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:26:35.514    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010516-104751-631_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/05/30/SPOT2-HRV1-XS_20010530-111840-344_L1C_040-262-5_D_V1-0/SPOT2-HRV1-XS_20010530-111840-344_L1C_040-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010530-111840-344_L1C_040-262-5_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010530-111840-344_L1C_040-262-5_D_V1-0.zip
run script
2024-01-16T04:28:55.977    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:28:55.978    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010530-111840-344_L1C_040-262-5_D_V1-0.zip
2024-01-16T04:28:55.978    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:28:55.978    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:28:55.978    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:28:55.978    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:28:55.978    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:28:55.979    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:28:55.979    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:28:55.979    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010530-111840-344_L1C_040-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/05/30/SPOT2-HRV1-XS_20010530-111844-281_L1C_040-263-0_D_V1-0/SPOT2-HRV1-XS_20010530-111844-281_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010530-111844-281_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010530-111844-281_L1C_040-263-0_D_V1-0.zip
run script
2024-01-16T04:30:10.101    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:30:10.102    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010530-111844-281_L1C_040-263-0_D_V1-0.zip
2024-01-16T04:30:10.102    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:30:10.103    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:30:10.103    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:30:10.103    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:30:10.103    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:30:10.103    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:30:10.103    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:30:10.103    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010530-111844-281_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 2]
 [2 2 2 ... 0 0 2]
 [2 2 2 ... 0 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/16/SPOT2-HRV1-XS_20010716-111434-886_L1C_040-262-3_D_V1-0/SPOT2-HRV1-XS_20010716-111434-886_L1C_040-262-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010716-111434-886_L1C_040-262-3_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010716-111434-886_L1C_040-262-3_D_V1-0.zip
run script
2024-01-16T04:32:23.407    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:32:23.408    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010716-111434-886_L1C_040-262-3_D_V1-0.zip
2024-01-16T04:32:23.408    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:32:23.408    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:32:23.408    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:32:23.408    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:32:23.408    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:32:23.408    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:32:23.408    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:32:23.409    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010716-111434-886_L1C_040-262-3_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/16/SPOT2-HRV1-XS_20010716-111440-598_L1C_040-263-0_D_V1-0/SPOT2-HRV1-XS_20010716-111440-598_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010716-111440-598_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010716-111440-598_L1C_040-263-0_D_V1-0.zip
run script
2024-01-16T04:33:02.538    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:33:02.539    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010716-111440-598_L1C_040-263-0_D_V1-0.zip
2024-01-16T04:33:02.539    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:33:02.540    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:33:02.540    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:33:02.540    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:33:02.540    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:33:02.540    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:33:02.540    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:33:02.540    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010716-111440-598_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/16/SPOT2-HRV1-XS_20010716-111449-024_L1C_040-264-0_D_V1-0/SPOT2-HRV1-XS_20010716-111449-024_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010716-111449-024_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010716-111449-024_L1C_040-264-0_D_V1-0.zip
run script
2024-01-16T04:35:00.702    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:35:00.703    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010716-111449-024_L1C_040-264-0_D_V1-0.zip
2024-01-16T04:35:00.703    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:35:00.704    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:35:00.704    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:35:00.704    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:35:00.704    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:35:00.704    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:35:00.704    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:35:00.704    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T04:35:04.428    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (231 x 1). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010716-111449-024_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2001/07/16/SPOT2-HRV2-XS_20010716-111438-899_L1C_041-263-0_D_V1-0/SPOT2-HRV2-XS_20010716-111438-899_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010716-111438-899_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010716-111438-899_L1C_041-263-0_D_V1-0.zip
run script
2024-01-16T04:35:07.646    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:35:07.646    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010716-111438-899_L1C_041-263-0_D_V1-0.zip
2024-01-16T04:35:07.647    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:35:07.647    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:35:07.647    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:35:07.647    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:35:07.647    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:35:07.647    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:35:07.647    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:35:07.647    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010716-111438-899_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/16/SPOT2-HRV2-XS_20010216-105933-884_L1C_040-263-0_D_V1-0/SPOT2-HRV2-XS_20010216-105933-884_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010216-105933-884_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010216-105933-884_L1C_040-263-0_D_V1-0.zip
run script
2024-01-16T04:37:14.714    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:37:14.715    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010216-105933-884_L1C_040-263-0_D_V1-0.zip
2024-01-16T04:37:14.715    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:37:14.715    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:37:14.715    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:37:14.715    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:37:14.715    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:37:14.715    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:37:14.715    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:37:14.715    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010216-105933-884_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/16/SPOT2-HRV1-XS_20010216-105928-344_L1C_044-262-8_D_V1-0/SPOT2-HRV1-XS_20010216-105928-344_L1C_044-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010216-105928-344_L1C_044-262-8_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010216-105928-344_L1C_044-262-8_D_V1-0.zip
run script
2024-01-16T04:39:04.347    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:39:04.349    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010216-105928-344_L1C_044-262-8_D_V1-0.zip
2024-01-16T04:39:04.349    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:39:04.349    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:39:04.349    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:39:04.349    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:39:04.349    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:39:04.349    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:39:04.349    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:39:04.349    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010216-105928-344_L1C_044-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 0 0 ... 2 2 2]
 [2 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/16/SPOT2-HRV1-XS_20010216-105929-490_L1C_044-263-0_D_V1-0/SPOT2-HRV1-XS_20010216-105929-490_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010216-105929-490_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010216-105929-490_L1C_044-263-0_D_V1-0.zip
run script
2024-01-16T04:40:40.528    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:40:40.529    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010216-105929-490_L1C_044-263-0_D_V1-0.zip
2024-01-16T04:40:40.530    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:40:40.530    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:40:40.530    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:40:40.530    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:40:40.530    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:40:40.530    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:40:40.530    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:40:40.530    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010216-105929-490_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/16/SPOT2-HRV1-XS_20010216-105934-002_L1C_044-263-5_D_V1-0/SPOT2-HRV1-XS_20010216-105934-002_L1C_044-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010216-105934-002_L1C_044-263-5_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010216-105934-002_L1C_044-263-5_D_V1-0.zip
run script
2024-01-16T04:42:46.328    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:42:46.329    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010216-105934-002_L1C_044-263-5_D_V1-0.zip
2024-01-16T04:42:46.329    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:42:46.330    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:42:46.330    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:42:46.330    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:42:46.330    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:42:46.330    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:42:46.330    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:42:46.330    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010216-105934-002_L1C_044-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/04/25/SPOT2-HRV2-XS_20010425-105148-908_L1C_040-263-0_D_V1-0/SPOT2-HRV2-XS_20010425-105148-908_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010425-105148-908_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010425-105148-908_L1C_040-263-0_D_V1-0.zip
run script
2024-01-16T04:45:28.116    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:45:28.118    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010425-105148-908_L1C_040-263-0_D_V1-0.zip
2024-01-16T04:45:28.118    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:45:28.118    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:45:28.118    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:45:28.118    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:45:28.118    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:45:28.118    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:45:28.118    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:45:28.118    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010425-105148-908_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/04/25/SPOT2-HRV2-XS_20010425-105157-208_L1C_040-264-0_D_V1-0/SPOT2-HRV2-XS_20010425-105157-208_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010425-105157-208_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010425-105157-208_L1C_040-264-0_D_V1-0.zip
run script
2024-01-16T04:47:23.280    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:47:23.281    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010425-105157-208_L1C_040-264-0_D_V1-0.zip
2024-01-16T04:47:23.282    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:47:23.282    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:47:23.282    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:47:23.282    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:47:23.282    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:47:23.282    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:47:23.282    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:47:23.282    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010425-105157-208_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/30/SPOT2-HRV1-XS_20010630-112222-398_L1C_040-263-0_D_V1-0/SPOT2-HRV1-XS_20010630-112222-398_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010630-112222-398_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010630-112222-398_L1C_040-263-0_D_V1-0.zip
run script
2024-01-16T04:49:49.279    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:49:49.281    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010630-112222-398_L1C_040-263-0_D_V1-0.zip
2024-01-16T04:49:49.281    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:49:49.281    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:49:49.281    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:49:49.281    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:49:49.281    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:49:49.281    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:49:49.281    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:49:49.281    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010630-112222-398_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 2]
 [2 2 2 ... 0 0 2]
 [2 2 2 ... 0 0 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/30/SPOT2-HRV1-XS_20010630-112230-883_L1C_040-264-0_D_V1-0/SPOT2-HRV1-XS_20010630-112230-883_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010630-112230-883_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010630-112230-883_L1C_040-264-0_D_V1-0.zip
run script
2024-01-16T04:52:18.385    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:52:18.387    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010630-112230-883_L1C_040-264-0_D_V1-0.zip
2024-01-16T04:52:18.387    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:52:18.387    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:52:18.387    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:52:18.387    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:52:18.387    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:52:18.387    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:52:18.387    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:52:18.387    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010630-112230-883_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/12/SPOT2-HRV2-XS_20010712-105130-237_L1C_040-263-0_D_V1-0/SPOT2-HRV2-XS_20010712-105130-237_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010712-105130-237_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010712-105130-237_L1C_040-263-0_D_V1-0.zip
run script
2024-01-16T04:55:39.032    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:55:39.033    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010712-105130-237_L1C_040-263-0_D_V1-0.zip
2024-01-16T04:55:39.033    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:55:39.033    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:55:39.034    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:55:39.034    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:55:39.034    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:55:39.034    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:55:39.034    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:55:39.034    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010712-105130-237_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/12/SPOT2-HRV2-XS_20010712-105138-536_L1C_040-264-0_D_V1-0/SPOT2-HRV2-XS_20010712-105138-536_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010712-105138-536_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010712-105138-536_L1C_040-264-0_D_V1-0.zip
run script
2024-01-16T04:57:06.304    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:57:06.306    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010712-105138-536_L1C_040-264-0_D_V1-0.zip
2024-01-16T04:57:06.306    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:57:06.306    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:57:06.306    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:57:06.306    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:57:06.306    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:57:06.306    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:57:06.306    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:57:06.306    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010712-105138-536_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/12/SPOT2-HRV1-XS_20010712-105127-241_L1C_042-263-0_D_V1-0/SPOT2-HRV1-XS_20010712-105127-241_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010712-105127-241_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010712-105127-241_L1C_042-263-0_D_V1-0.zip
run script
2024-01-16T04:58:57.625    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T04:58:57.626    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010712-105127-241_L1C_042-263-0_D_V1-0.zip
2024-01-16T04:58:57.626    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T04:58:57.626    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T04:58:57.627    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T04:58:57.627    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T04:58:57.627    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T04:58:57.627    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T04:58:57.627    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T04:58:57.627    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010712-105127-241_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/12/SPOT2-HRV1-XS_20010712-105135-562_L1C_043-264-0_D_V1-0/SPOT2-HRV1-XS_20010712-105135-562_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010712-105135-562_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010712-105135-562_L1C_043-264-0_D_V1-0.zip
run script
2024-01-16T05:00:28.621    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:00:28.622    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010712-105135-562_L1C_043-264-0_D_V1-0.zip
2024-01-16T05:00:28.622    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:00:28.622    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:00:28.622    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:00:28.622    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:00:28.622    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:00:28.622    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:00:28.622    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:00:28.622    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010712-105135-562_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 2]
 [2 2 2 2]
 [2 2 2 2]
 ...
 [2 2 2 2]
 [2 2 2 2]
 [2 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/27/SPOT2-HRV2-XS_20010727-110310-922_L1C_040-263-6_D_V1-0/SPOT2-HRV2-XS_20010727-110310-922_L1C_040-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010727-110310-922_L1C_040-263-6_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010727-110310-922_L1C_040-263-6_D_V1-0.zip
run script
2024-01-16T05:02:18.486    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:02:18.487    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010727-110310-922_L1C_040-263-6_D_V1-0.zip
2024-01-16T05:02:18.487    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:02:18.487    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:02:18.487    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:02:18.487    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:02:18.488    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:02:18.488    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:02:18.488    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:02:18.488    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010727-110310-922_L1C_040-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/27/SPOT2-HRV2-XS_20010727-110313-861_L1C_040-264-0_D_V1-0/SPOT2-HRV2-XS_20010727-110313-861_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010727-110313-861_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010727-110313-861_L1C_040-264-0_D_V1-0.zip
run script
2024-01-16T05:04:17.576    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:04:17.578    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010727-110313-861_L1C_040-264-0_D_V1-0.zip
2024-01-16T05:04:17.578    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:04:17.578    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:04:17.578    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:04:17.579    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:04:17.579    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:04:17.579    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:04:17.579    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:04:17.579    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T05:06:06.114    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (406 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010727-110313-861_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2001/08/21/SPOT2-HRV2-XS_20010821-112212-197_L1C_040-263-0_D_V1-0/SPOT2-HRV2-XS_20010821-112212-197_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010821-112212-197_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010821-112212-197_L1C_040-263-0_D_V1-0.zip
run script
2024-01-16T05:06:09.258    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:06:09.258    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010821-112212-197_L1C_040-263-0_D_V1-0.zip
2024-01-16T05:06:09.258    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:06:09.259    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:06:09.259    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:06:09.259    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:06:09.259    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:06:09.259    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:06:09.259    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:06:09.259    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010821-112212-197_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/08/21/SPOT2-HRV2-XS_20010821-112220-688_L1C_040-264-0_D_V1-0/SPOT2-HRV2-XS_20010821-112220-688_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010821-112220-688_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010821-112220-688_L1C_040-264-0_D_V1-0.zip
run script
2024-01-16T05:08:13.897    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:08:13.898    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010821-112220-688_L1C_040-264-0_D_V1-0.zip
2024-01-16T05:08:13.898    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:08:13.898    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:08:13.898    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:08:13.898    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:08:13.898    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:08:13.898    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:08:13.898    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:08:13.898    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T05:08:16.148    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1994 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010821-112220-688_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2001/09/01/SPOT2-HRV2-XS_20010901-111034-097_L1C_040-263-3_D_V1-0/SPOT2-HRV2-XS_20010901-111034-097_L1C_040-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010901-111034-097_L1C_040-263-3_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010901-111034-097_L1C_040-263-3_D_V1-0.zip
run script
2024-01-16T05:08:18.893    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:08:18.893    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010901-111034-097_L1C_040-263-3_D_V1-0.zip
2024-01-16T05:08:18.893    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:08:18.893    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:08:18.893    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:08:18.893    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:08:18.893    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:08:18.893    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:08:18.894    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:08:18.894    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010901-111034-097_L1C_040-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/09/02/SPOT2-HRV2-XS_20010902-105113-370_L1C_040-263-0_D_V1-0/SPOT2-HRV2-XS_20010902-105113-370_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010902-105113-370_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010902-105113-370_L1C_040-263-0_D_V1-0.zip
run script
2024-01-16T05:10:29.021    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:10:29.022    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010902-105113-370_L1C_040-263-0_D_V1-0.zip
2024-01-16T05:10:29.022    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:10:29.023    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:10:29.023    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:10:29.023    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:10:29.023    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:10:29.023    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:10:29.023    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:10:29.023    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010902-105113-370_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/09/02/SPOT2-HRV2-XS_20010902-105114-273_L1C_040-263-1_D_V1-0/SPOT2-HRV2-XS_20010902-105114-273_L1C_040-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010902-105114-273_L1C_040-263-1_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010902-105114-273_L1C_040-263-1_D_V1-0.zip
run script
2024-01-16T05:12:03.217    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:12:03.218    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010902-105114-273_L1C_040-263-1_D_V1-0.zip
2024-01-16T05:12:03.219    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:12:03.219    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:12:03.219    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:12:03.219    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:12:03.219    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:12:03.219    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:12:03.219    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:12:03.219    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010902-105114-273_L1C_040-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/12/05/SPOT2-HRV1-XS_20011205-104252-606_L1C_040-263-0_D_V1-0/SPOT2-HRV1-XS_20011205-104252-606_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011205-104252-606_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011205-104252-606_L1C_040-263-0_D_V1-0.zip
run script
2024-01-16T05:13:45.145    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:13:45.146    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011205-104252-606_L1C_040-263-0_D_V1-0.zip
2024-01-16T05:13:45.146    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:13:45.146    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:13:45.146    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:13:45.146    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:13:45.146    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:13:45.146    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:13:45.146    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:13:45.146    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011205-104252-606_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/12/05/SPOT2-HRV2-XS_20011205-104251-150_L1C_041-263-0_D_V1-0/SPOT2-HRV2-XS_20011205-104251-150_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011205-104251-150_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011205-104251-150_L1C_041-263-0_D_V1-0.zip
run script
2024-01-16T05:15:21.258    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:15:21.260    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011205-104251-150_L1C_041-263-0_D_V1-0.zip
2024-01-16T05:15:21.260    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:15:21.260    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:15:21.260    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:15:21.260    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:15:21.260    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:15:21.260    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:15:21.260    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:15:21.260    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011205-104251-150_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/12/05/SPOT2-HRV2-XS_20011205-104252-955_L1C_041-263-2_D_V1-0/SPOT2-HRV2-XS_20011205-104252-955_L1C_041-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011205-104252-955_L1C_041-263-2_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011205-104252-955_L1C_041-263-2_D_V1-0.zip
run script
2024-01-16T05:17:02.649    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:17:02.650    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011205-104252-955_L1C_041-263-2_D_V1-0.zip
2024-01-16T05:17:02.650    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:17:02.650    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:17:02.651    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:17:02.651    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:17:02.651    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:17:02.651    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:17:02.651    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:17:02.651    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011205-104252-955_L1C_041-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/01/SPOT2-HRV1-XS_20010701-110312-771_L1C_040-264-0_D_V1-0/SPOT2-HRV1-XS_20010701-110312-771_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010701-110312-771_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010701-110312-771_L1C_040-264-0_D_V1-0.zip
run script
2024-01-16T05:19:07.686    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:19:07.688    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010701-110312-771_L1C_040-264-0_D_V1-0.zip
2024-01-16T05:19:07.688    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:19:07.688    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:19:07.688    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:19:07.688    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:19:07.688    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:19:07.688    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:19:07.688    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:19:07.688    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010701-110312-771_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/01/SPOT2-HRV2-XS_20010701-110259-427_L1C_044-262-9_D_V1-0/SPOT2-HRV2-XS_20010701-110259-427_L1C_044-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010701-110259-427_L1C_044-262-9_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010701-110259-427_L1C_044-262-9_D_V1-0.zip
run script
2024-01-16T05:21:12.141    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:21:12.142    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010701-110259-427_L1C_044-262-9_D_V1-0.zip
2024-01-16T05:21:12.142    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:21:12.142    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:21:12.142    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:21:12.142    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:21:12.143    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:21:12.143    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:21:12.143    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:21:12.143    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010701-110259-427_L1C_044-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/01/SPOT2-HRV2-XS_20010701-110259-695_L1C_044-263-0_D_V1-0/SPOT2-HRV2-XS_20010701-110259-695_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010701-110259-695_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010701-110259-695_L1C_044-263-0_D_V1-0.zip
run script
2024-01-16T05:22:44.762    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:22:44.764    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010701-110259-695_L1C_044-263-0_D_V1-0.zip
2024-01-16T05:22:44.764    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:22:44.764    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:22:44.764    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:22:44.764    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:22:44.764    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:22:44.764    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:22:44.764    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:22:44.764    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010701-110259-695_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/01/SPOT2-HRV2-XS_20010701-110308-090_L1C_044-264-0_D_V1-0/SPOT2-HRV2-XS_20010701-110308-090_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010701-110308-090_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010701-110308-090_L1C_044-264-0_D_V1-0.zip
run script
2024-01-16T05:24:24.111    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:24:24.112    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010701-110308-090_L1C_044-264-0_D_V1-0.zip
2024-01-16T05:24:24.112    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:24:24.112    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:24:24.112    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:24:24.112    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:24:24.112    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:24:24.112    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:24:24.112    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:24:24.112    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010701-110308-090_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/01/SPOT2-HRV2-XS_20010701-110316-492_L1C_044-265-0_D_V1-0/SPOT2-HRV2-XS_20010701-110316-492_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010701-110316-492_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010701-110316-492_L1C_044-265-0_D_V1-0.zip
run script
2024-01-16T05:26:32.289    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:26:32.291    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010701-110316-492_L1C_044-265-0_D_V1-0.zip
2024-01-16T05:26:32.291    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:26:32.291    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:26:32.291    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:26:32.291    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:26:32.291    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:26:32.291    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:26:32.291    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:26:32.291    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010701-110316-492_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/11/SPOT2-HRV1-XS_20010711-111056-949_L1C_040-264-0_D_V1-0/SPOT2-HRV1-XS_20010711-111056-949_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010711-111056-949_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010711-111056-949_L1C_040-264-0_D_V1-0.zip
run script
2024-01-16T05:27:10.230    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:27:10.232    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010711-111056-949_L1C_040-264-0_D_V1-0.zip
2024-01-16T05:27:10.232    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:27:10.232    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:27:10.232    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:27:10.232    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:27:10.232    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:27:10.232    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:27:10.232    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:27:10.232    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010711-111056-949_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/28/SPOT2-HRV1-XS_20010728-104353-952_L1C_040-264-0_D_V1-0/SPOT2-HRV1-XS_20010728-104353-952_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010728-104353-952_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010728-104353-952_L1C_040-264-0_D_V1-0.zip
run script
2024-01-16T05:29:05.789    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:29:05.790    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010728-104353-952_L1C_040-264-0_D_V1-0.zip
2024-01-16T05:29:05.791    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:29:05.791    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:29:05.791    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:29:05.791    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:29:05.791    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:29:05.791    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:29:05.791    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:29:05.791    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010728-104353-952_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/04/20/SPOT2-HRV1-XS_20010420-104751-768_L1C_041-262-5_D_V1-0/SPOT2-HRV1-XS_20010420-104751-768_L1C_041-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010420-104751-768_L1C_041-262-5_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010420-104751-768_L1C_041-262-5_D_V1-0.zip
run script
2024-01-16T05:31:26.652    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:31:26.654    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010420-104751-768_L1C_041-262-5_D_V1-0.zip
2024-01-16T05:31:26.654    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:31:26.654    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:31:26.654    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:31:26.654    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:31:26.654    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:31:26.654    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:31:26.654    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:31:26.654    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010420-104751-768_L1C_041-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/04/20/SPOT2-HRV1-XS_20010420-104755-543_L1C_041-263-0_D_V1-0/SPOT2-HRV1-XS_20010420-104755-543_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010420-104755-543_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010420-104755-543_L1C_041-263-0_D_V1-0.zip
run script
2024-01-16T05:32:14.814    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:32:14.816    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010420-104755-543_L1C_041-263-0_D_V1-0.zip
2024-01-16T05:32:14.816    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:32:14.816    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:32:14.816    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:32:14.816    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:32:14.816    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:32:14.817    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:32:14.817    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:32:14.817    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010420-104755-543_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/04/14/SPOT2-HRV2-XS_20010414-110321-826_L1C_041-263-0_D_V1-0/SPOT2-HRV2-XS_20010414-110321-826_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010414-110321-826_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010414-110321-826_L1C_041-263-0_D_V1-0.zip
run script
2024-01-16T05:33:54.222    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:33:54.223    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010414-110321-826_L1C_041-263-0_D_V1-0.zip
2024-01-16T05:33:54.223    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:33:54.223    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:33:54.224    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:33:54.224    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:33:54.224    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:33:54.224    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:33:54.224    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:33:54.224    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010414-110321-826_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/04/14/SPOT2-HRV2-XS_20010414-110330-189_L1C_041-264-0_D_V1-0/SPOT2-HRV2-XS_20010414-110330-189_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010414-110330-189_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010414-110330-189_L1C_041-264-0_D_V1-0.zip
run script
2024-01-16T05:35:27.036    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:35:27.038    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010414-110330-189_L1C_041-264-0_D_V1-0.zip
2024-01-16T05:35:27.038    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:35:27.038    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:35:27.038    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:35:27.038    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:35:27.038    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:35:27.038    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:35:27.038    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:35:27.038    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010414-110330-189_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/04/14/SPOT2-HRV2-XS_20010414-110331-993_L1C_041-264-2_D_V1-0/SPOT2-HRV2-XS_20010414-110331-993_L1C_041-264-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010414-110331-993_L1C_041-264-2_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010414-110331-993_L1C_041-264-2_D_V1-0.zip
run script
2024-01-16T05:37:41.035    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:37:41.037    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010414-110331-993_L1C_041-264-2_D_V1-0.zip
2024-01-16T05:37:41.037    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:37:41.037    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:37:41.037    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:37:41.037    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:37:41.037    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:37:41.037    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:37:41.037    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:37:41.037    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010414-110331-993_L1C_041-264-2_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/04/15/SPOT2-HRV2-XS_20010415-104402-389_L1C_041-263-0_D_V1-0/SPOT2-HRV2-XS_20010415-104402-389_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010415-104402-389_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010415-104402-389_L1C_041-263-0_D_V1-0.zip
run script
2024-01-16T05:39:49.435    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:39:49.436    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010415-104402-389_L1C_041-263-0_D_V1-0.zip
2024-01-16T05:39:49.436    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:39:49.436    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:39:49.436    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:39:49.436    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:39:49.436    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:39:49.437    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:39:49.437    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:39:49.437    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010415-104402-389_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/04/15/SPOT2-HRV2-XS_20010415-104410-673_L1C_041-264-0_D_V1-0/SPOT2-HRV2-XS_20010415-104410-673_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010415-104410-673_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010415-104410-673_L1C_041-264-0_D_V1-0.zip
run script
2024-01-16T05:41:28.457    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:41:28.457    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010415-104410-673_L1C_041-264-0_D_V1-0.zip
2024-01-16T05:41:28.457    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:41:28.457    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:41:28.457    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:41:28.457    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:41:28.458    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:41:28.458    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:41:28.458    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:41:28.458    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010415-104410-673_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/04/15/SPOT2-HRV2-XS_20010415-104411-575_L1C_041-264-1_D_V1-0/SPOT2-HRV2-XS_20010415-104411-575_L1C_041-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010415-104411-575_L1C_041-264-1_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010415-104411-575_L1C_041-264-1_D_V1-0.zip
run script
2024-01-16T05:43:50.839    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:43:50.840    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010415-104411-575_L1C_041-264-1_D_V1-0.zip
2024-01-16T05:43:50.840    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:43:50.840    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:43:50.840    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:43:50.840    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:43:50.840    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:43:50.840    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:43:50.841    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:43:50.841    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010415-104411-575_L1C_041-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/25/SPOT2-HRV1-XS_20010625-111833-731_L1C_041-263-0_D_V1-0/SPOT2-HRV1-XS_20010625-111833-731_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010625-111833-731_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010625-111833-731_L1C_041-263-0_D_V1-0.zip
run script
2024-01-16T05:46:09.989    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:46:09.990    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010625-111833-731_L1C_041-263-0_D_V1-0.zip
2024-01-16T05:46:09.990    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:46:09.990    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:46:09.990    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:46:09.990    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:46:09.990    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:46:09.990    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:46:09.990    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:46:09.990    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010625-111833-731_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/25/SPOT2-HRV1-XS_20010625-111842-207_L1C_041-264-0_D_V1-0/SPOT2-HRV1-XS_20010625-111842-207_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010625-111842-207_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010625-111842-207_L1C_041-264-0_D_V1-0.zip
run script
2024-01-16T05:48:10.652    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:48:10.654    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010625-111842-207_L1C_041-264-0_D_V1-0.zip
2024-01-16T05:48:10.654    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:48:10.654    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:48:10.654    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:48:10.654    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:48:10.654    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:48:10.654    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:48:10.654    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:48:10.654    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010625-111842-207_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/21/SPOT2-HRV2-XS_20010721-111830-324_L1C_041-263-0_D_V1-0/SPOT2-HRV2-XS_20010721-111830-324_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010721-111830-324_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010721-111830-324_L1C_041-263-0_D_V1-0.zip
run script
2024-01-16T05:51:05.015    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:51:05.017    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010721-111830-324_L1C_041-263-0_D_V1-0.zip
2024-01-16T05:51:05.017    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:51:05.017    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:51:05.017    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:51:05.017    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:51:05.017    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:51:05.017    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:51:05.017    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:51:05.017    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010721-111830-324_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 2]
 [0 0 0 ... 0 0 2]
 [0 0 0 ... 0 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/21/SPOT2-HRV2-XS_20010721-111838-797_L1C_041-264-0_D_V1-0/SPOT2-HRV2-XS_20010721-111838-797_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010721-111838-797_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010721-111838-797_L1C_041-264-0_D_V1-0.zip
run script
2024-01-16T05:52:58.343    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:52:58.345    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010721-111838-797_L1C_041-264-0_D_V1-0.zip
2024-01-16T05:52:58.345    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:52:58.345    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:52:58.345    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:52:58.345    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:52:58.345    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:52:58.345    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:52:58.345    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:52:58.345    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010721-111838-797_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/21/SPOT2-HRV1-XS_20010721-111827-890_L1C_042-263-0_D_V1-0/SPOT2-HRV1-XS_20010721-111827-890_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010721-111827-890_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010721-111827-890_L1C_042-263-0_D_V1-0.zip
run script
2024-01-16T05:55:45.882    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:55:45.884    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010721-111827-890_L1C_042-263-0_D_V1-0.zip
2024-01-16T05:55:45.884    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:55:45.884    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:55:45.884    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:55:45.884    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:55:45.884    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:55:45.884    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:55:45.884    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:55:45.884    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010721-111827-890_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/21/SPOT2-HRV1-XS_20010721-111836-388_L1C_042-264-0_D_V1-0/SPOT2-HRV1-XS_20010721-111836-388_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010721-111836-388_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010721-111836-388_L1C_042-264-0_D_V1-0.zip
run script
2024-01-16T05:57:44.782    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T05:57:44.782    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010721-111836-388_L1C_042-264-0_D_V1-0.zip
2024-01-16T05:57:44.782    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T05:57:44.782    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T05:57:44.782    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T05:57:44.782    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T05:57:44.782    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T05:57:44.783    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T05:57:44.783    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T05:57:44.783    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010721-111836-388_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/29/SPOT2-HRV1-XS_20011029-105440-084_L1C_041-263-0_D_V1-0/SPOT2-HRV1-XS_20011029-105440-084_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011029-105440-084_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011029-105440-084_L1C_041-263-0_D_V1-0.zip
run script
2024-01-16T06:00:36.798    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:00:36.800    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011029-105440-084_L1C_041-263-0_D_V1-0.zip
2024-01-16T06:00:36.800    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:00:36.800    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:00:36.800    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:00:36.800    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:00:36.800    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:00:36.800    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:00:36.800    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:00:36.800    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011029-105440-084_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/29/SPOT2-HRV2-XS_20011029-105436-736_L1C_046-263-3_D_V1-0/SPOT2-HRV2-XS_20011029-105436-736_L1C_046-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011029-105436-736_L1C_046-263-3_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011029-105436-736_L1C_046-263-3_D_V1-0.zip
run script
2024-01-16T06:02:07.660    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:02:07.661    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011029-105436-736_L1C_046-263-3_D_V1-0.zip
2024-01-16T06:02:07.661    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:02:07.661    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:02:07.661    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:02:07.661    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:02:07.661    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:02:07.662    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:02:07.662    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:02:07.662    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011029-105436-736_L1C_046-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/29/SPOT2-HRV2-XS_20011029-105440-346_L1C_046-263-7_D_V1-0/SPOT2-HRV2-XS_20011029-105440-346_L1C_046-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011029-105440-346_L1C_046-263-7_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011029-105440-346_L1C_046-263-7_D_V1-0.zip
run script
2024-01-16T06:03:02.217    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:03:02.218    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011029-105440-346_L1C_046-263-7_D_V1-0.zip
2024-01-16T06:03:02.218    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:03:02.218    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:03:02.218    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:03:02.218    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:03:02.218    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:03:02.218    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:03:02.218    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:03:02.219    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011029-105440-346_L1C_046-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/01/21/SPOT2-HRV2-XS_20010121-105919-454_L1C_042-262-8_D_V1-0/SPOT2-HRV2-XS_20010121-105919-454_L1C_042-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010121-105919-454_L1C_042-262-8_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010121-105919-454_L1C_042-262-8_D_V1-0.zip
run script
2024-01-16T06:04:10.685    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:04:10.686    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010121-105919-454_L1C_042-262-8_D_V1-0.zip
2024-01-16T06:04:10.686    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:04:10.686    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:04:10.686    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:04:10.686    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:04:10.686    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:04:10.686    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:04:10.686    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:04:10.687    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010121-105919-454_L1C_042-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/06/SPOT2-HRV1-XS_20010206-105153-900_L1C_042-263-8_D_V1-0/SPOT2-HRV1-XS_20010206-105153-900_L1C_042-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010206-105153-900_L1C_042-263-8_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010206-105153-900_L1C_042-263-8_D_V1-0.zip
run script
2024-01-16T06:05:26.786    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:05:26.788    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010206-105153-900_L1C_042-263-8_D_V1-0.zip
2024-01-16T06:05:26.788    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:05:26.788    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:05:26.788    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:05:26.788    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:05:26.788    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:05:26.788    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:05:26.788    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:05:26.788    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010206-105153-900_L1C_042-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/06/SPOT2-HRV2-XS_20010206-105153-752_L1C_043-263-8_D_V1-0/SPOT2-HRV2-XS_20010206-105153-752_L1C_043-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010206-105153-752_L1C_043-263-8_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010206-105153-752_L1C_043-263-8_D_V1-0.zip
run script
2024-01-16T06:07:16.040    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:07:16.042    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010206-105153-752_L1C_043-263-8_D_V1-0.zip
2024-01-16T06:07:16.042    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:07:16.042    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:07:16.042    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:07:16.042    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:07:16.042    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:07:16.042    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:07:16.042    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:07:16.042    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010206-105153-752_L1C_043-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/03/03/SPOT2-HRV2-XS_20010303-111100-478_L1C_042-263-0_D_V1-0/SPOT2-HRV2-XS_20010303-111100-478_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010303-111100-478_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010303-111100-478_L1C_042-263-0_D_V1-0.zip
run script
2024-01-16T06:09:14.329    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:09:14.331    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010303-111100-478_L1C_042-263-0_D_V1-0.zip
2024-01-16T06:09:14.331    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:09:14.331    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:09:14.331    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:09:14.331    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:09:14.331    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:09:14.331    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:09:14.331    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:09:14.331    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010303-111100-478_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/03/03/SPOT2-HRV2-XS_20010303-111104-087_L1C_042-263-4_D_V1-0/SPOT2-HRV2-XS_20010303-111104-087_L1C_042-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010303-111104-087_L1C_042-263-4_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010303-111104-087_L1C_042-263-4_D_V1-0.zip
run script
2024-01-16T06:10:56.971    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:10:56.972    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010303-111104-087_L1C_042-263-4_D_V1-0.zip
2024-01-16T06:10:56.972    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:10:56.972    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:10:56.973    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:10:56.973    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:10:56.973    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:10:56.973    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:10:56.973    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:10:56.973    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010303-111104-087_L1C_042-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/05/15/SPOT2-HRV2-XS_20010515-110701-425_L1C_042-263-0_D_V1-0/SPOT2-HRV2-XS_20010515-110701-425_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010515-110701-425_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010515-110701-425_L1C_042-263-0_D_V1-0.zip
run script
2024-01-16T06:13:19.643    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:13:19.644    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010515-110701-425_L1C_042-263-0_D_V1-0.zip
2024-01-16T06:13:19.644    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:13:19.644    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:13:19.644    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:13:19.644    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:13:19.645    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:13:19.645    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:13:19.645    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:13:19.645    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010515-110701-425_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/22/SPOT2-HRV1-XS_20010722-105911-468_L1C_042-263-0_D_V1-0/SPOT2-HRV1-XS_20010722-105911-468_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010722-105911-468_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010722-105911-468_L1C_042-263-0_D_V1-0.zip
run script
2024-01-16T06:14:56.707    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:14:56.709    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010722-105911-468_L1C_042-263-0_D_V1-0.zip
2024-01-16T06:14:56.709    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:14:56.709    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:14:56.709    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:14:56.709    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:14:56.709    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:14:56.709    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:14:56.709    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:14:56.709    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010722-105911-468_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/22/SPOT2-HRV1-XS_20010722-105919-824_L1C_042-264-0_D_V1-0/SPOT2-HRV1-XS_20010722-105919-824_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010722-105919-824_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010722-105919-824_L1C_042-264-0_D_V1-0.zip
run script
2024-01-16T06:16:24.283    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:16:24.284    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010722-105919-824_L1C_042-264-0_D_V1-0.zip
2024-01-16T06:16:24.284    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:16:24.284    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:16:24.284    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:16:24.284    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:16:24.284    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:16:24.284    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:16:24.284    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:16:24.285    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010722-105919-824_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/22/SPOT2-HRV1-XS_20010722-105923-434_L1C_042-264-4_D_V1-0/SPOT2-HRV1-XS_20010722-105923-434_L1C_042-264-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010722-105923-434_L1C_042-264-4_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010722-105923-434_L1C_042-264-4_D_V1-0.zip
run script
2024-01-16T06:18:12.647    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:18:12.649    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010722-105923-434_L1C_042-264-4_D_V1-0.zip
2024-01-16T06:18:12.649    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:18:12.649    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:18:12.649    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:18:12.649    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:18:12.649    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:18:12.649    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:18:12.649    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:18:12.649    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T06:18:14.299    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (3020 x 0). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010722-105923-434_L1C_042-264-4_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2001/07/22/SPOT2-HRV2-XS_20010722-105911-017_L1C_043-263-0_D_V1-0/SPOT2-HRV2-XS_20010722-105911-017_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010722-105911-017_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010722-105911-017_L1C_043-263-0_D_V1-0.zip
run script
2024-01-16T06:18:17.189    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:18:17.189    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010722-105911-017_L1C_043-263-0_D_V1-0.zip
2024-01-16T06:18:17.189    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:18:17.189    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:18:17.189    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:18:17.189    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:18:17.189    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:18:17.189    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:18:17.189    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:18:17.189    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010722-105911-017_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 2]
 [0 0 0 ... 0 0 2]
 [0 0 0 ... 0 0 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/22/SPOT2-HRV2-XS_20010722-105919-376_L1C_043-264-0_D_V1-0/SPOT2-HRV2-XS_20010722-105919-376_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010722-105919-376_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010722-105919-376_L1C_043-264-0_D_V1-0.zip
run script
2024-01-16T06:19:46.993    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:19:46.995    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010722-105919-376_L1C_043-264-0_D_V1-0.zip
2024-01-16T06:19:46.995    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:19:46.995    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:19:46.995    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:19:46.995    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:19:46.995    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:19:46.995    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:19:46.995    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:19:46.995    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010722-105919-376_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/22/SPOT2-HRV2-XS_20010722-105922-986_L1C_043-264-4_D_V1-0/SPOT2-HRV2-XS_20010722-105922-986_L1C_043-264-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010722-105922-986_L1C_043-264-4_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010722-105922-986_L1C_043-264-4_D_V1-0.zip
run script
2024-01-16T06:21:45.979    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:21:45.980    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010722-105922-986_L1C_043-264-4_D_V1-0.zip
2024-01-16T06:21:45.981    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:21:45.981    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:21:45.981    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:21:45.981    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:21:45.981    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:21:45.981    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:21:45.981    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:21:45.981    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T06:23:05.660    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (594 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010722-105922-986_L1C_043-264-4_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2001/08/07/SPOT2-HRV2-XS_20010807-105125-362_L1C_042-263-0_D_V1-0/SPOT2-HRV2-XS_20010807-105125-362_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010807-105125-362_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010807-105125-362_L1C_042-263-0_D_V1-0.zip
run script
2024-01-16T06:23:08.648    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:23:08.649    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010807-105125-362_L1C_042-263-0_D_V1-0.zip
2024-01-16T06:23:08.649    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:23:08.649    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:23:08.649    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:23:08.649    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:23:08.649    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:23:08.649    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:23:08.649    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:23:08.649    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T06:23:11.246    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (139 x 1). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010807-105125-362_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2001/08/07/SPOT2-HRV2-XS_20010807-105133-679_L1C_042-264-0_D_V1-0/SPOT2-HRV2-XS_20010807-105133-679_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010807-105133-679_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010807-105133-679_L1C_042-264-0_D_V1-0.zip
run script
2024-01-16T06:23:14.289    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:23:14.289    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010807-105133-679_L1C_042-264-0_D_V1-0.zip
2024-01-16T06:23:14.289    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:23:14.289    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:23:14.289    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:23:14.290    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:23:14.290    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:23:14.290    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:23:14.290    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:23:14.290    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010807-105133-679_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/09/23/SPOT2-HRV2-XS_20010923-104718-647_L1C_042-263-0_D_V1-0/SPOT2-HRV2-XS_20010923-104718-647_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010923-104718-647_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010923-104718-647_L1C_042-263-0_D_V1-0.zip
run script
2024-01-16T06:25:16.226    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:25:16.228    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010923-104718-647_L1C_042-263-0_D_V1-0.zip
2024-01-16T06:25:16.228    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:25:16.228    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:25:16.228    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:25:16.228    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:25:16.228    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:25:16.228    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:25:16.228    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:25:16.228    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010923-104718-647_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/09/23/SPOT2-HRV2-XS_20010923-104721-355_L1C_042-263-3_D_V1-0/SPOT2-HRV2-XS_20010923-104721-355_L1C_042-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010923-104721-355_L1C_042-263-3_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010923-104721-355_L1C_042-263-3_D_V1-0.zip
run script
2024-01-16T06:26:35.648    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:26:35.649    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010923-104721-355_L1C_042-263-3_D_V1-0.zip
2024-01-16T06:26:35.649    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:26:35.649    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:26:35.649    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:26:35.649    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:26:35.649    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:26:35.649    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:26:35.649    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:26:35.649    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T06:26:38.804    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (382 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010923-104721-355_L1C_042-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2001/09/27/SPOT2-HRV1-XS_20010927-111024-858_L1C_042-263-0_D_V1-0/SPOT2-HRV1-XS_20010927-111024-858_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010927-111024-858_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010927-111024-858_L1C_042-263-0_D_V1-0.zip
run script
2024-01-16T06:26:41.558    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:26:41.559    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010927-111024-858_L1C_042-263-0_D_V1-0.zip
2024-01-16T06:26:41.559    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:26:41.559    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:26:41.559    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:26:41.559    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:26:41.560    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:26:41.560    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:26:41.560    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:26:41.560    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T06:26:43.136    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2364 x 0). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010927-111024-858_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2001/09/27/SPOT2-HRV1-XS_20010927-111033-287_L1C_042-264-0_D_V1-0/SPOT2-HRV1-XS_20010927-111033-287_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010927-111033-287_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010927-111033-287_L1C_042-264-0_D_V1-0.zip
run script
2024-01-16T06:26:46.209    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:26:46.210    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010927-111033-287_L1C_042-264-0_D_V1-0.zip
2024-01-16T06:26:46.210    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:26:46.210    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:26:46.210    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:26:46.210    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:26:46.210    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:26:46.210    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:26:46.210    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:26:46.210    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010927-111033-287_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/02/SPOT2-HRV1-XS_20011002-111409-170_L1C_042-263-0_D_V1-0/SPOT2-HRV1-XS_20011002-111409-170_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011002-111409-170_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011002-111409-170_L1C_042-263-0_D_V1-0.zip
run script
2024-01-16T06:29:14.818    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:29:14.819    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011002-111409-170_L1C_042-263-0_D_V1-0.zip
2024-01-16T06:29:14.819    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:29:14.819    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:29:14.820    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:29:14.820    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:29:14.820    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:29:14.820    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:29:14.820    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:29:14.820    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T06:30:55.294    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (324 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011002-111409-170_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2001/10/02/SPOT2-HRV1-XS_20011002-111417-622_L1C_042-264-0_D_V1-0/SPOT2-HRV1-XS_20011002-111417-622_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011002-111417-622_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011002-111417-622_L1C_042-264-0_D_V1-0.zip
run script
2024-01-16T06:30:59.373    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:30:59.373    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011002-111417-622_L1C_042-264-0_D_V1-0.zip
2024-01-16T06:30:59.373    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:30:59.373    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:30:59.373    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:30:59.373    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:30:59.373    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:30:59.373    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:30:59.373    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:30:59.373    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011002-111417-622_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/01/SPOT2-HRV2-XS_20010201-104750-566_L1C_043-262-7_D_V1-0/SPOT2-HRV2-XS_20010201-104750-566_L1C_043-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010201-104750-566_L1C_043-262-7_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010201-104750-566_L1C_043-262-7_D_V1-0.zip
run script
2024-01-16T06:33:36.316    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:33:36.317    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010201-104750-566_L1C_043-262-7_D_V1-0.zip
2024-01-16T06:33:36.317    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:33:36.317    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:33:36.317    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:33:36.317    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:33:36.317    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:33:36.317    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:33:36.318    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:33:36.318    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010201-104750-566_L1C_043-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 0 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/01/SPOT2-HRV2-XS_20010201-104752-548_L1C_043-263-0_D_V1-0/SPOT2-HRV2-XS_20010201-104752-548_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010201-104752-548_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010201-104752-548_L1C_043-263-0_D_V1-0.zip
run script
2024-01-16T06:34:46.159    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:34:46.160    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010201-104752-548_L1C_043-263-0_D_V1-0.zip
2024-01-16T06:34:46.160    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:34:46.160    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:34:46.160    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:34:46.160    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:34:46.160    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:34:46.160    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:34:46.161    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:34:46.161    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010201-104752-548_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 0 0 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/01/SPOT2-HRV1-XS_20010201-104750-298_L1C_044-262-8_D_V1-0/SPOT2-HRV1-XS_20010201-104750-298_L1C_044-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010201-104750-298_L1C_044-262-8_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010201-104750-298_L1C_044-262-8_D_V1-0.zip
run script
2024-01-16T06:36:13.600    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:36:13.601    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010201-104750-298_L1C_044-262-8_D_V1-0.zip
2024-01-16T06:36:13.601    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:36:13.601    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:36:13.601    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:36:13.602    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:36:13.602    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:36:13.602    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:36:13.602    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:36:13.602    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010201-104750-298_L1C_044-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/01/SPOT2-HRV1-XS_20010201-104751-384_L1C_044-263-0_D_V1-0/SPOT2-HRV1-XS_20010201-104751-384_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010201-104751-384_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010201-104751-384_L1C_044-263-0_D_V1-0.zip
run script
2024-01-16T06:37:29.804    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:37:29.805    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010201-104751-384_L1C_044-263-0_D_V1-0.zip
2024-01-16T06:37:29.805    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:37:29.806    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:37:29.806    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:37:29.806    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:37:29.806    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:37:29.806    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:37:29.806    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:37:29.806    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010201-104751-384_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/11/SPOT2-HRV2-XS_20010211-105537-225_L1C_043-262-7_D_V1-0/SPOT2-HRV2-XS_20010211-105537-225_L1C_043-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010211-105537-225_L1C_043-262-7_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010211-105537-225_L1C_043-262-7_D_V1-0.zip
run script
2024-01-16T06:38:57.631    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:38:57.633    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010211-105537-225_L1C_043-262-7_D_V1-0.zip
2024-01-16T06:38:57.633    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:38:57.633    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:38:57.633    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:38:57.633    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:38:57.633    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:38:57.633    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:38:57.633    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:38:57.633    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010211-105537-225_L1C_043-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/11/SPOT2-HRV2-XS_20010211-105539-238_L1C_043-263-0_D_V1-0/SPOT2-HRV2-XS_20010211-105539-238_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010211-105539-238_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010211-105539-238_L1C_043-263-0_D_V1-0.zip
run script
2024-01-16T06:40:03.153    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:40:03.155    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010211-105539-238_L1C_043-263-0_D_V1-0.zip
2024-01-16T06:40:03.155    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:40:03.155    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:40:03.155    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:40:03.155    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:40:03.155    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:40:03.155    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:40:03.155    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:40:03.155    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010211-105539-238_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/11/SPOT2-HRV1-XS_20010211-105537-502_L1C_044-262-9_D_V1-0/SPOT2-HRV1-XS_20010211-105537-502_L1C_044-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010211-105537-502_L1C_044-262-9_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010211-105537-502_L1C_044-262-9_D_V1-0.zip
run script
2024-01-16T06:41:33.399    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:41:33.401    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010211-105537-502_L1C_044-262-9_D_V1-0.zip
2024-01-16T06:41:33.401    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:41:33.401    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:41:33.401    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:41:33.401    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:41:33.401    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:41:33.401    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:41:33.401    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:41:33.401    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010211-105537-502_L1C_044-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/11/SPOT2-HRV1-XS_20010211-105537-725_L1C_044-263-0_D_V1-0/SPOT2-HRV1-XS_20010211-105537-725_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010211-105537-725_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010211-105537-725_L1C_044-263-0_D_V1-0.zip
run script
2024-01-16T06:42:58.571    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:42:58.573    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010211-105537-725_L1C_044-263-0_D_V1-0.zip
2024-01-16T06:42:58.573    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:42:58.573    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:42:58.573    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:42:58.573    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:42:58.573    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:42:58.573    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:42:58.573    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:42:58.573    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010211-105537-725_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/11/SPOT2-HRV1-XS_20010211-105539-529_L1C_044-263-2_D_V1-0/SPOT2-HRV1-XS_20010211-105539-529_L1C_044-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010211-105539-529_L1C_044-263-2_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010211-105539-529_L1C_044-263-2_D_V1-0.zip
run script
2024-01-16T06:44:27.006    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:44:27.007    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010211-105539-529_L1C_044-263-2_D_V1-0.zip
2024-01-16T06:44:27.007    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:44:27.007    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:44:27.007    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:44:27.007    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:44:27.008    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:44:27.008    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:44:27.008    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:44:27.008    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010211-105539-529_L1C_044-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/01/27/SPOT2-HRV2-XS_20010127-104404-153_L1C_043-263-7_D_V1-0/SPOT2-HRV2-XS_20010127-104404-153_L1C_043-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010127-104404-153_L1C_043-263-7_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010127-104404-153_L1C_043-263-7_D_V1-0.zip
run script
2024-01-16T06:46:12.080    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:46:12.081    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010127-104404-153_L1C_043-263-7_D_V1-0.zip
2024-01-16T06:46:12.081    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:46:12.081    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:46:12.081    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:46:12.081    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:46:12.081    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:46:12.081    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:46:12.081    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:46:12.082    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010127-104404-153_L1C_043-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/01/27/SPOT2-HRV1-XS_20010127-104403-641_L1C_044-263-8_D_V1-0/SPOT2-HRV1-XS_20010127-104403-641_L1C_044-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010127-104403-641_L1C_044-263-8_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010127-104403-641_L1C_044-263-8_D_V1-0.zip
run script
2024-01-16T06:48:13.340    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:48:13.341    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010127-104403-641_L1C_044-263-8_D_V1-0.zip
2024-01-16T06:48:13.341    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:48:13.341    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:48:13.342    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:48:13.342    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:48:13.342    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:48:13.342    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:48:13.342    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:48:13.342    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010127-104403-641_L1C_044-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/05/SPOT2-HRV2-XS_20010205-111103-751_L1C_043-263-0_D_V1-0/SPOT2-HRV2-XS_20010205-111103-751_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010205-111103-751_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010205-111103-751_L1C_043-263-0_D_V1-0.zip
run script
2024-01-16T06:50:13.094    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:50:13.095    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010205-111103-751_L1C_043-263-0_D_V1-0.zip
2024-01-16T06:50:13.095    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:50:13.095    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:50:13.095    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:50:13.095    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:50:13.095    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:50:13.096    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:50:13.096    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:50:13.096    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010205-111103-751_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/12/SPOT2-HRV1-XS_20010212-103619-273_L1C_043-263-0_D_V1-0/SPOT2-HRV1-XS_20010212-103619-273_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010212-103619-273_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010212-103619-273_L1C_043-263-0_D_V1-0.zip
run script
2024-01-16T06:51:51.355    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:51:51.357    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010212-103619-273_L1C_043-263-0_D_V1-0.zip
2024-01-16T06:51:51.357    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:51:51.357    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:51:51.357    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:51:51.357    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:51:51.357    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:51:51.357    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:51:51.357    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:51:51.357    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010212-103619-273_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/12/SPOT2-HRV1-XS_20010212-103626-492_L1C_043-263-8_D_V1-0/SPOT2-HRV1-XS_20010212-103626-492_L1C_043-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010212-103626-492_L1C_043-263-8_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010212-103626-492_L1C_043-263-8_D_V1-0.zip
run script
2024-01-16T06:53:36.515    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:53:36.516    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010212-103626-492_L1C_043-263-8_D_V1-0.zip
2024-01-16T06:53:36.516    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:53:36.516    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:53:36.516    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:53:36.516    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:53:36.517    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:53:36.517    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:53:36.517    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:53:36.517    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010212-103626-492_L1C_043-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/12/SPOT2-HRV2-XS_20010212-103618-061_L1C_044-263-0_D_V1-0/SPOT2-HRV2-XS_20010212-103618-061_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010212-103618-061_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010212-103618-061_L1C_044-263-0_D_V1-0.zip
run script
2024-01-16T06:55:54.907    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:55:54.908    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010212-103618-061_L1C_044-263-0_D_V1-0.zip
2024-01-16T06:55:54.908    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:55:54.908    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:55:54.908    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:55:54.908    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:55:54.908    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:55:54.909    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:55:54.909    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:55:54.909    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010212-103618-061_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/12/SPOT2-HRV2-XS_20010212-103626-339_L1C_044-264-0_D_V1-0/SPOT2-HRV2-XS_20010212-103626-339_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010212-103626-339_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010212-103626-339_L1C_044-264-0_D_V1-0.zip
run script
2024-01-16T06:57:29.744    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:57:29.744    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010212-103626-339_L1C_044-264-0_D_V1-0.zip
2024-01-16T06:57:29.744    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:57:29.744    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:57:29.744    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:57:29.744    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:57:29.744    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:57:29.744    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:57:29.744    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:57:29.744    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010212-103626-339_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/22/SPOT2-HRV1-XS_20010622-103605-459_L1C_043-263-0_D_V1-0/SPOT2-HRV1-XS_20010622-103605-459_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010622-103605-459_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010622-103605-459_L1C_043-263-0_D_V1-0.zip
run script
2024-01-16T06:59:40.164    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T06:59:40.165    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010622-103605-459_L1C_043-263-0_D_V1-0.zip
2024-01-16T06:59:40.165    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T06:59:40.165    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T06:59:40.165    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T06:59:40.165    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T06:59:40.165    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T06:59:40.165    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T06:59:40.165    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T06:59:40.165    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010622-103605-459_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/22/SPOT2-HRV1-XS_20010622-103613-731_L1C_043-264-0_D_V1-0/SPOT2-HRV1-XS_20010622-103613-731_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010622-103613-731_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010622-103613-731_L1C_043-264-0_D_V1-0.zip
run script
2024-01-16T07:01:22.048    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:01:22.049    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010622-103613-731_L1C_043-264-0_D_V1-0.zip
2024-01-16T07:01:22.049    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:01:22.049    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:01:22.049    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:01:22.049    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:01:22.049    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:01:22.049    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:01:22.049    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:01:22.049    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010622-103613-731_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/17/SPOT2-HRV1-XS_20010717-105519-543_L1C_043-263-0_D_V1-0/SPOT2-HRV1-XS_20010717-105519-543_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010717-105519-543_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010717-105519-543_L1C_043-263-0_D_V1-0.zip
run script
2024-01-16T07:03:38.597    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:03:38.599    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010717-105519-543_L1C_043-263-0_D_V1-0.zip
2024-01-16T07:03:38.599    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:03:38.599    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:03:38.599    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:03:38.599    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:03:38.599    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:03:38.599    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:03:38.600    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:03:38.600    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010717-105519-543_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/17/SPOT2-HRV1-XS_20010717-105526-763_L1C_043-263-8_D_V1-0/SPOT2-HRV1-XS_20010717-105526-763_L1C_043-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010717-105526-763_L1C_043-263-8_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010717-105526-763_L1C_043-263-8_D_V1-0.zip
run script
2024-01-16T07:05:06.888    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:05:06.889    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010717-105526-763_L1C_043-263-8_D_V1-0.zip
2024-01-16T07:05:06.889    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:05:06.889    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:05:06.889    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:05:06.889    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:05:06.889    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:05:06.889    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:05:06.889    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:05:06.890    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010717-105526-763_L1C_043-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/17/SPOT2-HRV2-XS_20010717-105519-387_L1C_043-263-0_D_V1-0/SPOT2-HRV2-XS_20010717-105519-387_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010717-105519-387_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010717-105519-387_L1C_043-263-0_D_V1-0.zip
run script
2024-01-16T07:06:58.033    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:06:58.034    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010717-105519-387_L1C_043-263-0_D_V1-0.zip
2024-01-16T07:06:58.034    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:06:58.034    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:06:58.035    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:06:58.035    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:06:58.035    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:06:58.035    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:06:58.035    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:06:58.035    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010717-105519-387_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/17/SPOT2-HRV2-XS_20010717-105526-606_L1C_043-263-8_D_V1-0/SPOT2-HRV2-XS_20010717-105526-606_L1C_043-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010717-105526-606_L1C_043-263-8_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010717-105526-606_L1C_043-263-8_D_V1-0.zip
run script
2024-01-16T07:08:24.717    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:08:24.719    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010717-105526-606_L1C_043-263-8_D_V1-0.zip
2024-01-16T07:08:24.719    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:08:24.719    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:08:24.719    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:08:24.719    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:08:24.719    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:08:24.719    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:08:24.719    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:08:24.719    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010717-105526-606_L1C_043-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/01/01/SPOT2-HRV1-XS_20010101-104400-913_L1C_043-264-0_D_V1-0/SPOT2-HRV1-XS_20010101-104400-913_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010101-104400-913_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010101-104400-913_L1C_043-264-0_D_V1-0.zip
run script
2024-01-16T07:10:22.263    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:10:22.264    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010101-104400-913_L1C_043-264-0_D_V1-0.zip
2024-01-16T07:10:22.264    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:10:22.264    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:10:22.264    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:10:22.264    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:10:22.264    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:10:22.264    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:10:22.264    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:10:22.264    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010101-104400-913_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/01/16/SPOT2-HRV2-XS_20010116-105536-881_L1C_043-264-0_D_V1-0/SPOT2-HRV2-XS_20010116-105536-881_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010116-105536-881_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010116-105536-881_L1C_043-264-0_D_V1-0.zip
run script
2024-01-16T07:12:23.514    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:12:23.515    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010116-105536-881_L1C_043-264-0_D_V1-0.zip
2024-01-16T07:12:23.515    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:12:23.515    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:12:23.515    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:12:23.515    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:12:23.515    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:12:23.516    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:12:23.516    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:12:23.516    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T07:14:04.994    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (814 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010116-105536-881_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2001/02/17/SPOT2-HRV2-XS_20010217-104019-512_L1C_043-264-0_D_V1-0/SPOT2-HRV2-XS_20010217-104019-512_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010217-104019-512_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010217-104019-512_L1C_043-264-0_D_V1-0.zip
run script
2024-01-16T07:14:08.064    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:14:08.064    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010217-104019-512_L1C_043-264-0_D_V1-0.zip
2024-01-16T07:14:08.065    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:14:08.065    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:14:08.065    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:14:08.065    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:14:08.065    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:14:08.065    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:14:08.065    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:14:08.065    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010217-104019-512_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/17/SPOT2-HRV2-XS_20010217-104022-219_L1C_043-264-3_D_V1-0/SPOT2-HRV2-XS_20010217-104022-219_L1C_043-264-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010217-104022-219_L1C_043-264-3_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010217-104022-219_L1C_043-264-3_D_V1-0.zip
run script
2024-01-16T07:16:20.171    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:16:20.172    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010217-104022-219_L1C_043-264-3_D_V1-0.zip
2024-01-16T07:16:20.172    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:16:20.172    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:16:20.172    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:16:20.172    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:16:20.172    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:16:20.172    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:16:20.172    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:16:20.172    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010217-104022-219_L1C_043-264-3_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/17/SPOT2-HRV1-XS_20010217-104009-011_L1C_044-262-8_D_V1-0/SPOT2-HRV1-XS_20010217-104009-011_L1C_044-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010217-104009-011_L1C_044-262-8_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010217-104009-011_L1C_044-262-8_D_V1-0.zip
run script
2024-01-16T07:18:08.357    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:18:08.359    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010217-104009-011_L1C_044-262-8_D_V1-0.zip
2024-01-16T07:18:08.359    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:18:08.359    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:18:08.359    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:18:08.359    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:18:08.359    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:18:08.359    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:18:08.359    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:18:08.359    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010217-104009-011_L1C_044-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/17/SPOT2-HRV1-XS_20010217-104010-070_L1C_044-263-0_D_V1-0/SPOT2-HRV1-XS_20010217-104010-070_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010217-104010-070_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010217-104010-070_L1C_044-263-0_D_V1-0.zip
run script
2024-01-16T07:19:34.138    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:19:34.140    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010217-104010-070_L1C_044-263-0_D_V1-0.zip
2024-01-16T07:19:34.140    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:19:34.140    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:19:34.140    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:19:34.140    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:19:34.140    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:19:34.140    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:19:34.140    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:19:34.140    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010217-104010-070_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 0 0]
 [2 2 2 ... 2 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/17/SPOT2-HRV1-XS_20010217-104018-357_L1C_044-264-0_D_V1-0/SPOT2-HRV1-XS_20010217-104018-357_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010217-104018-357_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010217-104018-357_L1C_044-264-0_D_V1-0.zip
run script
2024-01-16T07:21:09.967    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:21:09.969    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010217-104018-357_L1C_044-264-0_D_V1-0.zip
2024-01-16T07:21:09.969    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:21:09.969    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:21:09.969    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:21:09.969    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:21:09.969    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:21:09.969    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:21:09.969    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:21:09.969    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010217-104018-357_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/17/SPOT2-HRV1-XS_20010217-104021-966_L1C_044-264-4_D_V1-0/SPOT2-HRV1-XS_20010217-104021-966_L1C_044-264-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010217-104021-966_L1C_044-264-4_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010217-104021-966_L1C_044-264-4_D_V1-0.zip
run script
2024-01-16T07:23:20.990    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:23:20.991    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010217-104021-966_L1C_044-264-4_D_V1-0.zip
2024-01-16T07:23:20.991    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:23:20.991    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:23:20.991    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:23:20.992    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:23:20.992    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:23:20.992    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:23:20.992    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:23:20.992    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010217-104021-966_L1C_044-264-4_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 0]
 [0 0 0 ... 2 2 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/18/SPOT2-HRV1-XS_20010718-103607-658_L1C_043-264-0_D_V1-0/SPOT2-HRV1-XS_20010718-103607-658_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010718-103607-658_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010718-103607-658_L1C_043-264-0_D_V1-0.zip
run script
2024-01-16T07:24:50.547    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:24:50.548    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010718-103607-658_L1C_043-264-0_D_V1-0.zip
2024-01-16T07:24:50.548    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:24:50.549    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:24:50.549    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:24:50.549    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:24:50.549    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:24:50.549    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:24:50.549    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:24:50.549    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010718-103607-658_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/07/18/SPOT2-HRV2-XS_20010718-103556-084_L1C_046-263-0_D_V1-0/SPOT2-HRV2-XS_20010718-103556-084_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010718-103556-084_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010718-103556-084_L1C_046-263-0_D_V1-0.zip
run script
2024-01-16T07:27:03.749    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:27:03.750    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010718-103556-084_L1C_046-263-0_D_V1-0.zip
2024-01-16T07:27:03.750    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:27:03.750    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:27:03.750    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:27:03.751    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:27:03.751    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:27:03.751    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:27:03.751    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:27:03.751    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010718-103556-084_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/05/21/SPOT2-HRV2-XS_20010521-105132-115_L1C_044-262-5_D_V1-0/SPOT2-HRV2-XS_20010521-105132-115_L1C_044-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010521-105132-115_L1C_044-262-5_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010521-105132-115_L1C_044-262-5_D_V1-0.zip
run script
2024-01-16T07:27:36.836    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:27:36.837    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010521-105132-115_L1C_044-262-5_D_V1-0.zip
2024-01-16T07:27:36.837    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:27:36.837    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:27:36.837    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:27:36.837    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:27:36.837    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:27:36.838    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:27:36.838    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:27:36.838    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010521-105132-115_L1C_044-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/05/26/SPOT2-HRV2-XS_20010526-105525-405_L1C_044-262-5_D_V1-0/SPOT2-HRV2-XS_20010526-105525-405_L1C_044-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010526-105525-405_L1C_044-262-5_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010526-105525-405_L1C_044-262-5_D_V1-0.zip
run script
2024-01-16T07:28:18.091    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:28:18.093    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010526-105525-405_L1C_044-262-5_D_V1-0.zip
2024-01-16T07:28:18.093    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:28:18.093    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:28:18.093    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:28:18.093    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:28:18.093    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:28:18.093    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:28:18.093    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:28:18.093    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010526-105525-405_L1C_044-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/05/31/SPOT2-HRV1-XS_20010531-105917-826_L1C_044-262-5_D_V1-0/SPOT2-HRV1-XS_20010531-105917-826_L1C_044-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010531-105917-826_L1C_044-262-5_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010531-105917-826_L1C_044-262-5_D_V1-0.zip
run script
2024-01-16T07:29:00.681    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:29:00.683    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010531-105917-826_L1C_044-262-5_D_V1-0.zip
2024-01-16T07:29:00.683    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:29:00.683    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:29:00.683    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:29:00.683    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:29:00.683    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:29:00.683    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:29:00.683    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:29:00.683    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010531-105917-826_L1C_044-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/11/25/SPOT2-HRV2-XS_20011125-103459-526_L1C_044-262-6_D_V1-0/SPOT2-HRV2-XS_20011125-103459-526_L1C_044-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011125-103459-526_L1C_044-262-6_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011125-103459-526_L1C_044-262-6_D_V1-0.zip
run script
2024-01-16T07:29:45.489    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:29:45.490    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011125-103459-526_L1C_044-262-6_D_V1-0.zip
2024-01-16T07:29:45.490    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:29:45.490    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:29:45.490    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:29:45.490    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:29:45.490    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:29:45.490    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:29:45.490    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:29:45.491    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011125-103459-526_L1C_044-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/11/25/SPOT2-HRV2-XS_20011125-103502-384_L1C_044-263-0_D_V1-0/SPOT2-HRV2-XS_20011125-103502-384_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011125-103502-384_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011125-103502-384_L1C_044-263-0_D_V1-0.zip
run script
2024-01-16T07:30:44.186    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:30:44.188    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011125-103502-384_L1C_044-263-0_D_V1-0.zip
2024-01-16T07:30:44.188    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:30:44.188    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:30:44.188    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:30:44.188    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:30:44.188    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:30:44.188    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:30:44.188    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:30:44.188    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011125-103502-384_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/11/25/SPOT2-HRV2-XS_20011125-103510-665_L1C_044-264-0_D_V1-0/SPOT2-HRV2-XS_20011125-103510-665_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011125-103510-665_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011125-103510-665_L1C_044-264-0_D_V1-0.zip
run script
2024-01-16T07:32:10.057    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:32:10.058    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011125-103510-665_L1C_044-264-0_D_V1-0.zip
2024-01-16T07:32:10.059    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:32:10.059    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:32:10.059    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:32:10.059    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:32:10.059    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:32:10.059    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:32:10.059    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:32:10.059    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011125-103510-665_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/11/25/SPOT2-HRV2-XS_20011125-103512-470_L1C_044-264-2_D_V1-0/SPOT2-HRV2-XS_20011125-103512-470_L1C_044-264-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011125-103512-470_L1C_044-264-2_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011125-103512-470_L1C_044-264-2_D_V1-0.zip
run script
2024-01-16T07:34:15.601    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:34:15.602    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011125-103512-470_L1C_044-264-2_D_V1-0.zip
2024-01-16T07:34:15.602    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:34:15.603    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:34:15.603    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:34:15.603    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:34:15.603    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:34:15.603    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:34:15.603    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:34:15.603    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011125-103512-470_L1C_044-264-2_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/22/SPOT2-HRV2-XS_20010222-104406-978_L1C_044-263-6_D_V1-0/SPOT2-HRV2-XS_20010222-104406-978_L1C_044-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010222-104406-978_L1C_044-263-6_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010222-104406-978_L1C_044-263-6_D_V1-0.zip
run script
2024-01-16T07:36:08.657    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:36:08.658    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010222-104406-978_L1C_044-263-6_D_V1-0.zip
2024-01-16T07:36:08.658    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:36:08.658    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:36:08.659    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:36:08.659    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:36:08.659    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:36:08.659    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:36:08.659    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:36:08.659    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010222-104406-978_L1C_044-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/22/SPOT2-HRV2-XS_20010222-104409-860_L1C_044-264-0_D_V1-0/SPOT2-HRV2-XS_20010222-104409-860_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010222-104409-860_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010222-104409-860_L1C_044-264-0_D_V1-0.zip
run script
2024-01-16T07:38:08.880    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:38:08.882    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010222-104409-860_L1C_044-264-0_D_V1-0.zip
2024-01-16T07:38:08.882    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:38:08.882    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:38:08.882    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:38:08.882    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:38:08.882    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:38:08.882    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:38:08.882    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:38:08.882    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010222-104409-860_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/02/22/SPOT2-HRV2-XS_20010222-104412-567_L1C_044-264-3_D_V1-0/SPOT2-HRV2-XS_20010222-104412-567_L1C_044-264-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010222-104412-567_L1C_044-264-3_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010222-104412-567_L1C_044-264-3_D_V1-0.zip
run script
2024-01-16T07:40:08.043    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:40:08.044    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010222-104412-567_L1C_044-264-3_D_V1-0.zip
2024-01-16T07:40:08.044    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:40:08.044    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:40:08.044    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:40:08.045    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:40:08.045    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:40:08.045    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:40:08.045    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:40:08.045    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010222-104412-567_L1C_044-264-3_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/20/SPOT2-HRV2-XS_20010620-111446-996_L1C_044-263-6_D_V1-0/SPOT2-HRV2-XS_20010620-111446-996_L1C_044-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010620-111446-996_L1C_044-263-6_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010620-111446-996_L1C_044-263-6_D_V1-0.zip
run script
2024-01-16T07:41:46.174    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:41:46.175    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010620-111446-996_L1C_044-263-6_D_V1-0.zip
2024-01-16T07:41:46.175    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:41:46.175    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:41:46.175    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:41:46.175    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:41:46.175    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:41:46.175    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:41:46.175    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:41:46.175    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010620-111446-996_L1C_044-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/20/SPOT2-HRV2-XS_20010620-111450-074_L1C_044-264-0_D_V1-0/SPOT2-HRV2-XS_20010620-111450-074_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010620-111450-074_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010620-111450-074_L1C_044-264-0_D_V1-0.zip
run script
2024-01-16T07:44:31.039    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:44:31.040    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010620-111450-074_L1C_044-264-0_D_V1-0.zip
2024-01-16T07:44:31.040    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:44:31.040    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:44:31.040    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:44:31.040    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:44:31.040    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:44:31.040    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:44:31.040    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:44:31.041    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010620-111450-074_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/20/SPOT2-HRV2-XS_20010620-111458-571_L1C_044-265-0_D_V1-0/SPOT2-HRV2-XS_20010620-111458-571_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010620-111458-571_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010620-111458-571_L1C_044-265-0_D_V1-0.zip
run script
2024-01-16T07:47:25.613    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:47:25.614    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010620-111458-571_L1C_044-265-0_D_V1-0.zip
2024-01-16T07:47:25.615    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:47:25.615    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:47:25.615    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:47:25.615    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:47:25.615    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:47:25.615    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:47:25.615    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:47:25.615    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010620-111458-571_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/26/SPOT2-HRV1-XS_20010626-105912-921_L1C_044-263-0_D_V1-0/SPOT2-HRV1-XS_20010626-105912-921_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010626-105912-921_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010626-105912-921_L1C_044-263-0_D_V1-0.zip
run script
2024-01-16T07:48:19.162    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:48:19.163    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010626-105912-921_L1C_044-263-0_D_V1-0.zip
2024-01-16T07:48:19.163    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:48:19.163    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:48:19.164    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:48:19.164    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:48:19.164    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:48:19.164    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:48:19.164    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:48:19.164    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010626-105912-921_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/26/SPOT2-HRV1-XS_20010626-105921-293_L1C_044-264-0_D_V1-0/SPOT2-HRV1-XS_20010626-105921-293_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010626-105921-293_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010626-105921-293_L1C_044-264-0_D_V1-0.zip
run script
2024-01-16T07:49:50.092    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:49:50.094    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010626-105921-293_L1C_044-264-0_D_V1-0.zip
2024-01-16T07:49:50.094    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:49:50.094    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:49:50.094    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:49:50.094    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:49:50.094    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:49:50.094    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:49:50.094    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:49:50.094    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010626-105921-293_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/26/SPOT2-HRV1-XS_20010626-105929-670_L1C_044-265-0_D_V1-0/SPOT2-HRV1-XS_20010626-105929-670_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010626-105929-670_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010626-105929-670_L1C_044-265-0_D_V1-0.zip
run script
2024-01-16T07:51:56.413    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:51:56.415    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010626-105929-670_L1C_044-265-0_D_V1-0.zip
2024-01-16T07:51:56.415    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:51:56.415    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:51:56.415    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:51:56.415    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:51:56.415    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:51:56.416    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:51:56.416    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:51:56.416    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010626-105929-670_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/26/SPOT2-HRV2-XS_20010626-105910-888_L1C_045-263-0_D_V1-0/SPOT2-HRV2-XS_20010626-105910-888_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010626-105910-888_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010626-105910-888_L1C_045-263-0_D_V1-0.zip
run script
2024-01-16T07:52:34.564    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:52:34.565    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010626-105910-888_L1C_045-263-0_D_V1-0.zip
2024-01-16T07:52:34.565    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:52:34.565    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:52:34.565    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:52:34.566    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:52:34.566    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:52:34.566    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:52:34.566    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:52:34.566    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010626-105910-888_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/26/SPOT2-HRV2-XS_20010626-105919-277_L1C_045-264-0_D_V1-0/SPOT2-HRV2-XS_20010626-105919-277_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010626-105919-277_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010626-105919-277_L1C_045-264-0_D_V1-0.zip
run script
2024-01-16T07:53:42.735    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:53:42.736    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010626-105919-277_L1C_045-264-0_D_V1-0.zip
2024-01-16T07:53:42.736    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:53:42.736    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:53:42.736    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:53:42.737    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:53:42.737    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:53:42.737    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:53:42.737    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:53:42.737    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010626-105919-277_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/26/SPOT2-HRV2-XS_20010626-105927-673_L1C_045-265-0_D_V1-0/SPOT2-HRV2-XS_20010626-105927-673_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010626-105927-673_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010626-105927-673_L1C_045-265-0_D_V1-0.zip
run script
2024-01-16T07:55:34.229    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:55:34.231    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010626-105927-673_L1C_045-265-0_D_V1-0.zip
2024-01-16T07:55:34.231    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:55:34.231    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:55:34.231    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:55:34.231    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:55:34.231    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:55:34.231    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:55:34.231    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:55:34.231    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010626-105927-673_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/08/17/SPOT2-HRV2-XS_20010817-105901-121_L1C_044-263-0_D_V1-0/SPOT2-HRV2-XS_20010817-105901-121_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010817-105901-121_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010817-105901-121_L1C_044-263-0_D_V1-0.zip
run script
2024-01-16T07:56:05.572    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:56:05.572    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010817-105901-121_L1C_044-263-0_D_V1-0.zip
2024-01-16T07:56:05.572    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:56:05.572    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:56:05.572    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:56:05.572    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:56:05.572    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:56:05.572    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:56:05.572    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:56:05.572    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010817-105901-121_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/08/17/SPOT2-HRV2-XS_20010817-105909-502_L1C_044-264-0_D_V1-0/SPOT2-HRV2-XS_20010817-105909-502_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010817-105909-502_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010817-105909-502_L1C_044-264-0_D_V1-0.zip
run script
2024-01-16T07:57:28.498    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:57:28.499    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010817-105909-502_L1C_044-264-0_D_V1-0.zip
2024-01-16T07:57:28.500    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:57:28.500    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:57:28.500    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:57:28.500    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:57:28.500    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:57:28.500    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:57:28.500    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:57:28.500    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010817-105909-502_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/08/17/SPOT2-HRV2-XS_20010817-105917-885_L1C_044-265-0_D_V1-0/SPOT2-HRV2-XS_20010817-105917-885_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010817-105917-885_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010817-105917-885_L1C_044-265-0_D_V1-0.zip
run script
2024-01-16T07:59:37.832    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T07:59:37.833    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010817-105917-885_L1C_044-265-0_D_V1-0.zip
2024-01-16T07:59:37.833    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T07:59:37.833    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T07:59:37.833    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T07:59:37.833    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T07:59:37.833    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T07:59:37.833    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T07:59:37.834    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T07:59:37.834    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010817-105917-885_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/08/22/SPOT2-HRV2-XS_20010822-110249-391_L1C_044-263-0_D_V1-0/SPOT2-HRV2-XS_20010822-110249-391_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010822-110249-391_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010822-110249-391_L1C_044-263-0_D_V1-0.zip
run script
2024-01-16T08:00:16.846    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:00:16.849    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010822-110249-391_L1C_044-263-0_D_V1-0.zip
2024-01-16T08:00:16.849    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:00:16.849    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:00:16.849    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:00:16.849    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:00:16.849    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:00:16.849    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:00:16.849    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:00:16.849    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T08:00:19.322    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (330 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010822-110249-391_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2001/08/23/SPOT2-HRV2-XS_20010823-104329-889_L1C_044-263-0_D_V1-0/SPOT2-HRV2-XS_20010823-104329-889_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010823-104329-889_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010823-104329-889_L1C_044-263-0_D_V1-0.zip
run script
2024-01-16T08:00:22.510    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:00:22.512    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010823-104329-889_L1C_044-263-0_D_V1-0.zip
2024-01-16T08:00:22.512    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:00:22.512    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:00:22.512    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:00:22.512    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:00:22.512    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:00:22.512    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:00:22.512    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:00:22.512    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010823-104329-889_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/08/23/SPOT2-HRV2-XS_20010823-104338-194_L1C_045-264-0_D_V1-0/SPOT2-HRV2-XS_20010823-104338-194_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010823-104338-194_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010823-104338-194_L1C_045-264-0_D_V1-0.zip
run script
2024-01-16T08:01:42.504    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:01:42.505    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010823-104338-194_L1C_045-264-0_D_V1-0.zip
2024-01-16T08:01:42.505    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:01:42.505    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:01:42.505    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:01:42.505    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:01:42.505    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:01:42.505    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:01:42.505    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:01:42.506    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T08:01:45.197    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (426 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010823-104338-194_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2001/08/23/SPOT2-HRV2-XS_20010823-104346-505_L1C_045-265-0_D_V1-0/SPOT2-HRV2-XS_20010823-104346-505_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010823-104346-505_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010823-104346-505_L1C_045-265-0_D_V1-0.zip
run script
2024-01-16T08:01:48.208    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:01:48.209    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010823-104346-505_L1C_045-265-0_D_V1-0.zip
2024-01-16T08:01:48.209    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:01:48.209    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:01:48.209    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:01:48.210    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:01:48.210    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:01:48.210    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:01:48.210    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:01:48.210    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010823-104346-505_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/08/28/SPOT2-HRV2-XS_20010828-104718-019_L1C_044-263-0_D_V1-0/SPOT2-HRV2-XS_20010828-104718-019_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010828-104718-019_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010828-104718-019_L1C_044-263-0_D_V1-0.zip
run script
2024-01-16T08:02:26.548    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:02:26.550    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010828-104718-019_L1C_044-263-0_D_V1-0.zip
2024-01-16T08:02:26.550    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:02:26.550    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:02:26.550    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:02:26.550    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:02:26.550    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:02:26.550    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:02:26.550    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:02:26.550    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T08:02:28.621    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (646 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010828-104718-019_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2001/08/28/SPOT2-HRV2-XS_20010828-104720-726_L1C_044-263-3_D_V1-0/SPOT2-HRV2-XS_20010828-104720-726_L1C_044-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010828-104720-726_L1C_044-263-3_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010828-104720-726_L1C_044-263-3_D_V1-0.zip
run script
2024-01-16T08:02:31.470    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:02:31.470    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010828-104720-726_L1C_044-263-3_D_V1-0.zip
2024-01-16T08:02:31.470    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:02:31.470    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:02:31.471    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:02:31.471    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:02:31.471    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:02:31.471    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:02:31.471    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:02:31.471    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010828-104720-726_L1C_044-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/03/SPOT2-HRV1-XS_20011003-105447-875_L1C_044-263-0_D_V1-0/SPOT2-HRV1-XS_20011003-105447-875_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011003-105447-875_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011003-105447-875_L1C_044-263-0_D_V1-0.zip
run script
2024-01-16T08:04:29.197    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:04:29.198    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011003-105447-875_L1C_044-263-0_D_V1-0.zip
2024-01-16T08:04:29.198    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:04:29.198    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:04:29.198    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:04:29.198    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:04:29.199    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:04:29.199    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:04:29.199    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:04:29.199    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011003-105447-875_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/03/SPOT2-HRV1-XS_20011003-105452-387_L1C_044-263-5_D_V1-0/SPOT2-HRV1-XS_20011003-105452-387_L1C_044-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011003-105452-387_L1C_044-263-5_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011003-105452-387_L1C_044-263-5_D_V1-0.zip
run script
2024-01-16T08:06:03.412    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:06:03.413    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011003-105452-387_L1C_044-263-5_D_V1-0.zip
2024-01-16T08:06:03.413    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:06:03.413    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:06:03.414    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:06:03.414    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:06:03.414    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:06:03.414    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:06:03.414    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:06:03.414    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011003-105452-387_L1C_044-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/03/SPOT2-HRV2-XS_20011003-105452-306_L1C_045-263-7_D_V1-0/SPOT2-HRV2-XS_20011003-105452-306_L1C_045-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011003-105452-306_L1C_045-263-7_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011003-105452-306_L1C_045-263-7_D_V1-0.zip
run script
2024-01-16T08:08:01.536    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:08:01.538    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011003-105452-306_L1C_045-263-7_D_V1-0.zip
2024-01-16T08:08:01.538    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:08:01.538    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:08:01.538    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:08:01.538    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:08:01.538    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:08:01.538    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:08:01.538    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:08:01.538    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011003-105452-306_L1C_045-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/04/SPOT2-HRV1-XS_20011004-103526-034_L1C_044-263-0_D_V1-0/SPOT2-HRV1-XS_20011004-103526-034_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011004-103526-034_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011004-103526-034_L1C_044-263-0_D_V1-0.zip
run script
2024-01-16T08:09:47.988    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:09:47.989    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011004-103526-034_L1C_044-263-0_D_V1-0.zip
2024-01-16T08:09:47.989    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:09:47.989    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:09:47.989    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:09:47.990    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:09:47.990    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:09:47.990    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:09:47.990    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:09:47.990    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011004-103526-034_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/04/SPOT2-HRV1-XS_20011004-103534-309_L1C_044-264-0_D_V1-0/SPOT2-HRV1-XS_20011004-103534-309_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011004-103534-309_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011004-103534-309_L1C_044-264-0_D_V1-0.zip
run script
2024-01-16T08:11:29.842    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:11:29.843    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011004-103534-309_L1C_044-264-0_D_V1-0.zip
2024-01-16T08:11:29.843    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:11:29.843    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:11:29.843    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:11:29.843    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:11:29.843    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:11:29.843    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:11:29.844    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:11:29.844    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011004-103534-309_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/04/SPOT2-HRV1-XS_20011004-103542-593_L1C_044-265-0_D_V1-0/SPOT2-HRV1-XS_20011004-103542-593_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011004-103542-593_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011004-103542-593_L1C_044-265-0_D_V1-0.zip
run script
2024-01-16T08:13:41.226    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:13:41.227    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011004-103542-593_L1C_044-265-0_D_V1-0.zip
2024-01-16T08:13:41.227    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:13:41.227    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:13:41.227    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:13:41.227    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:13:41.227    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:13:41.227    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:13:41.227    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:13:41.227    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011004-103542-593_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 2 ... 2 2 2]
 [0 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/04/SPOT2-HRV2-XS_20011004-103524-316_L1C_046-263-0_D_V1-0/SPOT2-HRV2-XS_20011004-103524-316_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011004-103524-316_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011004-103524-316_L1C_046-263-0_D_V1-0.zip
run script
2024-01-16T08:14:22.984    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:14:22.986    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011004-103524-316_L1C_046-263-0_D_V1-0.zip
2024-01-16T08:14:22.986    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:14:22.986    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:14:22.986    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:14:22.986    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:14:22.986    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:14:22.986    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:14:22.986    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:14:22.986    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011004-103524-316_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/04/SPOT2-HRV2-XS_20011004-103532-600_L1C_046-264-0_D_V1-0/SPOT2-HRV2-XS_20011004-103532-600_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011004-103532-600_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011004-103532-600_L1C_046-264-0_D_V1-0.zip
run script
2024-01-16T08:15:20.215    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:15:20.216    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011004-103532-600_L1C_046-264-0_D_V1-0.zip
2024-01-16T08:15:20.216    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:15:20.216    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:15:20.216    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:15:20.216    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:15:20.216    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:15:20.216    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:15:20.216    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:15:20.216    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011004-103532-600_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/04/SPOT2-HRV2-XS_20011004-103540-893_L1C_046-265-0_D_V1-0/SPOT2-HRV2-XS_20011004-103540-893_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011004-103540-893_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011004-103540-893_L1C_046-265-0_D_V1-0.zip
run script
2024-01-16T08:16:47.356    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:16:47.357    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011004-103540-893_L1C_046-265-0_D_V1-0.zip
2024-01-16T08:16:47.357    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:16:47.357    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:16:47.358    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:16:47.358    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:16:47.358    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:16:47.358    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:16:47.358    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:16:47.358    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011004-103540-893_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/14/SPOT2-HRV1-XS_20011014-104312-211_L1C_044-263-0_D_V1-0/SPOT2-HRV1-XS_20011014-104312-211_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011014-104312-211_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011014-104312-211_L1C_044-263-0_D_V1-0.zip
run script
2024-01-16T08:17:23.529    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:17:23.531    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011014-104312-211_L1C_044-263-0_D_V1-0.zip
2024-01-16T08:17:23.531    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:17:23.531    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:17:23.531    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:17:23.531    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:17:23.531    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:17:23.531    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:17:23.531    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:17:23.531    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011014-104312-211_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/14/SPOT2-HRV1-XS_20011014-104320-507_L1C_044-264-0_D_V1-0/SPOT2-HRV1-XS_20011014-104320-507_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011014-104320-507_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011014-104320-507_L1C_044-264-0_D_V1-0.zip
run script
2024-01-16T08:18:59.297    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:18:59.298    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011014-104320-507_L1C_044-264-0_D_V1-0.zip
2024-01-16T08:18:59.298    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:18:59.298    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:18:59.298    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:18:59.299    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:18:59.299    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:18:59.299    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:18:59.299    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:18:59.299    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011014-104320-507_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/14/SPOT2-HRV1-XS_20011014-104328-815_L1C_044-265-0_D_V1-0/SPOT2-HRV1-XS_20011014-104328-815_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011014-104328-815_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011014-104328-815_L1C_044-265-0_D_V1-0.zip
run script
2024-01-16T08:20:57.529    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:20:57.530    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011014-104328-815_L1C_044-265-0_D_V1-0.zip
2024-01-16T08:20:57.530    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:20:57.530    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:20:57.530    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:20:57.530    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:20:57.530    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:20:57.530    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:20:57.530    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:20:57.530    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011014-104328-815_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/14/SPOT2-HRV2-XS_20011014-104310-499_L1C_045-263-0_D_V1-0/SPOT2-HRV2-XS_20011014-104310-499_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011014-104310-499_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011014-104310-499_L1C_045-263-0_D_V1-0.zip
run script
2024-01-16T08:21:39.084    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:21:39.086    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011014-104310-499_L1C_045-263-0_D_V1-0.zip
2024-01-16T08:21:39.086    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:21:39.086    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:21:39.086    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:21:39.086    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:21:39.086    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:21:39.086    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:21:39.086    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:21:39.086    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011014-104310-499_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/14/SPOT2-HRV2-XS_20011014-104318-810_L1C_045-264-0_D_V1-0/SPOT2-HRV2-XS_20011014-104318-810_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011014-104318-810_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011014-104318-810_L1C_045-264-0_D_V1-0.zip
run script
2024-01-16T08:22:44.580    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:22:44.581    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011014-104318-810_L1C_045-264-0_D_V1-0.zip
2024-01-16T08:22:44.581    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:22:44.581    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:22:44.581    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:22:44.581    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:22:44.581    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:22:44.581    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:22:44.581    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:22:44.581    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011014-104318-810_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/14/SPOT2-HRV2-XS_20011014-104327-124_L1C_045-265-0_D_V1-0/SPOT2-HRV2-XS_20011014-104327-124_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011014-104327-124_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011014-104327-124_L1C_045-265-0_D_V1-0.zip
run script
2024-01-16T08:24:21.804    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:24:21.805    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011014-104327-124_L1C_045-265-0_D_V1-0.zip
2024-01-16T08:24:21.805    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:24:21.805    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:24:21.805    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:24:21.805    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:24:21.805    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:24:21.805    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:24:21.805    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:24:21.805    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011014-104327-124_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/19/SPOT2-HRV1-XS_20011019-104704-423_L1C_044-263-0_D_V1-0/SPOT2-HRV1-XS_20011019-104704-423_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011019-104704-423_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011019-104704-423_L1C_044-263-0_D_V1-0.zip
run script
2024-01-16T08:24:54.931    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:24:54.932    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011019-104704-423_L1C_044-263-0_D_V1-0.zip
2024-01-16T08:24:54.932    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:24:54.932    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:24:54.933    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:24:54.933    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:24:54.933    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:24:54.933    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:24:54.933    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:24:54.933    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011019-104704-423_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/19/SPOT2-HRV1-XS_20011019-104709-837_L1C_044-263-6_D_V1-0/SPOT2-HRV1-XS_20011019-104709-837_L1C_044-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011019-104709-837_L1C_044-263-6_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011019-104709-837_L1C_044-263-6_D_V1-0.zip
run script
2024-01-16T08:26:29.801    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:26:29.802    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011019-104709-837_L1C_044-263-6_D_V1-0.zip
2024-01-16T08:26:29.802    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:26:29.802    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:26:29.802    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:26:29.802    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:26:29.802    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:26:29.803    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:26:29.803    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:26:29.803    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011019-104709-837_L1C_044-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/19/SPOT2-HRV2-XS_20011019-104702-684_L1C_045-263-0_D_V1-0/SPOT2-HRV2-XS_20011019-104702-684_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011019-104702-684_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011019-104702-684_L1C_045-263-0_D_V1-0.zip
run script
2024-01-16T08:28:37.661    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:28:37.662    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011019-104702-684_L1C_045-263-0_D_V1-0.zip
2024-01-16T08:28:37.662    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:28:37.663    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:28:37.663    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:28:37.663    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:28:37.663    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:28:37.663    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:28:37.663    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:28:37.663    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011019-104702-684_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/19/SPOT2-HRV2-XS_20011019-104709-904_L1C_045-263-8_D_V1-0/SPOT2-HRV2-XS_20011019-104709-904_L1C_045-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011019-104709-904_L1C_045-263-8_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011019-104709-904_L1C_045-263-8_D_V1-0.zip
run script
2024-01-16T08:29:49.254    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:29:49.255    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011019-104709-904_L1C_045-263-8_D_V1-0.zip
2024-01-16T08:29:49.255    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:29:49.255    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:29:49.255    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:29:49.255    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:29:49.255    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:29:49.255    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:29:49.255    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:29:49.255    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011019-104709-904_L1C_045-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/30/SPOT2-HRV1-XS_20011030-103514-750_L1C_044-263-0_D_V1-0/SPOT2-HRV1-XS_20011030-103514-750_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011030-103514-750_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011030-103514-750_L1C_044-263-0_D_V1-0.zip
run script
2024-01-16T08:31:25.338    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:31:25.339    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011030-103514-750_L1C_044-263-0_D_V1-0.zip
2024-01-16T08:31:25.340    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:31:25.340    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:31:25.340    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:31:25.340    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:31:25.340    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:31:25.340    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:31:25.340    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:31:25.340    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011030-103514-750_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 0 2 2]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/30/SPOT2-HRV1-XS_20011030-103523-028_L1C_044-264-0_D_V1-0/SPOT2-HRV1-XS_20011030-103523-028_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011030-103523-028_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011030-103523-028_L1C_044-264-0_D_V1-0.zip
run script
2024-01-16T08:33:03.475    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:33:03.477    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011030-103523-028_L1C_044-264-0_D_V1-0.zip
2024-01-16T08:33:03.477    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:33:03.477    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:33:03.477    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:33:03.477    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:33:03.477    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:33:03.477    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:33:03.477    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:33:03.477    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011030-103523-028_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/30/SPOT2-HRV1-XS_20011030-103531-309_L1C_044-265-0_D_V1-0/SPOT2-HRV1-XS_20011030-103531-309_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011030-103531-309_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011030-103531-309_L1C_044-265-0_D_V1-0.zip
run script
2024-01-16T08:35:23.055    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:35:23.056    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011030-103531-309_L1C_044-265-0_D_V1-0.zip
2024-01-16T08:35:23.056    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:35:23.056    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:35:23.056    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:35:23.056    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:35:23.056    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:35:23.056    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:35:23.057    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:35:23.057    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011030-103531-309_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/30/SPOT2-HRV2-XS_20011030-103513-032_L1C_046-263-0_D_V1-0/SPOT2-HRV2-XS_20011030-103513-032_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011030-103513-032_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011030-103513-032_L1C_046-263-0_D_V1-0.zip
run script
2024-01-16T08:35:59.646    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:35:59.646    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011030-103513-032_L1C_046-263-0_D_V1-0.zip
2024-01-16T08:35:59.646    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:35:59.647    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:35:59.647    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:35:59.647    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:35:59.647    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:35:59.647    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:35:59.647    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:35:59.647    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011030-103513-032_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/30/SPOT2-HRV2-XS_20011030-103521-316_L1C_046-264-0_D_V1-0/SPOT2-HRV2-XS_20011030-103521-316_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011030-103521-316_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011030-103521-316_L1C_046-264-0_D_V1-0.zip
run script
2024-01-16T08:36:54.089    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:36:54.090    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011030-103521-316_L1C_046-264-0_D_V1-0.zip
2024-01-16T08:36:54.090    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:36:54.090    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:36:54.090    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:36:54.090    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:36:54.090    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:36:54.091    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:36:54.091    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:36:54.091    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011030-103521-316_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/30/SPOT2-HRV2-XS_20011030-103529-609_L1C_046-265-0_D_V1-0/SPOT2-HRV2-XS_20011030-103529-609_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011030-103529-609_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011030-103529-609_L1C_046-265-0_D_V1-0.zip
run script
2024-01-16T08:38:29.799    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:38:29.800    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011030-103529-609_L1C_046-265-0_D_V1-0.zip
2024-01-16T08:38:29.800    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:38:29.800    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:38:29.800    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:38:29.800    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:38:29.800    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:38:29.800    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:38:29.800    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:38:29.800    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011030-103529-609_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/11/03/SPOT2-HRV1-XS_20011103-105824-150_L1C_044-263-0_D_V1-0/SPOT2-HRV1-XS_20011103-105824-150_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011103-105824-150_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011103-105824-150_L1C_044-263-0_D_V1-0.zip
run script
2024-01-16T08:39:00.897    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:39:00.899    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011103-105824-150_L1C_044-263-0_D_V1-0.zip
2024-01-16T08:39:00.899    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:39:00.899    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:39:00.899    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:39:00.899    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:39:00.899    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:39:00.899    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:39:00.899    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:39:00.899    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011103-105824-150_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 2]
 [0 0 0 ... 0 0 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/11/03/SPOT2-HRV1-XS_20011103-105829-564_L1C_044-263-6_D_V1-0/SPOT2-HRV1-XS_20011103-105829-564_L1C_044-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011103-105829-564_L1C_044-263-6_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011103-105829-564_L1C_044-263-6_D_V1-0.zip
run script
2024-01-16T08:40:30.922    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:40:30.924    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011103-105829-564_L1C_044-263-6_D_V1-0.zip
2024-01-16T08:40:30.924    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:40:30.924    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:40:30.924    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:40:30.924    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:40:30.924    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:40:30.924    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:40:30.924    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:40:30.925    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011103-105829-564_L1C_044-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/11/03/SPOT2-HRV2-XS_20011103-105822-116_L1C_045-263-0_D_V1-0/SPOT2-HRV2-XS_20011103-105822-116_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011103-105822-116_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011103-105822-116_L1C_045-263-0_D_V1-0.zip
run script
2024-01-16T08:42:37.051    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:42:37.052    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011103-105822-116_L1C_045-263-0_D_V1-0.zip
2024-01-16T08:42:37.052    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:42:37.052    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:42:37.052    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:42:37.052    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:42:37.052    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:42:37.052    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:42:37.052    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:42:37.052    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011103-105822-116_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/11/03/SPOT2-HRV2-XS_20011103-105829-335_L1C_045-263-8_D_V1-0/SPOT2-HRV2-XS_20011103-105829-335_L1C_045-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011103-105829-335_L1C_045-263-8_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011103-105829-335_L1C_045-263-8_D_V1-0.zip
run script
2024-01-16T08:43:45.742    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:43:45.744    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011103-105829-335_L1C_045-263-8_D_V1-0.zip
2024-01-16T08:43:45.744    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:43:45.744    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:43:45.744    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:43:45.744    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:43:45.744    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:43:45.744    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:43:45.744    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:43:45.744    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011103-105829-335_L1C_045-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/11/04/SPOT2-HRV1-XS_20011104-103905-517_L1C_044-263-0_D_V1-0/SPOT2-HRV1-XS_20011104-103905-517_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011104-103905-517_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011104-103905-517_L1C_044-263-0_D_V1-0.zip
run script
2024-01-16T08:45:30.220    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:45:30.221    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011104-103905-517_L1C_044-263-0_D_V1-0.zip
2024-01-16T08:45:30.221    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:45:30.221    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:45:30.221    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:45:30.221    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:45:30.221    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:45:30.221    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:45:30.221    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:45:30.221    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011104-103905-517_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/11/04/SPOT2-HRV1-XS_20011104-103913-801_L1C_044-264-0_D_V1-0/SPOT2-HRV1-XS_20011104-103913-801_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011104-103913-801_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011104-103913-801_L1C_044-264-0_D_V1-0.zip
run script
2024-01-16T08:47:07.203    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:47:07.204    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011104-103913-801_L1C_044-264-0_D_V1-0.zip
2024-01-16T08:47:07.204    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:47:07.204    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:47:07.205    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:47:07.205    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:47:07.205    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:47:07.205    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:47:07.205    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:47:07.205    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011104-103913-801_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/11/04/SPOT2-HRV1-XS_20011104-103922-094_L1C_044-265-0_D_V1-0/SPOT2-HRV1-XS_20011104-103922-094_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011104-103922-094_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011104-103922-094_L1C_044-265-0_D_V1-0.zip
run script
2024-01-16T08:49:17.104    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:49:17.105    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011104-103922-094_L1C_044-265-0_D_V1-0.zip
2024-01-16T08:49:17.105    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:49:17.105    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:49:17.105    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:49:17.105    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:49:17.106    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:49:17.106    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:49:17.106    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:49:17.106    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011104-103922-094_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/11/04/SPOT2-HRV2-XS_20011104-103903-815_L1C_045-263-0_D_V1-0/SPOT2-HRV2-XS_20011104-103903-815_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011104-103903-815_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011104-103903-815_L1C_045-263-0_D_V1-0.zip
run script
2024-01-16T08:50:02.159    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:50:02.160    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011104-103903-815_L1C_045-263-0_D_V1-0.zip
2024-01-16T08:50:02.160    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:50:02.161    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:50:02.161    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:50:02.161    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:50:02.161    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:50:02.161    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:50:02.161    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:50:02.161    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011104-103903-815_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/11/04/SPOT2-HRV2-XS_20011104-103912-111_L1C_045-264-0_D_V1-0/SPOT2-HRV2-XS_20011104-103912-111_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011104-103912-111_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011104-103912-111_L1C_045-264-0_D_V1-0.zip
run script
2024-01-16T08:51:05.205    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:51:05.207    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011104-103912-111_L1C_045-264-0_D_V1-0.zip
2024-01-16T08:51:05.207    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:51:05.207    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:51:05.207    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:51:05.207    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:51:05.207    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:51:05.207    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:51:05.207    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:51:05.207    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011104-103912-111_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/11/04/SPOT2-HRV2-XS_20011104-103920-413_L1C_045-265-0_D_V1-0/SPOT2-HRV2-XS_20011104-103920-413_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011104-103920-413_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011104-103920-413_L1C_045-265-0_D_V1-0.zip
run script
2024-01-16T08:52:48.244    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:52:48.245    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011104-103920-413_L1C_045-265-0_D_V1-0.zip
2024-01-16T08:52:48.245    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:52:48.245    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:52:48.245    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:52:48.245    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:52:48.245    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:52:48.245    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:52:48.245    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:52:48.245    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011104-103920-413_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/01/SPOT2-HRV2-XS_20010601-104015-656_L1C_044-264-5_D_V1-0/SPOT2-HRV2-XS_20010601-104015-656_L1C_044-264-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010601-104015-656_L1C_044-264-5_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010601-104015-656_L1C_044-264-5_D_V1-0.zip
run script
2024-01-16T08:53:19.542    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:53:19.543    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010601-104015-656_L1C_044-264-5_D_V1-0.zip
2024-01-16T08:53:19.543    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:53:19.543    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:53:19.543    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:53:19.543    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:53:19.543    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:53:19.543    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:53:19.544    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:53:19.544    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010601-104015-656_L1C_044-264-5_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/11/SPOT2-HRV1-XS_20010611-104759-309_L1C_044-264-6_D_V1-0/SPOT2-HRV1-XS_20010611-104759-309_L1C_044-264-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010611-104759-309_L1C_044-264-6_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010611-104759-309_L1C_044-264-6_D_V1-0.zip
run script
2024-01-16T08:54:38.526    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:54:38.527    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010611-104759-309_L1C_044-264-6_D_V1-0.zip
2024-01-16T08:54:38.527    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:54:38.527    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:54:38.527    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:54:38.527    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:54:38.527    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:54:38.527    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:54:38.527    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:54:38.527    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010611-104759-309_L1C_044-264-6_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/11/SPOT2-HRV1-XS_20010611-104802-218_L1C_044-265-0_D_V1-0/SPOT2-HRV1-XS_20010611-104802-218_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010611-104802-218_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010611-104802-218_L1C_044-265-0_D_V1-0.zip
run script
2024-01-16T08:55:42.726    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:55:42.728    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010611-104802-218_L1C_044-265-0_D_V1-0.zip
2024-01-16T08:55:42.728    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:55:42.728    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:55:42.728    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:55:42.728    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:55:42.728    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:55:42.728    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:55:42.728    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:55:42.728    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010611-104802-218_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/15/SPOT2-HRV1-XS_20010615-111106-831_L1C_044-264-6_D_V1-0/SPOT2-HRV1-XS_20010615-111106-831_L1C_044-264-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010615-111106-831_L1C_044-264-6_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010615-111106-831_L1C_044-264-6_D_V1-0.zip
run script
2024-01-16T08:56:18.775    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:56:18.777    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010615-111106-831_L1C_044-264-6_D_V1-0.zip
2024-01-16T08:56:18.777    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:56:18.777    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:56:18.777    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:56:18.777    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:56:18.777    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:56:18.777    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:56:18.777    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:56:18.777    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010615-111106-831_L1C_044-264-6_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/15/SPOT2-HRV1-XS_20010615-111109-881_L1C_044-265-0_D_V1-0/SPOT2-HRV1-XS_20010615-111109-881_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010615-111109-881_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010615-111109-881_L1C_044-265-0_D_V1-0.zip
run script
2024-01-16T08:57:56.547    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:57:56.548    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010615-111109-881_L1C_044-265-0_D_V1-0.zip
2024-01-16T08:57:56.548    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:57:56.548    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:57:56.548    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:57:56.548    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:57:56.549    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:57:56.549    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:57:56.549    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:57:56.549    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010615-111109-881_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/16/SPOT2-HRV1-XS_20010616-105149-253_L1C_044-264-6_D_V1-0/SPOT2-HRV1-XS_20010616-105149-253_L1C_044-264-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010616-105149-253_L1C_044-264-6_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010616-105149-253_L1C_044-264-6_D_V1-0.zip
run script
2024-01-16T08:58:41.156    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:58:41.157    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010616-105149-253_L1C_044-264-6_D_V1-0.zip
2024-01-16T08:58:41.158    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:58:41.158    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:58:41.158    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:58:41.158    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:58:41.158    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:58:41.158    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:58:41.158    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:58:41.158    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010616-105149-253_L1C_044-264-6_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/16/SPOT2-HRV1-XS_20010616-105152-180_L1C_044-265-0_D_V1-0/SPOT2-HRV1-XS_20010616-105152-180_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010616-105152-180_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010616-105152-180_L1C_044-265-0_D_V1-0.zip
run script
2024-01-16T08:59:50.583    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T08:59:50.585    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010616-105152-180_L1C_044-265-0_D_V1-0.zip
2024-01-16T08:59:50.585    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T08:59:50.585    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T08:59:50.585    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T08:59:50.585    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T08:59:50.585    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T08:59:50.585    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T08:59:50.585    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T08:59:50.585    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010616-105152-180_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/21/SPOT2-HRV1-XS_20010621-105538-139_L1C_044-264-6_D_V1-0/SPOT2-HRV1-XS_20010621-105538-139_L1C_044-264-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010621-105538-139_L1C_044-264-6_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010621-105538-139_L1C_044-264-6_D_V1-0.zip
run script
2024-01-16T09:00:27.062    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:00:27.063    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010621-105538-139_L1C_044-264-6_D_V1-0.zip
2024-01-16T09:00:27.063    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:00:27.064    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:00:27.064    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:00:27.064    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:00:27.064    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:00:27.064    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:00:27.064    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:00:27.064    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010621-105538-139_L1C_044-264-6_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/21/SPOT2-HRV1-XS_20010621-105541-084_L1C_044-265-0_D_V1-0/SPOT2-HRV1-XS_20010621-105541-084_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010621-105541-084_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010621-105541-084_L1C_044-265-0_D_V1-0.zip
run script
2024-01-16T09:01:37.293    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:01:37.294    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010621-105541-084_L1C_044-265-0_D_V1-0.zip
2024-01-16T09:01:37.294    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:01:37.294    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:01:37.294    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:01:37.294    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:01:37.294    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:01:37.294    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:01:37.294    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:01:37.294    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010621-105541-084_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/13/SPOT2-HRV1-XS_20011013-110239-242_L1C_044-264-0_D_V1-0/SPOT2-HRV1-XS_20011013-110239-242_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011013-110239-242_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011013-110239-242_L1C_044-264-0_D_V1-0.zip
run script
2024-01-16T09:02:12.889    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:02:12.889    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011013-110239-242_L1C_044-264-0_D_V1-0.zip
2024-01-16T09:02:12.890    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:02:12.890    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:02:12.890    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:02:12.890    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:02:12.890    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:02:12.890    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:02:12.890    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:02:12.890    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011013-110239-242_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/13/SPOT2-HRV2-XS_20011013-110245-475_L1C_045-265-0_D_V1-0/SPOT2-HRV2-XS_20011013-110245-475_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011013-110245-475_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011013-110245-475_L1C_045-265-0_D_V1-0.zip
run script
2024-01-16T09:04:28.590    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:04:28.591    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011013-110245-475_L1C_045-265-0_D_V1-0.zip
2024-01-16T09:04:28.591    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:04:28.591    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:04:28.591    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:04:28.591    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:04:28.591    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:04:28.591    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:04:28.591    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:04:28.592    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011013-110245-475_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/08/SPOT2-HRV2-XS_20011008-105834-280_L1C_045-263-0_D_V1-0/SPOT2-HRV2-XS_20011008-105834-280_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011008-105834-280_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011008-105834-280_L1C_045-263-0_D_V1-0.zip
run script
2024-01-16T09:05:13.090    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:05:13.091    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011008-105834-280_L1C_045-263-0_D_V1-0.zip
2024-01-16T09:05:13.091    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:05:13.091    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:05:13.091    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:05:13.091    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:05:13.091    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:05:13.091    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:05:13.091    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:05:13.091    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011008-105834-280_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 0 0]
 [2 2 2 ... 2 2 0]
 [2 2 2 ... 2 2 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/10/08/SPOT2-HRV2-XS_20011008-105841-500_L1C_045-263-8_D_V1-0/SPOT2-HRV2-XS_20011008-105841-500_L1C_045-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20011008-105841-500_L1C_045-263-8_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011008-105841-500_L1C_045-263-8_D_V1-0.zip
run script
2024-01-16T09:06:21.404    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:06:21.404    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011008-105841-500_L1C_045-263-8_D_V1-0.zip
2024-01-16T09:06:21.404    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:06:21.404    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:06:21.404    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:06:21.404    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:06:21.405    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:06:21.405    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:06:21.405    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:06:21.405    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20011008-105841-500_L1C_045-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/11/30/SPOT2-HRV1-XS_20011130-103906-056_L1C_045-264-2_D_V1-0/SPOT2-HRV1-XS_20011130-103906-056_L1C_045-264-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011130-103906-056_L1C_045-264-2_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011130-103906-056_L1C_045-264-2_D_V1-0.zip
run script
2024-01-16T09:08:10.899    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:08:10.901    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011130-103906-056_L1C_045-264-2_D_V1-0.zip
2024-01-16T09:08:10.901    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:08:10.901    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:08:10.901    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:08:10.901    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:08:10.901    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:08:10.901    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:08:10.901    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:08:10.901    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T09:08:13.844    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (374 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011130-103906-056_L1C_045-264-2_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2001/08/27/SPOT2-HRV1-XS_20010827-110651-513_L1C_045-265-0_D_V1-0/SPOT2-HRV1-XS_20010827-110651-513_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010827-110651-513_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010827-110651-513_L1C_045-265-0_D_V1-0.zip
run script
2024-01-16T09:08:16.861    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:08:16.861    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010827-110651-513_L1C_045-265-0_D_V1-0.zip
2024-01-16T09:08:16.861    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:08:16.861    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:08:16.861    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:08:16.861    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:08:16.861    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:08:16.861    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:08:16.862    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:08:16.862    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010827-110651-513_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/08/27/SPOT2-HRV1-XS_20010827-110634-608_L1C_046-263-0_D_V1-0/SPOT2-HRV1-XS_20010827-110634-608_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010827-110634-608_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010827-110634-608_L1C_046-263-0_D_V1-0.zip
run script
2024-01-16T09:08:58.238    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:08:58.240    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010827-110634-608_L1C_046-263-0_D_V1-0.zip
2024-01-16T09:08:58.240    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:08:58.240    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:08:58.240    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:08:58.240    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:08:58.240    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:08:58.240    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:08:58.240    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:08:58.240    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010827-110634-608_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 2 0 0]
 [2 2 2 ... 2 2 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/08/27/SPOT2-HRV1-XS_20010827-110643-060_L1C_046-264-0_D_V1-0/SPOT2-HRV1-XS_20010827-110643-060_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20010827-110643-060_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010827-110643-060_L1C_046-264-0_D_V1-0.zip
run script
2024-01-16T09:09:57.403    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:09:57.404    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010827-110643-060_L1C_046-264-0_D_V1-0.zip
2024-01-16T09:09:57.404    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:09:57.404    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:09:57.404    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:09:57.404    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:09:57.405    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:09:57.405    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:09:57.405    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:09:57.405    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20010827-110643-060_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/04/26/SPOT2-HRV2-XS_20010426-103226-673_L1C_046-263-5_D_V1-0/SPOT2-HRV2-XS_20010426-103226-673_L1C_046-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010426-103226-673_L1C_046-263-5_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010426-103226-673_L1C_046-263-5_D_V1-0.zip
run script
2024-01-16T09:11:38.202    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:11:38.205    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010426-103226-673_L1C_046-263-5_D_V1-0.zip
2024-01-16T09:11:38.205    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:11:38.205    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:11:38.205    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:11:38.205    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:11:38.205    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:11:38.205    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:11:38.205    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:11:38.205    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010426-103226-673_L1C_046-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/04/26/SPOT2-HRV2-XS_20010426-103230-439_L1C_046-264-0_D_V1-0/SPOT2-HRV2-XS_20010426-103230-439_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010426-103230-439_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010426-103230-439_L1C_046-264-0_D_V1-0.zip
run script
2024-01-16T09:13:01.937    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:13:01.938    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010426-103230-439_L1C_046-264-0_D_V1-0.zip
2024-01-16T09:13:01.938    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:13:01.938    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:13:01.938    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:13:01.939    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:13:01.939    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:13:01.939    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:13:01.939    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:13:01.939    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010426-103230-439_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/06/SPOT2-HRV2-XS_20010606-104358-392_L1C_046-263-6_D_V1-0/SPOT2-HRV2-XS_20010606-104358-392_L1C_046-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010606-104358-392_L1C_046-263-6_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010606-104358-392_L1C_046-263-6_D_V1-0.zip
run script
2024-01-16T09:14:32.236    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:14:32.237    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010606-104358-392_L1C_046-263-6_D_V1-0.zip
2024-01-16T09:14:32.237    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:14:32.237    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:14:32.237    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:14:32.237    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:14:32.237    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:14:32.237    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:14:32.237    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:14:32.237    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010606-104358-392_L1C_046-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/06/SPOT2-HRV2-XS_20010606-104401-289_L1C_046-264-0_D_V1-0/SPOT2-HRV2-XS_20010606-104401-289_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010606-104401-289_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010606-104401-289_L1C_046-264-0_D_V1-0.zip
run script
2024-01-16T09:15:48.156    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:15:48.157    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010606-104401-289_L1C_046-264-0_D_V1-0.zip
2024-01-16T09:15:48.157    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:15:48.157    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:15:48.157    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:15:48.158    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:15:48.158    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:15:48.158    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:15:48.158    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:15:48.158    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010606-104401-289_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/12/21/SPOT2-HRV1-XS_20011221-103503-864_L1C_046-263-0_D_V1-0/SPOT2-HRV1-XS_20011221-103503-864_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011221-103503-864_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011221-103503-864_L1C_046-263-0_D_V1-0.zip
run script
2024-01-16T09:17:10.916    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:17:10.917    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011221-103503-864_L1C_046-263-0_D_V1-0.zip
2024-01-16T09:17:10.917    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:17:10.917    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:17:10.917    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:17:10.917    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:17:10.918    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:17:10.918    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:17:10.918    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:17:10.918    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011221-103503-864_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/12/21/SPOT2-HRV1-XS_20011221-103512-151_L1C_046-264-0_D_V1-0/SPOT2-HRV1-XS_20011221-103512-151_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011221-103512-151_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011221-103512-151_L1C_046-264-0_D_V1-0.zip
run script
2024-01-16T09:17:56.807    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:17:56.808    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011221-103512-151_L1C_046-264-0_D_V1-0.zip
2024-01-16T09:17:56.808    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:17:56.808    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:17:56.808    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:17:56.808    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:17:56.808    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:17:56.808    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:17:56.808    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:17:56.808    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011221-103512-151_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/12/21/SPOT2-HRV1-XS_20011221-103520-447_L1C_046-265-0_D_V1-0/SPOT2-HRV1-XS_20011221-103520-447_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20011221-103520-447_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011221-103520-447_L1C_046-265-0_D_V1-0.zip
run script
2024-01-16T09:19:08.036    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:19:08.037    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011221-103520-447_L1C_046-265-0_D_V1-0.zip
2024-01-16T09:19:08.037    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:19:08.037    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:19:08.037    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:19:08.037    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:19:08.038    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:19:08.038    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:19:08.038    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:19:08.038    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV1-XS_20011221-103520-447_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2001/06/12/SPOT2-HRV2-XS_20010612-102838-541_L1C_047-265-0_D_V1-0/SPOT2-HRV2-XS_20010612-102838-541_L1C_047-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20010612-102838-541_L1C_047-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010612-102838-541_L1C_047-265-0_D_V1-0.zip
run script
2024-01-16T09:19:32.781    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:19:32.781    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010612-102838-541_L1C_047-265-0_D_V1-0.zip
2024-01-16T09:19:32.781    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:19:32.781    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:19:32.781    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:19:32.781    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:19:32.781    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:19:32.781    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:19:32.781    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:19:32.781    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT2-HRV2-XS_20010612-102838-541_L1C_047-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/09/24/SPOT5-HRG2-XS_20020924-105614-364_L1C_035-262-6_D_V1-0/SPOT5-HRG2-XS_20020924-105614-364_L1C_035-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20020924-105614-364_L1C_035-262-6_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020924-105614-364_L1C_035-262-6_D_V1-0.zip
run script
2024-01-16T09:19:43.495    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:19:43.496    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020924-105614-364_L1C_035-262-6_D_V1-0.zip
2024-01-16T09:19:43.496    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:19:43.496    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:19:43.496    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:19:43.496    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:19:43.496    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:19:43.496    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:19:43.496    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:19:43.496    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020924-105614-364_L1C_035-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/09/24/SPOT5-HRG2-XS_20020924-105617-252_L1C_035-263-0_D_V1-0/SPOT5-HRG2-XS_20020924-105617-252_L1C_035-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20020924-105617-252_L1C_035-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020924-105617-252_L1C_035-263-0_D_V1-0.zip
run script
2024-01-16T09:20:17.073    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:20:17.074    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020924-105617-252_L1C_035-263-0_D_V1-0.zip
2024-01-16T09:20:17.074    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:20:17.074    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:20:17.074    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:20:17.074    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:20:17.075    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:20:17.075    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:20:17.075    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:20:17.075    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020924-105617-252_L1C_035-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/10/13/SPOT5-HRG1-XS_20021013-113055-811_L1C_035-262-0_D_V1-0/SPOT5-HRG1-XS_20021013-113055-811_L1C_035-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20021013-113055-811_L1C_035-262-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021013-113055-811_L1C_035-262-0_D_V1-0.zip
run script
2024-01-16T09:20:58.896    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:20:58.897    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021013-113055-811_L1C_035-262-0_D_V1-0.zip
2024-01-16T09:20:58.897    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:20:58.897    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:20:58.897    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:20:58.897    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:20:58.897    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:20:58.898    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:20:58.898    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:20:58.898    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021013-113055-811_L1C_035-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/06/26/SPOT5-HRG1-XS_20020626-112600-818_L1C_036-262-7_D_V1-0/SPOT5-HRG1-XS_20020626-112600-818_L1C_036-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20020626-112600-818_L1C_036-262-7_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020626-112600-818_L1C_036-262-7_D_V1-0.zip
run script
2024-01-16T09:21:09.895    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:21:09.896    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020626-112600-818_L1C_036-262-7_D_V1-0.zip
2024-01-16T09:21:09.896    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:21:09.896    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:21:09.896    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:21:09.897    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:21:09.897    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:21:09.897    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:21:09.897    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:21:09.897    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020626-112600-818_L1C_036-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/07/27/SPOT5-HRG1-XS_20020727-113013-508_L1C_037-262-6_D_V1-0/SPOT5-HRG1-XS_20020727-113013-508_L1C_037-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20020727-113013-508_L1C_037-262-6_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020727-113013-508_L1C_037-262-6_D_V1-0.zip
run script
2024-01-16T09:22:20.016    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:22:20.017    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020727-113013-508_L1C_037-262-6_D_V1-0.zip
2024-01-16T09:22:20.017    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:22:20.017    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:22:20.017    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:22:20.017    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:22:20.017    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:22:20.017    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:22:20.018    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:22:20.018    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020727-113013-508_L1C_037-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/07/27/SPOT5-HRG1-XS_20020727-113016-540_L1C_037-263-0_D_V1-0/SPOT5-HRG1-XS_20020727-113016-540_L1C_037-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20020727-113016-540_L1C_037-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020727-113016-540_L1C_037-263-0_D_V1-0.zip
run script
2024-01-16T09:23:56.163    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:23:56.165    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020727-113016-540_L1C_037-263-0_D_V1-0.zip
2024-01-16T09:23:56.165    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:23:56.165    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:23:56.165    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:23:56.165    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:23:56.165    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:23:56.165    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:23:56.165    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:23:56.165    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020727-113016-540_L1C_037-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/12/27/SPOT5-HRG1-XS_20021227-104854-246_L1C_037-262-1_D_V1-0/SPOT5-HRG1-XS_20021227-104854-246_L1C_037-262-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20021227-104854-246_L1C_037-262-1_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021227-104854-246_L1C_037-262-1_D_V1-0.zip
run script
2024-01-16T09:25:54.921    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:25:54.922    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021227-104854-246_L1C_037-262-1_D_V1-0.zip
2024-01-16T09:25:54.922    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:25:54.922    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:25:54.922    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:25:54.922    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:25:54.922    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:25:54.923    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:25:54.923    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:25:54.923    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021227-104854-246_L1C_037-262-1_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/09/28/SPOT5-HRG2-XS_20020928-111915-763_L1C_042-263-0_D_V1-0/SPOT5-HRG2-XS_20020928-111915-763_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20020928-111915-763_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020928-111915-763_L1C_042-263-0_D_V1-0.zip
run script
2024-01-16T09:26:13.343    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:26:13.345    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020928-111915-763_L1C_042-263-0_D_V1-0.zip
2024-01-16T09:26:13.345    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:26:13.345    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:26:13.345    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:26:13.345    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:26:13.345    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:26:13.345    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:26:13.345    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:26:13.345    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T09:26:20.845    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (306 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020928-111915-763_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2002/09/28/SPOT5-HRG2-XS_20020928-111922-092_L1C_042-263-7_D_V1-0/SPOT5-HRG2-XS_20020928-111922-092_L1C_042-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20020928-111922-092_L1C_042-263-7_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020928-111922-092_L1C_042-263-7_D_V1-0.zip
run script
2024-01-16T09:26:26.417    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:26:26.418    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020928-111922-092_L1C_042-263-7_D_V1-0.zip
2024-01-16T09:26:26.418    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:26:26.418    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:26:26.418    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:26:26.418    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:26:26.418    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:26:26.419    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:26:26.419    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:26:26.419    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020928-111922-092_L1C_042-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/09/29/SPOT5-HRG1-XS_20020929-110002-520_L1C_042-263-0_D_V1-0/SPOT5-HRG1-XS_20020929-110002-520_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20020929-110002-520_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020929-110002-520_L1C_042-263-0_D_V1-0.zip
run script
2024-01-16T09:30:14.286    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:30:14.288    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020929-110002-520_L1C_042-263-0_D_V1-0.zip
2024-01-16T09:30:14.288    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:30:14.288    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:30:14.288    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:30:14.288    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:30:14.288    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:30:14.288    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:30:14.288    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:30:14.288    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T09:31:51.595    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1306 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020929-110002-520_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2002/09/29/SPOT5-HRG1-XS_20020929-110010-870_L1C_042-264-0_D_V1-0/SPOT5-HRG1-XS_20020929-110010-870_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20020929-110010-870_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020929-110010-870_L1C_042-264-0_D_V1-0.zip
run script
2024-01-16T09:31:56.892    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:31:56.894    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020929-110010-870_L1C_042-264-0_D_V1-0.zip
2024-01-16T09:31:56.894    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:31:56.894    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:31:56.894    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:31:56.894    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:31:56.894    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:31:56.894    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:31:56.894    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:31:56.894    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020929-110010-870_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/08/14/SPOT5-HRG1-XS_20020814-104414-651_L1C_044-264-8_D_V1-0/SPOT5-HRG1-XS_20020814-104414-651_L1C_044-264-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20020814-104414-651_L1C_044-264-8_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020814-104414-651_L1C_044-264-8_D_V1-0.zip
run script
2024-01-16T09:34:23.879    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:34:23.880    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020814-104414-651_L1C_044-264-8_D_V1-0.zip
2024-01-16T09:34:23.880    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:34:23.880    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:34:23.880    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:34:23.880    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:34:23.880    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:34:23.881    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:34:23.881    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:34:23.881    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020814-104414-651_L1C_044-264-8_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/08/14/SPOT5-HRG1-XS_20020814-104415-734_L1C_044-265-0_D_V1-0/SPOT5-HRG1-XS_20020814-104415-734_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20020814-104415-734_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020814-104415-734_L1C_044-265-0_D_V1-0.zip
run script
2024-01-16T09:35:30.194    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:35:30.195    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020814-104415-734_L1C_044-265-0_D_V1-0.zip
2024-01-16T09:35:30.195    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:35:30.195    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:35:30.195    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:35:30.195    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:35:30.195    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:35:30.195    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:35:30.195    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:35:30.195    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020814-104415-734_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/09/30/SPOT5-HRG1-XS_20020930-104048-105_L1C_045-263-6_D_V1-0/SPOT5-HRG1-XS_20020930-104048-105_L1C_045-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20020930-104048-105_L1C_045-263-6_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020930-104048-105_L1C_045-263-6_D_V1-0.zip
run script
2024-01-16T09:36:22.023    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:36:22.024    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020930-104048-105_L1C_045-263-6_D_V1-0.zip
2024-01-16T09:36:22.025    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:36:22.025    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:36:22.025    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:36:22.025    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:36:22.025    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:36:22.025    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:36:22.025    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:36:22.025    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020930-104048-105_L1C_045-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/09/30/SPOT5-HRG1-XS_20020930-104050-992_L1C_045-264-0_D_V1-0/SPOT5-HRG1-XS_20020930-104050-992_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20020930-104050-992_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020930-104050-992_L1C_045-264-0_D_V1-0.zip
run script
2024-01-16T09:38:37.601    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:38:37.603    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020930-104050-992_L1C_045-264-0_D_V1-0.zip
2024-01-16T09:38:37.603    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:38:37.603    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:38:37.603    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:38:37.603    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:38:37.603    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:38:37.603    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:38:37.603    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:38:37.603    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020930-104050-992_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/09/30/SPOT5-HRG1-XS_20020930-104059-318_L1C_045-265-0_D_V1-0/SPOT5-HRG1-XS_20020930-104059-318_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20020930-104059-318_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020930-104059-318_L1C_045-265-0_D_V1-0.zip
run script
2024-01-16T09:40:52.511    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:40:52.512    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020930-104059-318_L1C_045-265-0_D_V1-0.zip
2024-01-16T09:40:52.512    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:40:52.512    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:40:52.512    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:40:52.512    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:40:52.512    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:40:52.512    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:40:52.513    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:40:52.513    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-16T09:40:55.532    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (506 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020930-104059-318_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2002/10/16/SPOT5-HRG1-XS_20021016-103308-098_L1C_045-263-6_D_V1-0/SPOT5-HRG1-XS_20021016-103308-098_L1C_045-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20021016-103308-098_L1C_045-263-6_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021016-103308-098_L1C_045-263-6_D_V1-0.zip
run script
2024-01-16T09:41:02.036    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:41:02.036    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021016-103308-098_L1C_045-263-6_D_V1-0.zip
2024-01-16T09:41:02.036    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:41:02.036    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:41:02.036    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:41:02.036    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:41:02.036    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:41:02.036    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:41:02.036    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:41:02.036    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021016-103308-098_L1C_045-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/10/16/SPOT5-HRG1-XS_20021016-103310-985_L1C_045-264-0_D_V1-0/SPOT5-HRG1-XS_20021016-103310-985_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20021016-103310-985_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021016-103310-985_L1C_045-264-0_D_V1-0.zip
run script
2024-01-16T09:43:34.759    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:43:34.760    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021016-103310-985_L1C_045-264-0_D_V1-0.zip
2024-01-16T09:43:34.760    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:43:34.760    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:43:34.760    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:43:34.760    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:43:34.760    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:43:34.761    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:43:34.761    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:43:34.761    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021016-103310-985_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/10/16/SPOT5-HRG1-XS_20021016-103319-287_L1C_045-265-0_D_V1-0/SPOT5-HRG1-XS_20021016-103319-287_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20021016-103319-287_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021016-103319-287_L1C_045-265-0_D_V1-0.zip
run script
2024-01-16T09:46:03.850    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:46:03.851    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021016-103319-287_L1C_045-265-0_D_V1-0.zip
2024-01-16T09:46:03.852    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:46:03.852    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:46:03.852    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:46:03.852    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:46:03.852    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:46:03.852    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:46:03.852    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:46:03.852    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021016-103319-287_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/10/15/SPOT5-HRG1-XS_20021015-105234-416_L1C_045-264-7_D_V1-0/SPOT5-HRG1-XS_20021015-105234-416_L1C_045-264-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20021015-105234-416_L1C_045-264-7_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021015-105234-416_L1C_045-264-7_D_V1-0.zip
run script
2024-01-16T09:46:56.411    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:46:56.412    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021015-105234-416_L1C_045-264-7_D_V1-0.zip
2024-01-16T09:46:56.412    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:46:56.412    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:46:56.412    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:46:56.412    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:46:56.412    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:46:56.412    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:46:56.412    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:46:56.412    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021015-105234-416_L1C_045-264-7_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/10/15/SPOT5-HRG1-XS_20021015-105236-438_L1C_045-265-0_D_V1-0/SPOT5-HRG1-XS_20021015-105236-438_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20021015-105236-438_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021015-105236-438_L1C_045-265-0_D_V1-0.zip
run script
2024-01-16T09:47:57.721    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:47:57.722    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021015-105236-438_L1C_045-265-0_D_V1-0.zip
2024-01-16T09:47:57.722    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:47:57.722    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:47:57.722    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:47:57.722    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:47:57.722    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:47:57.722    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:47:57.722    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:47:57.722    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021015-105236-438_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/10/15/SPOT5-HRG2-XS_20021015-105223-666_L1C_046-263-6_D_V1-0/SPOT5-HRG2-XS_20021015-105223-666_L1C_046-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20021015-105223-666_L1C_046-263-6_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021015-105223-666_L1C_046-263-6_D_V1-0.zip
run script
2024-01-16T09:48:36.717    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:48:36.718    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021015-105223-666_L1C_046-263-6_D_V1-0.zip
2024-01-16T09:48:36.718    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:48:36.719    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:48:36.719    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:48:36.719    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:48:36.719    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:48:36.719    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:48:36.719    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:48:36.719    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021015-105223-666_L1C_046-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/10/15/SPOT5-HRG2-XS_20021015-105226-602_L1C_046-264-0_D_V1-0/SPOT5-HRG2-XS_20021015-105226-602_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20021015-105226-602_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021015-105226-602_L1C_046-264-0_D_V1-0.zip
run script
2024-01-16T09:49:49.915    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:49:49.916    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021015-105226-602_L1C_046-264-0_D_V1-0.zip
2024-01-16T09:49:49.916    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:49:49.916    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:49:49.916    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:49:49.916    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:49:49.916    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:49:49.917    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:49:49.917    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:49:49.917    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021015-105226-602_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/10/15/SPOT5-HRG2-XS_20021015-105234-952_L1C_046-265-0_D_V1-0/SPOT5-HRG2-XS_20021015-105234-952_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20021015-105234-952_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021015-105234-952_L1C_046-265-0_D_V1-0.zip
run script
2024-01-16T09:51:06.193    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:51:06.194    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021015-105234-952_L1C_046-265-0_D_V1-0.zip
2024-01-16T09:51:06.194    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:51:06.194    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:51:06.195    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:51:06.195    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:51:06.195    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:51:06.195    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:51:06.195    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:51:06.195    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021015-105234-952_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/12/06/SPOT5-HRG2-XS_20021206-105252-873_L1C_045-264-6_D_V1-0/SPOT5-HRG2-XS_20021206-105252-873_L1C_045-264-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20021206-105252-873_L1C_045-264-6_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021206-105252-873_L1C_045-264-6_D_V1-0.zip
run script
2024-01-16T09:51:38.754    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:51:38.755    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021206-105252-873_L1C_045-264-6_D_V1-0.zip
2024-01-16T09:51:38.755    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:51:38.755    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:51:38.755    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:51:38.755    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:51:38.755    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:51:38.755    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:51:38.755    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:51:38.755    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021206-105252-873_L1C_045-264-6_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/12/06/SPOT5-HRG1-XS_20021206-105236-477_L1C_046-262-8_D_V1-0/SPOT5-HRG1-XS_20021206-105236-477_L1C_046-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20021206-105236-477_L1C_046-262-8_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021206-105236-477_L1C_046-262-8_D_V1-0.zip
run script
2024-01-16T09:52:51.057    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:52:51.058    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021206-105236-477_L1C_046-262-8_D_V1-0.zip
2024-01-16T09:52:51.058    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:52:51.058    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:52:51.058    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:52:51.059    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:52:51.059    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:52:51.059    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:52:51.059    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:52:51.059    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021206-105236-477_L1C_046-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/08/30/SPOT5-HRG1-XS_20020830-103634-941_L1C_046-263-7_D_V1-0/SPOT5-HRG1-XS_20020830-103634-941_L1C_046-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20020830-103634-941_L1C_046-263-7_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020830-103634-941_L1C_046-263-7_D_V1-0.zip
run script
2024-01-16T09:53:30.616    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:53:30.617    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020830-103634-941_L1C_046-263-7_D_V1-0.zip
2024-01-16T09:53:30.617    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:53:30.617    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:53:30.617    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:53:30.617    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:53:30.617    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:53:30.617    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:53:30.617    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:53:30.617    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020830-103634-941_L1C_046-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/08/30/SPOT5-HRG2-XS_20020830-103633-650_L1C_046-263-6_D_V1-0/SPOT5-HRG2-XS_20020830-103633-650_L1C_046-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20020830-103633-650_L1C_046-263-6_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020830-103633-650_L1C_046-263-6_D_V1-0.zip
run script
2024-01-16T09:55:05.956    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:55:05.956    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020830-103633-650_L1C_046-263-6_D_V1-0.zip
2024-01-16T09:55:05.957    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:55:05.957    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:55:05.957    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:55:05.957    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:55:05.957    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:55:05.957    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:55:05.957    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:55:05.957    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020830-103633-650_L1C_046-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/08/30/SPOT5-HRG1-XS_20020830-103636-915_L1C_046-264-0_D_V1-0/SPOT5-HRG1-XS_20020830-103636-915_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20020830-103636-915_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020830-103636-915_L1C_046-264-0_D_V1-0.zip
run script
2024-01-16T09:56:17.543    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:56:17.544    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020830-103636-915_L1C_046-264-0_D_V1-0.zip
2024-01-16T09:56:17.544    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:56:17.544    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:56:17.544    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:56:17.544    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:56:17.544    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:56:17.544    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:56:17.544    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:56:17.544    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020830-103636-915_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/08/30/SPOT5-HRG1-XS_20020830-103638-719_L1C_046-264-2_D_V1-0/SPOT5-HRG1-XS_20020830-103638-719_L1C_046-264-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20020830-103638-719_L1C_046-264-2_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020830-103638-719_L1C_046-264-2_D_V1-0.zip
run script
2024-01-16T09:57:55.552    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:57:55.553    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020830-103638-719_L1C_046-264-2_D_V1-0.zip
2024-01-16T09:57:55.553    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:57:55.553    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:57:55.553    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:57:55.553    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:57:55.553    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:57:55.553    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:57:55.553    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:57:55.554    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20020830-103638-719_L1C_046-264-2_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/08/30/SPOT5-HRG2-XS_20020830-103636-537_L1C_046-264-0_D_V1-0/SPOT5-HRG2-XS_20020830-103636-537_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20020830-103636-537_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020830-103636-537_L1C_046-264-0_D_V1-0.zip
run script
2024-01-16T09:59:24.122    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T09:59:24.123    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020830-103636-537_L1C_046-264-0_D_V1-0.zip
2024-01-16T09:59:24.123    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T09:59:24.124    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T09:59:24.124    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T09:59:24.124    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T09:59:24.124    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T09:59:24.124    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T09:59:24.124    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T09:59:24.124    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020830-103636-537_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/08/30/SPOT5-HRG2-XS_20020830-103637-452_L1C_046-264-1_D_V1-0/SPOT5-HRG2-XS_20020830-103637-452_L1C_046-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20020830-103637-452_L1C_046-264-1_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020830-103637-452_L1C_046-264-1_D_V1-0.zip
run script
2024-01-16T10:00:42.901    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T10:00:42.902    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020830-103637-452_L1C_046-264-1_D_V1-0.zip
2024-01-16T10:00:42.902    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T10:00:42.902    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T10:00:42.902    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T10:00:42.902    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T10:00:42.902    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T10:00:42.902    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T10:00:42.902    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T10:00:42.903    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020830-103637-452_L1C_046-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/10/05/SPOT5-HRG2-XS_20021005-104440-834_L1C_046-263-6_D_V1-0/SPOT5-HRG2-XS_20021005-104440-834_L1C_046-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20021005-104440-834_L1C_046-263-6_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021005-104440-834_L1C_046-263-6_D_V1-0.zip
run script
2024-01-16T10:02:02.020    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T10:02:02.022    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021005-104440-834_L1C_046-263-6_D_V1-0.zip
2024-01-16T10:02:02.022    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T10:02:02.022    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T10:02:02.022    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T10:02:02.022    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T10:02:02.022    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T10:02:02.022    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T10:02:02.022    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T10:02:02.022    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021005-104440-834_L1C_046-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/10/05/SPOT5-HRG2-XS_20021005-104443-722_L1C_046-264-0_D_V1-0/SPOT5-HRG2-XS_20021005-104443-722_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20021005-104443-722_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021005-104443-722_L1C_046-264-0_D_V1-0.zip
run script
2024-01-16T10:03:43.802    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T10:03:43.802    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021005-104443-722_L1C_046-264-0_D_V1-0.zip
2024-01-16T10:03:43.802    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T10:03:43.802    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T10:03:43.802    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T10:03:43.802    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T10:03:43.802    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T10:03:43.802    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T10:03:43.803    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T10:03:43.803    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021005-104443-722_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/10/05/SPOT5-HRG2-XS_20021005-104445-527_L1C_046-264-2_D_V1-0/SPOT5-HRG2-XS_20021005-104445-527_L1C_046-264-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20021005-104445-527_L1C_046-264-2_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021005-104445-527_L1C_046-264-2_D_V1-0.zip
run script
2024-01-16T10:05:26.585    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T10:05:26.586    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021005-104445-527_L1C_046-264-2_D_V1-0.zip
2024-01-16T10:05:26.586    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T10:05:26.586    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T10:05:26.586    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T10:05:26.587    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T10:05:26.587    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T10:05:26.587    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T10:05:26.587    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T10:05:26.587    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021005-104445-527_L1C_046-264-2_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/10/21/SPOT5-HRG1-XS_20021021-103656-720_L1C_046-263-6_D_V1-0/SPOT5-HRG1-XS_20021021-103656-720_L1C_046-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20021021-103656-720_L1C_046-263-6_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021021-103656-720_L1C_046-263-6_D_V1-0.zip
run script
2024-01-16T10:06:59.109    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T10:06:59.110    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021021-103656-720_L1C_046-263-6_D_V1-0.zip
2024-01-16T10:06:59.110    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T10:06:59.110    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T10:06:59.110    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T10:06:59.110    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T10:06:59.110    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T10:06:59.110    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T10:06:59.110    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T10:06:59.111    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021021-103656-720_L1C_046-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/10/21/SPOT5-HRG1-XS_20021021-103659-608_L1C_046-264-0_D_V1-0/SPOT5-HRG1-XS_20021021-103659-608_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20021021-103659-608_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021021-103659-608_L1C_046-264-0_D_V1-0.zip
run script
2024-01-16T10:08:35.080    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T10:08:35.081    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021021-103659-608_L1C_046-264-0_D_V1-0.zip
2024-01-16T10:08:35.081    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T10:08:35.081    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T10:08:35.081    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T10:08:35.081    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T10:08:35.081    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T10:08:35.081    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T10:08:35.082    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T10:08:35.082    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021021-103659-608_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/10/21/SPOT5-HRG1-XS_20021021-103701-413_L1C_046-264-2_D_V1-0/SPOT5-HRG1-XS_20021021-103701-413_L1C_046-264-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20021021-103701-413_L1C_046-264-2_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021021-103701-413_L1C_046-264-2_D_V1-0.zip
run script
2024-01-16T10:10:12.300    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T10:10:12.303    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021021-103701-413_L1C_046-264-2_D_V1-0.zip
2024-01-16T10:10:12.303    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T10:10:12.303    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T10:10:12.303    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T10:10:12.303    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T10:10:12.303    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T10:10:12.303    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T10:10:12.303    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T10:10:12.303    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021021-103701-413_L1C_046-264-2_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/10/30/SPOT5-HRG1-XS_20021030-110359-044_L1C_046-263-6_D_V1-0/SPOT5-HRG1-XS_20021030-110359-044_L1C_046-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20021030-110359-044_L1C_046-263-6_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021030-110359-044_L1C_046-263-6_D_V1-0.zip
run script
2024-01-16T10:11:41.427    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T10:11:41.429    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021030-110359-044_L1C_046-263-6_D_V1-0.zip
2024-01-16T10:11:41.429    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T10:11:41.429    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T10:11:41.429    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T10:11:41.429    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T10:11:41.430    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T10:11:41.430    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T10:11:41.430    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T10:11:41.430    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021030-110359-044_L1C_046-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/10/30/SPOT5-HRG1-XS_20021030-110402-028_L1C_046-264-0_D_V1-0/SPOT5-HRG1-XS_20021030-110402-028_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20021030-110402-028_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021030-110402-028_L1C_046-264-0_D_V1-0.zip
run script
2024-01-16T10:13:10.452    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T10:13:10.454    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021030-110402-028_L1C_046-264-0_D_V1-0.zip
2024-01-16T10:13:10.454    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T10:13:10.454    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T10:13:10.454    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T10:13:10.454    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T10:13:10.454    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T10:13:10.454    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T10:13:10.454    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T10:13:10.454    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021030-110402-028_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/10/31/SPOT5-HRG1-XS_20021031-104445-132_L1C_046-263-6_D_V1-0/SPOT5-HRG1-XS_20021031-104445-132_L1C_046-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20021031-104445-132_L1C_046-263-6_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021031-104445-132_L1C_046-263-6_D_V1-0.zip
run script
2024-01-16T10:14:45.696    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T10:14:45.697    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021031-104445-132_L1C_046-263-6_D_V1-0.zip
2024-01-16T10:14:45.697    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T10:14:45.697    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T10:14:45.697    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T10:14:45.697    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T10:14:45.697    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T10:14:45.697    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T10:14:45.697    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T10:14:45.697    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20021031-104445-132_L1C_046-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/12/21/SPOT5-HRG2-XS_20021221-110420-426_L1C_046-263-6_D_V1-0/SPOT5-HRG2-XS_20021221-110420-426_L1C_046-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20021221-110420-426_L1C_046-263-6_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021221-110420-426_L1C_046-263-6_D_V1-0.zip
run script
2024-01-16T10:16:24.708    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T10:16:24.710    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021221-110420-426_L1C_046-263-6_D_V1-0.zip
2024-01-16T10:16:24.710    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T10:16:24.710    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T10:16:24.710    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T10:16:24.710    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T10:16:24.710    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T10:16:24.710    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T10:16:24.710    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T10:16:24.710    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021221-110420-426_L1C_046-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/12/21/SPOT5-HRG2-XS_20021221-110423-410_L1C_046-264-0_D_V1-0/SPOT5-HRG2-XS_20021221-110423-410_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20021221-110423-410_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021221-110423-410_L1C_046-264-0_D_V1-0.zip
run script
2024-01-16T10:18:16.060    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T10:18:16.061    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021221-110423-410_L1C_046-264-0_D_V1-0.zip
2024-01-16T10:18:16.061    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T10:18:16.061    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T10:18:16.061    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T10:18:16.062    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T10:18:16.062    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T10:18:16.062    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T10:18:16.062    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T10:18:16.062    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021221-110423-410_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/12/21/SPOT5-HRG2-XS_20021221-110424-301_L1C_046-264-1_D_V1-0/SPOT5-HRG2-XS_20021221-110424-301_L1C_046-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20021221-110424-301_L1C_046-264-1_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021221-110424-301_L1C_046-264-1_D_V1-0.zip
run script
2024-01-16T10:20:13.519    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T10:20:13.520    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021221-110424-301_L1C_046-264-1_D_V1-0.zip
2024-01-16T10:20:13.520    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T10:20:13.520    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T10:20:13.520    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T10:20:13.520    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T10:20:13.520    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T10:20:13.521    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T10:20:13.521    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T10:20:13.521    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021221-110424-301_L1C_046-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/12/22/SPOT5-HRG2-XS_20021222-104513-208_L1C_046-264-6_D_V1-0/SPOT5-HRG2-XS_20021222-104513-208_L1C_046-264-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20021222-104513-208_L1C_046-264-6_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021222-104513-208_L1C_046-264-6_D_V1-0.zip
run script
2024-01-16T10:22:00.532    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T10:22:00.532    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021222-104513-208_L1C_046-264-6_D_V1-0.zip
2024-01-16T10:22:00.532    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T10:22:00.532    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T10:22:00.532    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T10:22:00.533    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T10:22:00.533    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T10:22:00.533    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T10:22:00.533    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T10:22:00.533    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021222-104513-208_L1C_046-264-6_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/12/22/SPOT5-HRG2-XS_20021222-104516-120_L1C_046-265-0_D_V1-0/SPOT5-HRG2-XS_20021222-104516-120_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20021222-104516-120_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021222-104516-120_L1C_046-265-0_D_V1-0.zip
run script
2024-01-16T10:22:56.785    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T10:22:56.785    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021222-104516-120_L1C_046-265-0_D_V1-0.zip
2024-01-16T10:22:56.786    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T10:22:56.786    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T10:22:56.786    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T10:22:56.786    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T10:22:56.786    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T10:22:56.786    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T10:22:56.786    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T10:22:56.786    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021222-104516-120_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/12/22/SPOT5-HRG2-XS_20021222-104517-011_L1C_046-265-1_D_V1-0/SPOT5-HRG2-XS_20021222-104517-011_L1C_046-265-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20021222-104517-011_L1C_046-265-1_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021222-104517-011_L1C_046-265-1_D_V1-0.zip
run script
2024-01-16T10:23:27.697    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T10:23:27.698    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021222-104517-011_L1C_046-265-1_D_V1-0.zip
2024-01-16T10:23:27.698    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T10:23:27.698    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T10:23:27.698    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T10:23:27.698    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T10:23:27.698    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T10:23:27.698    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T10:23:27.698    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T10:23:27.698    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20021222-104517-011_L1C_046-265-1_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/08/20/SPOT5-HRG2-XS_20020820-102843-766_L1C_047-264-8_D_V1-0/SPOT5-HRG2-XS_20020820-102843-766_L1C_047-264-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20020820-102843-766_L1C_047-264-8_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020820-102843-766_L1C_047-264-8_D_V1-0.zip
run script
2024-01-16T10:23:55.484    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T10:23:55.485    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020820-102843-766_L1C_047-264-8_D_V1-0.zip
2024-01-16T10:23:55.485    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T10:23:55.485    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T10:23:55.485    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T10:23:55.486    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T10:23:55.486    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T10:23:55.486    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T10:23:55.486    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T10:23:55.486    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020820-102843-766_L1C_047-264-8_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2002/08/20/SPOT5-HRG2-XS_20020820-102844-825_L1C_047-265-0_D_V1-0/SPOT5-HRG2-XS_20020820-102844-825_L1C_047-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20020820-102844-825_L1C_047-265-0_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020820-102844-825_L1C_047-265-0_D_V1-0.zip
run script
2024-01-16T10:24:14.135    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T10:24:14.136    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020820-102844-825_L1C_047-265-0_D_V1-0.zip
2024-01-16T10:24:14.136    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T10:24:14.136    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T10:24:14.136    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T10:24:14.136    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T10:24:14.136    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T10:24:14.136    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T10:24:14.136    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T10:24:14.137    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG2-XS_20020820-102844-825_L1C_047-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/08/08/SPOT5-HRG1-XS_20130808-110219-463_L1C_036-262-9_D_V1-0/SPOT5-HRG1-XS_20130808-110219-463_L1C_036-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20130808-110219-463_L1C_036-262-9_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20130808-110219-463_L1C_036-262-9_D_V1-0.zip
run script
2024-01-16T10:24:31.003    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T10:24:31.005    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20130808-110219-463_L1C_036-262-9_D_V1-0.zip
2024-01-16T10:24:31.005    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T10:24:31.005    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T10:24:31.005    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T10:24:31.005    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T10:24:31.005    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T10:24:31.005    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T10:24:31.005    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T10:24:31.005    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20130808-110219-463_L1C_036-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/08/08/SPOT5-HRG1-XS_20130808-110220-715_L1C_036-263-1_D_V1-0/SPOT5-HRG1-XS_20130808-110220-715_L1C_036-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20130808-110220-715_L1C_036-263-1_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20130808-110220-715_L1C_036-263-1_D_V1-0.zip
run script
2024-01-16T10:26:13.820    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200
2024-01-16T10:26:13.821    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20130808-110220-715_L1C_036-263-1_D_V1-0.zip
2024-01-16T10:26:13.821    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-16T10:26:13.821    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-16T10:26:13.821    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-16T10:26:13.821    INFO:run_snow_swh.py::main:model type : mtn
2024-01-16T10:26:13.821    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-16T10:26:13.821    INFO:run_snow_swh.py::main:mask inference : None
2024-01-16T10:26:13.821    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-16T10:26:13.821    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20130808-110220-715_L1C_036-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4283471/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE2/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2013/04/06/SPOT5-HRG1-XS_20130406-105251-602_L1C_037-262-1_D_V1-0/SPOT5-HRG1-XS_20130406-105251-602_L1C_037-262-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20130406-105251-602_L1C_037-262-1_D_V1-0.zip
/tmp/slurm-4283471/INPUT/SPOT5-HRG1-XS_20130406-105251-602_L1C_037-262-1_D_V1-0.zip
run script
