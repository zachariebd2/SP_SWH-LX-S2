unload conda/22.11.1  : OK 
load conda/22.11.1  : OK 
envs_dirs : /work/scratch/env/barrouz/conda_env/
pkgs_dirs : /work/scratch/env/barrouz/pkgs_conda
INPUT_PATH /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/PYR/30.txt
OUTPUT_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
DEM_PATH /work/CAMPUS/etudes/Neige/DEM
TCD_PATH /work/datalake/static_aux/TreeCoverDensity
MODELS_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
KEEP_REFL 0
MASK 1
start
/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/PYR/30.txt
muscate/SPOTWORLDHERITAGE/2011/08/27/SPOT4-HRVIR2-XS_20110827-101427-063_L1C_042-263-0_D_V1-0/SPOT4-HRVIR2-XS_20110827-101427-063_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110827-101427-063_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110827-101427-063_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T09:01:57.299    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:01:57.300    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110827-101427-063_L1C_042-263-0_D_V1-0.zip
2024-01-10T09:01:57.300    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:01:57.300    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:01:57.300    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:01:57.300    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:01:57.301    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:01:57.301    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:01:57.301    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:01:57.301    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110827-101427-063_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/27/SPOT4-HRVIR2-XS_20110827-101431-575_L1C_042-263-5_D_V1-0/SPOT4-HRVIR2-XS_20110827-101431-575_L1C_042-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110827-101431-575_L1C_042-263-5_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110827-101431-575_L1C_042-263-5_D_V1-0.zip
run script
2024-01-10T09:03:42.090    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:03:42.092    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110827-101431-575_L1C_042-263-5_D_V1-0.zip
2024-01-10T09:03:42.092    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:03:42.092    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:03:42.092    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:03:42.092    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:03:42.092    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:03:42.092    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:03:42.092    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:03:42.092    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110827-101431-575_L1C_042-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/27/SPOT4-HRVIR1-XS_20110827-101420-855_L1C_045-262-7_D_V1-0/SPOT4-HRVIR1-XS_20110827-101420-855_L1C_045-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110827-101420-855_L1C_045-262-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110827-101420-855_L1C_045-262-7_D_V1-0.zip
run script
2024-01-10T09:05:37.351    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:05:37.352    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110827-101420-855_L1C_045-262-7_D_V1-0.zip
2024-01-10T09:05:37.352    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:05:37.352    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:05:37.352    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:05:37.352    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:05:37.352    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:05:37.353    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:05:37.353    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:05:37.353    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110827-101420-855_L1C_045-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/27/SPOT4-HRVIR1-XS_20110827-101422-855_L1C_045-263-0_D_V1-0/SPOT4-HRVIR1-XS_20110827-101422-855_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110827-101422-855_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110827-101422-855_L1C_045-263-0_D_V1-0.zip
run script
2024-01-10T09:06:14.726    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:06:14.727    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110827-101422-855_L1C_045-263-0_D_V1-0.zip
2024-01-10T09:06:14.728    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:06:14.728    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:06:14.728    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:06:14.728    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:06:14.728    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:06:14.728    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:06:14.728    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:06:14.728    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110827-101422-855_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/27/SPOT4-HRVIR1-XS_20110827-101431-178_L1C_045-264-0_D_V1-0/SPOT4-HRVIR1-XS_20110827-101431-178_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110827-101431-178_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110827-101431-178_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T09:07:02.808    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:07:02.809    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110827-101431-178_L1C_045-264-0_D_V1-0.zip
2024-01-10T09:07:02.809    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:07:02.809    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:07:02.809    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:07:02.809    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:07:02.810    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:07:02.810    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:07:02.810    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:07:02.810    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110827-101431-178_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/27/SPOT4-HRVIR1-XS_20110827-101432-081_L1C_045-264-1_D_V1-0/SPOT4-HRVIR1-XS_20110827-101432-081_L1C_045-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110827-101432-081_L1C_045-264-1_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110827-101432-081_L1C_045-264-1_D_V1-0.zip
run script
2024-01-10T09:08:35.513    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:08:35.514    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110827-101432-081_L1C_045-264-1_D_V1-0.zip
2024-01-10T09:08:35.514    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:08:35.514    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:08:35.514    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:08:35.514    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:08:35.514    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:08:35.514    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:08:35.514    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:08:35.514    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110827-101432-081_L1C_045-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/09/01/SPOT4-HRVIR1-XS_20110901-101801-511_L1C_041-262-5_D_V1-0/SPOT4-HRVIR1-XS_20110901-101801-511_L1C_041-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110901-101801-511_L1C_041-262-5_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110901-101801-511_L1C_041-262-5_D_V1-0.zip
run script
2024-01-10T09:09:51.007    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:09:51.009    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110901-101801-511_L1C_041-262-5_D_V1-0.zip
2024-01-10T09:09:51.009    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:09:51.009    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:09:51.009    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:09:51.009    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:09:51.009    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:09:51.009    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:09:51.009    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:09:51.009    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110901-101801-511_L1C_041-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/09/05/SPOT4-HRVIR1-XS_20110905-104059-623_L1C_041-262-7_D_V1-0/SPOT4-HRVIR1-XS_20110905-104059-623_L1C_041-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110905-104059-623_L1C_041-262-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110905-104059-623_L1C_041-262-7_D_V1-0.zip
run script
2024-01-10T09:10:32.946    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:10:32.947    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110905-104059-623_L1C_041-262-7_D_V1-0.zip
2024-01-10T09:10:32.947    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:10:32.947    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:10:32.947    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:10:32.948    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:10:32.948    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:10:32.948    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:10:32.948    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:10:32.948    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110905-104059-623_L1C_041-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/09/12/SPOT4-HRVIR1-XS_20110912-100554-438_L1C_041-262-9_D_V1-0/SPOT4-HRVIR1-XS_20110912-100554-438_L1C_041-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110912-100554-438_L1C_041-262-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110912-100554-438_L1C_041-262-9_D_V1-0.zip
run script
2024-01-10T09:11:45.687    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:11:45.688    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110912-100554-438_L1C_041-262-9_D_V1-0.zip
2024-01-10T09:11:45.689    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:11:45.689    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:11:45.689    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:11:45.689    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:11:45.689    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:11:45.689    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:11:45.689    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:11:45.689    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110912-100554-438_L1C_041-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/09/12/SPOT4-HRVIR1-XS_20110912-100554-582_L1C_041-263-0_D_V1-0/SPOT4-HRVIR1-XS_20110912-100554-582_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110912-100554-582_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110912-100554-582_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T09:13:12.924    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:13:12.925    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110912-100554-582_L1C_041-263-0_D_V1-0.zip
2024-01-10T09:13:12.925    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:13:12.925    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:13:12.925    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:13:12.925    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:13:12.925    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:13:12.925    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:13:12.925    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:13:12.925    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110912-100554-582_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/09/12/SPOT4-HRVIR1-XS_20110912-100559-094_L1C_041-263-5_D_V1-0/SPOT4-HRVIR1-XS_20110912-100559-094_L1C_041-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110912-100559-094_L1C_041-263-5_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110912-100559-094_L1C_041-263-5_D_V1-0.zip
run script
2024-01-10T09:14:41.503    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:14:41.505    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110912-100559-094_L1C_041-263-5_D_V1-0.zip
2024-01-10T09:14:41.505    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:14:41.505    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:14:41.505    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:14:41.505    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:14:41.505    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:14:41.505    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:14:41.505    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:14:41.505    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110912-100559-094_L1C_041-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/11/02/SPOT4-HRVIR2-XS_20111102-102220-802_L1C_041-262-5_D_V1-0/SPOT4-HRVIR2-XS_20111102-102220-802_L1C_041-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111102-102220-802_L1C_041-262-5_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111102-102220-802_L1C_041-262-5_D_V1-0.zip
run script
2024-01-10T09:16:44.106    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:16:44.107    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111102-102220-802_L1C_041-262-5_D_V1-0.zip
2024-01-10T09:16:44.107    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:16:44.107    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:16:44.107    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:16:44.107    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:16:44.107    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:16:44.107    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:16:44.107    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:16:44.107    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111102-102220-802_L1C_041-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/01/15/SPOT4-HRVIR1-XS_20110115-103234-388_L1C_041-263-9_D_V1-0/SPOT4-HRVIR1-XS_20110115-103234-388_L1C_041-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110115-103234-388_L1C_041-263-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110115-103234-388_L1C_041-263-9_D_V1-0.zip
run script
2024-01-10T09:17:26.973    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:17:26.975    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110115-103234-388_L1C_041-263-9_D_V1-0.zip
2024-01-10T09:17:26.975    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:17:26.975    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:17:26.975    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:17:26.975    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:17:26.975    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:17:26.975    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:17:26.975    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:17:26.975    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110115-103234-388_L1C_041-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/01/15/SPOT4-HRVIR1-XS_20110115-103234-589_L1C_041-264-0_D_V1-0/SPOT4-HRVIR1-XS_20110115-103234-589_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110115-103234-589_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110115-103234-589_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T09:19:54.788    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:19:54.790    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110115-103234-589_L1C_041-264-0_D_V1-0.zip
2024-01-10T09:19:54.790    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:19:54.790    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:19:54.790    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:19:54.790    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:19:54.790    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:19:54.790    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:19:54.790    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:19:54.790    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110115-103234-589_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/02/26/SPOT4-HRVIR1-XS_20110226-102303-253_L1C_041-263-7_D_V1-0/SPOT4-HRVIR1-XS_20110226-102303-253_L1C_041-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110226-102303-253_L1C_041-263-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110226-102303-253_L1C_041-263-7_D_V1-0.zip
run script
2024-01-10T09:21:45.537    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:21:45.538    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110226-102303-253_L1C_041-263-7_D_V1-0.zip
2024-01-10T09:21:45.538    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:21:45.539    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:21:45.539    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:21:45.539    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:21:45.539    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:21:45.539    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:21:45.539    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:21:45.539    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110226-102303-253_L1C_041-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/02/26/SPOT4-HRVIR1-XS_20110226-102305-226_L1C_041-264-0_D_V1-0/SPOT4-HRVIR1-XS_20110226-102305-226_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110226-102305-226_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110226-102305-226_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T09:23:42.475    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:23:42.476    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110226-102305-226_L1C_041-264-0_D_V1-0.zip
2024-01-10T09:23:42.476    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:23:42.476    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:23:42.476    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:23:42.476    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:23:42.476    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:23:42.476    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:23:42.476    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:23:42.476    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110226-102305-226_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/02/26/SPOT4-HRVIR2-XS_20110226-102303-570_L1C_042-264-0_D_V1-0/SPOT4-HRVIR2-XS_20110226-102303-570_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110226-102303-570_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110226-102303-570_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T09:25:37.668    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:25:37.669    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110226-102303-570_L1C_042-264-0_D_V1-0.zip
2024-01-10T09:25:37.669    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:25:37.669    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:25:37.669    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:25:37.670    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:25:37.670    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:25:37.670    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:25:37.670    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:25:37.670    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110226-102303-570_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/03/23/SPOT4-HRVIR1-XS_20110323-104119-744_L1C_041-263-9_D_V1-0/SPOT4-HRVIR1-XS_20110323-104119-744_L1C_041-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110323-104119-744_L1C_041-263-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110323-104119-744_L1C_041-263-9_D_V1-0.zip
run script
2024-01-10T09:27:07.256    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:27:07.257    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110323-104119-744_L1C_041-263-9_D_V1-0.zip
2024-01-10T09:27:07.257    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:27:07.258    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:27:07.258    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:27:07.258    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:27:07.258    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:27:07.258    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:27:07.258    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:27:07.258    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110323-104119-744_L1C_041-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/03/23/SPOT4-HRVIR1-XS_20110323-104120-006_L1C_041-264-0_D_V1-0/SPOT4-HRVIR1-XS_20110323-104120-006_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110323-104120-006_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110323-104120-006_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T09:29:20.345    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:29:20.346    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110323-104120-006_L1C_041-264-0_D_V1-0.zip
2024-01-10T09:29:20.347    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:29:20.347    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:29:20.347    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:29:20.347    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:29:20.347    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:29:20.347    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:29:20.347    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:29:20.347    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110323-104120-006_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/07/10/SPOT4-HRVIR1-XS_20110710-103952-787_L1C_041-263-0_D_V1-0/SPOT4-HRVIR1-XS_20110710-103952-787_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110710-103952-787_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110710-103952-787_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T09:31:47.689    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:31:47.691    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110710-103952-787_L1C_041-263-0_D_V1-0.zip
2024-01-10T09:31:47.691    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:31:47.691    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:31:47.691    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:31:47.691    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:31:47.691    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:31:47.691    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:31:47.691    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:31:47.691    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110710-103952-787_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/07/10/SPOT4-HRVIR1-XS_20110710-103957-299_L1C_041-263-5_D_V1-0/SPOT4-HRVIR1-XS_20110710-103957-299_L1C_041-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110710-103957-299_L1C_041-263-5_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110710-103957-299_L1C_041-263-5_D_V1-0.zip
run script
2024-01-10T09:33:17.110    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:33:17.111    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110710-103957-299_L1C_041-263-5_D_V1-0.zip
2024-01-10T09:33:17.111    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:33:17.111    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:33:17.111    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:33:17.111    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:33:17.111    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:33:17.111    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:33:17.112    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:33:17.112    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110710-103957-299_L1C_041-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/07/10/SPOT4-HRVIR2-XS_20110710-103957-426_L1C_043-263-7_D_V1-0/SPOT4-HRVIR2-XS_20110710-103957-426_L1C_043-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110710-103957-426_L1C_043-263-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110710-103957-426_L1C_043-263-7_D_V1-0.zip
run script
2024-01-10T09:35:26.643    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:35:26.644    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110710-103957-426_L1C_043-263-7_D_V1-0.zip
2024-01-10T09:35:26.644    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:35:26.644    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:35:26.644    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:35:26.645    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:35:26.645    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:35:26.645    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:35:26.645    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:35:26.645    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110710-103957-426_L1C_043-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/07/15/SPOT4-HRVIR1-XS_20110715-104328-311_L1C_041-263-0_D_V1-0/SPOT4-HRVIR1-XS_20110715-104328-311_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110715-104328-311_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110715-104328-311_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T09:37:26.445    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:37:26.447    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110715-104328-311_L1C_041-263-0_D_V1-0.zip
2024-01-10T09:37:26.447    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:37:26.447    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:37:26.447    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:37:26.447    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:37:26.447    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:37:26.447    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:37:26.447    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:37:26.447    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110715-104328-311_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/07/15/SPOT4-HRVIR1-XS_20110715-104332-823_L1C_041-263-5_D_V1-0/SPOT4-HRVIR1-XS_20110715-104332-823_L1C_041-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110715-104332-823_L1C_041-263-5_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110715-104332-823_L1C_041-263-5_D_V1-0.zip
run script
2024-01-10T09:39:01.001    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:39:01.002    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110715-104332-823_L1C_041-263-5_D_V1-0.zip
2024-01-10T09:39:01.002    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:39:01.002    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:39:01.002    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:39:01.002    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:39:01.002    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:39:01.002    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:39:01.002    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:39:01.002    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110715-104332-823_L1C_041-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/07/15/SPOT4-HRVIR2-XS_20110715-104323-321_L1C_042-262-5_D_V1-0/SPOT4-HRVIR2-XS_20110715-104323-321_L1C_042-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110715-104323-321_L1C_042-262-5_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110715-104323-321_L1C_042-262-5_D_V1-0.zip
run script
2024-01-10T09:41:21.911    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:41:21.913    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110715-104323-321_L1C_042-262-5_D_V1-0.zip
2024-01-10T09:41:21.913    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:41:21.913    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:41:21.913    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:41:21.913    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:41:21.913    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:41:21.913    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:41:21.913    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:41:21.913    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110715-104323-321_L1C_042-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/01/SPOT4-HRVIR1-XS_20110801-101544-851_L1C_041-263-4_D_V1-0/SPOT4-HRVIR1-XS_20110801-101544-851_L1C_041-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110801-101544-851_L1C_041-263-4_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110801-101544-851_L1C_041-263-4_D_V1-0.zip
run script
2024-01-10T09:42:16.964    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:42:16.965    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110801-101544-851_L1C_041-263-4_D_V1-0.zip
2024-01-10T09:42:16.965    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:42:16.965    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:42:16.965    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:42:16.965    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:42:16.966    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:42:16.966    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:42:16.966    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:42:16.966    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110801-101544-851_L1C_041-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/01/SPOT4-HRVIR1-XS_20110801-101545-753_L1C_041-263-5_D_V1-0/SPOT4-HRVIR1-XS_20110801-101545-753_L1C_041-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110801-101545-753_L1C_041-263-5_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110801-101545-753_L1C_041-263-5_D_V1-0.zip
run script
2024-01-10T09:44:11.392    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:44:11.393    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110801-101545-753_L1C_041-263-5_D_V1-0.zip
2024-01-10T09:44:11.393    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:44:11.393    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:44:11.393    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:44:11.393    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:44:11.394    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:44:11.394    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:44:11.394    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:44:11.394    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110801-101545-753_L1C_041-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/01/SPOT4-HRVIR2-XS_20110801-101544-851_L1C_042-263-5_D_V1-0/SPOT4-HRVIR2-XS_20110801-101544-851_L1C_042-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110801-101544-851_L1C_042-263-5_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110801-101544-851_L1C_042-263-5_D_V1-0.zip
run script
2024-01-10T09:46:08.013    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:46:08.014    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110801-101544-851_L1C_042-263-5_D_V1-0.zip
2024-01-10T09:46:08.014    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:46:08.014    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:46:08.014    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:46:08.015    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:46:08.015    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:46:08.015    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:46:08.015    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:46:08.015    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T09:47:39.139    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (810 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110801-101544-851_L1C_042-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2011/08/01/SPOT4-HRVIR2-XS_20110801-101548-638_L1C_042-264-0_D_V1-0/SPOT4-HRVIR2-XS_20110801-101548-638_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110801-101548-638_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110801-101548-638_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T09:47:42.581    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:47:42.582    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110801-101548-638_L1C_042-264-0_D_V1-0.zip
2024-01-10T09:47:42.582    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:47:42.583    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:47:42.583    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:47:42.583    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:47:42.583    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:47:42.583    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:47:42.583    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:47:42.583    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110801-101548-638_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/16/SPOT4-HRVIR1-XS_20110816-102634-709_L1C_041-263-0_D_V1-0/SPOT4-HRVIR1-XS_20110816-102634-709_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110816-102634-709_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110816-102634-709_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T09:49:13.564    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:49:13.565    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110816-102634-709_L1C_041-263-0_D_V1-0.zip
2024-01-10T09:49:13.565    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:49:13.565    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:49:13.565    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:49:13.566    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:49:13.566    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:49:13.566    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:49:13.566    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:49:13.566    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110816-102634-709_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/16/SPOT4-HRVIR1-XS_20110816-102639-221_L1C_041-263-5_D_V1-0/SPOT4-HRVIR1-XS_20110816-102639-221_L1C_041-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110816-102639-221_L1C_041-263-5_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110816-102639-221_L1C_041-263-5_D_V1-0.zip
run script
2024-01-10T09:50:38.786    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:50:38.787    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110816-102639-221_L1C_041-263-5_D_V1-0.zip
2024-01-10T09:50:38.787    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:50:38.788    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:50:38.788    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:50:38.788    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:50:38.788    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:50:38.788    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:50:38.788    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:50:38.788    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110816-102639-221_L1C_041-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/16/SPOT4-HRVIR2-XS_20110816-102634-550_L1C_042-263-0_D_V1-0/SPOT4-HRVIR2-XS_20110816-102634-550_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110816-102634-550_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110816-102634-550_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T09:52:32.324    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:52:32.325    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110816-102634-550_L1C_042-263-0_D_V1-0.zip
2024-01-10T09:52:32.325    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:52:32.326    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:52:32.326    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:52:32.326    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:52:32.326    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:52:32.326    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:52:32.326    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:52:32.326    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110816-102634-550_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/16/SPOT4-HRVIR2-XS_20110816-102639-062_L1C_042-263-5_D_V1-0/SPOT4-HRVIR2-XS_20110816-102639-062_L1C_042-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110816-102639-062_L1C_042-263-5_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110816-102639-062_L1C_042-263-5_D_V1-0.zip
run script
2024-01-10T09:53:54.584    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:53:54.585    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110816-102639-062_L1C_042-263-5_D_V1-0.zip
2024-01-10T09:53:54.586    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:53:54.586    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:53:54.586    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:53:54.586    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:53:54.586    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:53:54.586    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:53:54.586    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:53:54.586    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110816-102639-062_L1C_042-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/09/10/SPOT4-HRVIR2-XS_20110910-104443-340_L1C_041-263-6_D_V1-0/SPOT4-HRVIR2-XS_20110910-104443-340_L1C_041-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110910-104443-340_L1C_041-263-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110910-104443-340_L1C_041-263-6_D_V1-0.zip
run script
2024-01-10T09:55:50.568    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:55:50.569    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110910-104443-340_L1C_041-263-6_D_V1-0.zip
2024-01-10T09:55:50.569    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:55:50.569    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:55:50.569    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:55:50.569    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:55:50.569    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:55:50.569    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:55:50.569    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:55:50.569    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110910-104443-340_L1C_041-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/09/10/SPOT4-HRVIR2-XS_20110910-104446-399_L1C_041-264-0_D_V1-0/SPOT4-HRVIR2-XS_20110910-104446-399_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110910-104446-399_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110910-104446-399_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T09:58:33.614    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:58:33.615    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110910-104446-399_L1C_041-264-0_D_V1-0.zip
2024-01-10T09:58:33.616    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:58:33.616    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:58:33.616    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:58:33.616    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:58:33.616    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:58:33.616    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:58:33.616    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:58:33.616    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110910-104446-399_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/09/10/SPOT4-HRVIR1-XS_20110910-104434-210_L1C_042-262-6_D_V1-0/SPOT4-HRVIR1-XS_20110910-104434-210_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110910-104434-210_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110910-104434-210_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T10:01:12.528    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:01:12.529    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110910-104434-210_L1C_042-262-6_D_V1-0.zip
2024-01-10T10:01:12.529    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:01:12.529    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:01:12.529    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:01:12.529    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:01:12.529    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:01:12.529    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:01:12.529    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:01:12.529    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110910-104434-210_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/09/10/SPOT4-HRVIR1-XS_20110910-104448-854_L1C_042-264-5_D_V1-0/SPOT4-HRVIR1-XS_20110910-104448-854_L1C_042-264-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110910-104448-854_L1C_042-264-5_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110910-104448-854_L1C_042-264-5_D_V1-0.zip
run script
2024-01-10T10:02:23.604    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:02:23.606    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110910-104448-854_L1C_042-264-5_D_V1-0.zip
2024-01-10T10:02:23.606    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:02:23.606    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:02:23.606    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:02:23.606    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:02:23.606    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:02:23.606    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:02:23.606    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:02:23.606    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110910-104448-854_L1C_042-264-5_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/09/16/SPOT4-HRVIR2-XS_20110916-102856-316_L1C_041-263-2_D_V1-0/SPOT4-HRVIR2-XS_20110916-102856-316_L1C_041-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110916-102856-316_L1C_041-263-2_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110916-102856-316_L1C_041-263-2_D_V1-0.zip
run script
2024-01-10T10:04:05.066    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:04:05.067    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110916-102856-316_L1C_041-263-2_D_V1-0.zip
2024-01-10T10:04:05.067    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:04:05.067    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:04:05.067    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:04:05.067    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:04:05.067    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:04:05.067    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:04:05.068    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:04:05.068    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110916-102856-316_L1C_041-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/09/16/SPOT4-HRVIR2-XS_20110916-102902-873_L1C_041-264-0_D_V1-0/SPOT4-HRVIR2-XS_20110916-102902-873_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110916-102902-873_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110916-102902-873_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T10:05:48.381    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:05:48.382    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110916-102902-873_L1C_041-264-0_D_V1-0.zip
2024-01-10T10:05:48.382    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:05:48.382    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:05:48.383    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:05:48.383    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:05:48.383    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:05:48.383    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:05:48.383    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:05:48.383    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110916-102902-873_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/09/16/SPOT4-HRVIR1-XS_20110916-102856-674_L1C_045-264-0_D_V1-0/SPOT4-HRVIR1-XS_20110916-102856-674_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110916-102856-674_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110916-102856-674_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T10:07:48.245    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:07:48.246    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110916-102856-674_L1C_045-264-0_D_V1-0.zip
2024-01-10T10:07:48.246    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:07:48.246    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:07:48.246    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:07:48.246    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:07:48.246    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:07:48.246    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:07:48.246    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:07:48.246    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110916-102856-674_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/09/16/SPOT4-HRVIR1-XS_20110916-102905-099_L1C_045-265-0_D_V1-0/SPOT4-HRVIR1-XS_20110916-102905-099_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110916-102905-099_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110916-102905-099_L1C_045-265-0_D_V1-0.zip
run script
2024-01-10T10:09:23.930    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:09:23.931    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110916-102905-099_L1C_045-265-0_D_V1-0.zip
2024-01-10T10:09:23.932    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:09:23.932    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:09:23.932    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:09:23.932    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:09:23.932    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:09:23.932    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:09:23.932    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:09:23.932    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110916-102905-099_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/09/16/SPOT4-HRVIR1-XS_20110916-102856-379_L1C_046-263-9_D_V1-0/SPOT4-HRVIR1-XS_20110916-102856-379_L1C_046-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110916-102856-379_L1C_046-263-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110916-102856-379_L1C_046-263-9_D_V1-0.zip
run script
2024-01-10T10:09:55.602    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:09:55.604    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110916-102856-379_L1C_046-263-9_D_V1-0.zip
2024-01-10T10:09:55.604    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:09:55.604    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:09:55.604    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:09:55.604    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:09:55.604    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:09:55.604    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:09:55.604    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:09:55.604    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110916-102856-379_L1C_046-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/10/06/SPOT4-HRVIR2-XS_20111006-104313-798_L1C_041-263-0_D_V1-0/SPOT4-HRVIR2-XS_20111006-104313-798_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111006-104313-798_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111006-104313-798_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T10:11:20.332    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:11:20.333    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111006-104313-798_L1C_041-263-0_D_V1-0.zip
2024-01-10T10:11:20.333    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:11:20.333    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:11:20.334    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:11:20.334    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:11:20.334    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:11:20.334    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:11:20.334    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:11:20.334    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111006-104313-798_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 2 2 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/10/06/SPOT4-HRVIR1-XS_20111006-104319-774_L1C_042-264-0_D_V1-0/SPOT4-HRVIR1-XS_20111006-104319-774_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111006-104319-774_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111006-104319-774_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T10:13:02.603    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:13:02.604    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111006-104319-774_L1C_042-264-0_D_V1-0.zip
2024-01-10T10:13:02.604    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:13:02.604    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:13:02.604    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:13:02.605    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:13:02.605    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:13:02.605    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:13:02.605    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:13:02.605    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T10:13:05.735    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (512 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111006-104319-774_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2011/10/06/SPOT4-HRVIR1-XS_20111006-104309-098_L1C_043-262-7_D_V1-0/SPOT4-HRVIR1-XS_20111006-104309-098_L1C_043-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111006-104309-098_L1C_043-262-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111006-104309-098_L1C_043-262-7_D_V1-0.zip
run script
2024-01-10T10:13:09.162    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:13:09.162    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111006-104309-098_L1C_043-262-7_D_V1-0.zip
2024-01-10T10:13:09.162    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:13:09.162    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:13:09.162    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:13:09.162    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:13:09.162    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:13:09.162    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:13:09.162    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:13:09.162    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111006-104309-098_L1C_043-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/10/06/SPOT4-HRVIR1-XS_20111006-104311-276_L1C_043-263-0_D_V1-0/SPOT4-HRVIR1-XS_20111006-104311-276_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111006-104311-276_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111006-104311-276_L1C_043-263-0_D_V1-0.zip
run script
2024-01-10T10:14:31.843    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:14:31.844    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111006-104311-276_L1C_043-263-0_D_V1-0.zip
2024-01-10T10:14:31.845    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:14:31.845    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:14:31.845    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:14:31.845    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:14:31.845    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:14:31.845    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:14:31.845    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:14:31.845    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111006-104311-276_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/10/18/SPOT4-HRVIR1-XS_20111018-101137-770_L1C_041-263-0_D_V1-0/SPOT4-HRVIR1-XS_20111018-101137-770_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111018-101137-770_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111018-101137-770_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T10:16:18.745    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:16:18.746    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111018-101137-770_L1C_041-263-0_D_V1-0.zip
2024-01-10T10:16:18.746    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:16:18.747    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:16:18.747    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:16:18.747    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:16:18.747    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:16:18.747    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:16:18.747    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:16:18.747    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111018-101137-770_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/10/18/SPOT4-HRVIR1-XS_20111018-101142-282_L1C_041-263-5_D_V1-0/SPOT4-HRVIR1-XS_20111018-101142-282_L1C_041-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111018-101142-282_L1C_041-263-5_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111018-101142-282_L1C_041-263-5_D_V1-0.zip
run script
2024-01-10T10:17:42.775    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:17:42.796    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111018-101142-282_L1C_041-263-5_D_V1-0.zip
2024-01-10T10:17:42.796    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:17:42.797    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:17:42.797    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:17:42.797    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:17:42.797    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:17:42.797    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:17:42.797    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:17:42.797    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111018-101142-282_L1C_041-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/10/18/SPOT4-HRVIR2-XS_20111018-101135-083_L1C_044-263-0_D_V1-0/SPOT4-HRVIR2-XS_20111018-101135-083_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111018-101135-083_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111018-101135-083_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T10:19:37.943    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:19:37.944    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111018-101135-083_L1C_044-263-0_D_V1-0.zip
2024-01-10T10:19:37.944    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:19:37.944    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:19:37.944    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:19:37.944    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:19:37.944    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:19:37.944    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:19:37.945    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:19:37.945    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111018-101135-083_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/12/04/SPOT4-HRVIR1-XS_20111204-100517-411_L1C_041-263-7_D_V1-0/SPOT4-HRVIR1-XS_20111204-100517-411_L1C_041-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111204-100517-411_L1C_041-263-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111204-100517-411_L1C_041-263-7_D_V1-0.zip
run script
2024-01-10T10:20:56.993    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:20:56.994    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111204-100517-411_L1C_041-263-7_D_V1-0.zip
2024-01-10T10:20:56.994    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:20:56.994    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:20:56.994    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:20:56.994    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:20:56.994    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:20:56.994    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:20:56.994    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:20:56.995    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111204-100517-411_L1C_041-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/12/04/SPOT4-HRVIR1-XS_20111204-100519-372_L1C_041-264-0_D_V1-0/SPOT4-HRVIR1-XS_20111204-100519-372_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111204-100519-372_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111204-100519-372_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T10:23:00.471    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:23:00.472    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111204-100519-372_L1C_041-264-0_D_V1-0.zip
2024-01-10T10:23:00.472    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:23:00.473    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:23:00.473    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:23:00.473    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:23:00.473    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:23:00.473    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:23:00.473    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:23:00.473    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111204-100519-372_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/02/25/SPOT4-HRVIR2-XS_20110225-104214-231_L1C_042-262-6_D_V1-0/SPOT4-HRVIR2-XS_20110225-104214-231_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110225-104214-231_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110225-104214-231_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T10:25:02.850    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:25:02.851    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110225-104214-231_L1C_042-262-6_D_V1-0.zip
2024-01-10T10:25:02.851    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:25:02.851    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:25:02.851    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:25:02.852    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:25:02.852    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:25:02.852    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:25:02.852    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:25:02.852    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110225-104214-231_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/03/07/SPOT4-HRVIR2-XS_20110307-104931-997_L1C_042-262-6_D_V1-0/SPOT4-HRVIR2-XS_20110307-104931-997_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110307-104931-997_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110307-104931-997_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T10:25:57.540    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:25:57.542    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110307-104931-997_L1C_042-262-6_D_V1-0.zip
2024-01-10T10:25:57.542    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:25:57.542    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:25:57.542    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:25:57.542    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:25:57.542    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:25:57.542    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:25:57.542    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:25:57.542    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110307-104931-997_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/03/08/SPOT4-HRVIR2-XS_20110308-103012-259_L1C_042-262-6_D_V1-0/SPOT4-HRVIR2-XS_20110308-103012-259_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110308-103012-259_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110308-103012-259_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T10:27:00.353    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:27:00.354    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110308-103012-259_L1C_042-262-6_D_V1-0.zip
2024-01-10T10:27:00.354    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:27:00.354    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:27:00.354    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:27:00.354    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:27:00.354    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:27:00.354    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:27:00.354    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:27:00.354    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110308-103012-259_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/03/08/SPOT4-HRVIR1-XS_20110308-103028-789_L1C_044-264-9_D_V1-0/SPOT4-HRVIR1-XS_20110308-103028-789_L1C_044-264-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110308-103028-789_L1C_044-264-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110308-103028-789_L1C_044-264-9_D_V1-0.zip
run script
2024-01-10T10:27:48.655    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:27:48.656    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110308-103028-789_L1C_044-264-9_D_V1-0.zip
2024-01-10T10:27:48.657    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:27:48.657    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:27:48.657    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:27:48.657    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:27:48.657    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:27:48.657    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:27:48.657    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:27:48.657    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110308-103028-789_L1C_044-264-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 0]
 [2 2 2 ... 2 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/05/10/SPOT4-HRVIR1-XS_20110510-101546-243_L1C_042-262-9_D_V1-0/SPOT4-HRVIR1-XS_20110510-101546-243_L1C_042-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110510-101546-243_L1C_042-262-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110510-101546-243_L1C_042-262-9_D_V1-0.zip
run script
2024-01-10T10:28:22.342    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:28:22.343    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110510-101546-243_L1C_042-262-9_D_V1-0.zip
2024-01-10T10:28:22.343    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:28:22.343    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:28:22.343    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:28:22.343    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:28:22.343    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:28:22.343    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:28:22.343    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:28:22.343    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110510-101546-243_L1C_042-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 2 2 ... 2 2 2]
 [0 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/05/10/SPOT4-HRVIR1-XS_20110510-101546-399_L1C_042-263-0_D_V1-0/SPOT4-HRVIR1-XS_20110510-101546-399_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110510-101546-399_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110510-101546-399_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T10:29:40.884    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:29:40.885    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110510-101546-399_L1C_042-263-0_D_V1-0.zip
2024-01-10T10:29:40.885    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:29:40.885    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:29:40.885    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:29:40.885    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:29:40.885    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:29:40.885    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:29:40.885    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:29:40.885    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110510-101546-399_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 2 2 ... 2 2 2]
 [0 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/05/10/SPOT4-HRVIR1-XS_20110510-101554-686_L1C_043-264-0_D_V1-0/SPOT4-HRVIR1-XS_20110510-101554-686_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110510-101554-686_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110510-101554-686_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T10:31:01.387    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:31:01.388    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110510-101554-686_L1C_043-264-0_D_V1-0.zip
2024-01-10T10:31:01.388    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:31:01.388    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:31:01.388    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:31:01.388    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:31:01.388    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:31:01.389    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:31:01.389    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:31:01.389    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110510-101554-686_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/05/10/SPOT4-HRVIR2-XS_20110510-101546-436_L1C_045-263-3_D_V1-0/SPOT4-HRVIR2-XS_20110510-101546-436_L1C_045-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110510-101546-436_L1C_045-263-3_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110510-101546-436_L1C_045-263-3_D_V1-0.zip
run script
2024-01-10T10:32:43.593    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:32:43.594    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110510-101546-436_L1C_045-263-3_D_V1-0.zip
2024-01-10T10:32:43.594    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:32:43.594    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:32:43.594    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:32:43.594    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:32:43.594    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:32:43.594    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:32:43.594    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:32:43.594    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110510-101546-436_L1C_045-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/05/10/SPOT4-HRVIR2-XS_20110510-101552-033_L1C_045-264-0_D_V1-0/SPOT4-HRVIR2-XS_20110510-101552-033_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110510-101552-033_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110510-101552-033_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T10:34:08.624    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:34:08.625    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110510-101552-033_L1C_045-264-0_D_V1-0.zip
2024-01-10T10:34:08.625    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:34:08.625    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:34:08.625    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:34:08.625    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:34:08.625    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:34:08.625    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:34:08.625    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:34:08.626    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110510-101552-033_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/05/10/SPOT4-HRVIR2-XS_20110510-101554-741_L1C_045-264-3_D_V1-0/SPOT4-HRVIR2-XS_20110510-101554-741_L1C_045-264-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110510-101554-741_L1C_045-264-3_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110510-101554-741_L1C_045-264-3_D_V1-0.zip
run script
2024-01-10T10:35:38.298    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:35:38.299    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110510-101554-741_L1C_045-264-3_D_V1-0.zip
2024-01-10T10:35:38.299    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:35:38.299    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:35:38.299    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:35:38.299    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:35:38.299    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:35:38.299    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:35:38.299    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:35:38.299    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110510-101554-741_L1C_045-264-3_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/05/15/SPOT4-HRVIR2-XS_20110515-101923-045_L1C_042-262-6_D_V1-0/SPOT4-HRVIR2-XS_20110515-101923-045_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110515-101923-045_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110515-101923-045_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T10:36:52.448    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:36:52.449    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110515-101923-045_L1C_042-262-6_D_V1-0.zip
2024-01-10T10:36:52.449    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:36:52.449    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:36:52.449    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:36:52.450    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:36:52.450    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:36:52.450    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:36:52.450    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:36:52.450    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T10:36:54.373    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (79 x 1). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110515-101923-045_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2011/05/15/SPOT4-HRVIR2-XS_20110515-101925-920_L1C_042-263-0_D_V1-0/SPOT4-HRVIR2-XS_20110515-101925-920_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110515-101925-920_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110515-101925-920_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T10:36:57.242    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:36:57.242    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110515-101925-920_L1C_042-263-0_D_V1-0.zip
2024-01-10T10:36:57.242    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:36:57.243    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:36:57.243    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:36:57.243    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:36:57.243    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:36:57.243    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:36:57.243    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:36:57.243    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110515-101925-920_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/05/15/SPOT4-HRVIR2-XS_20110515-101932-237_L1C_042-263-7_D_V1-0/SPOT4-HRVIR2-XS_20110515-101932-237_L1C_042-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110515-101932-237_L1C_042-263-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110515-101932-237_L1C_042-263-7_D_V1-0.zip
run script
2024-01-10T10:38:11.627    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:38:11.628    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110515-101932-237_L1C_042-263-7_D_V1-0.zip
2024-01-10T10:38:11.628    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:38:11.628    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:38:11.628    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:38:11.629    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:38:11.629    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:38:11.629    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:38:11.629    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:38:11.629    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110515-101932-237_L1C_042-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/05/15/SPOT4-HRVIR1-XS_20110515-101928-532_L1C_045-263-7_D_V1-0/SPOT4-HRVIR1-XS_20110515-101928-532_L1C_045-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110515-101928-532_L1C_045-263-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110515-101928-532_L1C_045-263-7_D_V1-0.zip
run script
2024-01-10T10:39:57.846    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:39:57.847    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110515-101928-532_L1C_045-263-7_D_V1-0.zip
2024-01-10T10:39:57.847    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:39:57.847    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:39:57.847    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:39:57.847    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:39:57.847    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:39:57.847    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:39:57.847    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:39:57.847    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110515-101928-532_L1C_045-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/05/15/SPOT4-HRVIR1-XS_20110515-101930-539_L1C_045-264-0_D_V1-0/SPOT4-HRVIR1-XS_20110515-101930-539_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110515-101930-539_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110515-101930-539_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T10:41:22.972    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:41:22.973    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110515-101930-539_L1C_045-264-0_D_V1-0.zip
2024-01-10T10:41:22.973    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:41:22.974    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:41:22.974    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:41:22.974    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:41:22.974    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:41:22.974    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:41:22.974    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:41:22.974    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110515-101930-539_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/05/15/SPOT4-HRVIR1-XS_20110515-101935-953_L1C_045-264-6_D_V1-0/SPOT4-HRVIR1-XS_20110515-101935-953_L1C_045-264-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110515-101935-953_L1C_045-264-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110515-101935-953_L1C_045-264-6_D_V1-0.zip
run script
2024-01-10T10:42:51.114    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:42:51.115    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110515-101935-953_L1C_045-264-6_D_V1-0.zip
2024-01-10T10:42:51.116    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:42:51.116    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:42:51.116    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:42:51.116    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:42:51.116    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:42:51.116    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:42:51.116    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:42:51.116    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110515-101935-953_L1C_045-264-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/17/SPOT4-HRVIR1-XS_20110817-100709-515_L1C_042-262-7_D_V1-0/SPOT4-HRVIR1-XS_20110817-100709-515_L1C_042-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110817-100709-515_L1C_042-262-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110817-100709-515_L1C_042-262-7_D_V1-0.zip
run script
2024-01-10T10:43:41.178    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:43:41.179    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110817-100709-515_L1C_042-262-7_D_V1-0.zip
2024-01-10T10:43:41.179    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:43:41.179    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:43:41.179    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:43:41.179    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:43:41.179    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:43:41.179    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:43:41.179    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:43:41.179    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110817-100709-515_L1C_042-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/17/SPOT4-HRVIR2-XS_20110817-100708-716_L1C_042-262-6_D_V1-0/SPOT4-HRVIR2-XS_20110817-100708-716_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110817-100708-716_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110817-100708-716_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T10:44:44.964    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:44:44.965    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110817-100708-716_L1C_042-262-6_D_V1-0.zip
2024-01-10T10:44:44.965    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:44:44.965    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:44:44.965    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:44:44.966    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:44:44.966    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:44:44.966    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:44:44.966    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:44:44.966    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110817-100708-716_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/17/SPOT4-HRVIR1-XS_20110817-100711-465_L1C_042-263-0_D_V1-0/SPOT4-HRVIR1-XS_20110817-100711-465_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110817-100711-465_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110817-100711-465_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T10:45:43.457    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:45:43.459    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110817-100711-465_L1C_042-263-0_D_V1-0.zip
2024-01-10T10:45:43.459    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:45:43.459    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:45:43.459    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:45:43.459    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:45:43.459    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:45:43.459    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:45:43.459    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:45:43.459    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110817-100711-465_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/17/SPOT4-HRVIR1-XS_20110817-100715-977_L1C_042-263-5_D_V1-0/SPOT4-HRVIR1-XS_20110817-100715-977_L1C_042-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110817-100715-977_L1C_042-263-5_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110817-100715-977_L1C_042-263-5_D_V1-0.zip
run script
2024-01-10T10:47:08.178    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:47:08.179    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110817-100715-977_L1C_042-263-5_D_V1-0.zip
2024-01-10T10:47:08.179    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:47:08.179    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:47:08.179    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:47:08.179    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:47:08.179    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:47:08.179    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:47:08.179    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:47:08.179    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110817-100715-977_L1C_042-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/22/SPOT4-HRVIR1-XS_20110822-101046-555_L1C_042-262-6_D_V1-0/SPOT4-HRVIR1-XS_20110822-101046-555_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110822-101046-555_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110822-101046-555_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T10:49:07.533    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:49:07.534    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110822-101046-555_L1C_042-262-6_D_V1-0.zip
2024-01-10T10:49:07.534    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:49:07.534    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:49:07.534    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:49:07.534    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:49:07.534    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:49:07.534    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:49:07.534    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:49:07.535    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110822-101046-555_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/22/SPOT4-HRVIR2-XS_20110822-101101-871_L1C_044-264-7_D_V1-0/SPOT4-HRVIR2-XS_20110822-101101-871_L1C_044-264-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110822-101101-871_L1C_044-264-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110822-101101-871_L1C_044-264-7_D_V1-0.zip
run script
2024-01-10T10:50:01.041    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:50:01.042    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110822-101101-871_L1C_044-264-7_D_V1-0.zip
2024-01-10T10:50:01.042    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:50:01.042    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:50:01.042    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:50:01.042    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:50:01.042    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:50:01.042    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:50:01.042    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:50:01.042    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110822-101101-871_L1C_044-264-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/22/SPOT4-HRVIR2-XS_20110822-101103-856_L1C_044-265-0_D_V1-0/SPOT4-HRVIR2-XS_20110822-101103-856_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110822-101103-856_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110822-101103-856_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T10:50:53.293    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:50:53.294    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110822-101103-856_L1C_044-265-0_D_V1-0.zip
2024-01-10T10:50:53.294    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:50:53.294    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:50:53.294    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:50:53.295    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:50:53.295    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:50:53.295    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:50:53.295    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:50:53.295    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110822-101103-856_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/22/SPOT4-HRVIR2-XS_20110822-101045-304_L1C_045-262-9_D_V1-0/SPOT4-HRVIR2-XS_20110822-101045-304_L1C_045-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110822-101045-304_L1C_045-262-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110822-101045-304_L1C_045-262-9_D_V1-0.zip
run script
2024-01-10T10:51:25.914    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:51:25.915    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110822-101045-304_L1C_045-262-9_D_V1-0.zip
2024-01-10T10:51:25.915    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:51:25.916    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:51:25.916    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:51:25.916    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:51:25.916    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:51:25.916    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:51:25.916    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:51:25.916    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110822-101045-304_L1C_045-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/22/SPOT4-HRVIR2-XS_20110822-101045-481_L1C_045-263-0_D_V1-0/SPOT4-HRVIR2-XS_20110822-101045-481_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110822-101045-481_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110822-101045-481_L1C_045-263-0_D_V1-0.zip
run script
2024-01-10T10:52:13.136    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:52:13.137    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110822-101045-481_L1C_045-263-0_D_V1-0.zip
2024-01-10T10:52:13.137    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:52:13.137    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:52:13.137    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:52:13.137    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:52:13.137    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:52:13.138    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:52:13.138    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:52:13.138    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110822-101045-481_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/22/SPOT4-HRVIR2-XS_20110822-101046-384_L1C_045-263-1_D_V1-0/SPOT4-HRVIR2-XS_20110822-101046-384_L1C_045-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110822-101046-384_L1C_045-263-1_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110822-101046-384_L1C_045-263-1_D_V1-0.zip
run script
2024-01-10T10:53:01.618    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:53:01.619    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110822-101046-384_L1C_045-263-1_D_V1-0.zip
2024-01-10T10:53:01.619    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:53:01.619    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:53:01.619    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:53:01.619    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:53:01.620    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:53:01.620    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:53:01.620    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:53:01.620    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110822-101046-384_L1C_045-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/22/SPOT4-HRVIR1-XS_20110822-101102-060_L1C_045-264-9_D_V1-0/SPOT4-HRVIR1-XS_20110822-101102-060_L1C_045-264-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110822-101102-060_L1C_045-264-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110822-101102-060_L1C_045-264-9_D_V1-0.zip
run script
2024-01-10T10:53:56.506    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:53:56.507    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110822-101102-060_L1C_045-264-9_D_V1-0.zip
2024-01-10T10:53:56.507    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:53:56.508    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:53:56.508    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:53:56.508    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:53:56.508    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:53:56.508    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:53:56.508    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:53:56.508    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110822-101102-060_L1C_045-264-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/22/SPOT4-HRVIR1-XS_20110822-101102-253_L1C_045-265-0_D_V1-0/SPOT4-HRVIR1-XS_20110822-101102-253_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110822-101102-253_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110822-101102-253_L1C_045-265-0_D_V1-0.zip
run script
2024-01-10T10:54:24.358    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:54:24.359    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110822-101102-253_L1C_045-265-0_D_V1-0.zip
2024-01-10T10:54:24.360    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:54:24.360    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:54:24.360    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:54:24.360    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:54:24.360    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:54:24.360    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:54:24.360    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:54:24.360    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110822-101102-253_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/10/02/SPOT4-HRVIR2-XS_20111002-102015-993_L1C_042-262-8_D_V1-0/SPOT4-HRVIR2-XS_20111002-102015-993_L1C_042-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111002-102015-993_L1C_042-262-8_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111002-102015-993_L1C_042-262-8_D_V1-0.zip
run script
2024-01-10T10:54:50.355    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:54:50.356    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111002-102015-993_L1C_042-262-8_D_V1-0.zip
2024-01-10T10:54:50.356    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:54:50.356    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:54:50.356    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:54:50.356    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:54:50.356    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:54:50.356    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:54:50.357    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:54:50.357    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111002-102015-993_L1C_042-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/10/02/SPOT4-HRVIR2-XS_20111002-102017-100_L1C_042-263-0_D_V1-0/SPOT4-HRVIR2-XS_20111002-102017-100_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111002-102017-100_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111002-102017-100_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T10:55:57.986    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:55:57.987    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111002-102017-100_L1C_042-263-0_D_V1-0.zip
2024-01-10T10:55:57.987    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:55:57.987    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:55:57.987    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:55:57.987    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:55:57.987    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:55:57.988    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:55:57.988    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:55:57.988    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111002-102017-100_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/10/02/SPOT4-HRVIR2-XS_20111002-102025-435_L1C_042-264-0_D_V1-0/SPOT4-HRVIR2-XS_20111002-102025-435_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111002-102025-435_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111002-102025-435_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T10:57:16.088    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:57:16.090    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111002-102025-435_L1C_042-264-0_D_V1-0.zip
2024-01-10T10:57:16.090    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:57:16.090    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:57:16.090    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:57:16.090    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:57:16.090    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:57:16.090    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:57:16.090    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:57:16.090    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111002-102025-435_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/10/17/SPOT4-HRVIR1-XS_20111017-103056-054_L1C_042-262-5_D_V1-0/SPOT4-HRVIR1-XS_20111017-103056-054_L1C_042-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111017-103056-054_L1C_042-262-5_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111017-103056-054_L1C_042-262-5_D_V1-0.zip
run script
2024-01-10T10:58:47.062    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:58:47.063    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111017-103056-054_L1C_042-262-5_D_V1-0.zip
2024-01-10T10:58:47.063    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:58:47.063    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:58:47.063    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:58:47.063    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:58:47.063    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:58:47.063    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:58:47.063    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:58:47.063    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111017-103056-054_L1C_042-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/10/17/SPOT4-HRVIR1-XS_20111017-103059-928_L1C_042-263-0_D_V1-0/SPOT4-HRVIR1-XS_20111017-103059-928_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111017-103059-928_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111017-103059-928_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T10:59:31.619    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:59:31.620    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111017-103059-928_L1C_042-263-0_D_V1-0.zip
2024-01-10T10:59:31.620    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:59:31.620    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:59:31.620    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:59:31.620    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:59:31.620    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:59:31.620    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:59:31.620    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:59:31.620    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111017-103059-928_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/10/17/SPOT4-HRVIR1-XS_20111017-103104-440_L1C_042-263-5_D_V1-0/SPOT4-HRVIR1-XS_20111017-103104-440_L1C_042-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111017-103104-440_L1C_042-263-5_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111017-103104-440_L1C_042-263-5_D_V1-0.zip
run script
2024-01-10T11:00:56.108    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:00:56.109    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111017-103104-440_L1C_042-263-5_D_V1-0.zip
2024-01-10T11:00:56.109    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:00:56.109    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:00:56.109    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:00:56.109    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:00:56.109    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:00:56.109    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:00:56.109    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:00:56.109    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111017-103104-440_L1C_042-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/11/13/SPOT4-HRVIR1-XS_20111113-101013-170_L1C_042-262-6_D_V1-0/SPOT4-HRVIR1-XS_20111113-101013-170_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111113-101013-170_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111113-101013-170_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T11:02:59.199    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:02:59.200    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111113-101013-170_L1C_042-262-6_D_V1-0.zip
2024-01-10T11:02:59.200    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:02:59.200    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:02:59.200    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:02:59.200    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:02:59.200    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:02:59.200    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:02:59.200    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:02:59.200    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111113-101013-170_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/01/04/SPOT4-HRVIR1-XS_20110104-104435-098_L1C_042-263-9_D_V1-0/SPOT4-HRVIR1-XS_20110104-104435-098_L1C_042-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110104-104435-098_L1C_042-263-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110104-104435-098_L1C_042-263-9_D_V1-0.zip
run script
2024-01-10T11:03:50.667    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:03:50.669    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110104-104435-098_L1C_042-263-9_D_V1-0.zip
2024-01-10T11:03:50.669    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:03:50.669    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:03:50.669    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:03:50.669    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:03:50.669    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:03:50.669    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:03:50.669    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:03:50.669    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T11:05:35.360    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1762 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110104-104435-098_L1C_042-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2011/01/04/SPOT4-HRVIR1-XS_20110104-104435-378_L1C_042-264-0_D_V1-0/SPOT4-HRVIR1-XS_20110104-104435-378_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110104-104435-378_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110104-104435-378_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T11:05:38.558    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:05:38.559    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110104-104435-378_L1C_042-264-0_D_V1-0.zip
2024-01-10T11:05:38.559    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:05:38.560    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:05:38.560    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:05:38.560    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:05:38.560    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:05:38.560    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:05:38.560    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:05:38.560    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110104-104435-378_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/02/15/SPOT4-HRVIR1-XS_20110215-103458-160_L1C_042-263-0_D_V1-0/SPOT4-HRVIR1-XS_20110215-103458-160_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110215-103458-160_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110215-103458-160_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T11:07:21.927    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:07:21.928    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110215-103458-160_L1C_042-263-0_D_V1-0.zip
2024-01-10T11:07:21.928    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:07:21.928    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:07:21.928    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:07:21.928    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:07:21.928    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:07:21.928    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:07:21.928    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:07:21.928    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110215-103458-160_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/02/15/SPOT4-HRVIR1-XS_20110215-103505-379_L1C_042-263-8_D_V1-0/SPOT4-HRVIR1-XS_20110215-103505-379_L1C_042-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110215-103505-379_L1C_042-263-8_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110215-103505-379_L1C_042-263-8_D_V1-0.zip
run script
2024-01-10T11:08:44.781    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:08:44.782    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110215-103505-379_L1C_042-263-8_D_V1-0.zip
2024-01-10T11:08:44.782    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:08:44.782    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:08:44.782    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:08:44.782    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:08:44.782    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:08:44.783    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:08:44.783    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:08:44.783    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110215-103505-379_L1C_042-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/02/15/SPOT4-HRVIR2-XS_20110215-103456-860_L1C_043-263-0_D_V1-0/SPOT4-HRVIR2-XS_20110215-103456-860_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110215-103456-860_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110215-103456-860_L1C_043-263-0_D_V1-0.zip
run script
2024-01-10T11:10:36.639    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:10:36.641    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110215-103456-860_L1C_043-263-0_D_V1-0.zip
2024-01-10T11:10:36.641    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:10:36.641    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:10:36.641    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:10:36.641    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:10:36.641    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:10:36.641    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:10:36.641    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:10:36.641    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110215-103456-860_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 2 2 ... 2 2 2]
 [0 2 2 ... 2 2 2]
 [0 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/02/15/SPOT4-HRVIR2-XS_20110215-103505-217_L1C_043-264-0_D_V1-0/SPOT4-HRVIR2-XS_20110215-103505-217_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110215-103505-217_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110215-103505-217_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T11:11:55.152    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:11:55.153    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110215-103505-217_L1C_043-264-0_D_V1-0.zip
2024-01-10T11:11:55.153    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:11:55.153    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:11:55.153    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:11:55.153    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:11:55.153    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:11:55.153    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:11:55.153    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:11:55.153    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110215-103505-217_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/04/09/SPOT4-HRVIR2-XS_20110409-101323-253_L1C_042-263-4_D_V1-0/SPOT4-HRVIR2-XS_20110409-101323-253_L1C_042-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110409-101323-253_L1C_042-263-4_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110409-101323-253_L1C_042-263-4_D_V1-0.zip
run script
2024-01-10T11:13:34.214    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:13:34.216    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110409-101323-253_L1C_042-263-4_D_V1-0.zip
2024-01-10T11:13:34.216    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:13:34.216    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:13:34.216    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:13:34.216    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:13:34.216    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:13:34.216    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:13:34.216    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:13:34.216    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110409-101323-253_L1C_042-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/04/09/SPOT4-HRVIR2-XS_20110409-101327-919_L1C_042-264-0_D_V1-0/SPOT4-HRVIR2-XS_20110409-101327-919_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110409-101327-919_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110409-101327-919_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T11:15:20.842    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:15:20.843    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110409-101327-919_L1C_042-264-0_D_V1-0.zip
2024-01-10T11:15:20.843    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:15:20.843    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:15:20.844    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:15:20.844    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:15:20.844    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:15:20.844    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:15:20.844    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:15:20.844    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T11:17:01.032    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (418 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110409-101327-919_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2011/06/26/SPOT4-HRVIR1-XS_20110626-100945-159_L1C_042-263-4_D_V1-0/SPOT4-HRVIR1-XS_20110626-100945-159_L1C_042-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110626-100945-159_L1C_042-263-4_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110626-100945-159_L1C_042-263-4_D_V1-0.zip
run script
2024-01-10T11:17:04.293    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:17:04.295    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110626-100945-159_L1C_042-263-4_D_V1-0.zip
2024-01-10T11:17:04.295    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:17:04.295    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:17:04.295    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:17:04.295    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:17:04.295    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:17:04.295    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:17:04.295    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:17:04.295    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110626-100945-159_L1C_042-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/06/26/SPOT4-HRVIR1-XS_20110626-100949-822_L1C_042-264-0_D_V1-0/SPOT4-HRVIR1-XS_20110626-100949-822_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110626-100949-822_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110626-100949-822_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T11:19:12.091    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:19:12.092    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110626-100949-822_L1C_042-264-0_D_V1-0.zip
2024-01-10T11:19:12.092    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:19:12.092    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:19:12.092    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:19:12.092    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:19:12.092    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:19:12.092    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:19:12.092    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:19:12.092    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110626-100949-822_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/07/06/SPOT4-HRVIR1-XS_20110706-101657-764_L1C_042-263-4_D_V1-0/SPOT4-HRVIR1-XS_20110706-101657-764_L1C_042-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110706-101657-764_L1C_042-263-4_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110706-101657-764_L1C_042-263-4_D_V1-0.zip
run script
2024-01-10T11:21:17.853    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:21:17.854    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110706-101657-764_L1C_042-263-4_D_V1-0.zip
2024-01-10T11:21:17.854    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:21:17.854    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:21:17.854    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:21:17.854    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:21:17.854    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:21:17.854    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:21:17.854    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:21:17.854    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110706-101657-764_L1C_042-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/07/06/SPOT4-HRVIR2-XS_20110706-101701-333_L1C_042-263-7_D_V1-0/SPOT4-HRVIR2-XS_20110706-101701-333_L1C_042-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110706-101701-333_L1C_042-263-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110706-101701-333_L1C_042-263-7_D_V1-0.zip
run script
2024-01-10T11:23:00.647    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:23:00.649    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110706-101701-333_L1C_042-263-7_D_V1-0.zip
2024-01-10T11:23:00.649    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:23:00.649    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:23:00.649    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:23:00.649    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:23:00.649    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:23:00.649    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:23:00.649    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:23:00.649    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110706-101701-333_L1C_042-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/07/16/SPOT4-HRVIR2-XS_20110716-102411-712_L1C_042-263-4_D_V1-0/SPOT4-HRVIR2-XS_20110716-102411-712_L1C_042-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110716-102411-712_L1C_042-263-4_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110716-102411-712_L1C_042-263-4_D_V1-0.zip
run script
2024-01-10T11:25:07.117    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:25:07.118    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110716-102411-712_L1C_042-263-4_D_V1-0.zip
2024-01-10T11:25:07.118    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:25:07.118    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:25:07.118    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:25:07.118    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:25:07.118    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:25:07.118    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:25:07.118    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:25:07.118    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110716-102411-712_L1C_042-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/07/16/SPOT4-HRVIR2-XS_20110716-102412-614_L1C_042-263-5_D_V1-0/SPOT4-HRVIR2-XS_20110716-102412-614_L1C_042-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110716-102412-614_L1C_042-263-5_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110716-102412-614_L1C_042-263-5_D_V1-0.zip
run script
2024-01-10T11:27:02.968    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:27:02.969    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110716-102412-614_L1C_042-263-5_D_V1-0.zip
2024-01-10T11:27:02.969    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:27:02.969    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:27:02.970    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:27:02.970    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:27:02.970    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:27:02.970    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:27:02.970    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:27:02.970    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110716-102412-614_L1C_042-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/07/31/SPOT4-HRVIR1-XS_20110731-103506-076_L1C_042-263-4_D_V1-0/SPOT4-HRVIR1-XS_20110731-103506-076_L1C_042-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110731-103506-076_L1C_042-263-4_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110731-103506-076_L1C_042-263-4_D_V1-0.zip
run script
2024-01-10T11:28:59.336    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:28:59.338    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110731-103506-076_L1C_042-263-4_D_V1-0.zip
2024-01-10T11:28:59.338    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:28:59.338    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:28:59.338    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:28:59.338    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:28:59.338    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:28:59.338    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:28:59.338    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:28:59.338    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110731-103506-076_L1C_042-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/07/31/SPOT4-HRVIR1-XS_20110731-103506-978_L1C_042-263-5_D_V1-0/SPOT4-HRVIR1-XS_20110731-103506-978_L1C_042-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110731-103506-978_L1C_042-263-5_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110731-103506-978_L1C_042-263-5_D_V1-0.zip
run script
2024-01-10T11:31:05.687    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:31:05.688    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110731-103506-978_L1C_042-263-5_D_V1-0.zip
2024-01-10T11:31:05.688    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:31:05.688    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:31:05.688    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:31:05.688    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:31:05.688    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:31:05.689    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:31:05.689    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:31:05.689    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110731-103506-978_L1C_042-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/11/29/SPOT4-HRVIR1-XS_20111129-100141-594_L1C_042-263-6_D_V1-0/SPOT4-HRVIR1-XS_20111129-100141-594_L1C_042-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111129-100141-594_L1C_042-263-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111129-100141-594_L1C_042-263-6_D_V1-0.zip
run script
2024-01-10T11:33:13.263    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:33:13.264    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111129-100141-594_L1C_042-263-6_D_V1-0.zip
2024-01-10T11:33:13.264    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:33:13.264    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:33:13.264    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:33:13.264    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:33:13.264    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:33:13.265    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:33:13.265    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:33:13.265    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111129-100141-594_L1C_042-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/11/29/SPOT4-HRVIR1-XS_20111129-100144-457_L1C_042-264-0_D_V1-0/SPOT4-HRVIR1-XS_20111129-100144-457_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111129-100144-457_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111129-100144-457_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T11:35:03.768    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:35:03.770    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111129-100144-457_L1C_042-264-0_D_V1-0.zip
2024-01-10T11:35:03.770    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:35:03.770    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:35:03.770    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:35:03.770    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:35:03.770    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:35:03.770    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:35:03.770    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:35:03.770    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T11:36:47.001    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (408 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111129-100144-457_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2011/11/29/SPOT4-HRVIR2-XS_20111129-100141-410_L1C_045-263-9_D_V1-0/SPOT4-HRVIR2-XS_20111129-100141-410_L1C_045-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111129-100141-410_L1C_045-263-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111129-100141-410_L1C_045-263-9_D_V1-0.zip
run script
2024-01-10T11:36:50.407    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:36:50.409    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111129-100141-410_L1C_045-263-9_D_V1-0.zip
2024-01-10T11:36:50.409    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:36:50.409    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:36:50.409    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:36:50.409    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:36:50.409    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:36:50.409    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:36:50.409    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:36:50.409    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111129-100141-410_L1C_045-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/11/29/SPOT4-HRVIR2-XS_20111129-100141-579_L1C_045-264-0_D_V1-0/SPOT4-HRVIR2-XS_20111129-100141-579_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111129-100141-579_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111129-100141-579_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T11:38:17.577    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:38:17.578    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111129-100141-579_L1C_045-264-0_D_V1-0.zip
2024-01-10T11:38:17.578    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:38:17.578    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:38:17.578    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:38:17.578    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:38:17.578    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:38:17.578    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:38:17.579    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:38:17.579    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111129-100141-579_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/11/29/SPOT4-HRVIR2-XS_20111129-100149-881_L1C_045-265-0_D_V1-0/SPOT4-HRVIR2-XS_20111129-100149-881_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111129-100149-881_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111129-100149-881_L1C_045-265-0_D_V1-0.zip
run script
2024-01-10T11:39:44.247    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:39:44.248    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111129-100149-881_L1C_045-265-0_D_V1-0.zip
2024-01-10T11:39:44.248    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:39:44.248    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:39:44.248    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:39:44.248    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:39:44.248    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:39:44.248    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:39:44.248    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:39:44.248    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111129-100149-881_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/12/25/SPOT4-HRVIR1-XS_20111225-100007-899_L1C_042-263-6_D_V1-0/SPOT4-HRVIR1-XS_20111225-100007-899_L1C_042-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111225-100007-899_L1C_042-263-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111225-100007-899_L1C_042-263-6_D_V1-0.zip
run script
2024-01-10T11:40:11.912    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:40:11.914    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111225-100007-899_L1C_042-263-6_D_V1-0.zip
2024-01-10T11:40:11.914    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:40:11.914    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:40:11.914    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:40:11.914    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:40:11.914    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:40:11.914    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:40:11.915    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:40:11.915    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111225-100007-899_L1C_042-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/12/25/SPOT4-HRVIR1-XS_20111225-100010-760_L1C_042-264-0_D_V1-0/SPOT4-HRVIR1-XS_20111225-100010-760_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111225-100010-760_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111225-100010-760_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T11:42:04.492    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:42:04.493    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111225-100010-760_L1C_042-264-0_D_V1-0.zip
2024-01-10T11:42:04.493    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:42:04.493    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:42:04.494    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:42:04.494    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:42:04.494    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:42:04.494    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:42:04.494    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:42:04.494    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111225-100010-760_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/12/25/SPOT4-HRVIR2-XS_20111225-100007-716_L1C_045-263-9_D_V1-0/SPOT4-HRVIR2-XS_20111225-100007-716_L1C_045-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111225-100007-716_L1C_045-263-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111225-100007-716_L1C_045-263-9_D_V1-0.zip
run script
2024-01-10T11:43:50.955    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:43:50.956    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111225-100007-716_L1C_045-263-9_D_V1-0.zip
2024-01-10T11:43:50.957    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:43:50.957    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:43:50.957    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:43:50.957    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:43:50.957    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:43:50.957    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:43:50.957    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:43:50.957    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111225-100007-716_L1C_045-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/12/25/SPOT4-HRVIR2-XS_20111225-100007-884_L1C_045-264-0_D_V1-0/SPOT4-HRVIR2-XS_20111225-100007-884_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111225-100007-884_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111225-100007-884_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T11:45:16.375    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:45:16.376    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111225-100007-884_L1C_045-264-0_D_V1-0.zip
2024-01-10T11:45:16.376    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:45:16.376    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:45:16.377    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:45:16.377    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:45:16.377    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:45:16.377    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:45:16.377    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:45:16.377    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111225-100007-884_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/12/25/SPOT4-HRVIR2-XS_20111225-100016-183_L1C_045-265-0_D_V1-0/SPOT4-HRVIR2-XS_20111225-100016-183_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111225-100016-183_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111225-100016-183_L1C_045-265-0_D_V1-0.zip
run script
2024-01-10T11:46:40.315    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:46:40.316    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111225-100016-183_L1C_045-265-0_D_V1-0.zip
2024-01-10T11:46:40.317    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:46:40.317    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:46:40.317    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:46:40.317    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:46:40.317    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:46:40.317    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:46:40.317    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:46:40.317    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111225-100016-183_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/11/27/SPOT4-HRVIR1-XS_20111127-104027-864_L1C_042-264-0_D_V1-0/SPOT4-HRVIR1-XS_20111127-104027-864_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111127-104027-864_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111127-104027-864_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T11:47:07.298    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:47:07.299    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111127-104027-864_L1C_042-264-0_D_V1-0.zip
2024-01-10T11:47:07.299    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:47:07.299    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:47:07.299    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:47:07.299    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:47:07.299    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:47:07.299    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:47:07.300    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:47:07.300    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T11:47:10.911    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (252 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111127-104027-864_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2011/02/10/SPOT4-HRVIR2-XS_20110210-103120-246_L1C_043-263-4_D_V1-0/SPOT4-HRVIR2-XS_20110210-103120-246_L1C_043-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110210-103120-246_L1C_043-263-4_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110210-103120-246_L1C_043-263-4_D_V1-0.zip
run script
2024-01-10T11:47:14.345    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:47:14.346    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110210-103120-246_L1C_043-263-4_D_V1-0.zip
2024-01-10T11:47:14.347    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:47:14.347    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:47:14.347    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:47:14.347    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:47:14.347    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:47:14.347    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:47:14.347    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:47:14.347    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110210-103120-246_L1C_043-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 1 ... 2 2 2]
 [0 1 1 ... 2 2 2]
 [0 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/02/10/SPOT4-HRVIR2-XS_20110210-103122-953_L1C_043-263-7_D_V1-0/SPOT4-HRVIR2-XS_20110210-103122-953_L1C_043-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110210-103122-953_L1C_043-263-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110210-103122-953_L1C_043-263-7_D_V1-0.zip
run script
2024-01-10T11:48:58.465    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:48:58.466    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110210-103122-953_L1C_043-263-7_D_V1-0.zip
2024-01-10T11:48:58.466    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:48:58.466    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:48:58.467    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:48:58.467    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:48:58.467    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:48:58.467    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:48:58.467    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:48:58.467    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110210-103122-953_L1C_043-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/05/04/SPOT4-HRVIR2-XS_20110504-103135-667_L1C_043-263-7_D_V1-0/SPOT4-HRVIR2-XS_20110504-103135-667_L1C_043-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110504-103135-667_L1C_043-263-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110504-103135-667_L1C_043-263-7_D_V1-0.zip
run script
2024-01-10T11:50:43.605    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:50:43.606    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110504-103135-667_L1C_043-263-7_D_V1-0.zip
2024-01-10T11:50:43.606    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:50:43.606    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:50:43.606    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:50:43.606    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:50:43.606    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:50:43.606    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:50:43.606    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:50:43.607    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110504-103135-667_L1C_043-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/05/04/SPOT4-HRVIR2-XS_20110504-103137-703_L1C_043-264-0_D_V1-0/SPOT4-HRVIR2-XS_20110504-103137-703_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110504-103137-703_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110504-103137-703_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T11:52:26.927    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:52:26.928    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110504-103137-703_L1C_043-264-0_D_V1-0.zip
2024-01-10T11:52:26.928    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:52:26.928    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:52:26.928    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:52:26.928    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:52:26.928    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:52:26.928    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:52:26.928    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:52:26.928    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110504-103137-703_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/05/04/SPOT4-HRVIR1-XS_20110504-103135-579_L1C_044-263-9_D_V1-0/SPOT4-HRVIR1-XS_20110504-103135-579_L1C_044-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110504-103135-579_L1C_044-263-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110504-103135-579_L1C_044-263-9_D_V1-0.zip
run script
2024-01-10T11:54:05.020    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:54:05.021    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110504-103135-579_L1C_044-263-9_D_V1-0.zip
2024-01-10T11:54:05.021    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:54:05.021    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:54:05.021    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:54:05.021    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:54:05.021    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:54:05.021    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:54:05.021    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:54:05.022    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110504-103135-579_L1C_044-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/05/04/SPOT4-HRVIR1-XS_20110504-103135-829_L1C_044-264-0_D_V1-0/SPOT4-HRVIR1-XS_20110504-103135-829_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110504-103135-829_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110504-103135-829_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T11:55:54.173    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:55:54.175    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110504-103135-829_L1C_044-264-0_D_V1-0.zip
2024-01-10T11:55:54.175    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:55:54.175    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:55:54.175    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:55:54.175    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:55:54.175    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:55:54.175    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:55:54.175    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:55:54.175    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110504-103135-829_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/05/04/SPOT4-HRVIR1-XS_20110504-103144-206_L1C_044-265-0_D_V1-0/SPOT4-HRVIR1-XS_20110504-103144-206_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110504-103144-206_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110504-103144-206_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T11:57:43.156    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:57:43.157    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110504-103144-206_L1C_044-265-0_D_V1-0.zip
2024-01-10T11:57:43.157    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:57:43.157    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:57:43.157    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:57:43.157    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:57:43.157    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:57:43.157    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:57:43.157    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:57:43.157    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110504-103144-206_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/11/18/SPOT4-HRVIR2-XS_20111118-101345-300_L1C_044-262-5_D_V1-0/SPOT4-HRVIR2-XS_20111118-101345-300_L1C_044-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111118-101345-300_L1C_044-262-5_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111118-101345-300_L1C_044-262-5_D_V1-0.zip
run script
2024-01-10T11:58:16.149    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:58:16.151    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111118-101345-300_L1C_044-262-5_D_V1-0.zip
2024-01-10T11:58:16.151    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:58:16.151    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:58:16.151    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:58:16.151    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:58:16.151    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:58:16.151    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:58:16.151    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:58:16.151    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T11:58:18.062    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (81 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111118-101345-300_L1C_044-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2011/11/24/SPOT4-HRVIR1-XS_20111124-095755-857_L1C_044-262-4_D_V1-0/SPOT4-HRVIR1-XS_20111124-095755-857_L1C_044-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111124-095755-857_L1C_044-262-4_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111124-095755-857_L1C_044-262-4_D_V1-0.zip
run script
2024-01-10T11:58:21.047    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:58:21.048    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111124-095755-857_L1C_044-262-4_D_V1-0.zip
2024-01-10T11:58:21.048    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:58:21.048    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:58:21.048    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:58:21.048    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:58:21.048    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:58:21.048    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:58:21.048    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:58:21.048    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111124-095755-857_L1C_044-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/11/24/SPOT4-HRVIR1-XS_20111124-095806-830_L1C_044-263-7_D_V1-0/SPOT4-HRVIR1-XS_20111124-095806-830_L1C_044-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111124-095806-830_L1C_044-263-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111124-095806-830_L1C_044-263-7_D_V1-0.zip
run script
2024-01-10T11:58:58.581    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:58:58.582    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111124-095806-830_L1C_044-263-7_D_V1-0.zip
2024-01-10T11:58:58.582    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:58:58.582    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:58:58.582    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:58:58.582    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:58:58.582    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:58:58.582    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:58:58.582    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:58:58.582    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111124-095806-830_L1C_044-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/11/24/SPOT4-HRVIR1-XS_20111124-095808-786_L1C_044-264-0_D_V1-0/SPOT4-HRVIR1-XS_20111124-095808-786_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111124-095808-786_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111124-095808-786_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T12:00:52.207    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:00:52.208    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111124-095808-786_L1C_044-264-0_D_V1-0.zip
2024-01-10T12:00:52.208    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:00:52.208    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:00:52.208    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:00:52.208    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:00:52.208    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:00:52.208    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:00:52.208    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:00:52.208    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111124-095808-786_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/11/24/SPOT4-HRVIR1-XS_20111124-095817-070_L1C_044-265-0_D_V1-0/SPOT4-HRVIR1-XS_20111124-095817-070_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111124-095817-070_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111124-095817-070_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T12:02:48.704    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:02:48.705    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111124-095817-070_L1C_044-265-0_D_V1-0.zip
2024-01-10T12:02:48.705    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:02:48.705    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:02:48.705    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:02:48.705    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:02:48.705    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:02:48.705    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:02:48.705    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:02:48.705    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111124-095817-070_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/11/24/SPOT4-HRVIR2-XS_20111124-095807-240_L1C_045-263-9_D_V1-0/SPOT4-HRVIR2-XS_20111124-095807-240_L1C_045-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111124-095807-240_L1C_045-263-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111124-095807-240_L1C_045-263-9_D_V1-0.zip
run script
2024-01-10T12:03:23.612    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:03:23.614    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111124-095807-240_L1C_045-263-9_D_V1-0.zip
2024-01-10T12:03:23.614    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:03:23.614    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:03:23.614    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:03:23.614    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:03:23.614    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:03:23.614    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:03:23.614    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:03:23.614    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111124-095807-240_L1C_045-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/11/24/SPOT4-HRVIR2-XS_20111124-095807-399_L1C_045-264-0_D_V1-0/SPOT4-HRVIR2-XS_20111124-095807-399_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111124-095807-399_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111124-095807-399_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T12:04:52.886    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:04:52.888    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111124-095807-399_L1C_045-264-0_D_V1-0.zip
2024-01-10T12:04:52.888    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:04:52.888    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:04:52.888    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:04:52.888    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:04:52.888    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:04:52.888    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:04:52.888    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:04:52.888    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111124-095807-399_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/11/24/SPOT4-HRVIR2-XS_20111124-095815-686_L1C_045-265-0_D_V1-0/SPOT4-HRVIR2-XS_20111124-095815-686_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111124-095815-686_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111124-095815-686_L1C_045-265-0_D_V1-0.zip
run script
2024-01-10T12:06:23.486    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:06:23.487    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111124-095815-686_L1C_045-265-0_D_V1-0.zip
2024-01-10T12:06:23.487    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:06:23.487    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:06:23.487    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:06:23.487    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:06:23.487    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:06:23.487    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:06:23.487    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:06:23.487    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111124-095815-686_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 2]
 [2 2 2 ... 0 0 2]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/12/13/SPOT4-HRVIR1-XS_20111213-103128-215_L1C_044-262-3_D_V1-0/SPOT4-HRVIR1-XS_20111213-103128-215_L1C_044-262-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111213-103128-215_L1C_044-262-3_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111213-103128-215_L1C_044-262-3_D_V1-0.zip
run script
2024-01-10T12:06:52.331    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:06:52.333    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111213-103128-215_L1C_044-262-3_D_V1-0.zip
2024-01-10T12:06:52.333    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:06:52.333    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:06:52.333    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:06:52.333    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:06:52.333    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:06:52.333    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:06:52.333    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:06:52.333    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111213-103128-215_L1C_044-262-3_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/12/13/SPOT4-HRVIR2-XS_20111213-103128-471_L1C_044-262-4_D_V1-0/SPOT4-HRVIR2-XS_20111213-103128-471_L1C_044-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111213-103128-471_L1C_044-262-4_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111213-103128-471_L1C_044-262-4_D_V1-0.zip
run script
2024-01-10T12:07:25.475    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:07:25.476    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111213-103128-471_L1C_044-262-4_D_V1-0.zip
2024-01-10T12:07:25.476    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:07:25.477    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:07:25.477    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:07:25.477    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:07:25.477    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:07:25.477    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:07:25.477    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:07:25.477    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T12:07:27.185    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (602 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111213-103128-471_L1C_044-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2011/12/13/SPOT4-HRVIR1-XS_20111213-103133-951_L1C_044-263-0_D_V1-0/SPOT4-HRVIR1-XS_20111213-103133-951_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111213-103133-951_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111213-103133-951_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T12:07:30.362    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:07:30.362    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111213-103133-951_L1C_044-263-0_D_V1-0.zip
2024-01-10T12:07:30.362    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:07:30.362    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:07:30.362    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:07:30.362    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:07:30.362    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:07:30.362    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:07:30.362    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:07:30.362    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111213-103133-951_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/12/13/SPOT4-HRVIR2-XS_20111213-103133-310_L1C_044-263-0_D_V1-0/SPOT4-HRVIR2-XS_20111213-103133-310_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111213-103133-310_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111213-103133-310_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T12:09:06.060    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:09:06.061    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111213-103133-310_L1C_044-263-0_D_V1-0.zip
2024-01-10T12:09:06.061    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:09:06.061    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:09:06.061    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:09:06.061    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:09:06.061    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:09:06.061    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:09:06.061    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:09:06.062    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111213-103133-310_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/12/13/SPOT4-HRVIR1-XS_20111213-103142-398_L1C_044-264-0_D_V1-0/SPOT4-HRVIR1-XS_20111213-103142-398_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111213-103142-398_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111213-103142-398_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T12:10:40.436    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:10:40.437    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111213-103142-398_L1C_044-264-0_D_V1-0.zip
2024-01-10T12:10:40.437    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:10:40.437    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:10:40.437    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:10:40.437    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:10:40.437    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:10:40.437    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:10:40.438    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:10:40.438    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111213-103142-398_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/12/13/SPOT4-HRVIR2-XS_20111213-103141-763_L1C_044-264-0_D_V1-0/SPOT4-HRVIR2-XS_20111213-103141-763_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111213-103141-763_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111213-103141-763_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T12:12:49.794    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:12:49.795    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111213-103141-763_L1C_044-264-0_D_V1-0.zip
2024-01-10T12:12:49.795    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:12:49.795    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:12:49.795    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:12:49.795    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:12:49.795    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:12:49.795    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:12:49.795    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:12:49.795    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111213-103141-763_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/12/24/SPOT4-HRVIR1-XS_20111224-101918-745_L1C_044-262-4_D_V1-0/SPOT4-HRVIR1-XS_20111224-101918-745_L1C_044-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111224-101918-745_L1C_044-262-4_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111224-101918-745_L1C_044-262-4_D_V1-0.zip
run script
2024-01-10T12:15:02.554    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:15:02.556    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111224-101918-745_L1C_044-262-4_D_V1-0.zip
2024-01-10T12:15:02.556    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:15:02.556    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:15:02.557    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:15:02.557    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:15:02.557    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:15:02.557    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:15:02.557    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:15:02.557    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111224-101918-745_L1C_044-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/04/30/SPOT4-HRVIR2-XS_20110430-100833-252_L1C_044-263-8_D_V1-0/SPOT4-HRVIR2-XS_20110430-100833-252_L1C_044-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110430-100833-252_L1C_044-263-8_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110430-100833-252_L1C_044-263-8_D_V1-0.zip
run script
2024-01-10T12:15:39.448    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:15:39.450    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110430-100833-252_L1C_044-263-8_D_V1-0.zip
2024-01-10T12:15:39.450    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:15:39.450    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:15:39.450    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:15:39.450    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:15:39.450    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:15:39.450    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:15:39.450    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:15:39.450    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110430-100833-252_L1C_044-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/04/30/SPOT4-HRVIR2-XS_20110430-100834-308_L1C_044-264-0_D_V1-0/SPOT4-HRVIR2-XS_20110430-100834-308_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110430-100834-308_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110430-100834-308_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T12:17:34.836    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:17:34.837    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110430-100834-308_L1C_044-264-0_D_V1-0.zip
2024-01-10T12:17:34.837    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:17:34.837    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:17:34.837    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:17:34.837    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:17:34.837    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:17:34.837    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:17:34.837    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:17:34.838    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110430-100834-308_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/04/30/SPOT4-HRVIR1-XS_20110430-100832-801_L1C_045-263-9_D_V1-0/SPOT4-HRVIR1-XS_20110430-100832-801_L1C_045-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110430-100832-801_L1C_045-263-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110430-100832-801_L1C_045-263-9_D_V1-0.zip
run script
2024-01-10T12:19:28.952    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:19:28.953    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110430-100832-801_L1C_045-263-9_D_V1-0.zip
2024-01-10T12:19:28.953    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:19:28.953    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:19:28.953    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:19:28.953    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:19:28.953    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:19:28.953    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:19:28.953    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:19:28.954    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110430-100832-801_L1C_045-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/04/30/SPOT4-HRVIR1-XS_20110430-100832-960_L1C_046-264-0_D_V1-0/SPOT4-HRVIR1-XS_20110430-100832-960_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110430-100832-960_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110430-100832-960_L1C_046-264-0_D_V1-0.zip
run script
2024-01-10T12:20:47.756    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:20:47.757    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110430-100832-960_L1C_046-264-0_D_V1-0.zip
2024-01-10T12:20:47.758    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:20:47.758    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:20:47.758    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:20:47.758    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:20:47.758    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:20:47.758    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:20:47.758    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:20:47.758    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110430-100832-960_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/04/30/SPOT4-HRVIR1-XS_20110430-100834-765_L1C_046-264-2_D_V1-0/SPOT4-HRVIR1-XS_20110430-100834-765_L1C_046-264-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110430-100834-765_L1C_046-264-2_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110430-100834-765_L1C_046-264-2_D_V1-0.zip
run script
2024-01-10T12:22:06.486    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:22:06.487    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110430-100834-765_L1C_046-264-2_D_V1-0.zip
2024-01-10T12:22:06.487    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:22:06.487    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:22:06.487    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:22:06.488    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:22:06.488    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:22:06.488    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:22:06.488    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:22:06.488    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110430-100834-765_L1C_046-264-2_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/12/SPOT4-HRVIR2-XS_20110812-100331-424_L1C_044-263-0_D_V1-0/SPOT4-HRVIR2-XS_20110812-100331-424_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110812-100331-424_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110812-100331-424_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T12:23:19.137    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:23:19.138    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110812-100331-424_L1C_044-263-0_D_V1-0.zip
2024-01-10T12:23:19.138    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:23:19.138    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:23:19.138    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:23:19.138    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:23:19.138    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:23:19.138    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:23:19.138    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:23:19.139    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110812-100331-424_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 0 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/08/12/SPOT4-HRVIR2-XS_20110812-100339-699_L1C_044-264-0_D_V1-0/SPOT4-HRVIR2-XS_20110812-100339-699_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110812-100339-699_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110812-100339-699_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T12:24:44.618    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:24:44.619    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110812-100339-699_L1C_044-264-0_D_V1-0.zip
2024-01-10T12:24:44.620    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:24:44.620    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:24:44.620    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:24:44.620    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:24:44.620    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:24:44.620    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:24:44.620    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:24:44.620    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110812-100339-699_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/03/02/SPOT4-HRVIR1-XS_20110302-104601-203_L1C_044-264-0_D_V1-0/SPOT4-HRVIR1-XS_20110302-104601-203_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110302-104601-203_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110302-104601-203_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T12:26:38.746    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:26:38.747    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110302-104601-203_L1C_044-264-0_D_V1-0.zip
2024-01-10T12:26:38.747    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:26:38.747    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:26:38.747    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:26:38.747    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:26:38.747    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:26:38.747    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:26:38.747    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:26:38.747    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110302-104601-203_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/03/02/SPOT4-HRVIR1-XS_20110302-104609-662_L1C_044-265-0_D_V1-0/SPOT4-HRVIR1-XS_20110302-104609-662_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110302-104609-662_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110302-104609-662_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T12:28:50.016    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:28:50.017    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110302-104609-662_L1C_044-265-0_D_V1-0.zip
2024-01-10T12:28:50.017    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:28:50.017    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:28:50.017    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:28:50.017    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:28:50.017    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:28:50.018    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:28:50.018    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:28:50.018    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110302-104609-662_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/03/02/SPOT4-HRVIR2-XS_20110302-104558-806_L1C_045-264-0_D_V1-0/SPOT4-HRVIR2-XS_20110302-104558-806_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110302-104558-806_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110302-104558-806_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T12:29:30.728    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:29:30.730    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110302-104558-806_L1C_045-264-0_D_V1-0.zip
2024-01-10T12:29:30.730    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:29:30.730    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:29:30.730    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:29:30.730    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:29:30.730    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:29:30.730    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:29:30.731    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:29:30.731    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110302-104558-806_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/03/02/SPOT4-HRVIR2-XS_20110302-104558-451_L1C_046-263-9_D_V1-0/SPOT4-HRVIR2-XS_20110302-104558-451_L1C_046-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110302-104558-451_L1C_046-263-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110302-104558-451_L1C_046-263-9_D_V1-0.zip
run script
2024-01-10T12:31:11.492    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:31:11.493    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110302-104558-451_L1C_046-263-9_D_V1-0.zip
2024-01-10T12:31:11.493    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:31:11.493    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:31:11.494    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:31:11.494    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:31:11.494    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:31:11.494    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:31:11.494    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:31:11.494    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110302-104558-451_L1C_046-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/11/08/SPOT4-HRVIR2-XS_20111108-100648-965_L1C_044-264-4_D_V1-0/SPOT4-HRVIR2-XS_20111108-100648-965_L1C_044-264-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111108-100648-965_L1C_044-264-4_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111108-100648-965_L1C_044-264-4_D_V1-0.zip
run script
2024-01-10T12:32:49.988    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:32:49.989    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111108-100648-965_L1C_044-264-4_D_V1-0.zip
2024-01-10T12:32:49.989    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:32:49.989    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:32:49.989    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:32:49.989    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:32:49.989    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:32:49.990    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:32:49.990    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:32:49.990    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111108-100648-965_L1C_044-264-4_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/11/08/SPOT4-HRVIR2-XS_20111108-100653-658_L1C_044-265-0_D_V1-0/SPOT4-HRVIR2-XS_20111108-100653-658_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111108-100653-658_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111108-100653-658_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T12:34:08.014    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:34:08.015    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111108-100653-658_L1C_044-265-0_D_V1-0.zip
2024-01-10T12:34:08.015    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:34:08.015    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:34:08.015    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:34:08.016    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:34:08.016    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:34:08.016    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:34:08.016    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:34:08.016    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111108-100653-658_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 2]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/07/27/SPOT4-HRVIR1-XS_20110727-101157-643_L1C_045-262-8_D_V1-0/SPOT4-HRVIR1-XS_20110727-101157-643_L1C_045-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110727-101157-643_L1C_045-262-8_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110727-101157-643_L1C_045-262-8_D_V1-0.zip
run script
2024-01-10T12:34:40.339    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:34:40.341    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110727-101157-643_L1C_045-262-8_D_V1-0.zip
2024-01-10T12:34:40.341    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:34:40.341    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:34:40.341    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:34:40.341    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:34:40.341    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:34:40.341    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:34:40.341    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:34:40.341    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110727-101157-643_L1C_045-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/07/27/SPOT4-HRVIR1-XS_20110727-101158-726_L1C_045-263-0_D_V1-0/SPOT4-HRVIR1-XS_20110727-101158-726_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110727-101158-726_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110727-101158-726_L1C_045-263-0_D_V1-0.zip
run script
2024-01-10T12:35:25.020    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:35:25.021    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110727-101158-726_L1C_045-263-0_D_V1-0.zip
2024-01-10T12:35:25.021    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:35:25.021    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:35:25.021    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:35:25.021    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:35:25.021    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:35:25.022    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:35:25.022    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:35:25.022    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110727-101158-726_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/07/27/SPOT4-HRVIR1-XS_20110727-101207-031_L1C_045-264-0_D_V1-0/SPOT4-HRVIR1-XS_20110727-101207-031_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110727-101207-031_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110727-101207-031_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T12:36:16.429    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:36:16.431    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110727-101207-031_L1C_045-264-0_D_V1-0.zip
2024-01-10T12:36:16.431    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:36:16.431    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:36:16.431    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:36:16.431    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:36:16.431    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:36:16.431    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:36:16.431    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:36:16.431    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110727-101207-031_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/11/19/SPOT4-HRVIR2-XS_20111119-095423-804_L1C_045-262-9_D_V1-0/SPOT4-HRVIR2-XS_20111119-095423-804_L1C_045-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111119-095423-804_L1C_045-262-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111119-095423-804_L1C_045-262-9_D_V1-0.zip
run script
2024-01-10T12:37:36.964    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:37:36.965    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111119-095423-804_L1C_045-262-9_D_V1-0.zip
2024-01-10T12:37:36.965    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:37:36.965    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:37:36.965    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:37:36.965    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:37:36.965    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:37:36.965    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:37:36.965    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:37:36.965    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111119-095423-804_L1C_045-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/11/19/SPOT4-HRVIR2-XS_20111119-095423-945_L1C_045-263-0_D_V1-0/SPOT4-HRVIR2-XS_20111119-095423-945_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111119-095423-945_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111119-095423-945_L1C_045-263-0_D_V1-0.zip
run script
2024-01-10T12:38:33.504    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:38:33.505    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111119-095423-945_L1C_045-263-0_D_V1-0.zip
2024-01-10T12:38:33.505    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:38:33.505    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:38:33.505    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:38:33.505    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:38:33.505    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:38:33.505    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:38:33.505    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:38:33.506    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111119-095423-945_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/11/19/SPOT4-HRVIR2-XS_20111119-095432-217_L1C_045-264-0_D_V1-0/SPOT4-HRVIR2-XS_20111119-095432-217_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111119-095432-217_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111119-095432-217_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T12:39:31.110    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:39:31.111    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111119-095432-217_L1C_045-264-0_D_V1-0.zip
2024-01-10T12:39:31.111    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:39:31.112    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:39:31.112    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:39:31.112    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:39:31.112    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:39:31.112    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:39:31.112    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:39:31.112    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111119-095432-217_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/11/19/SPOT4-HRVIR2-XS_20111119-095440-499_L1C_045-265-0_D_V1-0/SPOT4-HRVIR2-XS_20111119-095440-499_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111119-095440-499_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111119-095440-499_L1C_045-265-0_D_V1-0.zip
run script
2024-01-10T12:40:58.200    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:40:58.201    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111119-095440-499_L1C_045-265-0_D_V1-0.zip
2024-01-10T12:40:58.201    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:40:58.202    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:40:58.202    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:40:58.202    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:40:58.202    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:40:58.202    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:40:58.202    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:40:58.202    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111119-095440-499_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/03/24/SPOT4-HRVIR1-XS_20110324-102145-141_L1C_045-263-0_D_V1-0/SPOT4-HRVIR1-XS_20110324-102145-141_L1C_045-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110324-102145-141_L1C_045-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110324-102145-141_L1C_045-263-0_D_V1-0.zip
run script
2024-01-10T12:41:26.657    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:41:26.659    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110324-102145-141_L1C_045-263-0_D_V1-0.zip
2024-01-10T12:41:26.659    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:41:26.659    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:41:26.659    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:41:26.659    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:41:26.659    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:41:26.659    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:41:26.659    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:41:26.659    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110324-102145-141_L1C_045-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/05/05/SPOT4-HRVIR2-XS_20110505-101212-940_L1C_045-263-9_D_V1-0/SPOT4-HRVIR2-XS_20110505-101212-940_L1C_045-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110505-101212-940_L1C_045-263-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110505-101212-940_L1C_045-263-9_D_V1-0.zip
run script
2024-01-10T12:42:15.419    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:42:15.420    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110505-101212-940_L1C_045-263-9_D_V1-0.zip
2024-01-10T12:42:15.420    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:42:15.420    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:42:15.420    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:42:15.420    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:42:15.421    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:42:15.421    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:42:15.421    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:42:15.421    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110505-101212-940_L1C_045-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/05/05/SPOT4-HRVIR2-XS_20110505-101213-108_L1C_045-264-0_D_V1-0/SPOT4-HRVIR2-XS_20110505-101213-108_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110505-101213-108_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110505-101213-108_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T12:43:49.952    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:43:49.954    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110505-101213-108_L1C_045-264-0_D_V1-0.zip
2024-01-10T12:43:49.954    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:43:49.954    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:43:49.954    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:43:49.954    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:43:49.954    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:43:49.954    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:43:49.954    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:43:49.954    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110505-101213-108_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/05/05/SPOT4-HRVIR2-XS_20110505-101214-011_L1C_045-264-1_D_V1-0/SPOT4-HRVIR2-XS_20110505-101214-011_L1C_045-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110505-101214-011_L1C_045-264-1_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110505-101214-011_L1C_045-264-1_D_V1-0.zip
run script
2024-01-10T12:45:25.782    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:45:25.783    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110505-101214-011_L1C_045-264-1_D_V1-0.zip
2024-01-10T12:45:25.783    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:45:25.783    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:45:25.783    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:45:25.783    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:45:25.784    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:45:25.784    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:45:25.784    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:45:25.784    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110505-101214-011_L1C_045-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/07/01/SPOT4-HRVIR1-XS_20110701-101321-774_L1C_045-263-8_D_V1-0/SPOT4-HRVIR1-XS_20110701-101321-774_L1C_045-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110701-101321-774_L1C_045-263-8_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110701-101321-774_L1C_045-263-8_D_V1-0.zip
run script
2024-01-10T12:46:57.399    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:46:57.400    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110701-101321-774_L1C_045-263-8_D_V1-0.zip
2024-01-10T12:46:57.401    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:46:57.401    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:46:57.401    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:46:57.401    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:46:57.401    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:46:57.401    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:46:57.401    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:46:57.401    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110701-101321-774_L1C_045-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/07/01/SPOT4-HRVIR1-XS_20110701-101322-862_L1C_045-264-0_D_V1-0/SPOT4-HRVIR1-XS_20110701-101322-862_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110701-101322-862_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110701-101322-862_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T12:48:17.310    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:48:17.311    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110701-101322-862_L1C_045-264-0_D_V1-0.zip
2024-01-10T12:48:17.311    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:48:17.311    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:48:17.311    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:48:17.311    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:48:17.311    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:48:17.312    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:48:17.312    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:48:17.312    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110701-101322-862_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/07/01/SPOT4-HRVIR1-XS_20110701-101331-177_L1C_045-265-0_D_V1-0/SPOT4-HRVIR1-XS_20110701-101331-177_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110701-101331-177_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110701-101331-177_L1C_045-265-0_D_V1-0.zip
run script
2024-01-10T12:49:37.939    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:49:37.940    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110701-101331-177_L1C_045-265-0_D_V1-0.zip
2024-01-10T12:49:37.940    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:49:37.940    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:49:37.940    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:49:37.940    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:49:37.940    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:49:37.940    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:49:37.940    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:49:37.940    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110701-101331-177_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/09/28/SPOT4-HRVIR2-XS_20110928-095723-326_L1C_045-263-9_D_V1-0/SPOT4-HRVIR2-XS_20110928-095723-326_L1C_045-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110928-095723-326_L1C_045-263-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110928-095723-326_L1C_045-263-9_D_V1-0.zip
run script
2024-01-10T12:50:04.128    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:50:04.129    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110928-095723-326_L1C_045-263-9_D_V1-0.zip
2024-01-10T12:50:04.129    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:50:04.129    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:50:04.129    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:50:04.129    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:50:04.129    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:50:04.129    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:50:04.130    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:50:04.130    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110928-095723-326_L1C_045-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/09/28/SPOT4-HRVIR2-XS_20110928-095723-476_L1C_045-264-0_D_V1-0/SPOT4-HRVIR2-XS_20110928-095723-476_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110928-095723-476_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110928-095723-476_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T12:51:30.827    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:51:30.828    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110928-095723-476_L1C_045-264-0_D_V1-0.zip
2024-01-10T12:51:30.828    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:51:30.828    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:51:30.828    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:51:30.828    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:51:30.828    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:51:30.829    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:51:30.829    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:51:30.829    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110928-095723-476_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/10/03/SPOT4-HRVIR1-XS_20111003-100058-712_L1C_045-263-9_D_V1-0/SPOT4-HRVIR1-XS_20111003-100058-712_L1C_045-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111003-100058-712_L1C_045-263-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111003-100058-712_L1C_045-263-9_D_V1-0.zip
run script
2024-01-10T12:52:57.931    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:52:57.932    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111003-100058-712_L1C_045-263-9_D_V1-0.zip
2024-01-10T12:52:57.932    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:52:57.932    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:52:57.932    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:52:57.932    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:52:57.932    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:52:57.932    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:52:57.932    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:52:57.932    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111003-100058-712_L1C_045-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/10/03/SPOT4-HRVIR1-XS_20111003-100058-875_L1C_045-264-0_D_V1-0/SPOT4-HRVIR1-XS_20111003-100058-875_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111003-100058-875_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111003-100058-875_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T12:54:21.254    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:54:21.255    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111003-100058-875_L1C_045-264-0_D_V1-0.zip
2024-01-10T12:54:21.255    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:54:21.255    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:54:21.256    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:54:21.256    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:54:21.256    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:54:21.256    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:54:21.256    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:54:21.256    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111003-100058-875_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/10/08/SPOT4-HRVIR2-XS_20111008-100433-669_L1C_045-263-9_D_V1-0/SPOT4-HRVIR2-XS_20111008-100433-669_L1C_045-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111008-100433-669_L1C_045-263-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111008-100433-669_L1C_045-263-9_D_V1-0.zip
run script
2024-01-10T12:55:44.738    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:55:44.740    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111008-100433-669_L1C_045-263-9_D_V1-0.zip
2024-01-10T12:55:44.740    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:55:44.740    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:55:44.740    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:55:44.740    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:55:44.740    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:55:44.740    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:55:44.740    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:55:44.741    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111008-100433-669_L1C_045-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/10/08/SPOT4-HRVIR2-XS_20111008-100433-840_L1C_045-264-0_D_V1-0/SPOT4-HRVIR2-XS_20111008-100433-840_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111008-100433-840_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111008-100433-840_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T12:57:09.936    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:57:09.937    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111008-100433-840_L1C_045-264-0_D_V1-0.zip
2024-01-10T12:57:09.937    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:57:09.937    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:57:09.937    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:57:09.937    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:57:09.937    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:57:09.937    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:57:09.938    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:57:09.938    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111008-100433-840_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/10/08/SPOT4-HRVIR2-XS_20111008-100442-142_L1C_045-265-0_D_V1-0/SPOT4-HRVIR2-XS_20111008-100442-142_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111008-100442-142_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111008-100442-142_L1C_045-265-0_D_V1-0.zip
run script
2024-01-10T12:58:35.090    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:58:35.091    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111008-100442-142_L1C_045-265-0_D_V1-0.zip
2024-01-10T12:58:35.091    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:58:35.091    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:58:35.091    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:58:35.091    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:58:35.092    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:58:35.092    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:58:35.092    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:58:35.092    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111008-100442-142_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/10/13/SPOT4-HRVIR2-XS_20111013-100806-908_L1C_045-263-8_D_V1-0/SPOT4-HRVIR2-XS_20111013-100806-908_L1C_045-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111013-100806-908_L1C_045-263-8_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111013-100806-908_L1C_045-263-8_D_V1-0.zip
run script
2024-01-10T12:59:01.718    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:59:01.720    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111013-100806-908_L1C_045-263-8_D_V1-0.zip
2024-01-10T12:59:01.720    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:59:01.720    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:59:01.720    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:59:01.720    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:59:01.720    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:59:01.720    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:59:01.720    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:59:01.720    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111013-100806-908_L1C_045-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/10/13/SPOT4-HRVIR2-XS_20111013-100808-000_L1C_045-264-0_D_V1-0/SPOT4-HRVIR2-XS_20111013-100808-000_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111013-100808-000_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111013-100808-000_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T13:00:17.573    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:00:17.575    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111013-100808-000_L1C_045-264-0_D_V1-0.zip
2024-01-10T13:00:17.575    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:00:17.575    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:00:17.575    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:00:17.575    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:00:17.575    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:00:17.575    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:00:17.575    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:00:17.575    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111013-100808-000_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/10/13/SPOT4-HRVIR2-XS_20111013-100816-314_L1C_046-265-0_D_V1-0/SPOT4-HRVIR2-XS_20111013-100816-314_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111013-100816-314_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111013-100816-314_L1C_046-265-0_D_V1-0.zip
run script
2024-01-10T13:01:35.858    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:01:35.859    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111013-100816-314_L1C_046-265-0_D_V1-0.zip
2024-01-10T13:01:35.859    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:01:35.859    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:01:35.859    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:01:35.859    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:01:35.859    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:01:35.859    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:01:35.860    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:01:35.860    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111013-100816-314_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/11/23/SPOT4-HRVIR1-XS_20111123-101729-056_L1C_045-263-8_D_V1-0/SPOT4-HRVIR1-XS_20111123-101729-056_L1C_045-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111123-101729-056_L1C_045-263-8_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111123-101729-056_L1C_045-263-8_D_V1-0.zip
run script
2024-01-10T13:02:02.341    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:02:02.342    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111123-101729-056_L1C_045-263-8_D_V1-0.zip
2024-01-10T13:02:02.342    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:02:02.343    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:02:02.343    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:02:02.343    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:02:02.343    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:02:02.343    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:02:02.343    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:02:02.343    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111123-101729-056_L1C_045-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/11/23/SPOT4-HRVIR1-XS_20111123-101730-202_L1C_045-264-0_D_V1-0/SPOT4-HRVIR1-XS_20111123-101730-202_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111123-101730-202_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111123-101730-202_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T13:03:22.414    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:03:22.416    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111123-101730-202_L1C_045-264-0_D_V1-0.zip
2024-01-10T13:03:22.416    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:03:22.416    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:03:22.416    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:03:22.416    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:03:22.416    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:03:22.416    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:03:22.416    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:03:22.416    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111123-101730-202_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/11/23/SPOT4-HRVIR1-XS_20111123-101738-574_L1C_045-265-0_D_V1-0/SPOT4-HRVIR1-XS_20111123-101738-574_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111123-101738-574_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111123-101738-574_L1C_045-265-0_D_V1-0.zip
run script
2024-01-10T13:04:43.925    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:04:43.926    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111123-101738-574_L1C_045-265-0_D_V1-0.zip
2024-01-10T13:04:43.927    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:04:43.927    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:04:43.927    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:04:43.934    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:04:43.934    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:04:43.935    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:04:43.935    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:04:43.935    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111123-101738-574_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/12/14/SPOT4-HRVIR1-XS_20111214-101218-495_L1C_045-263-9_D_V1-0/SPOT4-HRVIR1-XS_20111214-101218-495_L1C_045-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111214-101218-495_L1C_045-263-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111214-101218-495_L1C_045-263-9_D_V1-0.zip
run script
2024-01-10T13:05:11.398    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:05:11.399    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111214-101218-495_L1C_045-263-9_D_V1-0.zip
2024-01-10T13:05:11.399    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:05:11.399    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:05:11.399    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:05:11.399    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:05:11.399    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:05:11.399    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:05:11.399    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:05:11.400    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111214-101218-495_L1C_045-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/12/14/SPOT4-HRVIR1-XS_20111214-101218-715_L1C_045-264-0_D_V1-0/SPOT4-HRVIR1-XS_20111214-101218-715_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111214-101218-715_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111214-101218-715_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T13:06:29.012    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:06:29.013    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111214-101218-715_L1C_045-264-0_D_V1-0.zip
2024-01-10T13:06:29.013    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:06:29.013    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:06:29.013    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:06:29.013    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:06:29.014    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:06:29.014    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:06:29.014    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:06:29.014    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111214-101218-715_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/12/30/SPOT4-HRVIR2-XS_20111230-100344-320_L1C_045-263-9_D_V1-0/SPOT4-HRVIR2-XS_20111230-100344-320_L1C_045-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111230-100344-320_L1C_045-263-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111230-100344-320_L1C_045-263-9_D_V1-0.zip
run script
2024-01-10T13:07:48.002    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:07:48.003    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111230-100344-320_L1C_045-263-9_D_V1-0.zip
2024-01-10T13:07:48.003    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:07:48.003    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:07:48.003    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:07:48.003    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:07:48.003    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:07:48.003    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:07:48.003    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:07:48.003    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111230-100344-320_L1C_045-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/12/30/SPOT4-HRVIR2-XS_20111230-100344-504_L1C_045-264-0_D_V1-0/SPOT4-HRVIR2-XS_20111230-100344-504_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111230-100344-504_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111230-100344-504_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T13:09:06.568    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:09:06.569    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111230-100344-504_L1C_045-264-0_D_V1-0.zip
2024-01-10T13:09:06.569    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:09:06.570    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:09:06.570    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:09:06.570    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:09:06.570    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:09:06.570    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:09:06.570    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:09:06.570    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111230-100344-504_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/12/30/SPOT4-HRVIR2-XS_20111230-100352-818_L1C_045-265-0_D_V1-0/SPOT4-HRVIR2-XS_20111230-100352-818_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111230-100352-818_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111230-100352-818_L1C_045-265-0_D_V1-0.zip
run script
2024-01-10T13:10:26.098    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:10:26.100    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111230-100352-818_L1C_045-265-0_D_V1-0.zip
2024-01-10T13:10:26.100    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:10:26.100    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:10:26.100    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:10:26.100    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:10:26.100    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:10:26.100    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:10:26.100    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:10:26.100    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111230-100352-818_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/12/30/SPOT4-HRVIR1-XS_20111230-100351-192_L1C_047-265-0_D_V1-0/SPOT4-HRVIR1-XS_20111230-100351-192_L1C_047-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20111230-100351-192_L1C_047-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111230-100351-192_L1C_047-265-0_D_V1-0.zip
run script
2024-01-10T13:10:52.231    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:10:52.232    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111230-100351-192_L1C_047-265-0_D_V1-0.zip
2024-01-10T13:10:52.233    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:10:52.233    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:10:52.233    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:10:52.233    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:10:52.233    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:10:52.233    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:10:52.233    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:10:52.233    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20111230-100351-192_L1C_047-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/04/23/SPOT4-HRVIR1-XS_20110423-104335-298_L1C_045-264-0_D_V1-0/SPOT4-HRVIR1-XS_20110423-104335-298_L1C_045-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110423-104335-298_L1C_045-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110423-104335-298_L1C_045-264-0_D_V1-0.zip
run script
2024-01-10T13:11:01.157    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:11:01.158    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110423-104335-298_L1C_045-264-0_D_V1-0.zip
2024-01-10T13:11:01.158    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:11:01.158    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:11:01.159    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:11:01.159    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:11:01.159    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:11:01.159    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:11:01.159    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:11:01.159    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110423-104335-298_L1C_045-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/09/02/SPOT4-HRVIR1-XS_20110902-095851-456_L1C_045-264-7_D_V1-0/SPOT4-HRVIR1-XS_20110902-095851-456_L1C_045-264-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110902-095851-456_L1C_045-264-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110902-095851-456_L1C_045-264-7_D_V1-0.zip
run script
2024-01-10T13:12:47.471    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:12:47.473    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110902-095851-456_L1C_045-264-7_D_V1-0.zip
2024-01-10T13:12:47.473    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:12:47.473    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:12:47.473    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:12:47.473    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:12:47.473    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:12:47.473    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:12:47.473    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:12:47.473    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110902-095851-456_L1C_045-264-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/09/02/SPOT4-HRVIR1-XS_20110902-095853-417_L1C_045-265-0_D_V1-0/SPOT4-HRVIR1-XS_20110902-095853-417_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110902-095853-417_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110902-095853-417_L1C_045-265-0_D_V1-0.zip
run script
2024-01-10T13:14:41.416    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:14:41.417    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110902-095853-417_L1C_045-265-0_D_V1-0.zip
2024-01-10T13:14:41.417    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:14:41.417    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:14:41.417    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:14:41.417    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:14:41.417    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:14:41.418    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:14:41.418    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:14:41.418    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110902-095853-417_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/09/07/SPOT4-HRVIR2-XS_20110907-100213-796_L1C_046-263-0_D_V1-0/SPOT4-HRVIR2-XS_20110907-100213-796_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110907-100213-796_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110907-100213-796_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T13:15:11.689    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:15:11.690    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110907-100213-796_L1C_046-263-0_D_V1-0.zip
2024-01-10T13:15:11.690    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:15:11.691    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:15:11.691    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:15:11.691    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:15:11.691    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:15:11.691    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:15:11.691    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:15:11.691    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110907-100213-796_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/02/01/SPOT4-HRVIR1-XS_20110201-100445-366_L1C_047-264-9_D_V1-0/SPOT4-HRVIR1-XS_20110201-100445-366_L1C_047-264-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110201-100445-366_L1C_047-264-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110201-100445-366_L1C_047-264-9_D_V1-0.zip
run script
2024-01-10T13:16:00.249    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:16:00.250    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110201-100445-366_L1C_047-264-9_D_V1-0.zip
2024-01-10T13:16:00.250    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:16:00.250    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:16:00.250    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:16:00.250    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:16:00.250    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:16:00.251    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:16:00.251    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:16:00.251    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110201-100445-366_L1C_047-264-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 2]
 [2 2 2 ... 0 2 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/02/01/SPOT4-HRVIR1-XS_20110201-100445-523_L1C_047-265-0_D_V1-0/SPOT4-HRVIR1-XS_20110201-100445-523_L1C_047-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110201-100445-523_L1C_047-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110201-100445-523_L1C_047-265-0_D_V1-0.zip
run script
2024-01-10T13:16:12.885    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:16:12.886    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110201-100445-523_L1C_047-265-0_D_V1-0.zip
2024-01-10T13:16:12.886    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:16:12.886    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:16:12.886    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:16:12.887    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:16:12.887    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:16:12.887    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:16:12.887    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:16:12.887    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110201-100445-523_L1C_047-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/02/27/SPOT4-HRVIR1-XS_20110227-100341-234_L1C_047-264-6_D_V1-0/SPOT4-HRVIR1-XS_20110227-100341-234_L1C_047-264-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20110227-100341-234_L1C_047-264-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110227-100341-234_L1C_047-264-6_D_V1-0.zip
run script
2024-01-10T13:16:25.173    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:16:25.175    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110227-100341-234_L1C_047-264-6_D_V1-0.zip
2024-01-10T13:16:25.175    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:16:25.175    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:16:25.175    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:16:25.175    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:16:25.175    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:16:25.175    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:16:25.175    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:16:25.176    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR1-XS_20110227-100341-234_L1C_047-264-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/02/27/SPOT4-HRVIR2-XS_20110227-100317-618_L1C_048-262-0_D_V1-0/SPOT4-HRVIR2-XS_20110227-100317-618_L1C_048-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110227-100317-618_L1C_048-262-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110227-100317-618_L1C_048-262-0_D_V1-0.zip
run script
2024-01-10T13:16:44.565    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:16:44.566    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110227-100317-618_L1C_048-262-0_D_V1-0.zip
2024-01-10T13:16:44.567    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:16:44.567    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:16:44.567    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:16:44.567    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:16:44.567    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:16:44.567    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:16:44.567    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:16:44.567    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110227-100317-618_L1C_048-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2011/03/25/SPOT4-HRVIR2-XS_20110325-100228-725_L1C_047-264-0_D_V1-0/SPOT4-HRVIR2-XS_20110325-100228-725_L1C_047-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110325-100228-725_L1C_047-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110325-100228-725_L1C_047-264-0_D_V1-0.zip
run script
2024-01-10T13:16:47.431    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:16:47.431    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110325-100228-725_L1C_047-264-0_D_V1-0.zip
2024-01-10T13:16:47.431    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:16:47.432    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:16:47.432    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:16:47.432    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:16:47.432    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:16:47.432    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:16:47.432    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:16:47.432    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110325-100228-725_L1C_047-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/03/25/SPOT4-HRVIR2-XS_20110325-100237-003_L1C_047-265-0_D_V1-0/SPOT4-HRVIR2-XS_20110325-100237-003_L1C_047-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20110325-100237-003_L1C_047-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110325-100237-003_L1C_047-265-0_D_V1-0.zip
run script
2024-01-10T13:17:04.507    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:17:04.508    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110325-100237-003_L1C_047-265-0_D_V1-0.zip
2024-01-10T13:17:04.508    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:17:04.508    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:17:04.508    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:17:04.508    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:17:04.508    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:17:04.508    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:17:04.508    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:17:04.509    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20110325-100237-003_L1C_047-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2011/12/31/SPOT4-HRVIR2-XS_20111231-094400-884_L1C_048-262-0_D_V1-0/SPOT4-HRVIR2-XS_20111231-094400-884_L1C_048-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20111231-094400-884_L1C_048-262-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111231-094400-884_L1C_048-262-0_D_V1-0.zip
run script
2024-01-10T13:17:16.313    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:17:16.315    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111231-094400-884_L1C_048-262-0_D_V1-0.zip
2024-01-10T13:17:16.315    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:17:16.315    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:17:16.315    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:17:16.315    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:17:16.315    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:17:16.315    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:17:16.315    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:17:16.315    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT4-HRVIR2-XS_20111231-094400-884_L1C_048-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2003/05/15/SPOT5-HRG2-XS_20030515-111556-994_L1C_036-262-0_D_V1-0/SPOT5-HRG2-XS_20030515-111556-994_L1C_036-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030515-111556-994_L1C_036-262-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030515-111556-994_L1C_036-262-0_D_V1-0.zip
run script
2024-01-10T13:17:21.175    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:17:21.175    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030515-111556-994_L1C_036-262-0_D_V1-0.zip
2024-01-10T13:17:21.175    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:17:21.175    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:17:21.175    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:17:21.175    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:17:21.175    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:17:21.175    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:17:21.175    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:17:21.175    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T13:17:24.311    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 404). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030515-111556-994_L1C_036-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2003/05/15/SPOT5-HRG2-XS_20030515-111605-368_L1C_036-263-0_D_V1-0/SPOT5-HRG2-XS_20030515-111605-368_L1C_036-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030515-111605-368_L1C_036-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030515-111605-368_L1C_036-263-0_D_V1-0.zip
run script
2024-01-10T13:17:28.918    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:17:28.919    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030515-111605-368_L1C_036-263-0_D_V1-0.zip
2024-01-10T13:17:28.919    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:17:28.919    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:17:28.919    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:17:28.919    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:17:28.919    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:17:28.919    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:17:28.919    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:17:28.919    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030515-111605-368_L1C_036-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/05/15/SPOT5-HRG2-XS_20030515-111606-258_L1C_036-263-1_D_V1-0/SPOT5-HRG2-XS_20030515-111606-258_L1C_036-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030515-111606-258_L1C_036-263-1_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030515-111606-258_L1C_036-263-1_D_V1-0.zip
run script
2024-01-10T13:18:31.677    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:18:31.679    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030515-111606-258_L1C_036-263-1_D_V1-0.zip
2024-01-10T13:18:31.679    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:18:31.679    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:18:31.679    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:18:31.679    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:18:31.679    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:18:31.679    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:18:31.679    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:18:31.679    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030515-111606-258_L1C_036-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 0 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/05/15/SPOT5-HRG1-XS_20030515-111600-934_L1C_039-263-0_D_V1-0/SPOT5-HRG1-XS_20030515-111600-934_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030515-111600-934_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030515-111600-934_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T13:19:38.302    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:19:38.303    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030515-111600-934_L1C_039-263-0_D_V1-0.zip
2024-01-10T13:19:38.303    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:19:38.304    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:19:38.304    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:19:38.304    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:19:38.304    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:19:38.304    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:19:38.304    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:19:38.304    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030515-111600-934_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 2]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/05/15/SPOT5-HRG1-XS_20030515-111609-332_L1C_039-264-0_D_V1-0/SPOT5-HRG1-XS_20030515-111609-332_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030515-111609-332_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030515-111609-332_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T13:21:19.034    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:21:19.035    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030515-111609-332_L1C_039-264-0_D_V1-0.zip
2024-01-10T13:21:19.035    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:21:19.035    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:21:19.035    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:21:19.035    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:21:19.035    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:21:19.035    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:21:19.035    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:21:19.035    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030515-111609-332_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/02/17/SPOT5-HRG2-XS_20030217-104909-131_L1C_037-262-1_D_V1-0/SPOT5-HRG2-XS_20030217-104909-131_L1C_037-262-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030217-104909-131_L1C_037-262-1_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030217-104909-131_L1C_037-262-1_D_V1-0.zip
run script
2024-01-10T13:23:42.815    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:23:42.816    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030217-104909-131_L1C_037-262-1_D_V1-0.zip
2024-01-10T13:23:42.816    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:23:42.816    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:23:42.816    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:23:42.817    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:23:42.817    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:23:42.817    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:23:42.817    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:23:42.817    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030217-104909-131_L1C_037-262-1_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/05/25/SPOT5-HRG2-XS_20030525-112331-897_L1C_037-262-1_D_V1-0/SPOT5-HRG2-XS_20030525-112331-897_L1C_037-262-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030525-112331-897_L1C_037-262-1_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030525-112331-897_L1C_037-262-1_D_V1-0.zip
run script
2024-01-10T13:23:56.761    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:23:56.763    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030525-112331-897_L1C_037-262-1_D_V1-0.zip
2024-01-10T13:23:56.763    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:23:56.763    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:23:56.763    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:23:56.763    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:23:56.763    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:23:56.763    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:23:56.763    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:23:56.763    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030525-112331-897_L1C_037-262-1_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/03/14/SPOT5-HRG2-XS_20030314-110829-741_L1C_037-263-6_D_V1-0/SPOT5-HRG2-XS_20030314-110829-741_L1C_037-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030314-110829-741_L1C_037-263-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030314-110829-741_L1C_037-263-6_D_V1-0.zip
run script
2024-01-10T13:24:11.970    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:24:11.971    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030314-110829-741_L1C_037-263-6_D_V1-0.zip
2024-01-10T13:24:11.972    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:24:11.972    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:24:11.972    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:24:11.972    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:24:11.972    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:24:11.972    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:24:11.972    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:24:11.972    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030314-110829-741_L1C_037-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/06/26/SPOT5-HRG2-XS_20030626-110809-746_L1C_037-263-4_D_V1-0/SPOT5-HRG2-XS_20030626-110809-746_L1C_037-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030626-110809-746_L1C_037-263-4_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030626-110809-746_L1C_037-263-4_D_V1-0.zip
run script
2024-01-10T13:26:01.517    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:26:01.518    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030626-110809-746_L1C_037-263-4_D_V1-0.zip
2024-01-10T13:26:01.518    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:26:01.518    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:26:01.518    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:26:01.518    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:26:01.519    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:26:01.519    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:26:01.519    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:26:01.519    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030626-110809-746_L1C_037-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/07/22/SPOT5-HRG2-XS_20030722-110759-670_L1C_037-263-0_D_V1-0/SPOT5-HRG2-XS_20030722-110759-670_L1C_037-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030722-110759-670_L1C_037-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030722-110759-670_L1C_037-263-0_D_V1-0.zip
run script
2024-01-10T13:27:50.340    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:27:50.341    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030722-110759-670_L1C_037-263-0_D_V1-0.zip
2024-01-10T13:27:50.341    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:27:50.341    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:27:50.341    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:27:50.341    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:27:50.341    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:27:50.341    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:27:50.341    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:27:50.341    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030722-110759-670_L1C_037-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/11/02/SPOT5-HRG1-XS_20031102-112624-267_L1C_038-262-6_D_V1-0/SPOT5-HRG1-XS_20031102-112624-267_L1C_038-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20031102-112624-267_L1C_038-262-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031102-112624-267_L1C_038-262-6_D_V1-0.zip
run script
2024-01-10T13:29:14.306    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:29:14.307    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031102-112624-267_L1C_038-262-6_D_V1-0.zip
2024-01-10T13:29:14.307    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:29:14.307    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:29:14.307    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:29:14.307    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:29:14.308    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:29:14.308    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:29:14.308    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:29:14.308    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031102-112624-267_L1C_038-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/12/26/SPOT5-HRG2-XS_20031226-104729-284_L1C_038-262-9_D_V1-0/SPOT5-HRG2-XS_20031226-104729-284_L1C_038-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20031226-104729-284_L1C_038-262-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031226-104729-284_L1C_038-262-9_D_V1-0.zip
run script
2024-01-10T13:30:38.488    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:30:38.489    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031226-104729-284_L1C_038-262-9_D_V1-0.zip
2024-01-10T13:30:38.489    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:30:38.489    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:30:38.489    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:30:38.489    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:30:38.489    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:30:38.489    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:30:38.489    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:30:38.490    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031226-104729-284_L1C_038-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/12/26/SPOT5-HRG2-XS_20031226-104729-453_L1C_038-263-0_D_V1-0/SPOT5-HRG2-XS_20031226-104729-453_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20031226-104729-453_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031226-104729-453_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T13:32:19.887    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:32:19.889    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031226-104729-453_L1C_038-263-0_D_V1-0.zip
2024-01-10T13:32:19.889    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:32:19.889    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:32:19.889    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:32:19.889    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:32:19.889    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:32:19.889    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:32:19.889    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:32:19.889    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031226-104729-453_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/12/26/SPOT5-HRG2-XS_20031226-104730-343_L1C_038-263-1_D_V1-0/SPOT5-HRG2-XS_20031226-104730-343_L1C_038-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20031226-104730-343_L1C_038-263-1_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031226-104730-343_L1C_038-263-1_D_V1-0.zip
run script
2024-01-10T13:34:05.001    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:34:05.002    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031226-104730-343_L1C_038-263-1_D_V1-0.zip
2024-01-10T13:34:05.002    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:34:05.002    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:34:05.002    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:34:05.002    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:34:05.002    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:34:05.002    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:34:05.002    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:34:05.002    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031226-104730-343_L1C_038-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/12/26/SPOT5-HRG1-XS_20031226-104727-881_L1C_039-262-8_D_V1-0/SPOT5-HRG1-XS_20031226-104727-881_L1C_039-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20031226-104727-881_L1C_039-262-8_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031226-104727-881_L1C_039-262-8_D_V1-0.zip
run script
2024-01-10T13:35:58.489    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:35:58.490    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031226-104727-881_L1C_039-262-8_D_V1-0.zip
2024-01-10T13:35:58.490    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:35:58.490    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:35:58.490    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:35:58.490    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:35:58.490    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:35:58.490    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:35:58.491    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:35:58.491    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031226-104727-881_L1C_039-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/12/26/SPOT5-HRG1-XS_20031226-104728-940_L1C_039-263-0_D_V1-0/SPOT5-HRG1-XS_20031226-104728-940_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20031226-104728-940_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031226-104728-940_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T13:37:26.305    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:37:26.306    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031226-104728-940_L1C_039-263-0_D_V1-0.zip
2024-01-10T13:37:26.307    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:37:26.307    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:37:26.307    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:37:26.307    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:37:26.307    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:37:26.307    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:37:26.307    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:37:26.307    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031226-104728-940_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/12/26/SPOT5-HRG1-XS_20031226-104737-242_L1C_039-264-0_D_V1-0/SPOT5-HRG1-XS_20031226-104737-242_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20031226-104737-242_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031226-104737-242_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T13:39:07.346    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:39:07.348    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031226-104737-242_L1C_039-264-0_D_V1-0.zip
2024-01-10T13:39:07.348    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:39:07.348    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:39:07.348    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:39:07.348    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:39:07.348    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:39:07.348    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:39:07.348    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:39:07.348    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031226-104737-242_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/08/28/SPOT5-HRG1-XS_20030828-105627-606_L1C_038-263-7_D_V1-0/SPOT5-HRG1-XS_20030828-105627-606_L1C_038-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030828-105627-606_L1C_038-263-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030828-105627-606_L1C_038-263-7_D_V1-0.zip
run script
2024-01-10T13:41:32.203    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:41:32.205    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030828-105627-606_L1C_038-263-7_D_V1-0.zip
2024-01-10T13:41:32.205    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:41:32.205    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:41:32.205    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:41:32.205    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:41:32.205    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:41:32.205    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:41:32.205    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:41:32.205    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030828-105627-606_L1C_038-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/10/09/SPOT5-HRG1-XS_20031009-104820-953_L1C_038-263-7_D_V1-0/SPOT5-HRG1-XS_20031009-104820-953_L1C_038-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20031009-104820-953_L1C_038-263-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031009-104820-953_L1C_038-263-7_D_V1-0.zip
run script
2024-01-10T13:43:43.033    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:43:43.034    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031009-104820-953_L1C_038-263-7_D_V1-0.zip
2024-01-10T13:43:43.034    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:43:43.034    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:43:43.034    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:43:43.034    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:43:43.034    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:43:43.034    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:43:43.034    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:43:43.034    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031009-104820-953_L1C_038-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/12/31/SPOT5-HRG2-XS_20031231-105115-784_L1C_039-262-8_D_V1-0/SPOT5-HRG2-XS_20031231-105115-784_L1C_039-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20031231-105115-784_L1C_039-262-8_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031231-105115-784_L1C_039-262-8_D_V1-0.zip
run script
2024-01-10T13:46:12.476    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:46:12.477    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031231-105115-784_L1C_039-262-8_D_V1-0.zip
2024-01-10T13:46:12.478    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:46:12.478    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:46:12.478    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:46:12.478    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:46:12.478    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:46:12.478    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:46:12.478    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:46:12.478    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031231-105115-784_L1C_039-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/12/31/SPOT5-HRG2-XS_20031231-105116-843_L1C_039-263-0_D_V1-0/SPOT5-HRG2-XS_20031231-105116-843_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20031231-105116-843_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031231-105116-843_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T13:47:36.145    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:47:36.146    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031231-105116-843_L1C_039-263-0_D_V1-0.zip
2024-01-10T13:47:36.146    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:47:36.146    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:47:36.146    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:47:36.147    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:47:36.147    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:47:36.147    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:47:36.147    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:47:36.147    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031231-105116-843_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/06/22/SPOT5-HRG1-XS_20030622-104501-029_L1C_039-263-5_D_V1-0/SPOT5-HRG1-XS_20030622-104501-029_L1C_039-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030622-104501-029_L1C_039-263-5_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030622-104501-029_L1C_039-263-5_D_V1-0.zip
run script
2024-01-10T13:49:13.819    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:49:13.820    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030622-104501-029_L1C_039-263-5_D_V1-0.zip
2024-01-10T13:49:13.820    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:49:13.820    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:49:13.820    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:49:13.820    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:49:13.820    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:49:13.820    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:49:13.820    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:49:13.820    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030622-104501-029_L1C_039-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/06/22/SPOT5-HRG1-XS_20030622-104504-807_L1C_039-264-0_D_V1-0/SPOT5-HRG1-XS_20030622-104504-807_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030622-104504-807_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030622-104504-807_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T13:51:53.035    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:51:53.036    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030622-104504-807_L1C_039-264-0_D_V1-0.zip
2024-01-10T13:51:53.036    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:51:53.036    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:51:53.036    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:51:53.036    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:51:53.037    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:51:53.037    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:51:53.037    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:51:53.037    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030622-104504-807_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/03/08/SPOT5-HRG2-XS_20030308-112340-981_L1C_040-262-3_D_V1-0/SPOT5-HRG2-XS_20030308-112340-981_L1C_040-262-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030308-112340-981_L1C_040-262-3_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030308-112340-981_L1C_040-262-3_D_V1-0.zip
run script
2024-01-10T13:54:36.510    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:54:36.511    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030308-112340-981_L1C_040-262-3_D_V1-0.zip
2024-01-10T13:54:36.511    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:54:36.511    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:54:36.511    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:54:36.512    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:54:36.512    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:54:36.512    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:54:36.512    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:54:36.512    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030308-112340-981_L1C_040-262-3_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/03/08/SPOT5-HRG2-XS_20030308-112344-591_L1C_040-262-7_D_V1-0/SPOT5-HRG2-XS_20030308-112344-591_L1C_040-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030308-112344-591_L1C_040-262-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030308-112344-591_L1C_040-262-7_D_V1-0.zip
run script
2024-01-10T13:55:25.577    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:55:25.578    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030308-112344-591_L1C_040-262-7_D_V1-0.zip
2024-01-10T13:55:25.578    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:55:25.578    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:55:25.578    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:55:25.578    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:55:25.579    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:55:25.579    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:55:25.579    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:55:25.579    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030308-112344-591_L1C_040-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/03/09/SPOT5-HRG2-XS_20030309-110426-831_L1C_040-262-4_D_V1-0/SPOT5-HRG2-XS_20030309-110426-831_L1C_040-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030309-110426-831_L1C_040-262-4_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030309-110426-831_L1C_040-262-4_D_V1-0.zip
run script
2024-01-10T13:58:04.682    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:58:04.683    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030309-110426-831_L1C_040-262-4_D_V1-0.zip
2024-01-10T13:58:04.683    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:58:04.684    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:58:04.684    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:58:04.684    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:58:04.684    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:58:04.684    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:58:04.684    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:58:04.684    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030309-110426-831_L1C_040-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/03/09/SPOT5-HRG2-XS_20030309-110431-572_L1C_040-263-0_D_V1-0/SPOT5-HRG2-XS_20030309-110431-572_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030309-110431-572_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030309-110431-572_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T13:58:49.047    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:58:49.048    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030309-110431-572_L1C_040-263-0_D_V1-0.zip
2024-01-10T13:58:49.048    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:58:49.048    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:58:49.048    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:58:49.049    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:58:49.049    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:58:49.049    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:58:49.049    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:58:49.049    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030309-110431-572_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 0 0]
 [2 2 2 ... 0 0 2]
 [2 2 2 ... 0 0 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/03/09/SPOT5-HRG2-XS_20030309-110439-922_L1C_040-264-0_D_V1-0/SPOT5-HRG2-XS_20030309-110439-922_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030309-110439-922_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030309-110439-922_L1C_040-264-0_D_V1-0.zip
run script
2024-01-10T14:00:30.925    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:00:30.926    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030309-110439-922_L1C_040-264-0_D_V1-0.zip
2024-01-10T14:00:30.926    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:00:30.926    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:00:30.927    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:00:30.927    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:00:30.927    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:00:30.927    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:00:30.927    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:00:30.927    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030309-110439-922_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/03/10/SPOT5-HRG2-XS_20030310-104514-691_L1C_040-263-0_D_V1-0/SPOT5-HRG2-XS_20030310-104514-691_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030310-104514-691_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030310-104514-691_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T14:02:37.280    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:02:37.281    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030310-104514-691_L1C_040-263-0_D_V1-0.zip
2024-01-10T14:02:37.281    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:02:37.281    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:02:37.281    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:02:37.281    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:02:37.281    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:02:37.281    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:02:37.281    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:02:37.281    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030310-104514-691_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/03/10/SPOT5-HRG2-XS_20030310-104522-969_L1C_040-264-0_D_V1-0/SPOT5-HRG2-XS_20030310-104522-969_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030310-104522-969_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030310-104522-969_L1C_040-264-0_D_V1-0.zip
run script
2024-01-10T14:04:23.965    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:04:23.967    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030310-104522-969_L1C_040-264-0_D_V1-0.zip
2024-01-10T14:04:23.967    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:04:23.967    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:04:23.967    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:04:23.967    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:04:23.967    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:04:23.967    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:04:23.967    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:04:23.967    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030310-104522-969_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/03/10/SPOT5-HRG2-XS_20030310-104523-884_L1C_040-264-1_D_V1-0/SPOT5-HRG2-XS_20030310-104523-884_L1C_040-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030310-104523-884_L1C_040-264-1_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030310-104523-884_L1C_040-264-1_D_V1-0.zip
run script
2024-01-10T14:06:52.065    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:06:52.066    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030310-104523-884_L1C_040-264-1_D_V1-0.zip
2024-01-10T14:06:52.066    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:06:52.066    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:06:52.066    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:06:52.066    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:06:52.066    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:06:52.067    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:06:52.067    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:06:52.067    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030310-104523-884_L1C_040-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/07/01/SPOT5-HRG1-XS_20030701-111156-386_L1C_040-263-6_D_V1-0/SPOT5-HRG1-XS_20030701-111156-386_L1C_040-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030701-111156-386_L1C_040-263-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030701-111156-386_L1C_040-263-6_D_V1-0.zip
run script
2024-01-10T14:09:19.931    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:09:19.932    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030701-111156-386_L1C_040-263-6_D_V1-0.zip
2024-01-10T14:09:19.932    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:09:19.932    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:09:19.932    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:09:19.932    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:09:19.932    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:09:19.932    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:09:19.933    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:09:19.933    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030701-111156-386_L1C_040-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/07/01/SPOT5-HRG1-XS_20030701-111158-191_L1C_040-263-8_D_V1-0/SPOT5-HRG1-XS_20030701-111158-191_L1C_040-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030701-111158-191_L1C_040-263-8_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030701-111158-191_L1C_040-263-8_D_V1-0.zip
run script
2024-01-10T14:11:42.745    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:11:42.746    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030701-111158-191_L1C_040-263-8_D_V1-0.zip
2024-01-10T14:11:42.746    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:11:42.746    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:11:42.747    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:11:42.747    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:11:42.747    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:11:42.747    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:11:42.747    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:11:42.747    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030701-111158-191_L1C_040-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/07/02/SPOT5-HRG1-XS_20030702-105240-453_L1C_040-263-6_D_V1-0/SPOT5-HRG1-XS_20030702-105240-453_L1C_040-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030702-105240-453_L1C_040-263-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030702-105240-453_L1C_040-263-6_D_V1-0.zip
run script
2024-01-10T14:14:41.327    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:14:41.328    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030702-105240-453_L1C_040-263-6_D_V1-0.zip
2024-01-10T14:14:41.328    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:14:41.328    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:14:41.328    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:14:41.328    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:14:41.328    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:14:41.329    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:14:41.329    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:14:41.329    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030702-105240-453_L1C_040-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/07/02/SPOT5-HRG1-XS_20030702-105242-258_L1C_040-263-8_D_V1-0/SPOT5-HRG1-XS_20030702-105242-258_L1C_040-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030702-105242-258_L1C_040-263-8_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030702-105242-258_L1C_040-263-8_D_V1-0.zip
run script
2024-01-10T14:16:55.584    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:16:55.586    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030702-105242-258_L1C_040-263-8_D_V1-0.zip
2024-01-10T14:16:55.586    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:16:55.586    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:16:55.586    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:16:55.586    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:16:55.586    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:16:55.587    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:16:55.587    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:16:55.587    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030702-105242-258_L1C_040-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/07/11/SPOT5-HRG2-XS_20030711-111933-730_L1C_040-263-6_D_V1-0/SPOT5-HRG2-XS_20030711-111933-730_L1C_040-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030711-111933-730_L1C_040-263-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030711-111933-730_L1C_040-263-6_D_V1-0.zip
run script
2024-01-10T14:19:06.701    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:19:06.703    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030711-111933-730_L1C_040-263-6_D_V1-0.zip
2024-01-10T14:19:06.703    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:19:06.703    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:19:06.703    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:19:06.703    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:19:06.703    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:19:06.703    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:19:06.703    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:19:06.703    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030711-111933-730_L1C_040-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/07/11/SPOT5-HRG2-XS_20030711-111934-620_L1C_040-263-7_D_V1-0/SPOT5-HRG2-XS_20030711-111934-620_L1C_040-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030711-111934-620_L1C_040-263-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030711-111934-620_L1C_040-263-7_D_V1-0.zip
run script
2024-01-10T14:22:03.228    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:22:03.229    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030711-111934-620_L1C_040-263-7_D_V1-0.zip
2024-01-10T14:22:03.229    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:22:03.229    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:22:03.229    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:22:03.230    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:22:03.230    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:22:03.230    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:22:03.230    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:22:03.230    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030711-111934-620_L1C_040-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/07/16/SPOT5-HRG2-XS_20030716-112322-419_L1C_040-263-6_D_V1-0/SPOT5-HRG2-XS_20030716-112322-419_L1C_040-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030716-112322-419_L1C_040-263-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030716-112322-419_L1C_040-263-6_D_V1-0.zip
run script
2024-01-10T14:24:53.119    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:24:53.120    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030716-112322-419_L1C_040-263-6_D_V1-0.zip
2024-01-10T14:24:53.121    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:24:53.121    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:24:53.121    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:24:53.121    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:24:53.121    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:24:53.121    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:24:53.121    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:24:53.121    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030716-112322-419_L1C_040-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/08/02/SPOT5-HRG1-XS_20030802-105628-633_L1C_040-263-7_D_V1-0/SPOT5-HRG1-XS_20030802-105628-633_L1C_040-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030802-105628-633_L1C_040-263-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030802-105628-633_L1C_040-263-7_D_V1-0.zip
run script
2024-01-10T14:28:02.651    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:28:02.652    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030802-105628-633_L1C_040-263-7_D_V1-0.zip
2024-01-10T14:28:02.652    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:28:02.652    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:28:02.652    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:28:02.652    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:28:02.652    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:28:02.652    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:28:02.652    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:28:02.652    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030802-105628-633_L1C_040-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/08/02/SPOT5-HRG1-XS_20030802-105630-630_L1C_040-264-0_D_V1-0/SPOT5-HRG1-XS_20030802-105630-630_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030802-105630-630_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030802-105630-630_L1C_040-264-0_D_V1-0.zip
run script
2024-01-10T14:30:10.521    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:30:10.522    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030802-105630-630_L1C_040-264-0_D_V1-0.zip
2024-01-10T14:30:10.522    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:30:10.522    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:30:10.523    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:30:10.523    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:30:10.523    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:30:10.523    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:30:10.523    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:30:10.523    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030802-105630-630_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/08/23/SPOT5-HRG1-XS_20030823-105233-846_L1C_040-263-6_D_V1-0/SPOT5-HRG1-XS_20030823-105233-846_L1C_040-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030823-105233-846_L1C_040-263-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030823-105233-846_L1C_040-263-6_D_V1-0.zip
run script
2024-01-10T14:32:15.312    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:32:15.313    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030823-105233-846_L1C_040-263-6_D_V1-0.zip
2024-01-10T14:32:15.313    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:32:15.313    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:32:15.313    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:32:15.313    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:32:15.313    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:32:15.313    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:32:15.313    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:32:15.313    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030823-105233-846_L1C_040-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/08/23/SPOT5-HRG1-XS_20030823-105235-650_L1C_040-263-8_D_V1-0/SPOT5-HRG1-XS_20030823-105235-650_L1C_040-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030823-105235-650_L1C_040-263-8_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030823-105235-650_L1C_040-263-8_D_V1-0.zip
run script
2024-01-10T14:34:32.543    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:34:32.544    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030823-105235-650_L1C_040-263-8_D_V1-0.zip
2024-01-10T14:34:32.544    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:34:32.544    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:34:32.544    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:34:32.544    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:34:32.544    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:34:32.544    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:34:32.545    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:34:32.545    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030823-105235-650_L1C_040-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/09/13/SPOT5-HRG2-XS_20030913-104834-517_L1C_040-263-6_D_V1-0/SPOT5-HRG2-XS_20030913-104834-517_L1C_040-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030913-104834-517_L1C_040-263-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030913-104834-517_L1C_040-263-6_D_V1-0.zip
run script
2024-01-10T14:36:46.001    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:36:46.003    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030913-104834-517_L1C_040-263-6_D_V1-0.zip
2024-01-10T14:36:46.003    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:36:46.003    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:36:46.004    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:36:46.004    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:36:46.004    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:36:46.004    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:36:46.004    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:36:46.004    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030913-104834-517_L1C_040-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/09/13/SPOT5-HRG2-XS_20030913-104836-322_L1C_040-263-8_D_V1-0/SPOT5-HRG2-XS_20030913-104836-322_L1C_040-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030913-104836-322_L1C_040-263-8_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030913-104836-322_L1C_040-263-8_D_V1-0.zip
run script
2024-01-10T14:39:07.570    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:39:07.571    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030913-104836-322_L1C_040-263-8_D_V1-0.zip
2024-01-10T14:39:07.571    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:39:07.572    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:39:07.572    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:39:07.572    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:39:07.572    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:39:07.572    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:39:07.572    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:39:07.572    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030913-104836-322_L1C_040-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/09/13/SPOT5-HRG1-XS_20030913-104827-057_L1C_042-263-1_D_V1-0/SPOT5-HRG1-XS_20030913-104827-057_L1C_042-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030913-104827-057_L1C_042-263-1_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030913-104827-057_L1C_042-263-1_D_V1-0.zip
run script
2024-01-10T14:41:25.543    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:41:25.544    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030913-104827-057_L1C_042-263-1_D_V1-0.zip
2024-01-10T14:41:25.544    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:41:25.544    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:41:25.544    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:41:25.544    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:41:25.544    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:41:25.544    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:41:25.545    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:41:25.545    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T14:43:01.079    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (348 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030913-104827-057_L1C_042-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2003/09/13/SPOT5-HRG1-XS_20030913-104832-472_L1C_042-263-7_D_V1-0/SPOT5-HRG1-XS_20030913-104832-472_L1C_042-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030913-104832-472_L1C_042-263-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030913-104832-472_L1C_042-263-7_D_V1-0.zip
run script
2024-01-10T14:43:06.085    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:43:06.087    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030913-104832-472_L1C_042-263-7_D_V1-0.zip
2024-01-10T14:43:06.087    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:43:06.087    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:43:06.087    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:43:06.087    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:43:06.087    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:43:06.087    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:43:06.087    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:43:06.087    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030913-104832-472_L1C_042-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/12/04/SPOT5-HRG1-XS_20031204-111051-145_L1C_040-263-9_D_V1-0/SPOT5-HRG1-XS_20031204-111051-145_L1C_040-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20031204-111051-145_L1C_040-263-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031204-111051-145_L1C_040-263-9_D_V1-0.zip
run script
2024-01-10T14:45:03.692    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:45:03.693    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031204-111051-145_L1C_040-263-9_D_V1-0.zip
2024-01-10T14:45:03.693    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:45:03.693    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:45:03.694    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:45:03.694    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:45:03.694    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:45:03.694    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:45:03.694    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:45:03.694    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031204-111051-145_L1C_040-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/02/22/SPOT5-HRG2-XS_20030222-105258-195_L1C_041-262-6_D_V1-0/SPOT5-HRG2-XS_20030222-105258-195_L1C_041-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030222-105258-195_L1C_041-262-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030222-105258-195_L1C_041-262-6_D_V1-0.zip
run script
2024-01-10T14:47:16.232    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:47:16.233    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030222-105258-195_L1C_041-262-6_D_V1-0.zip
2024-01-10T14:47:16.234    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:47:16.234    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:47:16.234    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:47:16.234    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:47:16.234    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:47:16.234    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:47:16.234    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:47:16.234    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030222-105258-195_L1C_041-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/03/05/SPOT5-HRG1-XS_20030305-104118-463_L1C_041-262-4_D_V1-0/SPOT5-HRG1-XS_20030305-104118-463_L1C_041-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030305-104118-463_L1C_041-262-4_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030305-104118-463_L1C_041-262-4_D_V1-0.zip
run script
2024-01-10T14:48:21.436    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:48:21.437    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030305-104118-463_L1C_041-262-4_D_V1-0.zip
2024-01-10T14:48:21.437    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:48:21.438    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:48:21.438    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:48:21.438    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:48:21.438    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:48:21.438    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:48:21.438    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:48:21.438    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030305-104118-463_L1C_041-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/03/05/SPOT5-HRG1-XS_20030305-104120-268_L1C_041-262-6_D_V1-0/SPOT5-HRG1-XS_20030305-104120-268_L1C_041-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030305-104120-268_L1C_041-262-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030305-104120-268_L1C_041-262-6_D_V1-0.zip
run script
2024-01-10T14:49:12.591    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:49:12.592    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030305-104120-268_L1C_041-262-6_D_V1-0.zip
2024-01-10T14:49:12.592    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:49:12.592    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:49:12.592    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:49:12.592    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:49:12.592    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:49:12.592    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:49:12.592    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:49:12.592    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030305-104120-268_L1C_041-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/03/31/SPOT5-HRG2-XS_20030331-104120-463_L1C_041-262-6_D_V1-0/SPOT5-HRG2-XS_20030331-104120-463_L1C_041-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030331-104120-463_L1C_041-262-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030331-104120-463_L1C_041-262-6_D_V1-0.zip
run script
2024-01-10T14:50:31.900    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:50:31.901    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030331-104120-463_L1C_041-262-6_D_V1-0.zip
2024-01-10T14:50:31.901    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:50:31.901    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:50:31.902    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:50:31.902    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:50:31.902    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:50:31.902    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:50:31.902    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:50:31.902    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030331-104120-463_L1C_041-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/04/05/SPOT5-HRG2-XS_20030405-104513-264_L1C_041-262-6_D_V1-0/SPOT5-HRG2-XS_20030405-104513-264_L1C_041-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030405-104513-264_L1C_041-262-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030405-104513-264_L1C_041-262-6_D_V1-0.zip
run script
2024-01-10T14:51:52.470    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:51:52.471    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030405-104513-264_L1C_041-262-6_D_V1-0.zip
2024-01-10T14:51:52.471    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:51:52.471    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:51:52.472    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:51:52.472    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:51:52.472    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:51:52.472    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:51:52.472    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:51:52.472    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030405-104513-264_L1C_041-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/03/30/SPOT5-HRG2-XS_20030330-110040-947_L1C_041-263-0_D_V1-0/SPOT5-HRG2-XS_20030330-110040-947_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030330-110040-947_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030330-110040-947_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T14:53:03.119    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:53:03.120    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030330-110040-947_L1C_041-263-0_D_V1-0.zip
2024-01-10T14:53:03.120    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:53:03.120    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:53:03.121    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:53:03.121    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:53:03.121    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:53:03.121    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:53:03.121    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:53:03.121    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030330-110040-947_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/03/30/SPOT5-HRG2-XS_20030330-110048-167_L1C_041-263-8_D_V1-0/SPOT5-HRG2-XS_20030330-110048-167_L1C_041-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030330-110048-167_L1C_041-263-8_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030330-110048-167_L1C_041-263-8_D_V1-0.zip
run script
2024-01-10T14:54:43.718    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:54:43.719    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030330-110048-167_L1C_041-263-8_D_V1-0.zip
2024-01-10T14:54:43.719    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:54:43.719    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:54:43.719    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:54:43.719    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:54:43.719    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:54:43.719    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:54:43.719    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:54:43.719    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030330-110048-167_L1C_041-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/04/25/SPOT5-HRG1-XS_20030425-110045-642_L1C_041-263-4_D_V1-0/SPOT5-HRG1-XS_20030425-110045-642_L1C_041-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030425-110045-642_L1C_041-263-4_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030425-110045-642_L1C_041-263-4_D_V1-0.zip
run script
2024-01-10T14:57:08.807    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:57:08.808    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030425-110045-642_L1C_041-263-4_D_V1-0.zip
2024-01-10T14:57:08.808    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:57:08.808    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:57:08.808    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:57:08.808    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:57:08.808    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:57:08.809    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:57:08.809    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:57:08.809    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030425-110045-642_L1C_041-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/04/25/SPOT5-HRG1-XS_20030425-110051-273_L1C_041-264-1_D_V1-0/SPOT5-HRG1-XS_20030425-110051-273_L1C_041-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030425-110051-273_L1C_041-264-1_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030425-110051-273_L1C_041-264-1_D_V1-0.zip
run script
2024-01-10T14:59:31.743    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:59:31.744    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030425-110051-273_L1C_041-264-1_D_V1-0.zip
2024-01-10T14:59:31.744    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:59:31.744    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:59:31.744    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:59:31.744    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:59:31.744    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:59:31.744    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:59:31.744    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:59:31.745    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030425-110051-273_L1C_041-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/05/21/SPOT5-HRG2-XS_20030521-110030-212_L1C_041-263-0_D_V1-0/SPOT5-HRG2-XS_20030521-110030-212_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030521-110030-212_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030521-110030-212_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T15:01:53.685    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:01:53.686    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030521-110030-212_L1C_041-263-0_D_V1-0.zip
2024-01-10T15:01:53.686    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:01:53.686    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:01:53.686    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:01:53.686    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:01:53.686    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:01:53.686    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:01:53.686    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:01:53.687    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030521-110030-212_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/05/21/SPOT5-HRG2-XS_20030521-110038-563_L1C_041-264-0_D_V1-0/SPOT5-HRG2-XS_20030521-110038-563_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030521-110038-563_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030521-110038-563_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T15:03:33.661    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:03:33.662    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030521-110038-563_L1C_041-264-0_D_V1-0.zip
2024-01-10T15:03:33.662    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:03:33.662    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:03:33.662    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:03:33.662    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:03:33.663    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:03:33.663    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:03:33.663    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:03:33.663    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030521-110038-563_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/07/06/SPOT5-HRG2-XS_20030706-111537-552_L1C_041-263-0_D_V1-0/SPOT5-HRG2-XS_20030706-111537-552_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030706-111537-552_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030706-111537-552_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T15:05:55.786    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:05:55.787    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030706-111537-552_L1C_041-263-0_D_V1-0.zip
2024-01-10T15:05:55.787    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:05:55.787    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:05:55.788    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:05:55.788    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:05:55.788    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:05:55.788    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:05:55.788    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:05:55.788    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030706-111537-552_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/07/06/SPOT5-HRG1-XS_20030706-111535-204_L1C_043-263-0_D_V1-0/SPOT5-HRG1-XS_20030706-111535-204_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030706-111535-204_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030706-111535-204_L1C_043-263-0_D_V1-0.zip
run script
2024-01-10T15:07:56.672    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:07:56.673    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030706-111535-204_L1C_043-263-0_D_V1-0.zip
2024-01-10T15:07:56.673    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:07:56.673    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:07:56.674    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:07:56.674    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:07:56.674    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:07:56.674    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:07:56.674    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:07:56.674    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030706-111535-204_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/07/12/SPOT5-HRG1-XS_20030712-110012-105_L1C_041-263-0_D_V1-0/SPOT5-HRG1-XS_20030712-110012-105_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030712-110012-105_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030712-110012-105_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T15:10:01.621    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:10:01.622    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030712-110012-105_L1C_041-263-0_D_V1-0.zip
2024-01-10T15:10:01.622    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:10:01.622    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:10:01.622    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:10:01.622    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:10:01.622    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:10:01.622    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:10:01.622    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:10:01.622    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030712-110012-105_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/07/12/SPOT5-HRG1-XS_20030712-110020-455_L1C_041-264-0_D_V1-0/SPOT5-HRG1-XS_20030712-110020-455_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030712-110020-455_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030712-110020-455_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T15:11:42.297    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:11:42.298    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030712-110020-455_L1C_041-264-0_D_V1-0.zip
2024-01-10T15:11:42.298    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:11:42.298    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:11:42.298    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:11:42.298    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:11:42.298    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:11:42.298    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:11:42.298    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:11:42.299    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030712-110020-455_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/08/07/SPOT5-HRG1-XS_20030807-110015-709_L1C_041-263-4_D_V1-0/SPOT5-HRG1-XS_20030807-110015-709_L1C_041-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030807-110015-709_L1C_041-263-4_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030807-110015-709_L1C_041-263-4_D_V1-0.zip
run script
2024-01-10T15:14:08.992    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:14:08.993    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030807-110015-709_L1C_041-263-4_D_V1-0.zip
2024-01-10T15:14:08.993    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:14:08.993    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:14:08.993    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:14:08.993    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:14:08.993    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:14:08.993    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:14:08.993    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:14:08.993    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030807-110015-709_L1C_041-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/08/07/SPOT5-HRG1-XS_20030807-110020-425_L1C_041-264-0_D_V1-0/SPOT5-HRG1-XS_20030807-110020-425_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030807-110020-425_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030807-110020-425_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T15:16:35.896    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:16:35.897    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030807-110020-425_L1C_041-264-0_D_V1-0.zip
2024-01-10T15:16:35.897    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:16:35.897    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:16:35.897    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:16:35.897    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:16:35.897    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:16:35.897    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:16:35.897    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:16:35.897    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030807-110020-425_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/11/04/SPOT5-HRG2-XS_20031104-104756-881_L1C_041-263-5_D_V1-0/SPOT5-HRG2-XS_20031104-104756-881_L1C_041-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20031104-104756-881_L1C_041-263-5_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031104-104756-881_L1C_041-263-5_D_V1-0.zip
run script
2024-01-10T15:19:01.856    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:19:01.857    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031104-104756-881_L1C_041-263-5_D_V1-0.zip
2024-01-10T15:19:01.857    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:19:01.858    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:19:01.858    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:19:01.858    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:19:01.858    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:19:01.858    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:19:01.858    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:19:01.858    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031104-104756-881_L1C_041-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/11/04/SPOT5-HRG2-XS_20031104-104800-659_L1C_041-264-0_D_V1-0/SPOT5-HRG2-XS_20031104-104800-659_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20031104-104800-659_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031104-104800-659_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T15:21:36.696    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:21:36.697    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031104-104800-659_L1C_041-264-0_D_V1-0.zip
2024-01-10T15:21:36.697    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:21:36.697    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:21:36.697    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:21:36.697    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:21:36.697    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:21:36.698    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:21:36.698    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:21:36.698    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031104-104800-659_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/04/21/SPOT5-HRG2-XS_20030421-103731-810_L1C_042-262-9_D_V1-0/SPOT5-HRG2-XS_20030421-103731-810_L1C_042-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030421-103731-810_L1C_042-262-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030421-103731-810_L1C_042-262-9_D_V1-0.zip
run script
2024-01-10T15:24:09.350    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:24:09.352    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030421-103731-810_L1C_042-262-9_D_V1-0.zip
2024-01-10T15:24:09.352    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:24:09.352    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:24:09.352    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:24:09.352    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:24:09.352    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:24:09.352    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:24:09.352    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:24:09.352    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030421-103731-810_L1C_042-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/04/21/SPOT5-HRG2-XS_20030421-103731-954_L1C_042-263-0_D_V1-0/SPOT5-HRG2-XS_20030421-103731-954_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030421-103731-954_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030421-103731-954_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T15:26:03.136    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:26:03.138    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030421-103731-954_L1C_042-263-0_D_V1-0.zip
2024-01-10T15:26:03.138    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:26:03.138    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:26:03.138    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:26:03.138    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:26:03.138    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:26:03.138    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:26:03.138    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:26:03.139    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030421-103731-954_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/04/21/SPOT5-HRG2-XS_20030421-103732-868_L1C_042-263-1_D_V1-0/SPOT5-HRG2-XS_20030421-103732-868_L1C_042-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030421-103732-868_L1C_042-263-1_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030421-103732-868_L1C_042-263-1_D_V1-0.zip
run script
2024-01-10T15:27:58.837    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:27:58.838    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030421-103732-868_L1C_042-263-1_D_V1-0.zip
2024-01-10T15:27:58.838    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:27:58.838    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:27:58.838    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:27:58.838    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:27:58.839    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:27:58.839    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:27:58.839    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:27:58.839    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030421-103732-868_L1C_042-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/04/21/SPOT5-HRG1-XS_20030421-103732-613_L1C_046-263-6_D_V1-0/SPOT5-HRG1-XS_20030421-103732-613_L1C_046-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030421-103732-613_L1C_046-263-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030421-103732-613_L1C_046-263-6_D_V1-0.zip
run script
2024-01-10T15:30:06.992    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:30:06.993    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030421-103732-613_L1C_046-263-6_D_V1-0.zip
2024-01-10T15:30:06.993    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:30:06.993    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:30:06.993    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:30:06.993    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:30:06.993    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:30:06.993    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:30:06.994    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:30:06.994    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030421-103732-613_L1C_046-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/04/21/SPOT5-HRG1-XS_20030421-103735-500_L1C_046-264-0_D_V1-0/SPOT5-HRG1-XS_20030421-103735-500_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030421-103735-500_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030421-103735-500_L1C_046-264-0_D_V1-0.zip
run script
2024-01-10T15:30:58.952    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:30:58.953    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030421-103735-500_L1C_046-264-0_D_V1-0.zip
2024-01-10T15:30:58.953    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:30:58.953    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:30:58.953    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:30:58.954    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:30:58.954    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:30:58.954    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:30:58.954    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:30:58.954    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030421-103735-500_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/04/21/SPOT5-HRG1-XS_20030421-103743-802_L1C_046-265-0_D_V1-0/SPOT5-HRG1-XS_20030421-103743-802_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030421-103743-802_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030421-103743-802_L1C_046-265-0_D_V1-0.zip
run script
2024-01-10T15:31:58.373    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:31:58.374    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030421-103743-802_L1C_046-265-0_D_V1-0.zip
2024-01-10T15:31:58.375    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:31:58.375    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:31:58.375    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:31:58.375    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:31:58.375    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:31:58.375    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:31:58.375    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:31:58.375    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030421-103743-802_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/04/15/SPOT5-HRG1-XS_20030415-105305-305_L1C_042-263-7_D_V1-0/SPOT5-HRG1-XS_20030415-105305-305_L1C_042-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030415-105305-305_L1C_042-263-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030415-105305-305_L1C_042-263-7_D_V1-0.zip
run script
2024-01-10T15:32:24.054    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:32:24.055    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030415-105305-305_L1C_042-263-7_D_V1-0.zip
2024-01-10T15:32:24.055    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:32:24.055    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:32:24.055    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:32:24.055    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:32:24.055    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:32:24.056    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:32:24.056    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:32:24.056    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030415-105305-305_L1C_042-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/04/15/SPOT5-HRG1-XS_20030415-105307-302_L1C_042-264-0_D_V1-0/SPOT5-HRG1-XS_20030415-105307-302_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030415-105307-302_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030415-105307-302_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T15:34:29.596    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:34:29.597    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030415-105307-302_L1C_042-264-0_D_V1-0.zip
2024-01-10T15:34:29.597    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:34:29.597    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:34:29.597    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:34:29.597    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:34:29.597    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:34:29.597    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:34:29.597    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:34:29.598    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030415-105307-302_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/04/19/SPOT5-HRG1-XS_20030419-111603-961_L1C_042-263-0_D_V1-0/SPOT5-HRG1-XS_20030419-111603-961_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030419-111603-961_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030419-111603-961_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T15:36:37.868    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:36:37.869    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030419-111603-961_L1C_042-263-0_D_V1-0.zip
2024-01-10T15:36:37.869    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:36:37.869    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:36:37.869    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:36:37.870    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:36:37.870    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:36:37.870    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:36:37.870    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:36:37.870    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030419-111603-961_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/09/01/SPOT5-HRG2-XS_20030901-111919-921_L1C_042-263-1_D_V1-0/SPOT5-HRG2-XS_20030901-111919-921_L1C_042-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030901-111919-921_L1C_042-263-1_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030901-111919-921_L1C_042-263-1_D_V1-0.zip
run script
2024-01-10T15:38:37.210    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:38:37.211    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030901-111919-921_L1C_042-263-1_D_V1-0.zip
2024-01-10T15:38:37.211    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:38:37.211    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:38:37.211    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:38:37.211    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:38:37.211    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:38:37.211    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:38:37.211    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:38:37.211    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030901-111919-921_L1C_042-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/09/01/SPOT5-HRG2-XS_20030901-111923-531_L1C_042-263-5_D_V1-0/SPOT5-HRG2-XS_20030901-111923-531_L1C_042-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030901-111923-531_L1C_042-263-5_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030901-111923-531_L1C_042-263-5_D_V1-0.zip
run script
2024-01-10T15:41:13.558    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:41:13.559    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030901-111923-531_L1C_042-263-5_D_V1-0.zip
2024-01-10T15:41:13.559    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:41:13.559    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:41:13.559    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:41:13.559    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:41:13.560    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:41:13.560    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:41:13.560    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:41:13.560    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T15:44:20.364    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1962 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030901-111923-531_L1C_042-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2003/09/18/SPOT5-HRG2-XS_20030918-105215-999_L1C_042-263-1_D_V1-0/SPOT5-HRG2-XS_20030918-105215-999_L1C_042-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030918-105215-999_L1C_042-263-1_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030918-105215-999_L1C_042-263-1_D_V1-0.zip
run script
2024-01-10T15:44:25.241    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:44:25.241    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030918-105215-999_L1C_042-263-1_D_V1-0.zip
2024-01-10T15:44:25.241    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:44:25.241    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:44:25.241    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:44:25.241    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:44:25.242    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:44:25.242    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:44:25.242    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:44:25.242    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030918-105215-999_L1C_042-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/09/18/SPOT5-HRG2-XS_20030918-105219-609_L1C_042-263-5_D_V1-0/SPOT5-HRG2-XS_20030918-105219-609_L1C_042-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030918-105219-609_L1C_042-263-5_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030918-105219-609_L1C_042-263-5_D_V1-0.zip
run script
2024-01-10T15:45:57.040    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:45:57.042    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030918-105219-609_L1C_042-263-5_D_V1-0.zip
2024-01-10T15:45:57.042    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:45:57.042    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:45:57.042    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:45:57.042    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:45:57.042    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:45:57.042    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:45:57.042    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:45:57.042    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T15:46:02.919    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (472 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030918-105219-609_L1C_042-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2003/09/18/SPOT5-HRG1-XS_20030918-105223-459_L1C_046-264-7_D_V1-0/SPOT5-HRG1-XS_20030918-105223-459_L1C_046-264-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030918-105223-459_L1C_046-264-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030918-105223-459_L1C_046-264-7_D_V1-0.zip
run script
2024-01-10T15:46:06.889    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:46:06.889    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030918-105223-459_L1C_046-264-7_D_V1-0.zip
2024-01-10T15:46:06.889    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:46:06.889    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:46:06.889    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:46:06.889    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:46:06.889    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:46:06.889    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:46:06.889    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:46:06.889    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030918-105223-459_L1C_046-264-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/09/18/SPOT5-HRG1-XS_20030918-105225-505_L1C_046-265-0_D_V1-0/SPOT5-HRG1-XS_20030918-105225-505_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030918-105225-505_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030918-105225-505_L1C_046-265-0_D_V1-0.zip
run script
2024-01-10T15:46:40.444    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:46:40.445    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030918-105225-505_L1C_046-265-0_D_V1-0.zip
2024-01-10T15:46:40.445    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:46:40.445    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:46:40.445    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:46:40.445    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:46:40.445    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:46:40.445    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:46:40.445    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:46:40.445    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030918-105225-505_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/12/16/SPOT5-HRG1-XS_20031216-103953-510_L1C_042-263-7_D_V1-0/SPOT5-HRG1-XS_20031216-103953-510_L1C_042-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20031216-103953-510_L1C_042-263-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031216-103953-510_L1C_042-263-7_D_V1-0.zip
run script
2024-01-10T15:47:04.332    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:47:04.334    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031216-103953-510_L1C_042-263-7_D_V1-0.zip
2024-01-10T15:47:04.334    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:47:04.334    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:47:04.334    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:47:04.334    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:47:04.334    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:47:04.334    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:47:04.334    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:47:04.334    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031216-103953-510_L1C_042-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/12/16/SPOT5-HRG1-XS_20031216-103955-483_L1C_042-264-0_D_V1-0/SPOT5-HRG1-XS_20031216-103955-483_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20031216-103955-483_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031216-103955-483_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T15:49:35.843    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:49:35.844    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031216-103955-483_L1C_042-264-0_D_V1-0.zip
2024-01-10T15:49:35.844    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:49:35.844    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:49:35.844    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:49:35.844    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:49:35.845    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:49:35.845    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:49:35.845    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:49:35.845    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031216-103955-483_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/12/16/SPOT5-HRG2-XS_20031216-103941-088_L1C_045-262-7_D_V1-0/SPOT5-HRG2-XS_20031216-103941-088_L1C_045-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20031216-103941-088_L1C_045-262-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031216-103941-088_L1C_045-262-7_D_V1-0.zip
run script
2024-01-10T15:52:14.429    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:52:14.430    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031216-103941-088_L1C_045-262-7_D_V1-0.zip
2024-01-10T15:52:14.430    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:52:14.430    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:52:14.430    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:52:14.430    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:52:14.431    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:52:14.431    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:52:14.431    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:52:14.431    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031216-103941-088_L1C_045-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/07/08/SPOT5-HRG2-XS_20030708-103702-605_L1C_043-262-9_D_V1-0/SPOT5-HRG2-XS_20030708-103702-605_L1C_043-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030708-103702-605_L1C_043-262-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030708-103702-605_L1C_043-262-9_D_V1-0.zip
run script
2024-01-10T15:53:13.738    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:53:13.739    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030708-103702-605_L1C_043-262-9_D_V1-0.zip
2024-01-10T15:53:13.739    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:53:13.739    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:53:13.739    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:53:13.739    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:53:13.739    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:53:13.739    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:53:13.739    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:53:13.739    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030708-103702-605_L1C_043-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/07/08/SPOT5-HRG2-XS_20030708-103702-774_L1C_043-263-0_D_V1-0/SPOT5-HRG2-XS_20030708-103702-774_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030708-103702-774_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030708-103702-774_L1C_043-263-0_D_V1-0.zip
run script
2024-01-10T15:55:09.619    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:55:09.620    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030708-103702-774_L1C_043-263-0_D_V1-0.zip
2024-01-10T15:55:09.620    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:55:09.620    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:55:09.621    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:55:09.621    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:55:09.621    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:55:09.621    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:55:09.621    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:55:09.621    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030708-103702-774_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/07/08/SPOT5-HRG2-XS_20030708-103703-664_L1C_043-263-1_D_V1-0/SPOT5-HRG2-XS_20030708-103703-664_L1C_043-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030708-103703-664_L1C_043-263-1_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030708-103703-664_L1C_043-263-1_D_V1-0.zip
run script
2024-01-10T15:57:07.687    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:57:07.688    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030708-103703-664_L1C_043-263-1_D_V1-0.zip
2024-01-10T15:57:07.689    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:57:07.689    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:57:07.689    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:57:07.689    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:57:07.689    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:57:07.689    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:57:07.689    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:57:07.689    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030708-103703-664_L1C_043-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/07/08/SPOT5-HRG1-XS_20030708-103703-339_L1C_044-263-2_D_V1-0/SPOT5-HRG1-XS_20030708-103703-339_L1C_044-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030708-103703-339_L1C_044-263-2_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030708-103703-339_L1C_044-263-2_D_V1-0.zip
run script
2024-01-10T15:59:17.588    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:59:17.589    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030708-103703-339_L1C_044-263-2_D_V1-0.zip
2024-01-10T15:59:17.589    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:59:17.589    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:59:17.589    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:59:17.589    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:59:17.589    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:59:17.589    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:59:17.589    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:59:17.589    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030708-103703-339_L1C_044-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 0 0 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/07/08/SPOT5-HRG1-XS_20030708-103704-254_L1C_044-263-3_D_V1-0/SPOT5-HRG1-XS_20030708-103704-254_L1C_044-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030708-103704-254_L1C_044-263-3_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030708-103704-254_L1C_044-263-3_D_V1-0.zip
run script
2024-01-10T16:01:30.394    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T16:01:30.395    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030708-103704-254_L1C_044-263-3_D_V1-0.zip
2024-01-10T16:01:30.396    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T16:01:30.396    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T16:01:30.396    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T16:01:30.396    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T16:01:30.396    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T16:01:30.396    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T16:01:30.396    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T16:01:30.396    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030708-103704-254_L1C_044-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 0 0 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/06/12/SPOT5-HRG1-XS_20030612-103714-874_L1C_043-263-6_D_V1-0/SPOT5-HRG1-XS_20030612-103714-874_L1C_043-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030612-103714-874_L1C_043-263-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030612-103714-874_L1C_043-263-6_D_V1-0.zip
run script
2024-01-10T16:03:54.789    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T16:03:54.790    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030612-103714-874_L1C_043-263-6_D_V1-0.zip
2024-01-10T16:03:54.790    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T16:03:54.790    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T16:03:54.790    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T16:03:54.791    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T16:03:54.791    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T16:03:54.791    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T16:03:54.791    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T16:03:54.791    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030612-103714-874_L1C_043-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/06/12/SPOT5-HRG1-XS_20030612-103717-761_L1C_043-264-0_D_V1-0/SPOT5-HRG1-XS_20030612-103717-761_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20030612-103717-761_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030612-103717-761_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T16:06:25.149    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T16:06:25.150    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030612-103717-761_L1C_043-264-0_D_V1-0.zip
2024-01-10T16:06:25.150    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T16:06:25.150    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T16:06:25.151    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T16:06:25.151    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T16:06:25.151    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T16:06:25.151    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T16:06:25.151    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T16:06:25.151    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20030612-103717-761_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/06/12/SPOT5-HRG2-XS_20030612-103708-304_L1C_044-262-9_D_V1-0/SPOT5-HRG2-XS_20030612-103708-304_L1C_044-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030612-103708-304_L1C_044-262-9_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030612-103708-304_L1C_044-262-9_D_V1-0.zip
run script
2024-01-10T16:08:56.479    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T16:08:56.480    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030612-103708-304_L1C_044-262-9_D_V1-0.zip
2024-01-10T16:08:56.480    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T16:08:56.480    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T16:08:56.480    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T16:08:56.480    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T16:08:56.480    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T16:08:56.480    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T16:08:56.480    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T16:08:56.481    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030612-103708-304_L1C_044-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/06/12/SPOT5-HRG2-XS_20030612-103708-472_L1C_044-263-0_D_V1-0/SPOT5-HRG2-XS_20030612-103708-472_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030612-103708-472_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030612-103708-472_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T16:10:45.645    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T16:10:45.646    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030612-103708-472_L1C_044-263-0_D_V1-0.zip
2024-01-10T16:10:45.646    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T16:10:45.647    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T16:10:45.647    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T16:10:45.647    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T16:10:45.647    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T16:10:45.647    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T16:10:45.647    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T16:10:45.647    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030612-103708-472_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/06/12/SPOT5-HRG2-XS_20030612-103709-363_L1C_044-263-1_D_V1-0/SPOT5-HRG2-XS_20030612-103709-363_L1C_044-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030612-103709-363_L1C_044-263-1_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030612-103709-363_L1C_044-263-1_D_V1-0.zip
run script
2024-01-10T16:12:39.838    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T16:12:39.840    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030612-103709-363_L1C_044-263-1_D_V1-0.zip
2024-01-10T16:12:39.840    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T16:12:39.840    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T16:12:39.840    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T16:12:39.840    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T16:12:39.840    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T16:12:39.840    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T16:12:39.840    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T16:12:39.840    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030612-103709-363_L1C_044-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 0]
 [2 2 2 ... 2 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/10/14/SPOT5-HRG2-XS_20031014-105200-090_L1C_043-263-6_D_V1-0/SPOT5-HRG2-XS_20031014-105200-090_L1C_043-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20031014-105200-090_L1C_043-263-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031014-105200-090_L1C_043-263-6_D_V1-0.zip
run script
2024-01-10T16:14:41.681    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T16:14:41.682    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031014-105200-090_L1C_043-263-6_D_V1-0.zip
2024-01-10T16:14:41.682    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T16:14:41.682    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T16:14:41.682    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T16:14:41.682    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T16:14:41.682    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T16:14:41.682    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T16:14:41.682    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T16:14:41.682    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20031014-105200-090_L1C_043-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/10/25/SPOT5-HRG1-XS_20031025-104003-981_L1C_044-262-5_D_V1-0/SPOT5-HRG1-XS_20031025-104003-981_L1C_044-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20031025-104003-981_L1C_044-262-5_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031025-104003-981_L1C_044-262-5_D_V1-0.zip
run script
2024-01-10T16:16:54.736    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T16:16:54.737    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031025-104003-981_L1C_044-262-5_D_V1-0.zip
2024-01-10T16:16:54.737    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T16:16:54.738    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T16:16:54.738    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T16:16:54.738    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T16:16:54.738    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T16:16:54.738    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T16:16:54.738    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T16:16:54.738    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T16:16:59.124    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (362 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG1-XS_20031025-104003-981_L1C_044-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2003/03/20/SPOT5-HRG2-XS_20030320-105255-931_L1C_044-263-7_D_V1-0/SPOT5-HRG2-XS_20030320-105255-931_L1C_044-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030320-105255-931_L1C_044-263-7_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030320-105255-931_L1C_044-263-7_D_V1-0.zip
run script
2024-01-10T16:17:03.964    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T16:17:03.964    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030320-105255-931_L1C_044-263-7_D_V1-0.zip
2024-01-10T16:17:03.964    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T16:17:03.964    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T16:17:03.965    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T16:17:03.965    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T16:17:03.965    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T16:17:03.965    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T16:17:03.965    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T16:17:03.965    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030320-105255-931_L1C_044-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/03/20/SPOT5-HRG2-XS_20030320-105257-929_L1C_044-264-0_D_V1-0/SPOT5-HRG2-XS_20030320-105257-929_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030320-105257-929_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030320-105257-929_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T16:19:12.527    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T16:19:12.528    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030320-105257-929_L1C_044-264-0_D_V1-0.zip
2024-01-10T16:19:12.529    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T16:19:12.529    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T16:19:12.529    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T16:19:12.529    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T16:19:12.529    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T16:19:12.529    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T16:19:12.529    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T16:19:12.529    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030320-105257-929_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/03/20/SPOT5-HRG2-XS_20030320-105306-279_L1C_044-265-0_D_V1-0/SPOT5-HRG2-XS_20030320-105306-279_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030320-105306-279_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030320-105306-279_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T16:21:18.743    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T16:21:18.744    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030320-105306-279_L1C_044-265-0_D_V1-0.zip
2024-01-10T16:21:18.744    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T16:21:18.744    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T16:21:18.745    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T16:21:18.745    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T16:21:18.745    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T16:21:18.745    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T16:21:18.745    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T16:21:18.745    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030320-105306-279_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/05/16/SPOT5-HRG2-XS_20030516-105642-582_L1C_044-263-6_D_V1-0/SPOT5-HRG2-XS_20030516-105642-582_L1C_044-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030516-105642-582_L1C_044-263-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030516-105642-582_L1C_044-263-6_D_V1-0.zip
run script
2024-01-10T16:22:02.333    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T16:22:02.333    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030516-105642-582_L1C_044-263-6_D_V1-0.zip
2024-01-10T16:22:02.333    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T16:22:02.333    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T16:22:02.333    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T16:22:02.333    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T16:22:02.333    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T16:22:02.333    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T16:22:02.333    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T16:22:02.333    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030516-105642-582_L1C_044-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/05/16/SPOT5-HRG2-XS_20030516-105645-493_L1C_044-264-0_D_V1-0/SPOT5-HRG2-XS_20030516-105645-493_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030516-105645-493_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030516-105645-493_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T16:24:08.095    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T16:24:08.096    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030516-105645-493_L1C_044-264-0_D_V1-0.zip
2024-01-10T16:24:08.097    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T16:24:08.097    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T16:24:08.097    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T16:24:08.097    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T16:24:08.097    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T16:24:08.097    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T16:24:08.097    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T16:24:08.097    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030516-105645-493_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/05/16/SPOT5-HRG2-XS_20030516-105653-868_L1C_044-265-0_D_V1-0/SPOT5-HRG2-XS_20030516-105653-868_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030516-105653-868_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030516-105653-868_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T16:26:16.656    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T16:26:16.657    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030516-105653-868_L1C_044-265-0_D_V1-0.zip
2024-01-10T16:26:16.657    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T16:26:16.657    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T16:26:16.657    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T16:26:16.657    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T16:26:16.658    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T16:26:16.658    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T16:26:16.658    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T16:26:16.658    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030516-105653-868_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/06/11/SPOT5-HRG2-XS_20030611-105630-248_L1C_044-263-6_D_V1-0/SPOT5-HRG2-XS_20030611-105630-248_L1C_044-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030611-105630-248_L1C_044-263-6_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030611-105630-248_L1C_044-263-6_D_V1-0.zip
run script
2024-01-10T16:26:58.926    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T16:26:58.928    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030611-105630-248_L1C_044-263-6_D_V1-0.zip
2024-01-10T16:26:58.928    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T16:26:58.928    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T16:26:58.928    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T16:26:58.928    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T16:26:58.928    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T16:26:58.928    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T16:26:58.928    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T16:26:58.928    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030611-105630-248_L1C_044-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/06/11/SPOT5-HRG2-XS_20030611-105633-184_L1C_044-264-0_D_V1-0/SPOT5-HRG2-XS_20030611-105633-184_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030611-105633-184_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030611-105633-184_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T16:29:08.018    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T16:29:08.019    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030611-105633-184_L1C_044-264-0_D_V1-0.zip
2024-01-10T16:29:08.019    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T16:29:08.019    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T16:29:08.019    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T16:29:08.019    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T16:29:08.019    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T16:29:08.020    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T16:29:08.020    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T16:29:08.020    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030611-105633-184_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/06/11/SPOT5-HRG2-XS_20030611-105641-534_L1C_044-265-0_D_V1-0/SPOT5-HRG2-XS_20030611-105641-534_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030611-105641-534_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030611-105641-534_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T16:31:17.865    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T16:31:17.866    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030611-105641-534_L1C_044-265-0_D_V1-0.zip
2024-01-10T16:31:17.866    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T16:31:17.866    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T16:31:17.866    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T16:31:17.866    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T16:31:17.866    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T16:31:17.866    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T16:31:17.866    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T16:31:17.866    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030611-105641-534_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/07/07/SPOT5-HRG2-XS_20030707-105620-550_L1C_044-263-2_D_V1-0/SPOT5-HRG2-XS_20030707-105620-550_L1C_044-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030707-105620-550_L1C_044-263-2_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030707-105620-550_L1C_044-263-2_D_V1-0.zip
run script
2024-01-10T16:32:01.597    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T16:32:01.598    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030707-105620-550_L1C_044-263-2_D_V1-0.zip
2024-01-10T16:32:01.598    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T16:32:01.598    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T16:32:01.598    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T16:32:01.598    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T16:32:01.599    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T16:32:01.599    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T16:32:01.599    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T16:32:01.599    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030707-105620-550_L1C_044-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 0 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/07/07/SPOT5-HRG2-XS_20030707-105627-096_L1C_044-264-0_D_V1-0/SPOT5-HRG2-XS_20030707-105627-096_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030707-105627-096_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030707-105627-096_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T16:33:56.297    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T16:33:56.298    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030707-105627-096_L1C_044-264-0_D_V1-0.zip
2024-01-10T16:33:56.298    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T16:33:56.298    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T16:33:56.298    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T16:33:56.298    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T16:33:56.298    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T16:33:56.298    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T16:33:56.298    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T16:33:56.298    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030707-105627-096_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2003/07/07/SPOT5-HRG2-XS_20030707-105635-446_L1C_044-265-0_D_V1-0/SPOT5-HRG2-XS_20030707-105635-446_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20030707-105635-446_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030707-105635-446_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T16:36:08.327    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T16:36:08.328    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030707-105635-446_L1C_044-265-0_D_V1-0.zip
2024-01-10T16:36:08.328    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T16:36:08.328    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T16:36:08.328    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T16:36:08.328    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T16:36:08.328    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T16:36:08.328    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T16:36:08.328    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T16:36:08.328    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016377/INPUT/SPOT5-HRG2-XS_20030707-105635-446_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016377/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
end
[2024-01-10 16:36:46.716449783+00:00] cnes_level2/barrouz/4016377:  Account (env) = cnes_level2
[2024-01-10 16:36:46.717734960+00:00] cnes_level2/barrouz/4016377:     User (env) = barrouz
[2024-01-10 16:36:46.718858878+00:00] cnes_level2/barrouz/4016377:        GroupId = cesbio(426000053)
[2024-01-10 16:36:46.719975226+00:00] cnes_level2/barrouz/4016377:         UserId = barrouz(9134)
[2024-01-10 16:36:46.721055953+00:00] cnes_level2/barrouz/4016377:        Account = cnes_level2
[2024-01-10 16:36:46.722177741+00:00] cnes_level2/barrouz/4016377:        Account = cnes_level2
[2024-01-10 16:36:46.723340398+00:00] cnes_level2/barrouz/4016377:      Partition = cpu2022
[2024-01-10 16:36:46.724486166+00:00] cnes_level2/barrouz/4016377:            QOS = cpu_2022_1280
[2024-01-10 16:36:46.725632094+00:00] cnes_level2/barrouz/4016377:        JobName = inf_PYR_30_TCD-ONLY_AVG-1200
[2024-01-10 16:36:46.726674911+00:00] cnes_level2/barrouz/4016377:     SubmitTime = 2024-01-09T10:53:13
[2024-01-10 16:36:46.727725759+00:00] cnes_level2/barrouz/4016377:        RunTime = 07:34:55
[2024-01-10 16:36:46.728819157+00:00] cnes_level2/barrouz/4016377:      TimeLimit = 1-16:00:00
[2024-01-10 16:36:46.729872255+00:00] cnes_level2/barrouz/4016377:   EligibleTime = 2024-01-09T10:53:13
[2024-01-10 16:36:46.730940902+00:00] cnes_level2/barrouz/4016377:      StartTime = 2024-01-10T09:01:51
[2024-01-10 16:36:46.732017270+00:00] cnes_level2/barrouz/4016377:        EndTime = 2024-01-10T16:36:46
[2024-01-10 16:36:46.733128658+00:00] cnes_level2/barrouz/4016377:       ExitCode = 0:0
[2024-01-10 16:36:46.734326905+00:00] cnes_level2/barrouz/4016377:       NodeList = trex079
[2024-01-10 16:36:46.735542143+00:00] cnes_level2/barrouz/4016377:      BatchHost = trex079
[2024-01-10 16:36:46.736684230+00:00] cnes_level2/barrouz/4016377:           TRES = 
[2024-01-10 16:36:46.737776638+00:00] cnes_level2/barrouz/4016377:        Command = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh_job.sh
[2024-01-10 16:36:46.739141685+00:00] cnes_level2/barrouz/4016377:        WorkDir = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code
[2024-01-10 16:36:46.740528352+00:00] cnes_level2/barrouz/4016377:         StdErr = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_PYR_30_TCD-ONLY_AVG-1200.log
[2024-01-10 16:36:46.741695420+00:00] cnes_level2/barrouz/4016377:         StdOut = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_PYR_30_TCD-ONLY_AVG-1200.log

#########################################
#        EVIDEN - CNES                  #
#        Job Accounting                 #
#########################################
Cluster              : trex
JobIDRaw             : 4016377
JobID                : 4016377
JobName              : inf_PYR_30_TCD-ONLY_AVG-1200
Account              : cnes_level2
User                 : barrouz(9134), cesbio(426000053)
Partition            : cpu2022
QOS                  : cpu_2022_1280
Nodelist             : trex079 (1)
State                : COMPLETED  (Exitcode=0:0, DerivedExitCode=0:0, Restarts=0)
Submit date          : 2024-01-09T10:53:13
Start time           : 2024-01-10T09:01:51
End time             : 2024-01-10T16:36:46
Elapsed time         : 07:34:55  (Timelimit=1-16:00:00, Suspended=00:00:00)
TEI                  : 2 days, 12:39:20
Command              : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh_job.sh
StdOut               : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_PYR_30_TCD-ONLY_AVG-1200.log
StdErr               : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_PYR_30_TCD-ONLY_AVG-1200.log

STEP(s) : 2
--------- 
   StepID  | JobName      State       Exit   Start               End                 Elapsed   TotalCPU   CPUTime    ConsumedEnergy MaxDiskRead MaxDiskWrite     MaxRSS MaxRSSTask MaxRSSNode NNodes UserCPU    NodeList
   ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 
   batch   | batch        COMPLETED   0:0    2024-01-10T09:01:51 2024-01-10T16:36:46 07:34:55  1-09:58:33 2-12:39:20       0.17875G  252513.28M   111228.43M 105274704K          0    trex079      1 23:10:34   trex079
   extern  | extern       COMPLETED   0:0    2024-01-10T09:01:51 2024-01-10T16:36:46 07:34:55  00:00.001  2-12:39:20       0.17875G       0.00M        0.00M      1704K          0    trex079      1 00:00:00   trex079

