unload conda/22.11.1  : OK 
load conda/22.11.1  : OK 
envs_dirs : /work/scratch/env/barrouz/conda_env/
pkgs_dirs : /work/scratch/env/barrouz/pkgs_conda
INPUT_PATH /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/ALP/40.txt
OUTPUT_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
DEM_PATH /work/CAMPUS/etudes/Neige/DEM
TCD_PATH /work/datalake/static_aux/TreeCoverDensity
MODELS_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
KEEP_REFL 0
MASK 1
start
/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/ALP/40.txt
muscate/SPOTWORLDHERITAGE/2000/07/20/SPOT1-HRV1-XS_20000720-104650-870_L1C_051-259-4_D_V1-0/SPOT1-HRV1-XS_20000720-104650-870_L1C_051-259-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000720-104650-870_L1C_051-259-4_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000720-104650-870_L1C_051-259-4_D_V1-0.zip
run script
2024-01-14T00:56:09.421    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T00:56:09.422    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000720-104650-870_L1C_051-259-4_D_V1-0.zip
2024-01-14T00:56:09.422    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T00:56:09.422    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T00:56:09.422    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T00:56:09.422    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T00:56:09.422    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T00:56:09.422    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T00:56:09.422    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T00:56:09.422    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000720-104650-870_L1C_051-259-4_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/07/20/SPOT1-HRV2-XS_20000720-104651-300_L1C_053-259-7_D_V1-0/SPOT1-HRV2-XS_20000720-104651-300_L1C_053-259-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20000720-104651-300_L1C_053-259-7_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000720-104651-300_L1C_053-259-7_D_V1-0.zip
run script
2024-01-14T00:59:04.750    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T00:59:04.752    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000720-104651-300_L1C_053-259-7_D_V1-0.zip
2024-01-14T00:59:04.752    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T00:59:04.752    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T00:59:04.752    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T00:59:04.752    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T00:59:04.752    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T00:59:04.752    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T00:59:04.752    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T00:59:04.752    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T01:01:22.440    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 248). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000720-104651-300_L1C_053-259-7_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2000/09/27/SPOT1-HRV1-XS_20000927-101944-595_L1C_051-254-0_D_V1-0/SPOT1-HRV1-XS_20000927-101944-595_L1C_051-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000927-101944-595_L1C_051-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000927-101944-595_L1C_051-254-0_D_V1-0.zip
run script
2024-01-14T01:01:25.510    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:01:25.510    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000927-101944-595_L1C_051-254-0_D_V1-0.zip
2024-01-14T01:01:25.510    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:01:25.510    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:01:25.510    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:01:25.510    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:01:25.510    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:01:25.510    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:01:25.510    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:01:25.510    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000927-101944-595_L1C_051-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2000/09/27/SPOT1-HRV1-XS_20000927-102012-184_L1C_051-257-3_D_V1-0/SPOT1-HRV1-XS_20000927-102012-184_L1C_051-257-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000927-102012-184_L1C_051-257-3_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000927-102012-184_L1C_051-257-3_D_V1-0.zip
run script
2024-01-14T01:01:28.636    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:01:28.636    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000927-102012-184_L1C_051-257-3_D_V1-0.zip
2024-01-14T01:01:28.637    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:01:28.637    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:01:28.637    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:01:28.637    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:01:28.637    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:01:28.637    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:01:28.637    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:01:28.637    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000927-102012-184_L1C_051-257-3_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/09/27/SPOT1-HRV1-XS_20000927-102017-698_L1C_051-258-0_D_V1-0/SPOT1-HRV1-XS_20000927-102017-698_L1C_051-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000927-102017-698_L1C_051-258-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000927-102017-698_L1C_051-258-0_D_V1-0.zip
run script
2024-01-14T01:04:42.473    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:04:42.475    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000927-102017-698_L1C_051-258-0_D_V1-0.zip
2024-01-14T01:04:42.475    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:04:42.475    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:04:42.475    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:04:42.475    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:04:42.475    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:04:42.475    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:04:42.475    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:04:42.475    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T01:06:04.205    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 362). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000927-102017-698_L1C_051-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2000/09/27/SPOT1-HRV1-XS_20000927-102025-931_L1C_051-259-0_D_V1-0/SPOT1-HRV1-XS_20000927-102025-931_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000927-102025-931_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000927-102025-931_L1C_051-259-0_D_V1-0.zip
run script
2024-01-14T01:06:07.605    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:06:07.606    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000927-102025-931_L1C_051-259-0_D_V1-0.zip
2024-01-14T01:06:07.606    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:06:07.606    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:06:07.607    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:06:07.607    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:06:07.607    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:06:07.607    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:06:07.607    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:06:07.607    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000927-102025-931_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/09/27/SPOT1-HRV1-XS_20000927-102029-540_L1C_051-259-4_D_V1-0/SPOT1-HRV1-XS_20000927-102029-540_L1C_051-259-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000927-102029-540_L1C_051-259-4_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000927-102029-540_L1C_051-259-4_D_V1-0.zip
run script
2024-01-14T01:09:18.032    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:09:18.034    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000927-102029-540_L1C_051-259-4_D_V1-0.zip
2024-01-14T01:09:18.034    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:09:18.034    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:09:18.034    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:09:18.034    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:09:18.034    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:09:18.034    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:09:18.034    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:09:18.034    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000927-102029-540_L1C_051-259-4_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/01/11/SPOT1-HRV1-XS_20000111-101818-225_L1C_051-256-5_D_V1-0/SPOT1-HRV1-XS_20000111-101818-225_L1C_051-256-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000111-101818-225_L1C_051-256-5_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000111-101818-225_L1C_051-256-5_D_V1-0.zip
run script
2024-01-14T01:12:20.583    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:12:20.583    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000111-101818-225_L1C_051-256-5_D_V1-0.zip
2024-01-14T01:12:20.583    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:12:20.583    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:12:20.583    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:12:20.583    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:12:20.583    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:12:20.583    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:12:20.583    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:12:20.583    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T01:12:23.232    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 730). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000111-101818-225_L1C_051-256-5_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2000/01/11/SPOT1-HRV1-XS_20000111-101821-922_L1C_051-257-0_D_V1-0/SPOT1-HRV1-XS_20000111-101821-922_L1C_051-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000111-101821-922_L1C_051-257-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000111-101821-922_L1C_051-257-0_D_V1-0.zip
run script
2024-01-14T01:12:26.358    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:12:26.359    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000111-101821-922_L1C_051-257-0_D_V1-0.zip
2024-01-14T01:12:26.359    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:12:26.359    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:12:26.359    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:12:26.359    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:12:26.359    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:12:26.359    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:12:26.359    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:12:26.359    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000111-101821-922_L1C_051-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 1 1 1]
 [1 1 1 ... 1 1 1]
 [1 1 1 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/01/11/SPOT1-HRV1-XS_20000111-101830-139_L1C_051-258-0_D_V1-0/SPOT1-HRV1-XS_20000111-101830-139_L1C_051-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000111-101830-139_L1C_051-258-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000111-101830-139_L1C_051-258-0_D_V1-0.zip
run script
2024-01-14T01:15:50.513    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:15:50.514    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000111-101830-139_L1C_051-258-0_D_V1-0.zip
2024-01-14T01:15:50.514    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:15:50.515    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:15:50.515    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:15:50.515    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:15:50.515    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:15:50.515    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:15:50.515    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:15:50.515    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T01:17:38.534    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 227). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000111-101830-139_L1C_051-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2000/01/11/SPOT1-HRV1-XS_20000111-101838-369_L1C_051-259-0_D_V1-0/SPOT1-HRV1-XS_20000111-101838-369_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000111-101838-369_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000111-101838-369_L1C_051-259-0_D_V1-0.zip
run script
2024-01-14T01:17:41.877    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:17:41.879    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000111-101838-369_L1C_051-259-0_D_V1-0.zip
2024-01-14T01:17:41.879    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:17:41.879    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:17:41.879    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:17:41.879    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:17:41.879    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:17:41.879    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:17:41.879    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:17:41.879    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000111-101838-369_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/01/11/SPOT1-HRV1-XS_20000111-101846-605_L1C_051-260-0_D_V1-0/SPOT1-HRV1-XS_20000111-101846-605_L1C_051-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000111-101846-605_L1C_051-260-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000111-101846-605_L1C_051-260-0_D_V1-0.zip
run script
2024-01-14T01:21:03.335    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:21:03.337    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000111-101846-605_L1C_051-260-0_D_V1-0.zip
2024-01-14T01:21:03.337    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:21:03.337    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:21:03.337    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:21:03.337    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:21:03.337    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:21:03.337    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:21:03.337    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:21:03.337    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000111-101846-605_L1C_051-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/01/11/SPOT1-HRV1-XS_20000111-101854-853_L1C_051-261-0_D_V1-0/SPOT1-HRV1-XS_20000111-101854-853_L1C_051-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000111-101854-853_L1C_051-261-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000111-101854-853_L1C_051-261-0_D_V1-0.zip
run script
2024-01-14T01:23:43.028    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:23:43.029    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000111-101854-853_L1C_051-261-0_D_V1-0.zip
2024-01-14T01:23:43.029    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:23:43.029    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:23:43.029    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:23:43.029    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:23:43.029    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:23:43.029    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:23:43.029    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:23:43.030    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000111-101854-853_L1C_051-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 1 1 ... 2 2 2]
 [0 1 1 ... 2 2 2]
 [0 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/01/11/SPOT1-HRV1-XS_20000111-101903-107_L1C_051-262-0_D_V1-0/SPOT1-HRV1-XS_20000111-101903-107_L1C_051-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000111-101903-107_L1C_051-262-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000111-101903-107_L1C_051-262-0_D_V1-0.zip
run script
2024-01-14T01:26:21.771    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:26:21.772    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000111-101903-107_L1C_051-262-0_D_V1-0.zip
2024-01-14T01:26:21.772    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:26:21.772    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:26:21.772    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:26:21.772    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:26:21.772    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:26:21.772    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:26:21.772    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:26:21.772    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T01:28:18.379    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (402 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000111-101903-107_L1C_051-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2000/01/11/SPOT1-HRV1-XS_20000111-101911-373_L1C_051-263-0_D_V1-0/SPOT1-HRV1-XS_20000111-101911-373_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000111-101911-373_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000111-101911-373_L1C_051-263-0_D_V1-0.zip
run script
2024-01-14T01:28:21.312    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:28:21.313    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000111-101911-373_L1C_051-263-0_D_V1-0.zip
2024-01-14T01:28:21.313    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:28:21.313    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:28:21.313    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:28:21.313    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:28:21.313    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:28:21.313    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:28:21.313    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:28:21.314    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000111-101911-373_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/24/SPOT1-HRV1-XS_20000624-104615-897_L1C_051-257-2_D_V1-0/SPOT1-HRV1-XS_20000624-104615-897_L1C_051-257-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000624-104615-897_L1C_051-257-2_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000624-104615-897_L1C_051-257-2_D_V1-0.zip
run script
2024-01-14T01:29:07.501    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:29:07.502    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000624-104615-897_L1C_051-257-2_D_V1-0.zip
2024-01-14T01:29:07.502    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:29:07.502    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:29:07.502    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:29:07.502    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:29:07.502    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:29:07.502    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:29:07.502    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:29:07.502    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000624-104615-897_L1C_051-257-2_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/24/SPOT1-HRV1-XS_20000624-104622-446_L1C_051-258-0_D_V1-0/SPOT1-HRV1-XS_20000624-104622-446_L1C_051-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000624-104622-446_L1C_051-258-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000624-104622-446_L1C_051-258-0_D_V1-0.zip
run script
2024-01-14T01:32:15.553    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:32:15.554    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000624-104622-446_L1C_051-258-0_D_V1-0.zip
2024-01-14T01:32:15.554    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:32:15.554    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:32:15.554    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:32:15.554    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:32:15.554    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:32:15.554    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:32:15.554    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:32:15.555    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000624-104622-446_L1C_051-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/24/SPOT1-HRV1-XS_20000624-104630-808_L1C_051-259-0_D_V1-0/SPOT1-HRV1-XS_20000624-104630-808_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000624-104630-808_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000624-104630-808_L1C_051-259-0_D_V1-0.zip
run script
2024-01-14T01:35:00.797    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:35:00.798    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000624-104630-808_L1C_051-259-0_D_V1-0.zip
2024-01-14T01:35:00.798    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:35:00.798    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:35:00.798    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:35:00.798    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:35:00.798    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:35:00.798    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:35:00.798    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:35:00.799    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000624-104630-808_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/24/SPOT1-HRV1-XS_20000624-104639-173_L1C_051-260-0_D_V1-0/SPOT1-HRV1-XS_20000624-104639-173_L1C_051-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000624-104639-173_L1C_051-260-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000624-104639-173_L1C_051-260-0_D_V1-0.zip
run script
2024-01-14T01:38:02.864    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:38:02.865    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000624-104639-173_L1C_051-260-0_D_V1-0.zip
2024-01-14T01:38:02.865    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:38:02.865    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:38:02.865    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:38:02.865    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:38:02.866    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:38:02.866    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:38:02.866    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:38:02.866    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000624-104639-173_L1C_051-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/24/SPOT1-HRV1-XS_20000624-104647-548_L1C_051-261-0_D_V1-0/SPOT1-HRV1-XS_20000624-104647-548_L1C_051-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000624-104647-548_L1C_051-261-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000624-104647-548_L1C_051-261-0_D_V1-0.zip
run script
2024-01-14T01:40:27.517    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:40:27.519    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000624-104647-548_L1C_051-261-0_D_V1-0.zip
2024-01-14T01:40:27.519    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:40:27.519    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:40:27.519    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:40:27.519    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:40:27.519    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:40:27.519    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:40:27.519    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:40:27.519    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000624-104647-548_L1C_051-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/24/SPOT1-HRV2-XS_20000624-104628-531_L1C_053-259-0_D_V1-0/SPOT1-HRV2-XS_20000624-104628-531_L1C_053-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20000624-104628-531_L1C_053-259-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000624-104628-531_L1C_053-259-0_D_V1-0.zip
run script
2024-01-14T01:42:43.493    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:42:43.494    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000624-104628-531_L1C_053-259-0_D_V1-0.zip
2024-01-14T01:42:43.494    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:42:43.494    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:42:43.494    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:42:43.494    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:42:43.494    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:42:43.495    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:42:43.495    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:42:43.495    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000624-104628-531_L1C_053-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/24/SPOT1-HRV2-XS_20000624-104636-920_L1C_053-260-0_D_V1-0/SPOT1-HRV2-XS_20000624-104636-920_L1C_053-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20000624-104636-920_L1C_053-260-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000624-104636-920_L1C_053-260-0_D_V1-0.zip
run script
2024-01-14T01:44:57.655    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:44:57.657    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000624-104636-920_L1C_053-260-0_D_V1-0.zip
2024-01-14T01:44:57.657    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:44:57.657    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:44:57.657    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:44:57.657    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:44:57.657    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:44:57.657    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:44:57.657    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:44:57.658    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000624-104636-920_L1C_053-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/24/SPOT1-HRV2-XS_20000624-104645-313_L1C_053-261-0_D_V1-0/SPOT1-HRV2-XS_20000624-104645-313_L1C_053-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20000624-104645-313_L1C_053-261-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000624-104645-313_L1C_053-261-0_D_V1-0.zip
run script
2024-01-14T01:47:18.505    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:47:18.506    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000624-104645-313_L1C_053-261-0_D_V1-0.zip
2024-01-14T01:47:18.506    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:47:18.507    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:47:18.507    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:47:18.507    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:47:18.507    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:47:18.507    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:47:18.507    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:47:18.507    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000624-104645-313_L1C_053-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/24/SPOT1-HRV2-XS_20000624-104647-117_L1C_053-261-2_D_V1-0/SPOT1-HRV2-XS_20000624-104647-117_L1C_053-261-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20000624-104647-117_L1C_053-261-2_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000624-104647-117_L1C_053-261-2_D_V1-0.zip
run script
2024-01-14T01:50:15.437    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:50:15.439    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000624-104647-117_L1C_053-261-2_D_V1-0.zip
2024-01-14T01:50:15.439    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:50:15.439    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:50:15.439    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:50:15.439    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:50:15.439    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:50:15.439    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:50:15.439    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:50:15.439    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000624-104647-117_L1C_053-261-2_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/07/31/SPOT1-HRV1-XS_20000731-103502-458_L1C_051-257-3_D_V1-0/SPOT1-HRV1-XS_20000731-103502-458_L1C_051-257-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000731-103502-458_L1C_051-257-3_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000731-103502-458_L1C_051-257-3_D_V1-0.zip
run script
2024-01-14T01:53:15.733    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:53:15.735    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000731-103502-458_L1C_051-257-3_D_V1-0.zip
2024-01-14T01:53:15.735    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:53:15.735    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:53:15.735    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:53:15.735    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:53:15.735    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:53:15.735    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:53:15.735    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:53:15.735    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000731-103502-458_L1C_051-257-3_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/07/31/SPOT1-HRV1-XS_20000731-103508-034_L1C_051-258-0_D_V1-0/SPOT1-HRV1-XS_20000731-103508-034_L1C_051-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000731-103508-034_L1C_051-258-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000731-103508-034_L1C_051-258-0_D_V1-0.zip
run script
2024-01-14T01:56:31.139    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:56:31.140    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000731-103508-034_L1C_051-258-0_D_V1-0.zip
2024-01-14T01:56:31.140    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:56:31.140    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:56:31.140    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:56:31.140    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:56:31.140    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:56:31.141    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:56:31.141    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:56:31.141    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T01:57:53.657    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 304). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000731-103508-034_L1C_051-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2000/07/31/SPOT1-HRV1-XS_20000731-103516-327_L1C_051-259-0_D_V1-0/SPOT1-HRV1-XS_20000731-103516-327_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000731-103516-327_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000731-103516-327_L1C_051-259-0_D_V1-0.zip
run script
2024-01-14T01:57:56.789    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:57:56.791    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000731-103516-327_L1C_051-259-0_D_V1-0.zip
2024-01-14T01:57:56.791    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:57:56.791    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:57:56.791    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:57:56.791    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:57:56.791    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:57:56.791    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:57:56.791    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:57:56.791    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000731-103516-327_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/07/31/SPOT1-HRV1-XS_20000731-103524-627_L1C_051-260-0_D_V1-0/SPOT1-HRV1-XS_20000731-103524-627_L1C_051-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000731-103524-627_L1C_051-260-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000731-103524-627_L1C_051-260-0_D_V1-0.zip
run script
2024-01-14T02:01:08.066    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:01:08.067    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000731-103524-627_L1C_051-260-0_D_V1-0.zip
2024-01-14T02:01:08.068    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:01:08.068    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:01:08.068    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:01:08.068    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:01:08.068    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:01:08.068    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:01:08.068    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:01:08.068    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000731-103524-627_L1C_051-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/07/31/SPOT1-HRV1-XS_20000731-103529-139_L1C_051-260-5_D_V1-0/SPOT1-HRV1-XS_20000731-103529-139_L1C_051-260-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000731-103529-139_L1C_051-260-5_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000731-103529-139_L1C_051-260-5_D_V1-0.zip
run script
2024-01-14T02:03:44.439    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:44.439    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000731-103529-139_L1C_051-260-5_D_V1-0.zip
2024-01-14T02:03:44.439    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:03:44.439    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:03:44.439    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:44.439    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:03:44.439    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:03:44.439    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:03:44.439    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:03:44.439    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000731-103529-139_L1C_051-260-5_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/07/31/SPOT1-HRV1-XS_20000731-103548-465_L1C_051-262-8_D_V1-0/SPOT1-HRV1-XS_20000731-103548-465_L1C_051-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000731-103548-465_L1C_051-262-8_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000731-103548-465_L1C_051-262-8_D_V1-0.zip
run script
2024-01-14T02:06:23.916    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:06:23.918    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000731-103548-465_L1C_051-262-8_D_V1-0.zip
2024-01-14T02:06:23.918    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:06:23.918    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:06:23.918    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:06:23.918    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:06:23.918    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:06:23.918    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:06:23.918    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:06:23.918    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000731-103548-465_L1C_051-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/07/31/SPOT1-HRV1-XS_20000731-103549-569_L1C_051-263-0_D_V1-0/SPOT1-HRV1-XS_20000731-103549-569_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000731-103549-569_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000731-103549-569_L1C_051-263-0_D_V1-0.zip
run script
2024-01-14T02:07:21.808    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:07:21.809    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000731-103549-569_L1C_051-263-0_D_V1-0.zip
2024-01-14T02:07:21.810    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:07:21.810    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:07:21.810    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:07:21.810    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:07:21.810    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:07:21.810    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:07:21.810    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:07:21.810    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000731-103549-569_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/07/31/SPOT1-HRV2-XS_20000731-103514-456_L1C_053-259-0_D_V1-0/SPOT1-HRV2-XS_20000731-103514-456_L1C_053-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20000731-103514-456_L1C_053-259-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000731-103514-456_L1C_053-259-0_D_V1-0.zip
run script
2024-01-14T02:08:11.731    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:08:11.732    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000731-103514-456_L1C_053-259-0_D_V1-0.zip
2024-01-14T02:08:11.732    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:08:11.732    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:08:11.732    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:08:11.732    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:08:11.732    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:08:11.732    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:08:11.732    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:08:11.733    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T02:08:13.886    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (184 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000731-103514-456_L1C_053-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2000/07/31/SPOT1-HRV2-XS_20000731-103522-774_L1C_053-260-0_D_V1-0/SPOT1-HRV2-XS_20000731-103522-774_L1C_053-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20000731-103522-774_L1C_053-260-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000731-103522-774_L1C_053-260-0_D_V1-0.zip
run script
2024-01-14T02:08:16.834    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:08:16.836    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000731-103522-774_L1C_053-260-0_D_V1-0.zip
2024-01-14T02:08:16.836    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:08:16.836    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:08:16.836    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:08:16.836    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:08:16.836    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:08:16.836    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:08:16.836    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:08:16.836    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000731-103522-774_L1C_053-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/07/31/SPOT1-HRV2-XS_20000731-103529-090_L1C_053-260-7_D_V1-0/SPOT1-HRV2-XS_20000731-103529-090_L1C_053-260-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20000731-103529-090_L1C_053-260-7_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000731-103529-090_L1C_053-260-7_D_V1-0.zip
run script
2024-01-14T02:10:22.131    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:10:22.133    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000731-103529-090_L1C_053-260-7_D_V1-0.zip
2024-01-14T02:10:22.133    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:10:22.133    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:10:22.133    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:10:22.133    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:10:22.133    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:10:22.133    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:10:22.133    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:10:22.133    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000731-103529-090_L1C_053-260-7_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/10/07/SPOT1-HRV1-XS_20001007-102759-762_L1C_051-257-3_D_V1-0/SPOT1-HRV1-XS_20001007-102759-762_L1C_051-257-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001007-102759-762_L1C_051-257-3_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001007-102759-762_L1C_051-257-3_D_V1-0.zip
run script
2024-01-14T02:13:05.372    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:13:05.373    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001007-102759-762_L1C_051-257-3_D_V1-0.zip
2024-01-14T02:13:05.373    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:13:05.373    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:13:05.373    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:13:05.373    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:13:05.373    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:13:05.373    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:13:05.373    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:13:05.374    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001007-102759-762_L1C_051-257-3_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/10/07/SPOT1-HRV1-XS_20001007-102805-303_L1C_051-258-0_D_V1-0/SPOT1-HRV1-XS_20001007-102805-303_L1C_051-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001007-102805-303_L1C_051-258-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001007-102805-303_L1C_051-258-0_D_V1-0.zip
run script
2024-01-14T02:16:26.026    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:16:26.027    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001007-102805-303_L1C_051-258-0_D_V1-0.zip
2024-01-14T02:16:26.027    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:16:26.027    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:16:26.027    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:16:26.027    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:16:26.027    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:16:26.027    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:16:26.027    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:16:26.027    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T02:17:53.873    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 320). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001007-102805-303_L1C_051-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2000/10/07/SPOT1-HRV1-XS_20001007-102813-560_L1C_051-259-0_D_V1-0/SPOT1-HRV1-XS_20001007-102813-560_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001007-102813-560_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001007-102813-560_L1C_051-259-0_D_V1-0.zip
run script
2024-01-14T02:17:56.997    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:17:56.998    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001007-102813-560_L1C_051-259-0_D_V1-0.zip
2024-01-14T02:17:56.998    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:17:56.998    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:17:56.998    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:17:56.998    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:17:56.998    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:17:56.998    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:17:56.998    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:17:56.998    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001007-102813-560_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/10/07/SPOT1-HRV1-XS_20001007-102816-267_L1C_051-259-3_D_V1-0/SPOT1-HRV1-XS_20001007-102816-267_L1C_051-259-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001007-102816-267_L1C_051-259-3_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001007-102816-267_L1C_051-259-3_D_V1-0.zip
run script
2024-01-14T02:21:07.500    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:21:07.501    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001007-102816-267_L1C_051-259-3_D_V1-0.zip
2024-01-14T02:21:07.501    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:21:07.501    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:21:07.501    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:21:07.501    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:21:07.501    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:21:07.501    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:21:07.501    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:21:07.501    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001007-102816-267_L1C_051-259-3_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 1 ... 2 2 2]
 [2 2 1 ... 2 2 2]
 [2 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/10/07/SPOT1-HRV2-XS_20001007-102811-785_L1C_053-259-0_D_V1-0/SPOT1-HRV2-XS_20001007-102811-785_L1C_053-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20001007-102811-785_L1C_053-259-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001007-102811-785_L1C_053-259-0_D_V1-0.zip
run script
2024-01-14T02:24:17.751    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:24:17.752    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001007-102811-785_L1C_053-259-0_D_V1-0.zip
2024-01-14T02:24:17.752    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:24:17.753    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:24:17.753    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:24:17.753    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:24:17.753    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:24:17.753    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:24:17.753    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:24:17.753    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001007-102811-785_L1C_053-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/10/07/SPOT1-HRV2-XS_20001007-102816-297_L1C_053-259-5_D_V1-0/SPOT1-HRV2-XS_20001007-102816-297_L1C_053-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20001007-102816-297_L1C_053-259-5_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001007-102816-297_L1C_053-259-5_D_V1-0.zip
run script
2024-01-14T02:26:13.219    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:26:13.220    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001007-102816-297_L1C_053-259-5_D_V1-0.zip
2024-01-14T02:26:13.221    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:26:13.221    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:26:13.221    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:26:13.221    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:26:13.221    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:26:13.221    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:26:13.221    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:26:13.221    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001007-102816-297_L1C_053-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/10/23/SPOT1-HRV1-XS_20001023-102009-549_L1C_051-257-3_D_V1-0/SPOT1-HRV1-XS_20001023-102009-549_L1C_051-257-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001023-102009-549_L1C_051-257-3_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001023-102009-549_L1C_051-257-3_D_V1-0.zip
run script
2024-01-14T02:28:24.554    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:28:24.555    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001023-102009-549_L1C_051-257-3_D_V1-0.zip
2024-01-14T02:28:24.555    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:28:24.555    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:28:24.555    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:28:24.555    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:28:24.555    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:28:24.555    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:28:24.555    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:28:24.556    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001023-102009-549_L1C_051-257-3_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/10/23/SPOT1-HRV1-XS_20001023-102015-066_L1C_051-258-0_D_V1-0/SPOT1-HRV1-XS_20001023-102015-066_L1C_051-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001023-102015-066_L1C_051-258-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001023-102015-066_L1C_051-258-0_D_V1-0.zip
run script
2024-01-14T02:31:59.234    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:31:59.235    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001023-102015-066_L1C_051-258-0_D_V1-0.zip
2024-01-14T02:31:59.235    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:31:59.235    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:31:59.235    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:31:59.235    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:31:59.235    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:31:59.235    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:31:59.235    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:31:59.235    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T02:33:29.003    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 336). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001023-102015-066_L1C_051-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2000/10/23/SPOT1-HRV1-XS_20001023-102023-299_L1C_051-259-0_D_V1-0/SPOT1-HRV1-XS_20001023-102023-299_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001023-102023-299_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001023-102023-299_L1C_051-259-0_D_V1-0.zip
run script
2024-01-14T02:33:32.081    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:33:32.082    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001023-102023-299_L1C_051-259-0_D_V1-0.zip
2024-01-14T02:33:32.082    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:33:32.082    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:33:32.083    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:33:32.083    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:33:32.083    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:33:32.083    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:33:32.083    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:33:32.083    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001023-102023-299_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 1 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/10/23/SPOT1-HRV1-XS_20001023-102027-811_L1C_051-259-5_D_V1-0/SPOT1-HRV1-XS_20001023-102027-811_L1C_051-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001023-102027-811_L1C_051-259-5_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001023-102027-811_L1C_051-259-5_D_V1-0.zip
run script
2024-01-14T02:36:56.001    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:36:56.003    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001023-102027-811_L1C_051-259-5_D_V1-0.zip
2024-01-14T02:36:56.003    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:36:56.003    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:36:56.003    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:36:56.003    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:36:56.003    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:36:56.003    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:36:56.003    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:36:56.003    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001023-102027-811_L1C_051-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 1 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/11/01/SPOT1-HRV1-XS_20001101-104721-095_L1C_051-257-3_D_V1-0/SPOT1-HRV1-XS_20001101-104721-095_L1C_051-257-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001101-104721-095_L1C_051-257-3_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001101-104721-095_L1C_051-257-3_D_V1-0.zip
run script
2024-01-14T02:40:16.639    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:40:16.640    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001101-104721-095_L1C_051-257-3_D_V1-0.zip
2024-01-14T02:40:16.640    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:40:16.640    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:40:16.640    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:40:16.641    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:40:16.641    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:40:16.641    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:40:16.641    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:40:16.641    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001101-104721-095_L1C_051-257-3_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 2 2]
 [2 2 2 ... 1 1 2]
 [2 2 2 ... 1 1 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/11/01/SPOT1-HRV1-XS_20001101-104726-741_L1C_051-258-0_D_V1-0/SPOT1-HRV1-XS_20001101-104726-741_L1C_051-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001101-104726-741_L1C_051-258-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001101-104726-741_L1C_051-258-0_D_V1-0.zip
run script
2024-01-14T02:43:39.667    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:43:39.668    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001101-104726-741_L1C_051-258-0_D_V1-0.zip
2024-01-14T02:43:39.668    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:43:39.668    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:43:39.668    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:43:39.668    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:43:39.668    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:43:39.668    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:43:39.668    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:43:39.668    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001101-104726-741_L1C_051-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/11/01/SPOT1-HRV1-XS_20001101-104731-253_L1C_051-258-5_D_V1-0/SPOT1-HRV1-XS_20001101-104731-253_L1C_051-258-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001101-104731-253_L1C_051-258-5_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001101-104731-253_L1C_051-258-5_D_V1-0.zip
run script
2024-01-14T02:46:37.997    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:46:37.998    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001101-104731-253_L1C_051-258-5_D_V1-0.zip
2024-01-14T02:46:37.998    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:46:37.998    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:46:37.998    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:46:37.998    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:46:37.998    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:46:37.998    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:46:37.998    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:46:37.998    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001101-104731-253_L1C_051-258-5_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/11/18/SPOT1-HRV1-XS_20001118-102019-059_L1C_051-257-6_D_V1-0/SPOT1-HRV1-XS_20001118-102019-059_L1C_051-257-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001118-102019-059_L1C_051-257-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001118-102019-059_L1C_051-257-6_D_V1-0.zip
run script
2024-01-14T02:49:59.450    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:49:59.451    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001118-102019-059_L1C_051-257-6_D_V1-0.zip
2024-01-14T02:49:59.451    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:49:59.451    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:49:59.451    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:49:59.452    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:49:59.452    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:49:59.452    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:49:59.452    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:49:59.452    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001118-102019-059_L1C_051-257-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [1 1 1 ... 0 0 0]
 [1 1 1 ... 0 0 0]
 [1 1 1 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/11/18/SPOT1-HRV1-XS_20001118-102021-868_L1C_051-258-0_D_V1-0/SPOT1-HRV1-XS_20001118-102021-868_L1C_051-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001118-102021-868_L1C_051-258-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001118-102021-868_L1C_051-258-0_D_V1-0.zip
run script
2024-01-14T02:53:34.744    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:53:34.745    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001118-102021-868_L1C_051-258-0_D_V1-0.zip
2024-01-14T02:53:34.745    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:53:34.745    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:53:34.745    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:53:34.745    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:53:34.745    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:53:34.745    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:53:34.745    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:53:34.745    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T02:55:06.930    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 670). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001118-102021-868_L1C_051-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2000/11/18/SPOT1-HRV1-XS_20001118-102030-101_L1C_051-259-0_D_V1-0/SPOT1-HRV1-XS_20001118-102030-101_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001118-102030-101_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001118-102030-101_L1C_051-259-0_D_V1-0.zip
run script
2024-01-14T02:55:10.126    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:55:10.127    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001118-102030-101_L1C_051-259-0_D_V1-0.zip
2024-01-14T02:55:10.127    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:55:10.127    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:55:10.127    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:55:10.127    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:55:10.127    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:55:10.128    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:55:10.128    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:55:10.128    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001118-102030-101_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 1 ... 1 1 1]
 [1 1 1 ... 1 1 1]
 [1 1 1 ... 1 1 1]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/11/18/SPOT1-HRV1-XS_20001118-102035-516_L1C_051-259-6_D_V1-0/SPOT1-HRV1-XS_20001118-102035-516_L1C_051-259-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001118-102035-516_L1C_051-259-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001118-102035-516_L1C_051-259-6_D_V1-0.zip
run script
2024-01-14T02:58:36.830    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:58:36.831    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001118-102035-516_L1C_051-259-6_D_V1-0.zip
2024-01-14T02:58:36.831    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:58:36.832    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:58:36.832    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:58:36.832    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:58:36.832    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:58:36.832    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:58:36.832    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:58:36.832    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001118-102035-516_L1C_051-259-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/15/SPOT1-HRV2-XS_20000615-101923-632_L1C_051-258-4_D_V1-0/SPOT1-HRV2-XS_20000615-101923-632_L1C_051-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20000615-101923-632_L1C_051-258-4_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000615-101923-632_L1C_051-258-4_D_V1-0.zip
run script
2024-01-14T03:01:49.749    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:01:49.750    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000615-101923-632_L1C_051-258-4_D_V1-0.zip
2024-01-14T03:01:49.750    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:01:49.750    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:01:49.750    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:01:49.750    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:01:49.751    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:01:49.751    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:01:49.751    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:01:49.751    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000615-101923-632_L1C_051-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/15/SPOT1-HRV2-XS_20000615-101928-252_L1C_051-259-0_D_V1-0/SPOT1-HRV2-XS_20000615-101928-252_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20000615-101928-252_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000615-101928-252_L1C_051-259-0_D_V1-0.zip
run script
2024-01-14T03:05:08.280    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:05:08.281    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000615-101928-252_L1C_051-259-0_D_V1-0.zip
2024-01-14T03:05:08.281    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:05:08.281    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:05:08.281    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:05:08.281    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:05:08.281    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:05:08.281    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:05:08.281    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:05:08.281    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000615-101928-252_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/15/SPOT1-HRV2-XS_20000615-101936-494_L1C_051-260-0_D_V1-0/SPOT1-HRV2-XS_20000615-101936-494_L1C_051-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20000615-101936-494_L1C_051-260-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000615-101936-494_L1C_051-260-0_D_V1-0.zip
run script
2024-01-14T03:08:40.591    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:08:40.593    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000615-101936-494_L1C_051-260-0_D_V1-0.zip
2024-01-14T03:08:40.593    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:08:40.593    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:08:40.593    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:08:40.593    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:08:40.593    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:08:40.593    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:08:40.593    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:08:40.593    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000615-101936-494_L1C_051-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/15/SPOT1-HRV2-XS_20000615-101944-745_L1C_051-261-0_D_V1-0/SPOT1-HRV2-XS_20000615-101944-745_L1C_051-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20000615-101944-745_L1C_051-261-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000615-101944-745_L1C_051-261-0_D_V1-0.zip
run script
2024-01-14T03:11:43.845    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:11:43.846    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000615-101944-745_L1C_051-261-0_D_V1-0.zip
2024-01-14T03:11:43.846    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:11:43.846    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:11:43.847    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:11:43.847    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:11:43.847    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:11:43.847    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:11:43.847    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:11:43.847    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000615-101944-745_L1C_051-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/15/SPOT1-HRV2-XS_20000615-101953-005_L1C_052-262-0_D_V1-0/SPOT1-HRV2-XS_20000615-101953-005_L1C_052-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20000615-101953-005_L1C_052-262-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000615-101953-005_L1C_052-262-0_D_V1-0.zip
run script
2024-01-14T03:14:48.947    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:48.947    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000615-101953-005_L1C_052-262-0_D_V1-0.zip
2024-01-14T03:14:48.947    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:14:48.947    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:14:48.947    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:48.947    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:14:48.947    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:14:48.947    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:14:48.947    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:14:48.947    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000615-101953-005_L1C_052-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/15/SPOT1-HRV2-XS_20000615-102001-274_L1C_052-263-0_D_V1-0/SPOT1-HRV2-XS_20000615-102001-274_L1C_052-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20000615-102001-274_L1C_052-263-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000615-102001-274_L1C_052-263-0_D_V1-0.zip
run script
2024-01-14T03:17:15.101    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:17:15.101    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000615-102001-274_L1C_052-263-0_D_V1-0.zip
2024-01-14T03:17:15.101    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:17:15.101    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:17:15.101    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:17:15.101    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:17:15.101    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:17:15.102    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:17:15.102    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:17:15.102    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000615-102001-274_L1C_052-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/07/26/SPOT1-HRV1-XS_20000726-103111-582_L1C_051-258-0_D_V1-0/SPOT1-HRV1-XS_20000726-103111-582_L1C_051-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000726-103111-582_L1C_051-258-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000726-103111-582_L1C_051-258-0_D_V1-0.zip
run script
2024-01-14T03:18:13.859    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:18:13.860    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000726-103111-582_L1C_051-258-0_D_V1-0.zip
2024-01-14T03:18:13.860    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:18:13.861    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:18:13.861    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:18:13.861    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:18:13.861    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:18:13.861    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:18:13.861    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:18:13.861    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T03:19:31.228    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 286). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000726-103111-582_L1C_051-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2000/07/26/SPOT1-HRV1-XS_20000726-103119-857_L1C_051-259-0_D_V1-0/SPOT1-HRV1-XS_20000726-103119-857_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000726-103119-857_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000726-103119-857_L1C_051-259-0_D_V1-0.zip
run script
2024-01-14T03:19:35.806    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:19:35.808    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000726-103119-857_L1C_051-259-0_D_V1-0.zip
2024-01-14T03:19:35.808    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:19:35.808    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:19:35.808    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:19:35.808    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:19:35.808    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:19:35.808    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:19:35.808    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:19:35.808    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000726-103119-857_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/07/26/SPOT1-HRV1-XS_20000726-103128-138_L1C_052-260-0_D_V1-0/SPOT1-HRV1-XS_20000726-103128-138_L1C_052-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000726-103128-138_L1C_052-260-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000726-103128-138_L1C_052-260-0_D_V1-0.zip
run script
2024-01-14T03:22:47.893    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:22:47.894    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000726-103128-138_L1C_052-260-0_D_V1-0.zip
2024-01-14T03:22:47.894    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:22:47.894    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:22:47.894    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:22:47.894    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:22:47.894    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:22:47.895    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:22:47.895    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:22:47.895    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000726-103128-138_L1C_052-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/07/26/SPOT1-HRV1-XS_20000726-103129-943_L1C_052-260-2_D_V1-0/SPOT1-HRV1-XS_20000726-103129-943_L1C_052-260-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000726-103129-943_L1C_052-260-2_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000726-103129-943_L1C_052-260-2_D_V1-0.zip
run script
2024-01-14T03:25:31.194    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:25:31.196    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000726-103129-943_L1C_052-260-2_D_V1-0.zip
2024-01-14T03:25:31.196    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:25:31.196    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:25:31.196    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:25:31.196    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:25:31.196    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:25:31.196    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:25:31.196    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:25:31.196    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000726-103129-943_L1C_052-260-2_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/07/26/SPOT1-HRV2-XS_20000726-103126-342_L1C_053-260-0_D_V1-0/SPOT1-HRV2-XS_20000726-103126-342_L1C_053-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20000726-103126-342_L1C_053-260-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000726-103126-342_L1C_053-260-0_D_V1-0.zip
run script
2024-01-14T03:28:09.229    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:28:09.230    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000726-103126-342_L1C_053-260-0_D_V1-0.zip
2024-01-14T03:28:09.230    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:28:09.231    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:28:09.231    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:28:09.231    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:28:09.231    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:28:09.231    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:28:09.231    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:28:09.231    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000726-103126-342_L1C_053-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/07/26/SPOT1-HRV2-XS_20000726-103129-952_L1C_053-260-4_D_V1-0/SPOT1-HRV2-XS_20000726-103129-952_L1C_053-260-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20000726-103129-952_L1C_053-260-4_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000726-103129-952_L1C_053-260-4_D_V1-0.zip
run script
2024-01-14T03:30:07.812    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:30:07.814    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000726-103129-952_L1C_053-260-4_D_V1-0.zip
2024-01-14T03:30:07.814    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:30:07.814    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:30:07.814    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:30:07.814    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:30:07.814    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:30:07.814    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:30:07.814    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:30:07.814    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000726-103129-952_L1C_053-260-4_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/10/02/SPOT1-HRV2-XS_20001002-102426-530_L1C_051-259-6_D_V1-0/SPOT1-HRV2-XS_20001002-102426-530_L1C_051-259-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20001002-102426-530_L1C_051-259-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001002-102426-530_L1C_051-259-6_D_V1-0.zip
run script
2024-01-14T03:32:28.481    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:32:28.481    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001002-102426-530_L1C_051-259-6_D_V1-0.zip
2024-01-14T03:32:28.481    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:32:28.481    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:32:28.481    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:32:28.481    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:32:28.481    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:32:28.481    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:32:28.481    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:32:28.481    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001002-102426-530_L1C_051-259-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/10/02/SPOT1-HRV2-XS_20001002-102429-366_L1C_051-260-0_D_V1-0/SPOT1-HRV2-XS_20001002-102429-366_L1C_051-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20001002-102429-366_L1C_051-260-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001002-102429-366_L1C_051-260-0_D_V1-0.zip
run script
2024-01-14T03:35:38.315    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:35:38.317    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001002-102429-366_L1C_051-260-0_D_V1-0.zip
2024-01-14T03:35:38.317    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:35:38.317    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:35:38.317    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:35:38.317    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:35:38.317    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:35:38.317    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:35:38.317    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:35:38.317    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001002-102429-366_L1C_051-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/10/02/SPOT1-HRV2-XS_20001002-102437-626_L1C_051-261-0_D_V1-0/SPOT1-HRV2-XS_20001002-102437-626_L1C_051-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20001002-102437-626_L1C_051-261-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001002-102437-626_L1C_051-261-0_D_V1-0.zip
run script
2024-01-14T03:38:26.732    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:38:26.733    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001002-102437-626_L1C_051-261-0_D_V1-0.zip
2024-01-14T03:38:26.733    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:38:26.733    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:38:26.733    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:38:26.733    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:38:26.733    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:38:26.733    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:38:26.733    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:38:26.733    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001002-102437-626_L1C_051-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/10/02/SPOT1-HRV2-XS_20001002-102445-895_L1C_051-262-0_D_V1-0/SPOT1-HRV2-XS_20001002-102445-895_L1C_051-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20001002-102445-895_L1C_051-262-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001002-102445-895_L1C_051-262-0_D_V1-0.zip
run script
2024-01-14T03:41:10.675    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:41:10.676    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001002-102445-895_L1C_051-262-0_D_V1-0.zip
2024-01-14T03:41:10.676    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:41:10.676    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:41:10.676    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:41:10.676    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:41:10.676    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:41:10.676    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:41:10.676    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:41:10.677    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001002-102445-895_L1C_051-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 2]
 [2 2 2 2]
 [2 2 2 2]
 ...
 [2 2 2 2]
 [2 2 2 2]
 [2 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/10/02/SPOT1-HRV2-XS_20001002-102454-173_L1C_051-263-0_D_V1-0/SPOT1-HRV2-XS_20001002-102454-173_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20001002-102454-173_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001002-102454-173_L1C_051-263-0_D_V1-0.zip
run script
2024-01-14T03:43:14.911    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:43:14.912    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001002-102454-173_L1C_051-263-0_D_V1-0.zip
2024-01-14T03:43:14.912    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:43:14.913    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:43:14.913    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:43:14.913    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:43:14.913    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:43:14.913    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:43:14.913    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:43:14.913    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001002-102454-173_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/10/02/SPOT1-HRV1-XS_20001002-102426-262_L1C_052-259-7_D_V1-0/SPOT1-HRV1-XS_20001002-102426-262_L1C_052-259-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001002-102426-262_L1C_052-259-7_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001002-102426-262_L1C_052-259-7_D_V1-0.zip
run script
2024-01-14T03:44:09.341    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:44:09.343    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001002-102426-262_L1C_052-259-7_D_V1-0.zip
2024-01-14T03:44:09.343    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:44:09.343    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:44:09.343    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:44:09.343    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:44:09.343    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:44:09.343    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:44:09.343    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:44:09.343    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T03:46:59.158    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 482). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001002-102426-262_L1C_052-259-7_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2000/10/02/SPOT1-HRV1-XS_20001002-102428-202_L1C_052-260-0_D_V1-0/SPOT1-HRV1-XS_20001002-102428-202_L1C_052-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001002-102428-202_L1C_052-260-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001002-102428-202_L1C_052-260-0_D_V1-0.zip
run script
2024-01-14T03:47:03.137    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:47:03.138    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001002-102428-202_L1C_052-260-0_D_V1-0.zip
2024-01-14T03:47:03.138    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:47:03.138    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:47:03.138    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:47:03.138    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:47:03.138    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:47:03.139    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:47:03.139    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:47:03.139    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001002-102428-202_L1C_052-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/10/02/SPOT1-HRV1-XS_20001002-102436-468_L1C_052-261-0_D_V1-0/SPOT1-HRV1-XS_20001002-102436-468_L1C_052-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001002-102436-468_L1C_052-261-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001002-102436-468_L1C_052-261-0_D_V1-0.zip
run script
2024-01-14T03:49:45.448    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:49:45.449    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001002-102436-468_L1C_052-261-0_D_V1-0.zip
2024-01-14T03:49:45.449    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:49:45.449    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:49:45.449    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:49:45.450    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:49:45.450    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:49:45.450    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:49:45.450    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:49:45.450    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001002-102436-468_L1C_052-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/10/02/SPOT1-HRV1-XS_20001002-102444-746_L1C_053-262-0_D_V1-0/SPOT1-HRV1-XS_20001002-102444-746_L1C_053-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001002-102444-746_L1C_053-262-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001002-102444-746_L1C_053-262-0_D_V1-0.zip
run script
2024-01-14T03:52:44.803    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:52:44.805    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001002-102444-746_L1C_053-262-0_D_V1-0.zip
2024-01-14T03:52:44.805    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:52:44.805    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:52:44.805    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:52:44.805    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:52:44.805    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:52:44.805    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:52:44.805    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:52:44.805    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001002-102444-746_L1C_053-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/10/06/SPOT1-HRV1-XS_20001006-104732-259_L1C_051-259-0_D_V1-0/SPOT1-HRV1-XS_20001006-104732-259_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001006-104732-259_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001006-104732-259_L1C_051-259-0_D_V1-0.zip
run script
2024-01-14T03:55:11.966    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:55:11.966    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001006-104732-259_L1C_051-259-0_D_V1-0.zip
2024-01-14T03:55:11.967    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:55:11.967    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:55:11.967    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:55:11.967    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:55:11.967    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:55:11.967    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:55:11.967    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:55:11.967    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001006-104732-259_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/10/06/SPOT1-HRV1-XS_20001006-104740-628_L1C_051-260-0_D_V1-0/SPOT1-HRV1-XS_20001006-104740-628_L1C_051-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001006-104740-628_L1C_051-260-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001006-104740-628_L1C_051-260-0_D_V1-0.zip
run script
2024-01-14T03:58:34.087    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:58:34.088    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001006-104740-628_L1C_051-260-0_D_V1-0.zip
2024-01-14T03:58:34.088    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:58:34.088    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:58:34.088    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:58:34.088    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:58:34.088    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:58:34.088    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:58:34.088    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:58:34.088    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001006-104740-628_L1C_051-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/10/06/SPOT1-HRV1-XS_20001006-104759-187_L1C_051-262-2_D_V1-0/SPOT1-HRV1-XS_20001006-104759-187_L1C_051-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001006-104759-187_L1C_051-262-2_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001006-104759-187_L1C_051-262-2_D_V1-0.zip
run script
2024-01-14T04:01:24.619    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:01:24.620    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001006-104759-187_L1C_051-262-2_D_V1-0.zip
2024-01-14T04:01:24.620    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:01:24.620    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:01:24.620    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:01:24.620    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:01:24.620    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:01:24.620    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:01:24.620    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:01:24.621    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001006-104759-187_L1C_051-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/10/06/SPOT1-HRV1-XS_20001006-104802-797_L1C_051-262-6_D_V1-0/SPOT1-HRV1-XS_20001006-104802-797_L1C_051-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001006-104802-797_L1C_051-262-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001006-104802-797_L1C_051-262-6_D_V1-0.zip
run script
2024-01-14T04:03:20.234    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:03:20.235    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001006-104802-797_L1C_051-262-6_D_V1-0.zip
2024-01-14T04:03:20.235    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:03:20.235    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:03:20.235    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:03:20.235    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:03:20.235    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:03:20.235    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:03:20.236    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:03:20.236    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001006-104802-797_L1C_051-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/10/06/SPOT1-HRV2-XS_20001006-104738-354_L1C_053-260-0_D_V1-0/SPOT1-HRV2-XS_20001006-104738-354_L1C_053-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20001006-104738-354_L1C_053-260-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001006-104738-354_L1C_053-260-0_D_V1-0.zip
run script
2024-01-14T04:04:46.711    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:04:46.712    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001006-104738-354_L1C_053-260-0_D_V1-0.zip
2024-01-14T04:04:46.712    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:04:46.712    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:04:46.712    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:04:46.712    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:04:46.712    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:04:46.712    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:04:46.712    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:04:46.713    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001006-104738-354_L1C_053-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/10/06/SPOT1-HRV2-XS_20001006-104740-158_L1C_053-260-2_D_V1-0/SPOT1-HRV2-XS_20001006-104740-158_L1C_053-260-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20001006-104740-158_L1C_053-260-2_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001006-104740-158_L1C_053-260-2_D_V1-0.zip
run script
2024-01-14T04:07:12.018    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:07:12.020    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001006-104740-158_L1C_053-260-2_D_V1-0.zip
2024-01-14T04:07:12.020    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:07:12.020    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:07:12.020    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:07:12.020    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:07:12.020    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:07:12.020    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:07:12.020    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:07:12.020    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T04:07:43.572    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 494). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20001006-104740-158_L1C_053-260-2_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2000/11/07/SPOT1-HRV1-XS_20001107-103209-479_L1C_051-259-0_D_V1-0/SPOT1-HRV1-XS_20001107-103209-479_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001107-103209-479_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001107-103209-479_L1C_051-259-0_D_V1-0.zip
run script
2024-01-14T04:07:46.686    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:07:46.687    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001107-103209-479_L1C_051-259-0_D_V1-0.zip
2024-01-14T04:07:46.687    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:07:46.687    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:07:46.687    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:07:46.687    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:07:46.687    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:07:46.687    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:07:46.687    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:07:46.687    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001107-103209-479_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/04/12/SPOT1-HRV1-XS_20000412-104953-409_L1C_051-261-6_D_V1-0/SPOT1-HRV1-XS_20000412-104953-409_L1C_051-261-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000412-104953-409_L1C_051-261-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000412-104953-409_L1C_051-261-6_D_V1-0.zip
run script
2024-01-14T04:10:47.489    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:10:47.490    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000412-104953-409_L1C_051-261-6_D_V1-0.zip
2024-01-14T04:10:47.490    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:10:47.490    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:10:47.490    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:10:47.490    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:10:47.490    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:10:47.490    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:10:47.490    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:10:47.490    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000412-104953-409_L1C_051-261-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/04/12/SPOT1-HRV1-XS_20000412-104956-396_L1C_051-262-0_D_V1-0/SPOT1-HRV1-XS_20000412-104956-396_L1C_051-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000412-104956-396_L1C_051-262-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000412-104956-396_L1C_051-262-0_D_V1-0.zip
run script
2024-01-14T04:12:49.521    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:12:49.522    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000412-104956-396_L1C_051-262-0_D_V1-0.zip
2024-01-14T04:12:49.522    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:12:49.522    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:12:49.522    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:12:49.522    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:12:49.523    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:12:49.523    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:12:49.523    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:12:49.523    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000412-104956-396_L1C_051-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/04/12/SPOT1-HRV1-XS_20000412-105004-800_L1C_051-263-0_D_V1-0/SPOT1-HRV1-XS_20000412-105004-800_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000412-105004-800_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000412-105004-800_L1C_051-263-0_D_V1-0.zip
run script
2024-01-14T04:14:32.753    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:14:32.754    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000412-105004-800_L1C_051-263-0_D_V1-0.zip
2024-01-14T04:14:32.754    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:14:32.754    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:14:32.754    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:14:32.754    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:14:32.754    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:14:32.754    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:14:32.754    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:14:32.754    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000412-105004-800_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/03/02/SPOT1-HRV1-XS_20000302-103810-083_L1C_051-262-6_D_V1-0/SPOT1-HRV1-XS_20000302-103810-083_L1C_051-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000302-103810-083_L1C_051-262-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000302-103810-083_L1C_051-262-6_D_V1-0.zip
run script
2024-01-14T04:15:09.320    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:15:09.321    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000302-103810-083_L1C_051-262-6_D_V1-0.zip
2024-01-14T04:15:09.321    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:15:09.321    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:15:09.321    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:15:09.321    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:15:09.321    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:15:09.321    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:15:09.321    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:15:09.321    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000302-103810-083_L1C_051-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/03/02/SPOT1-HRV1-XS_20000302-103813-013_L1C_051-263-0_D_V1-0/SPOT1-HRV1-XS_20000302-103813-013_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000302-103813-013_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000302-103813-013_L1C_051-263-0_D_V1-0.zip
run script
2024-01-14T04:16:30.847    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:16:30.848    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000302-103813-013_L1C_051-263-0_D_V1-0.zip
2024-01-14T04:16:30.848    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:16:30.848    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:16:30.848    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:16:30.849    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:16:30.849    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:16:30.849    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:16:30.849    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:16:30.849    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000302-103813-013_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/04/18/SPOT1-HRV1-XS_20000418-103437-020_L1C_051-262-0_D_V1-0/SPOT1-HRV1-XS_20000418-103437-020_L1C_051-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000418-103437-020_L1C_051-262-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000418-103437-020_L1C_051-262-0_D_V1-0.zip
run script
2024-01-14T04:17:16.114    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:17:16.115    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000418-103437-020_L1C_051-262-0_D_V1-0.zip
2024-01-14T04:17:16.115    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:17:16.115    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:17:16.115    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:17:16.115    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:17:16.115    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:17:16.115    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:17:16.115    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:17:16.116    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000418-103437-020_L1C_051-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/04/18/SPOT1-HRV1-XS_20000418-103445-337_L1C_051-263-0_D_V1-0/SPOT1-HRV1-XS_20000418-103445-337_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000418-103445-337_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000418-103445-337_L1C_051-263-0_D_V1-0.zip
run script
2024-01-14T04:18:59.666    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:18:59.667    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000418-103445-337_L1C_051-263-0_D_V1-0.zip
2024-01-14T04:18:59.667    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:18:59.667    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:18:59.667    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:18:59.667    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:18:59.667    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:18:59.667    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:18:59.667    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:18:59.667    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000418-103445-337_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/07/11/SPOT1-HRV1-XS_20000711-101947-127_L1C_052-260-0_D_V1-0/SPOT1-HRV1-XS_20000711-101947-127_L1C_052-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000711-101947-127_L1C_052-260-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000711-101947-127_L1C_052-260-0_D_V1-0.zip
run script
2024-01-14T04:19:39.526    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:19:39.528    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000711-101947-127_L1C_052-260-0_D_V1-0.zip
2024-01-14T04:19:39.528    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:19:39.528    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:19:39.528    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:19:39.528    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:19:39.528    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:19:39.528    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:19:39.528    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:19:39.528    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000711-101947-127_L1C_052-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/07/11/SPOT1-HRV1-XS_20000711-101951-639_L1C_052-260-5_D_V1-0/SPOT1-HRV1-XS_20000711-101951-639_L1C_052-260-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000711-101951-639_L1C_052-260-5_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000711-101951-639_L1C_052-260-5_D_V1-0.zip
run script
2024-01-14T04:22:43.563    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:22:43.564    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000711-101951-639_L1C_052-260-5_D_V1-0.zip
2024-01-14T04:22:43.565    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:22:43.565    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:22:43.565    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:22:43.565    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:22:43.565    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:22:43.565    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:22:43.565    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:22:43.565    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000711-101951-639_L1C_052-260-5_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/07/11/SPOT1-HRV2-XS_20000711-101951-684_L1C_053-260-7_D_V1-0/SPOT1-HRV2-XS_20000711-101951-684_L1C_053-260-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20000711-101951-684_L1C_053-260-7_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000711-101951-684_L1C_053-260-7_D_V1-0.zip
run script
2024-01-14T04:26:04.126    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:26:04.127    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000711-101951-684_L1C_053-260-7_D_V1-0.zip
2024-01-14T04:26:04.127    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:26:04.127    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:26:04.127    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:26:04.127    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:26:04.127    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:26:04.127    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:26:04.127    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:26:04.127    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000711-101951-684_L1C_053-260-7_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/05/29/SPOT1-HRV1-XS_20000529-104650-402_L1C_052-262-6_D_V1-0/SPOT1-HRV1-XS_20000529-104650-402_L1C_052-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000529-104650-402_L1C_052-262-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000529-104650-402_L1C_052-262-6_D_V1-0.zip
run script
2024-01-14T04:28:38.117    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:28:38.119    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000529-104650-402_L1C_052-262-6_D_V1-0.zip
2024-01-14T04:28:38.119    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:28:38.119    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:28:38.119    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:28:38.119    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:28:38.119    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:28:38.119    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:28:38.119    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:28:38.119    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000529-104650-402_L1C_052-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 0 0 ... 2 2 2]
 [1 1 0 ... 2 2 2]
 [1 1 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/09/25/SPOT1-HRV1-XS_20000925-105932-783_L1C_052-263-0_D_V1-0/SPOT1-HRV1-XS_20000925-105932-783_L1C_052-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000925-105932-783_L1C_052-263-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000925-105932-783_L1C_052-263-0_D_V1-0.zip
run script
2024-01-14T04:30:26.157    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:30:26.159    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000925-105932-783_L1C_052-263-0_D_V1-0.zip
2024-01-14T04:30:26.159    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:30:26.159    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:30:26.159    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:30:26.159    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:30:26.159    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:30:26.159    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:30:26.159    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:30:26.159    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000925-105932-783_L1C_052-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/09/25/SPOT1-HRV1-XS_20000925-105906-042_L1C_053-259-8_D_V1-0/SPOT1-HRV1-XS_20000925-105906-042_L1C_053-259-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000925-105906-042_L1C_053-259-8_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000925-105906-042_L1C_053-259-8_D_V1-0.zip
run script
2024-01-14T04:31:56.024    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:31:56.037    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000925-105906-042_L1C_053-259-8_D_V1-0.zip
2024-01-14T04:31:56.037    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:31:56.037    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:31:56.037    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:31:56.037    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:31:56.037    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:31:56.037    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:31:56.037    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:31:56.037    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000925-105906-042_L1C_053-259-8_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/09/25/SPOT1-HRV1-XS_20000925-105907-309_L1C_053-260-0_D_V1-0/SPOT1-HRV1-XS_20000925-105907-309_L1C_053-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000925-105907-309_L1C_053-260-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000925-105907-309_L1C_053-260-0_D_V1-0.zip
run script
2024-01-14T04:35:43.944    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:35:43.945    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000925-105907-309_L1C_053-260-0_D_V1-0.zip
2024-01-14T04:35:43.945    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:35:43.945    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:35:43.946    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:35:43.946    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:35:43.946    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:35:43.946    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:35:43.946    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:35:43.946    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T04:36:44.835    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 99). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000925-105907-309_L1C_053-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2000/09/25/SPOT1-HRV1-XS_20000925-105915-797_L1C_053-261-0_D_V1-0/SPOT1-HRV1-XS_20000925-105915-797_L1C_053-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000925-105915-797_L1C_053-261-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000925-105915-797_L1C_053-261-0_D_V1-0.zip
run script
2024-01-14T04:36:47.927    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:36:47.928    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000925-105915-797_L1C_053-261-0_D_V1-0.zip
2024-01-14T04:36:47.928    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:36:47.928    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:36:47.928    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:36:47.929    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:36:47.929    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:36:47.929    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:36:47.929    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:36:47.929    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000925-105915-797_L1C_053-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/09/25/SPOT1-HRV1-XS_20000925-105924-289_L1C_053-262-0_D_V1-0/SPOT1-HRV1-XS_20000925-105924-289_L1C_053-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000925-105924-289_L1C_053-262-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000925-105924-289_L1C_053-262-0_D_V1-0.zip
run script
2024-01-14T04:40:45.891    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:40:45.892    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000925-105924-289_L1C_053-262-0_D_V1-0.zip
2024-01-14T04:40:45.893    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:40:45.893    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:40:45.893    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:40:45.893    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:40:45.893    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:40:45.893    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:40:45.893    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:40:45.893    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000925-105924-289_L1C_053-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/09/15/SPOT1-HRV2-XS_20000915-105114-097_L1C_053-259-9_D_V1-0/SPOT1-HRV2-XS_20000915-105114-097_L1C_053-259-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20000915-105114-097_L1C_053-259-9_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000915-105114-097_L1C_053-259-9_D_V1-0.zip
run script
2024-01-14T04:44:20.405    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:44:20.406    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000915-105114-097_L1C_053-259-9_D_V1-0.zip
2024-01-14T04:44:20.406    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:44:20.406    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:44:20.406    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:44:20.406    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:44:20.406    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:44:20.406    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:44:20.406    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:44:20.406    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T04:45:09.760    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 176). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000915-105114-097_L1C_053-259-9_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2000/09/15/SPOT1-HRV2-XS_20000915-105122-811_L1C_053-261-0_D_V1-0/SPOT1-HRV2-XS_20000915-105122-811_L1C_053-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20000915-105122-811_L1C_053-261-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000915-105122-811_L1C_053-261-0_D_V1-0.zip
run script
2024-01-14T04:45:12.838    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:45:12.840    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000915-105122-811_L1C_053-261-0_D_V1-0.zip
2024-01-14T04:45:12.840    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:45:12.840    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:45:12.840    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:45:12.840    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:45:12.840    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:45:12.840    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:45:12.841    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:45:12.841    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000915-105122-811_L1C_053-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 1 ... 2 2 2]
 [0 0 1 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/09/15/SPOT1-HRV2-XS_20000915-105131-236_L1C_053-262-0_D_V1-0/SPOT1-HRV2-XS_20000915-105131-236_L1C_053-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20000915-105131-236_L1C_053-262-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000915-105131-236_L1C_053-262-0_D_V1-0.zip
run script
2024-01-14T04:48:32.442    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:48:32.444    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000915-105131-236_L1C_053-262-0_D_V1-0.zip
2024-01-14T04:48:32.444    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:48:32.444    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:48:32.444    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:48:32.444    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:48:32.444    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:48:32.444    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:48:32.444    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:48:32.444    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000915-105131-236_L1C_053-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/09/15/SPOT1-HRV2-XS_20000915-105135-748_L1C_053-262-5_D_V1-0/SPOT1-HRV2-XS_20000915-105135-748_L1C_053-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20000915-105135-748_L1C_053-262-5_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000915-105135-748_L1C_053-262-5_D_V1-0.zip
run script
2024-01-14T04:51:19.907    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:51:19.908    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000915-105135-748_L1C_053-262-5_D_V1-0.zip
2024-01-14T04:51:19.908    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:51:19.908    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:51:19.908    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:51:19.908    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:51:19.908    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:51:19.908    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:51:19.908    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:51:19.908    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000915-105135-748_L1C_053-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/09/15/SPOT1-HRV1-XS_20000915-105121-087_L1C_054-261-0_D_V1-0/SPOT1-HRV1-XS_20000915-105121-087_L1C_054-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000915-105121-087_L1C_054-261-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000915-105121-087_L1C_054-261-0_D_V1-0.zip
run script
2024-01-14T04:53:30.355    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:53:30.356    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000915-105121-087_L1C_054-261-0_D_V1-0.zip
2024-01-14T04:53:30.356    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:53:30.357    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:53:30.357    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:53:30.357    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:53:30.357    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:53:30.357    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:53:30.357    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:53:30.357    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000915-105121-087_L1C_054-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/09/15/SPOT1-HRV1-XS_20000915-105129-531_L1C_054-262-0_D_V1-0/SPOT1-HRV1-XS_20000915-105129-531_L1C_054-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000915-105129-531_L1C_054-262-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000915-105129-531_L1C_054-262-0_D_V1-0.zip
run script
2024-01-14T04:55:53.896    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:55:53.896    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000915-105129-531_L1C_054-262-0_D_V1-0.zip
2024-01-14T04:55:53.896    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:55:53.896    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:55:53.897    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:55:53.897    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:55:53.897    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:55:53.897    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:55:53.897    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:55:53.897    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000915-105129-531_L1C_054-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/09/15/SPOT1-HRV1-XS_20000915-105135-848_L1C_054-262-7_D_V1-0/SPOT1-HRV1-XS_20000915-105135-848_L1C_054-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000915-105135-848_L1C_054-262-7_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000915-105135-848_L1C_054-262-7_D_V1-0.zip
run script
2024-01-14T04:58:28.349    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:58:28.350    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000915-105135-848_L1C_054-262-7_D_V1-0.zip
2024-01-14T04:58:28.350    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:58:28.350    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:58:28.350    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:58:28.350    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:58:28.351    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:58:28.351    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:58:28.351    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:58:28.351    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000915-105135-848_L1C_054-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/08/SPOT1-HRV1-XS_20000608-105424-963_L1C_053-261-0_D_V1-0/SPOT1-HRV1-XS_20000608-105424-963_L1C_053-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000608-105424-963_L1C_053-261-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000608-105424-963_L1C_053-261-0_D_V1-0.zip
run script
2024-01-14T05:00:12.304    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:00:12.305    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000608-105424-963_L1C_053-261-0_D_V1-0.zip
2024-01-14T05:00:12.305    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:00:12.305    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:00:12.305    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:00:12.305    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:00:12.306    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:00:12.306    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:00:12.306    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:00:12.306    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000608-105424-963_L1C_053-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/08/SPOT1-HRV1-XS_20000608-105433-434_L1C_053-262-0_D_V1-0/SPOT1-HRV1-XS_20000608-105433-434_L1C_053-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000608-105433-434_L1C_053-262-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000608-105433-434_L1C_053-262-0_D_V1-0.zip
run script
2024-01-14T05:03:24.476    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:03:24.477    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000608-105433-434_L1C_053-262-0_D_V1-0.zip
2024-01-14T05:03:24.477    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:03:24.477    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:03:24.477    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:03:24.477    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:03:24.477    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:03:24.477    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:03:24.477    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:03:24.477    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000608-105433-434_L1C_053-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/06/08/SPOT1-HRV1-XS_20000608-105441-556_L1C_053-262-9_D_V1-0/SPOT1-HRV1-XS_20000608-105441-556_L1C_053-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000608-105441-556_L1C_053-262-9_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000608-105441-556_L1C_053-262-9_D_V1-0.zip
run script
2024-01-14T05:06:29.362    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:06:29.363    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000608-105441-556_L1C_053-262-9_D_V1-0.zip
2024-01-14T05:06:29.363    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:06:29.363    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:06:29.363    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:06:29.363    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:06:29.364    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:06:29.364    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:06:29.364    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:06:29.364    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000608-105441-556_L1C_053-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/03/22/SPOT1-HRV1-XS_20000322-105329-105_L1C_053-262-0_D_V1-0/SPOT1-HRV1-XS_20000322-105329-105_L1C_053-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000322-105329-105_L1C_053-262-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000322-105329-105_L1C_053-262-0_D_V1-0.zip
run script
2024-01-14T05:07:56.025    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:07:56.027    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000322-105329-105_L1C_053-262-0_D_V1-0.zip
2024-01-14T05:07:56.027    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:07:56.027    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:07:56.027    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:07:56.027    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:07:56.027    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:07:56.027    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:07:56.027    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:07:56.027    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000322-105329-105_L1C_053-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/03/22/SPOT1-HRV1-XS_20000322-105335-422_L1C_053-262-7_D_V1-0/SPOT1-HRV1-XS_20000322-105335-422_L1C_053-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000322-105335-422_L1C_053-262-7_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000322-105335-422_L1C_053-262-7_D_V1-0.zip
run script
2024-01-14T05:10:57.494    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:10:57.495    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000322-105335-422_L1C_053-262-7_D_V1-0.zip
2024-01-14T05:10:57.495    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:10:57.495    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:10:57.495    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:10:57.495    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:10:57.496    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:10:57.496    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:10:57.496    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:10:57.496    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000322-105335-422_L1C_053-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/03/22/SPOT1-HRV1-XS_20000322-105326-046_L1C_054-261-6_D_V1-0/SPOT1-HRV1-XS_20000322-105326-046_L1C_054-261-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000322-105326-046_L1C_054-261-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000322-105326-046_L1C_054-261-6_D_V1-0.zip
run script
2024-01-14T05:12:51.816    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:12:51.817    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000322-105326-046_L1C_054-261-6_D_V1-0.zip
2024-01-14T05:12:51.818    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:12:51.818    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:12:51.818    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:12:51.818    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:12:51.818    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:12:51.818    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:12:51.818    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:12:51.818    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T05:16:00.124    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 556). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000322-105326-046_L1C_054-261-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2000/09/22/SPOT1-HRV2-XS_20000922-101641-445_L1C_054-260-7_D_V1-0/SPOT1-HRV2-XS_20000922-101641-445_L1C_054-260-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20000922-101641-445_L1C_054-260-7_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000922-101641-445_L1C_054-260-7_D_V1-0.zip
run script
2024-01-14T05:16:03.086    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:16:03.087    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000922-101641-445_L1C_054-260-7_D_V1-0.zip
2024-01-14T05:16:03.087    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:16:03.087    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:16:03.087    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:16:03.087    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:16:03.087    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:16:03.087    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:16:03.087    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:16:03.088    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000922-101641-445_L1C_054-260-7_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/09/22/SPOT1-HRV2-XS_20000922-101643-383_L1C_054-261-0_D_V1-0/SPOT1-HRV2-XS_20000922-101643-383_L1C_054-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20000922-101643-383_L1C_054-261-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000922-101643-383_L1C_054-261-0_D_V1-0.zip
run script
2024-01-14T05:17:59.785    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:17:59.786    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000922-101643-383_L1C_054-261-0_D_V1-0.zip
2024-01-14T05:17:59.786    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:17:59.786    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:17:59.786    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:17:59.787    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:17:59.787    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:17:59.787    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:17:59.787    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:17:59.787    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000922-101643-383_L1C_054-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/09/22/SPOT1-HRV2-XS_20000922-101652-545_L1C_054-262-1_D_V1-0/SPOT1-HRV2-XS_20000922-101652-545_L1C_054-262-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_20000922-101652-545_L1C_054-262-1_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000922-101652-545_L1C_054-262-1_D_V1-0.zip
run script
2024-01-14T05:20:08.297    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:20:08.298    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000922-101652-545_L1C_054-262-1_D_V1-0.zip
2024-01-14T05:20:08.298    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:20:08.298    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:20:08.298    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:20:08.298    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:20:08.298    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:20:08.298    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:20:08.298    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:20:08.298    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T05:20:10.921    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (462 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV2-XS_20000922-101652-545_L1C_054-262-1_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2000/08/01/SPOT1-HRV1-XS_20000801-101616-272_L1C_054-261-5_D_V1-0/SPOT1-HRV1-XS_20000801-101616-272_L1C_054-261-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000801-101616-272_L1C_054-261-5_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000801-101616-272_L1C_054-261-5_D_V1-0.zip
run script
2024-01-14T05:20:13.995    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:20:13.996    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000801-101616-272_L1C_054-261-5_D_V1-0.zip
2024-01-14T05:20:13.997    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:20:13.997    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:20:13.997    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:20:13.997    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:20:13.997    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:20:13.997    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:20:13.997    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:20:13.997    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000801-101616-272_L1C_054-261-5_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/08/01/SPOT1-HRV1-XS_20000801-101620-020_L1C_054-262-0_D_V1-0/SPOT1-HRV1-XS_20000801-101620-020_L1C_054-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000801-101620-020_L1C_054-262-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000801-101620-020_L1C_054-262-0_D_V1-0.zip
run script
2024-01-14T05:22:52.233    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:22:52.234    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000801-101620-020_L1C_054-262-0_D_V1-0.zip
2024-01-14T05:22:52.234    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:22:52.234    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:22:52.234    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:22:52.234    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:22:52.234    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:22:52.234    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:22:52.234    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:22:52.234    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000801-101620-020_L1C_054-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/08/01/SPOT1-HRV1-XS_20000801-101621-825_L1C_054-262-2_D_V1-0/SPOT1-HRV1-XS_20000801-101621-825_L1C_054-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000801-101621-825_L1C_054-262-2_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000801-101621-825_L1C_054-262-2_D_V1-0.zip
run script
2024-01-14T05:25:19.424    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:25:19.425    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000801-101621-825_L1C_054-262-2_D_V1-0.zip
2024-01-14T05:25:19.425    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:25:19.425    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:25:19.425    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:25:19.425    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:25:19.425    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:25:19.425    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:25:19.425    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:25:19.426    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000801-101621-825_L1C_054-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/10/18/SPOT1-HRV1-XS_20001018-101653-891_L1C_054-261-8_D_V1-0/SPOT1-HRV1-XS_20001018-101653-891_L1C_054-261-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001018-101653-891_L1C_054-261-8_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001018-101653-891_L1C_054-261-8_D_V1-0.zip
run script
2024-01-14T05:28:02.446    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:28:02.447    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001018-101653-891_L1C_054-261-8_D_V1-0.zip
2024-01-14T05:28:02.447    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:28:02.447    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:28:02.448    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:28:02.448    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:28:02.448    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:28:02.448    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:28:02.448    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:28:02.448    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T05:28:05.208    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (227 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001018-101653-891_L1C_054-261-8_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2000/10/18/SPOT1-HRV1-XS_20001018-101654-932_L1C_054-262-0_D_V1-0/SPOT1-HRV1-XS_20001018-101654-932_L1C_054-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001018-101654-932_L1C_054-262-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001018-101654-932_L1C_054-262-0_D_V1-0.zip
run script
2024-01-14T05:28:08.201    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:28:08.202    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001018-101654-932_L1C_054-262-0_D_V1-0.zip
2024-01-14T05:28:08.202    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:28:08.202    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:28:08.202    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:28:08.202    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:28:08.202    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:28:08.202    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:28:08.202    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:28:08.202    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T05:28:11.682    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (890 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001018-101654-932_L1C_054-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2000/10/28/SPOT1-HRV1-XS_20001028-102440-817_L1C_054-261-6_D_V1-0/SPOT1-HRV1-XS_20001028-102440-817_L1C_054-261-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001028-102440-817_L1C_054-261-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001028-102440-817_L1C_054-261-6_D_V1-0.zip
run script
2024-01-14T05:28:17.599    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:28:17.600    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001028-102440-817_L1C_054-261-6_D_V1-0.zip
2024-01-14T05:28:17.600    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:28:17.600    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:28:17.600    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:28:17.600    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:28:17.600    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:28:17.600    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:28:17.600    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:28:17.601    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001028-102440-817_L1C_054-261-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2000/10/28/SPOT1-HRV1-XS_20001028-102443-690_L1C_054-262-0_D_V1-0/SPOT1-HRV1-XS_20001028-102443-690_L1C_054-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20001028-102443-690_L1C_054-262-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001028-102443-690_L1C_054-262-0_D_V1-0.zip
run script
2024-01-14T05:30:25.583    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:30:25.584    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001028-102443-690_L1C_054-262-0_D_V1-0.zip
2024-01-14T05:30:25.584    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:30:25.584    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:30:25.584    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:30:25.584    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:30:25.584    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:30:25.584    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:30:25.584    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:30:25.584    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T05:30:29.625    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (442 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20001028-102443-690_L1C_054-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2000/06/09/SPOT1-HRV1-XS_20000609-103516-675_L1C_054-262-0_D_V1-0/SPOT1-HRV1-XS_20000609-103516-675_L1C_054-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_20000609-103516-675_L1C_054-262-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000609-103516-675_L1C_054-262-0_D_V1-0.zip
run script
2024-01-14T05:30:32.688    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:30:32.689    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000609-103516-675_L1C_054-262-0_D_V1-0.zip
2024-01-14T05:30:32.689    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:30:32.689    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:30:32.689    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:30:32.689    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:30:32.689    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:30:32.689    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:30:32.689    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:30:32.689    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT1-HRV1-XS_20000609-103516-675_L1C_054-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/04/SPOT5-HRG2-XS_20040504-104730-233_L1C_046-262-7_D_V1-0/SPOT5-HRG2-XS_20040504-104730-233_L1C_046-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040504-104730-233_L1C_046-262-7_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040504-104730-233_L1C_046-262-7_D_V1-0.zip
run script
2024-01-14T05:32:36.004    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:32:36.006    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040504-104730-233_L1C_046-262-7_D_V1-0.zip
2024-01-14T05:32:36.006    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:32:36.006    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:32:36.006    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:32:36.006    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:32:36.006    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:32:36.007    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:32:36.007    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:32:36.007    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040504-104730-233_L1C_046-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/10/SPOT5-HRG1-XS_20040510-103207-761_L1C_046-262-7_D_V1-0/SPOT5-HRG1-XS_20040510-103207-761_L1C_046-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040510-103207-761_L1C_046-262-7_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040510-103207-761_L1C_046-262-7_D_V1-0.zip
run script
2024-01-14T05:33:17.680    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:33:17.681    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040510-103207-761_L1C_046-262-7_D_V1-0.zip
2024-01-14T05:33:17.681    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:33:17.681    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:33:17.682    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:33:17.682    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:33:17.682    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:33:17.682    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:33:17.682    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:33:17.682    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040510-103207-761_L1C_046-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/10/SPOT5-HRG2-XS_20040510-103106-853_L1C_048-255-8_D_V1-0/SPOT5-HRG2-XS_20040510-103106-853_L1C_048-255-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040510-103106-853_L1C_048-255-8_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040510-103106-853_L1C_048-255-8_D_V1-0.zip
run script
2024-01-14T05:33:59.551    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:33:59.552    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040510-103106-853_L1C_048-255-8_D_V1-0.zip
2024-01-14T05:33:59.552    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:33:59.553    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:33:59.553    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:33:59.553    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:33:59.553    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:33:59.553    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:33:59.553    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:33:59.553    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040510-103106-853_L1C_048-255-8_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/10/SPOT5-HRG1-XS_20040510-103105-752_L1C_050-256-0_D_V1-0/SPOT5-HRG1-XS_20040510-103105-752_L1C_050-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040510-103105-752_L1C_050-256-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040510-103105-752_L1C_050-256-0_D_V1-0.zip
run script
2024-01-14T05:35:19.232    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:35:19.233    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040510-103105-752_L1C_050-256-0_D_V1-0.zip
2024-01-14T05:35:19.233    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:35:19.233    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:35:19.233    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:35:19.233    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:35:19.234    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:35:19.234    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:35:19.234    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:35:19.234    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040510-103105-752_L1C_050-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/10/SPOT5-HRG1-XS_20040510-103112-971_L1C_050-256-8_D_V1-0/SPOT5-HRG1-XS_20040510-103112-971_L1C_050-256-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040510-103112-971_L1C_050-256-8_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040510-103112-971_L1C_050-256-8_D_V1-0.zip
run script
2024-01-14T05:38:40.229    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:38:40.230    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040510-103112-971_L1C_050-256-8_D_V1-0.zip
2024-01-14T05:38:40.230    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:38:40.230    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:38:40.230    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:38:40.230    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:38:40.231    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:38:40.231    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:38:40.231    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:38:40.231    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040510-103112-971_L1C_050-256-8_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/14/SPOT5-HRG2-XS_20040514-105518-096_L1C_046-262-7_D_V1-0/SPOT5-HRG2-XS_20040514-105518-096_L1C_046-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040514-105518-096_L1C_046-262-7_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040514-105518-096_L1C_046-262-7_D_V1-0.zip
run script
2024-01-14T05:42:05.382    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:42:05.384    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040514-105518-096_L1C_046-262-7_D_V1-0.zip
2024-01-14T05:42:05.384    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:42:05.384    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:42:05.384    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:42:05.384    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:42:05.384    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:42:05.384    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:42:05.384    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:42:05.384    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040514-105518-096_L1C_046-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/14/SPOT5-HRG2-XS_20040514-105409-107_L1C_048-255-0_D_V1-0/SPOT5-HRG2-XS_20040514-105409-107_L1C_048-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040514-105409-107_L1C_048-255-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040514-105409-107_L1C_048-255-0_D_V1-0.zip
run script
2024-01-14T05:42:47.239    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:42:47.240    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040514-105409-107_L1C_048-255-0_D_V1-0.zip
2024-01-14T05:42:47.240    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:42:47.240    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:42:47.240    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:42:47.240    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:42:47.240    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:42:47.240    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:42:47.240    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:42:47.240    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040514-105409-107_L1C_048-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/14/SPOT5-HRG2-XS_20040514-105408-914_L1C_049-254-9_D_V1-0/SPOT5-HRG2-XS_20040514-105408-914_L1C_049-254-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040514-105408-914_L1C_049-254-9_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040514-105408-914_L1C_049-254-9_D_V1-0.zip
run script
2024-01-14T05:43:30.441    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:43:30.442    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040514-105408-914_L1C_049-254-9_D_V1-0.zip
2024-01-14T05:43:30.442    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:43:30.442    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:43:30.442    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:43:30.442    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:43:30.442    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:43:30.442    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:43:30.442    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:43:30.442    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040514-105408-914_L1C_049-254-9_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/06/05/SPOT5-HRG1-XS_20040605-103212-524_L1C_046-262-6_D_V1-0/SPOT5-HRG1-XS_20040605-103212-524_L1C_046-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040605-103212-524_L1C_046-262-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040605-103212-524_L1C_046-262-6_D_V1-0.zip
run script
2024-01-14T05:44:12.281    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:44:12.282    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040605-103212-524_L1C_046-262-6_D_V1-0.zip
2024-01-14T05:44:12.282    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:44:12.282    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:44:12.282    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:44:12.282    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:44:12.282    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:44:12.282    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:44:12.283    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:44:12.283    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040605-103212-524_L1C_046-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/07/05/SPOT5-HRG1-XS_20040705-105518-177_L1C_046-262-7_D_V1-0/SPOT5-HRG1-XS_20040705-105518-177_L1C_046-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040705-105518-177_L1C_046-262-7_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040705-105518-177_L1C_046-262-7_D_V1-0.zip
run script
2024-01-14T05:44:51.879    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:44:51.879    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040705-105518-177_L1C_046-262-7_D_V1-0.zip
2024-01-14T05:44:51.879    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:44:51.879    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:44:51.879    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:44:51.879    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:44:51.879    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:44:51.879    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:44:51.879    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:44:51.879    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040705-105518-177_L1C_046-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/07/06/SPOT5-HRG2-XS_20040706-103601-993_L1C_046-262-7_D_V1-0/SPOT5-HRG2-XS_20040706-103601-993_L1C_046-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040706-103601-993_L1C_046-262-7_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040706-103601-993_L1C_046-262-7_D_V1-0.zip
run script
2024-01-14T05:45:35.403    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:45:35.405    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040706-103601-993_L1C_046-262-7_D_V1-0.zip
2024-01-14T05:45:35.405    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:45:35.405    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:45:35.405    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:45:35.405    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:45:35.405    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:45:35.405    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:45:35.405    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:45:35.405    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040706-103601-993_L1C_046-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/07/06/SPOT5-HRG2-XS_20040706-103506-167_L1C_048-256-4_D_V1-0/SPOT5-HRG2-XS_20040706-103506-167_L1C_048-256-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040706-103506-167_L1C_048-256-4_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040706-103506-167_L1C_048-256-4_D_V1-0.zip
run script
2024-01-14T05:46:19.432    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:46:19.433    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040706-103506-167_L1C_048-256-4_D_V1-0.zip
2024-01-14T05:46:19.433    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:46:19.433    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:46:19.434    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:46:19.434    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:46:19.434    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:46:19.434    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:46:19.434    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:46:19.434    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T05:46:22.426    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 58). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040706-103506-167_L1C_048-256-4_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2004/07/10/SPOT5-HRG1-XS_20040710-105909-975_L1C_046-262-6_D_V1-0/SPOT5-HRG1-XS_20040710-105909-975_L1C_046-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040710-105909-975_L1C_046-262-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040710-105909-975_L1C_046-262-6_D_V1-0.zip
run script
2024-01-14T05:46:27.094    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:46:27.094    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040710-105909-975_L1C_046-262-6_D_V1-0.zip
2024-01-14T05:46:27.094    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:46:27.094    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:46:27.095    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:46:27.095    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:46:27.095    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:46:27.095    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:46:27.095    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:46:27.095    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040710-105909-975_L1C_046-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/02/20/SPOT5-HRG2-XS_20040220-110908-635_L1C_047-255-6_D_V1-0/SPOT5-HRG2-XS_20040220-110908-635_L1C_047-255-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040220-110908-635_L1C_047-255-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040220-110908-635_L1C_047-255-6_D_V1-0.zip
run script
2024-01-14T05:47:04.851    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:04.852    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040220-110908-635_L1C_047-255-6_D_V1-0.zip
2024-01-14T05:47:04.852    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:47:04.853    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:47:04.853    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:04.853    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:47:04.853    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:47:04.853    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:47:04.853    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:47:04.853    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040220-110908-635_L1C_047-255-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/02/20/SPOT5-HRG2-XS_20040220-110910-439_L1C_047-255-8_D_V1-0/SPOT5-HRG2-XS_20040220-110910-439_L1C_047-255-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040220-110910-439_L1C_047-255-8_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040220-110910-439_L1C_047-255-8_D_V1-0.zip
run script
2024-01-14T05:47:23.170    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:23.172    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040220-110910-439_L1C_047-255-8_D_V1-0.zip
2024-01-14T05:47:23.172    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:47:23.172    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:47:23.172    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:23.172    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:47:23.172    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:47:23.172    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:47:23.172    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:47:23.172    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T05:47:32.104    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (460 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040220-110910-439_L1C_047-255-8_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2004/03/19/SPOT5-HRG2-XS_20040319-103103-633_L1C_047-257-3_D_V1-0/SPOT5-HRG2-XS_20040319-103103-633_L1C_047-257-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040319-103103-633_L1C_047-257-3_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040319-103103-633_L1C_047-257-3_D_V1-0.zip
run script
2024-01-14T05:47:37.014    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:37.014    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040319-103103-633_L1C_047-257-3_D_V1-0.zip
2024-01-14T05:47:37.014    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:47:37.014    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:47:37.014    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:37.014    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:47:37.014    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:47:37.014    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:47:37.014    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:47:37.014    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040319-103103-633_L1C_047-257-3_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/03/19/SPOT5-HRG2-XS_20040319-103109-167_L1C_048-258-0_D_V1-0/SPOT5-HRG2-XS_20040319-103109-167_L1C_048-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040319-103109-167_L1C_048-258-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040319-103109-167_L1C_048-258-0_D_V1-0.zip
run script
2024-01-14T05:47:41.760    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:41.760    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040319-103109-167_L1C_048-258-0_D_V1-0.zip
2024-01-14T05:47:41.760    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:47:41.760    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:47:41.760    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:41.760    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:47:41.760    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:47:41.760    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:47:41.761    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:47:41.761    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040319-103109-167_L1C_048-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/03/19/SPOT5-HRG2-XS_20040319-103117-421_L1C_048-259-0_D_V1-0/SPOT5-HRG2-XS_20040319-103117-421_L1C_048-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040319-103117-421_L1C_048-259-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040319-103117-421_L1C_048-259-0_D_V1-0.zip
run script
2024-01-14T05:47:47.068    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:47.068    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040319-103117-421_L1C_048-259-0_D_V1-0.zip
2024-01-14T05:47:47.068    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:47:47.068    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:47:47.068    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:47.068    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:47:47.069    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:47:47.069    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:47:47.069    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:47:47.069    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040319-103117-421_L1C_048-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/03/19/SPOT5-HRG2-XS_20040319-103123-750_L1C_048-259-7_D_V1-0/SPOT5-HRG2-XS_20040319-103123-750_L1C_048-259-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040319-103123-750_L1C_048-259-7_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040319-103123-750_L1C_048-259-7_D_V1-0.zip
run script
2024-01-14T05:47:52.300    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:52.301    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040319-103123-750_L1C_048-259-7_D_V1-0.zip
2024-01-14T05:47:52.301    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:47:52.301    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:47:52.301    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:52.302    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:47:52.302    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:47:52.302    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:47:52.302    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:47:52.302    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040319-103123-750_L1C_048-259-7_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/07/22/SPOT5-HRG2-XS_20040722-102739-370_L1C_047-257-6_D_V1-0/SPOT5-HRG2-XS_20040722-102739-370_L1C_047-257-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040722-102739-370_L1C_047-257-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040722-102739-370_L1C_047-257-6_D_V1-0.zip
run script
2024-01-14T05:47:57.946    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:57.947    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040722-102739-370_L1C_047-257-6_D_V1-0.zip
2024-01-14T05:47:57.947    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:47:57.948    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:47:57.948    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:57.948    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:47:57.948    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:47:57.948    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:47:57.948    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:47:57.948    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040722-102739-370_L1C_047-257-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/07/22/SPOT5-HRG2-XS_20040722-102742-186_L1C_048-258-0_D_V1-0/SPOT5-HRG2-XS_20040722-102742-186_L1C_048-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040722-102742-186_L1C_048-258-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040722-102742-186_L1C_048-258-0_D_V1-0.zip
run script
2024-01-14T05:48:03.504    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:48:03.505    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040722-102742-186_L1C_048-258-0_D_V1-0.zip
2024-01-14T05:48:03.505    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:48:03.505    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:48:03.505    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:48:03.505    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:48:03.505    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:48:03.505    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:48:03.505    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:48:03.505    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040722-102742-186_L1C_048-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/07/22/SPOT5-HRG2-XS_20040722-102750-440_L1C_048-259-0_D_V1-0/SPOT5-HRG2-XS_20040722-102750-440_L1C_048-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040722-102750-440_L1C_048-259-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040722-102750-440_L1C_048-259-0_D_V1-0.zip
run script
2024-01-14T05:48:08.491    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:48:08.492    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040722-102750-440_L1C_048-259-0_D_V1-0.zip
2024-01-14T05:48:08.493    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:48:08.493    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:48:08.493    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:48:08.493    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:48:08.493    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:48:08.493    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:48:08.493    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:48:08.493    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040722-102750-440_L1C_048-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/07/22/SPOT5-HRG2-XS_20040722-102752-245_L1C_048-259-2_D_V1-0/SPOT5-HRG2-XS_20040722-102752-245_L1C_048-259-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040722-102752-245_L1C_048-259-2_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040722-102752-245_L1C_048-259-2_D_V1-0.zip
run script
2024-01-14T05:48:16.910    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:48:16.911    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040722-102752-245_L1C_048-259-2_D_V1-0.zip
2024-01-14T05:48:16.911    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:48:16.911    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:48:16.911    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:48:16.911    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:48:16.911    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:48:16.911    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:48:16.912    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:48:16.912    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040722-102752-245_L1C_048-259-2_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/07/22/SPOT5-HRG1-XS_20040722-102744-112_L1C_049-258-4_D_V1-0/SPOT5-HRG1-XS_20040722-102744-112_L1C_049-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040722-102744-112_L1C_049-258-4_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040722-102744-112_L1C_049-258-4_D_V1-0.zip
run script
2024-01-14T05:48:22.138    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:48:22.138    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040722-102744-112_L1C_049-258-4_D_V1-0.zip
2024-01-14T05:48:22.138    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:48:22.138    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:48:22.138    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:48:22.138    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:48:22.138    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:48:22.138    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:48:22.139    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:48:22.139    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040722-102744-112_L1C_049-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 0 ... 2 2 2]
 [0 2 2 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/07/22/SPOT5-HRG1-XS_20040722-102710-250_L1C_050-254-5_D_V1-0/SPOT5-HRG1-XS_20040722-102710-250_L1C_050-254-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040722-102710-250_L1C_050-254-5_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040722-102710-250_L1C_050-254-5_D_V1-0.zip
run script
2024-01-14T05:49:36.655    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:49:36.657    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040722-102710-250_L1C_050-254-5_D_V1-0.zip
2024-01-14T05:49:36.657    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:49:36.657    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:49:36.657    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:49:36.657    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:49:36.657    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:49:36.657    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:49:36.657    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:49:36.657    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040722-102710-250_L1C_050-254-5_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/07/22/SPOT5-HRG1-XS_20040722-102711-165_L1C_050-254-6_D_V1-0/SPOT5-HRG1-XS_20040722-102711-165_L1C_050-254-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040722-102711-165_L1C_050-254-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040722-102711-165_L1C_050-254-6_D_V1-0.zip
run script
2024-01-14T05:49:41.605    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:49:41.607    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040722-102711-165_L1C_050-254-6_D_V1-0.zip
2024-01-14T05:49:41.607    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:49:41.607    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:49:41.607    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:49:41.607    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:49:41.607    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:49:41.607    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:49:41.607    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:49:41.607    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040722-102711-165_L1C_050-254-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/04/03/SPOT5-HRG2-XS_20040403-104250-237_L1C_047-258-6_D_V1-0/SPOT5-HRG2-XS_20040403-104250-237_L1C_047-258-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040403-104250-237_L1C_047-258-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040403-104250-237_L1C_047-258-6_D_V1-0.zip
run script
2024-01-14T05:49:58.666    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:49:58.667    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040403-104250-237_L1C_047-258-6_D_V1-0.zip
2024-01-14T05:49:58.667    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:49:58.667    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:49:58.668    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:49:58.668    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:49:58.668    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:49:58.668    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:49:58.668    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:49:58.668    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040403-104250-237_L1C_047-258-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/04/03/SPOT5-HRG2-XS_20040403-104252-041_L1C_047-258-8_D_V1-0/SPOT5-HRG2-XS_20040403-104252-041_L1C_047-258-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040403-104252-041_L1C_047-258-8_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040403-104252-041_L1C_047-258-8_D_V1-0.zip
run script
2024-01-14T05:50:06.266    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:50:06.267    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040403-104252-041_L1C_047-258-8_D_V1-0.zip
2024-01-14T05:50:06.267    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:50:06.267    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:50:06.267    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:50:06.267    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:50:06.267    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:50:06.267    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:50:06.267    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:50:06.267    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040403-104252-041_L1C_047-258-8_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/05/20/SPOT5-HRG2-XS_20040520-103918-681_L1C_047-258-6_D_V1-0/SPOT5-HRG2-XS_20040520-103918-681_L1C_047-258-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040520-103918-681_L1C_047-258-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040520-103918-681_L1C_047-258-6_D_V1-0.zip
run script
2024-01-14T05:50:11.310    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:50:11.311    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040520-103918-681_L1C_047-258-6_D_V1-0.zip
2024-01-14T05:50:11.311    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:50:11.311    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:50:11.311    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:50:11.311    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:50:11.311    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:50:11.311    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:50:11.311    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:50:11.312    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040520-103918-681_L1C_047-258-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/05/20/SPOT5-HRG2-XS_20040520-103920-486_L1C_047-258-8_D_V1-0/SPOT5-HRG2-XS_20040520-103920-486_L1C_047-258-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040520-103920-486_L1C_047-258-8_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040520-103920-486_L1C_047-258-8_D_V1-0.zip
run script
2024-01-14T05:50:16.573    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:50:16.575    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040520-103920-486_L1C_047-258-8_D_V1-0.zip
2024-01-14T05:50:16.575    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:50:16.575    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:50:16.575    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:50:16.575    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:50:16.575    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:50:16.575    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:50:16.575    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:50:16.575    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040520-103920-486_L1C_047-258-8_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/05/20/SPOT5-HRG2-XS_20040520-103837-519_L1C_049-254-0_D_V1-0/SPOT5-HRG2-XS_20040520-103837-519_L1C_049-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040520-103837-519_L1C_049-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040520-103837-519_L1C_049-254-0_D_V1-0.zip
run script
2024-01-14T05:50:22.196    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:50:22.197    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040520-103837-519_L1C_049-254-0_D_V1-0.zip
2024-01-14T05:50:22.197    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:50:22.197    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:50:22.198    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:50:22.198    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:50:22.198    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:50:22.198    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:50:22.198    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:50:22.198    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040520-103837-519_L1C_049-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/05/20/SPOT5-HRG2-XS_20040520-103845-773_L1C_049-255-0_D_V1-0/SPOT5-HRG2-XS_20040520-103845-773_L1C_049-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040520-103845-773_L1C_049-255-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040520-103845-773_L1C_049-255-0_D_V1-0.zip
run script
2024-01-14T05:50:27.282    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:50:27.283    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040520-103845-773_L1C_049-255-0_D_V1-0.zip
2024-01-14T05:50:27.283    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:50:27.283    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:50:27.283    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:50:27.283    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:50:27.283    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:50:27.284    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:50:27.284    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:50:27.284    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040520-103845-773_L1C_049-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/20/SPOT5-HRG2-XS_20040520-103854-051_L1C_049-256-0_D_V1-0/SPOT5-HRG2-XS_20040520-103854-051_L1C_049-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040520-103854-051_L1C_049-256-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040520-103854-051_L1C_049-256-0_D_V1-0.zip
run script
2024-01-14T05:51:25.204    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:51:25.205    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040520-103854-051_L1C_049-256-0_D_V1-0.zip
2024-01-14T05:51:25.205    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:51:25.205    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:51:25.205    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:51:25.206    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:51:25.206    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:51:25.206    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:51:25.206    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:51:25.206    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040520-103854-051_L1C_049-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/20/SPOT5-HRG2-XS_20040520-103854-941_L1C_049-256-1_D_V1-0/SPOT5-HRG2-XS_20040520-103854-941_L1C_049-256-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040520-103854-941_L1C_049-256-1_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040520-103854-941_L1C_049-256-1_D_V1-0.zip
run script
2024-01-14T05:54:04.194    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:54:04.194    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040520-103854-941_L1C_049-256-1_D_V1-0.zip
2024-01-14T05:54:04.195    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:54:04.195    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:54:04.195    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:54:04.195    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:54:04.195    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:54:04.195    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:54:04.195    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:54:04.195    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040520-103854-941_L1C_049-256-1_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/29/SPOT5-HRG1-XS_20040529-110616-344_L1C_047-258-6_D_V1-0/SPOT5-HRG1-XS_20040529-110616-344_L1C_047-258-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040529-110616-344_L1C_047-258-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040529-110616-344_L1C_047-258-6_D_V1-0.zip
run script
2024-01-14T05:56:28.703    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:56:28.704    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040529-110616-344_L1C_047-258-6_D_V1-0.zip
2024-01-14T05:56:28.704    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:56:28.704    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:56:28.704    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:56:28.704    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:56:28.704    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:56:28.705    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:56:28.705    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:56:28.705    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040529-110616-344_L1C_047-258-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/05/29/SPOT5-HRG1-XS_20040529-110617-258_L1C_047-258-7_D_V1-0/SPOT5-HRG1-XS_20040529-110617-258_L1C_047-258-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040529-110617-258_L1C_047-258-7_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040529-110617-258_L1C_047-258-7_D_V1-0.zip
run script
2024-01-14T05:56:38.778    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:56:38.779    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040529-110617-258_L1C_047-258-7_D_V1-0.zip
2024-01-14T05:56:38.779    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:56:38.780    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:56:38.780    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:56:38.780    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:56:38.780    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:56:38.780    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:56:38.780    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:56:38.780    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040529-110617-258_L1C_047-258-7_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/05/29/SPOT5-HRG2-XS_20040529-110633-839_L1C_048-261-0_D_V1-0/SPOT5-HRG2-XS_20040529-110633-839_L1C_048-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040529-110633-839_L1C_048-261-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040529-110633-839_L1C_048-261-0_D_V1-0.zip
run script
2024-01-14T05:56:43.670    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:56:43.671    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040529-110633-839_L1C_048-261-0_D_V1-0.zip
2024-01-14T05:56:43.671    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:56:43.671    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:56:43.671    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:56:43.671    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:56:43.672    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:56:43.672    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:56:43.672    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:56:43.672    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040529-110633-839_L1C_048-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/05/29/SPOT5-HRG2-XS_20040529-110550-647_L1C_049-256-0_D_V1-0/SPOT5-HRG2-XS_20040529-110550-647_L1C_049-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040529-110550-647_L1C_049-256-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040529-110550-647_L1C_049-256-0_D_V1-0.zip
run script
2024-01-14T05:56:49.046    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:56:49.047    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040529-110550-647_L1C_049-256-0_D_V1-0.zip
2024-01-14T05:56:49.047    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:56:49.047    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:56:49.047    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:56:49.048    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:56:49.048    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:56:49.048    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:56:49.048    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:56:49.048    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040529-110550-647_L1C_049-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/29/SPOT5-HRG2-XS_20040529-110559-118_L1C_049-257-0_D_V1-0/SPOT5-HRG2-XS_20040529-110559-118_L1C_049-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040529-110559-118_L1C_049-257-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040529-110559-118_L1C_049-257-0_D_V1-0.zip
run script
2024-01-14T06:01:05.088    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:01:05.090    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040529-110559-118_L1C_049-257-0_D_V1-0.zip
2024-01-14T06:01:05.090    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:01:05.090    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:01:05.090    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:01:05.090    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:01:05.090    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:01:05.090    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:01:05.090    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:01:05.090    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040529-110559-118_L1C_049-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/29/SPOT5-HRG2-XS_20040529-110607-564_L1C_049-258-0_D_V1-0/SPOT5-HRG2-XS_20040529-110607-564_L1C_049-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040529-110607-564_L1C_049-258-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040529-110607-564_L1C_049-258-0_D_V1-0.zip
run script
2024-01-14T06:04:24.358    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:04:24.359    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040529-110607-564_L1C_049-258-0_D_V1-0.zip
2024-01-14T06:04:24.360    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:04:24.360    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:04:24.360    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:04:24.360    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:04:24.360    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:04:24.360    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:04:24.360    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:04:24.360    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040529-110607-564_L1C_049-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/29/SPOT5-HRG2-XS_20040529-110608-478_L1C_049-258-1_D_V1-0/SPOT5-HRG2-XS_20040529-110608-478_L1C_049-258-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040529-110608-478_L1C_049-258-1_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040529-110608-478_L1C_049-258-1_D_V1-0.zip
run script
2024-01-14T06:06:30.979    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:06:30.980    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040529-110608-478_L1C_049-258-1_D_V1-0.zip
2024-01-14T06:06:30.981    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:06:30.981    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:06:30.981    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:06:30.981    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:06:30.981    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:06:30.981    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:06:30.981    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:06:30.981    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T06:08:36.370    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (0 x 2860). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040529-110608-478_L1C_049-258-1_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2004/05/29/SPOT5-HRG2-XS_20040529-110630-807_L1C_049-260-6_D_V1-0/SPOT5-HRG2-XS_20040529-110630-807_L1C_049-260-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040529-110630-807_L1C_049-260-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040529-110630-807_L1C_049-260-6_D_V1-0.zip
run script
2024-01-14T06:08:42.071    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:08:42.073    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040529-110630-807_L1C_049-260-6_D_V1-0.zip
2024-01-14T06:08:42.073    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:08:42.073    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:08:42.073    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:08:42.073    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:08:42.073    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:08:42.073    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:08:42.073    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:08:42.073    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040529-110630-807_L1C_049-260-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/05/29/SPOT5-HRG2-XS_20040529-110533-754_L1C_050-254-0_D_V1-0/SPOT5-HRG2-XS_20040529-110533-754_L1C_050-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040529-110533-754_L1C_050-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040529-110533-754_L1C_050-254-0_D_V1-0.zip
run script
2024-01-14T06:08:47.492    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:08:47.493    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040529-110533-754_L1C_050-254-0_D_V1-0.zip
2024-01-14T06:08:47.493    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:08:47.493    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:08:47.493    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:08:47.493    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:08:47.493    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:08:47.493    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:08:47.494    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:08:47.494    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040529-110533-754_L1C_050-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/05/29/SPOT5-HRG2-XS_20040529-110542-201_L1C_050-255-0_D_V1-0/SPOT5-HRG2-XS_20040529-110542-201_L1C_050-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040529-110542-201_L1C_050-255-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040529-110542-201_L1C_050-255-0_D_V1-0.zip
run script
2024-01-14T06:08:53.406    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:08:53.407    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040529-110542-201_L1C_050-255-0_D_V1-0.zip
2024-01-14T06:08:53.407    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:08:53.407    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:08:53.407    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:08:53.407    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:08:53.407    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:08:53.407    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:08:53.407    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:08:53.408    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040529-110542-201_L1C_050-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/30/SPOT5-HRG1-XS_20040530-104702-068_L1C_047-258-6_D_V1-0/SPOT5-HRG1-XS_20040530-104702-068_L1C_047-258-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040530-104702-068_L1C_047-258-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040530-104702-068_L1C_047-258-6_D_V1-0.zip
run script
2024-01-14T06:10:31.506    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:10:31.507    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040530-104702-068_L1C_047-258-6_D_V1-0.zip
2024-01-14T06:10:31.507    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:10:31.507    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:10:31.507    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:10:31.507    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:10:31.507    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:10:31.507    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:10:31.507    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:10:31.507    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040530-104702-068_L1C_047-258-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/06/29/SPOT5-HRG2-XS_20040629-111004-549_L1C_047-258-5_D_V1-0/SPOT5-HRG2-XS_20040629-111004-549_L1C_047-258-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040629-111004-549_L1C_047-258-5_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040629-111004-549_L1C_047-258-5_D_V1-0.zip
run script
2024-01-14T06:10:37.510    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:10:37.511    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040629-111004-549_L1C_047-258-5_D_V1-0.zip
2024-01-14T06:10:37.511    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:10:37.511    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:10:37.511    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:10:37.511    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:10:37.511    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:10:37.512    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:10:37.512    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:10:37.512    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040629-111004-549_L1C_047-258-5_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/06/29/SPOT5-HRG2-XS_20040629-111006-353_L1C_047-258-7_D_V1-0/SPOT5-HRG2-XS_20040629-111006-353_L1C_047-258-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040629-111006-353_L1C_047-258-7_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040629-111006-353_L1C_047-258-7_D_V1-0.zip
run script
2024-01-14T06:10:43.764    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:10:43.765    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040629-111006-353_L1C_047-258-7_D_V1-0.zip
2024-01-14T06:10:43.766    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:10:43.766    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:10:43.766    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:10:43.766    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:10:43.766    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:10:43.766    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:10:43.766    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:10:43.766    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040629-111006-353_L1C_047-258-7_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/06/29/SPOT5-HRG2-XS_20040629-110926-247_L1C_048-254-0_D_V1-0/SPOT5-HRG2-XS_20040629-110926-247_L1C_048-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040629-110926-247_L1C_048-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040629-110926-247_L1C_048-254-0_D_V1-0.zip
run script
2024-01-14T06:10:49.487    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:10:49.488    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040629-110926-247_L1C_048-254-0_D_V1-0.zip
2024-01-14T06:10:49.489    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:10:49.489    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:10:49.489    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:10:49.489    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:10:49.489    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:10:49.489    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:10:49.489    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:10:49.489    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040629-110926-247_L1C_048-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/06/30/SPOT5-HRG2-XS_20040630-105051-226_L1C_047-258-6_D_V1-0/SPOT5-HRG2-XS_20040630-105051-226_L1C_047-258-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040630-105051-226_L1C_047-258-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040630-105051-226_L1C_047-258-6_D_V1-0.zip
run script
2024-01-14T06:10:54.805    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:10:54.807    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040630-105051-226_L1C_047-258-6_D_V1-0.zip
2024-01-14T06:10:54.807    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:10:54.807    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:10:54.807    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:10:54.807    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:10:54.807    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:10:54.807    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:10:54.807    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:10:54.807    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040630-105051-226_L1C_047-258-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/06/30/SPOT5-HRG2-XS_20040630-105052-140_L1C_047-258-7_D_V1-0/SPOT5-HRG2-XS_20040630-105052-140_L1C_047-258-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040630-105052-140_L1C_047-258-7_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040630-105052-140_L1C_047-258-7_D_V1-0.zip
run script
2024-01-14T06:10:59.946    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:10:59.948    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040630-105052-140_L1C_047-258-7_D_V1-0.zip
2024-01-14T06:10:59.948    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:10:59.948    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:10:59.948    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:10:59.948    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:10:59.948    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:10:59.948    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:10:59.948    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:10:59.948    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040630-105052-140_L1C_047-258-7_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/06/30/SPOT5-HRG1-XS_20040630-105015-442_L1C_049-254-6_D_V1-0/SPOT5-HRG1-XS_20040630-105015-442_L1C_049-254-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040630-105015-442_L1C_049-254-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040630-105015-442_L1C_049-254-6_D_V1-0.zip
run script
2024-01-14T06:11:04.747    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:11:04.748    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040630-105015-442_L1C_049-254-6_D_V1-0.zip
2024-01-14T06:11:04.748    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:11:04.748    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:11:04.749    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:11:04.749    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:11:04.749    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:11:04.749    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:11:04.749    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:11:04.749    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040630-105015-442_L1C_049-254-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/06/30/SPOT5-HRG1-XS_20040630-105018-330_L1C_049-255-0_D_V1-0/SPOT5-HRG1-XS_20040630-105018-330_L1C_049-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040630-105018-330_L1C_049-255-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040630-105018-330_L1C_049-255-0_D_V1-0.zip
run script
2024-01-14T06:11:22.389    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:11:22.390    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040630-105018-330_L1C_049-255-0_D_V1-0.zip
2024-01-14T06:11:22.390    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:11:22.391    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:11:22.391    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:11:22.391    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:11:22.391    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:11:22.391    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:11:22.391    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:11:22.391    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040630-105018-330_L1C_049-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/06/30/SPOT5-HRG1-XS_20040630-105026-656_L1C_049-256-0_D_V1-0/SPOT5-HRG1-XS_20040630-105026-656_L1C_049-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040630-105026-656_L1C_049-256-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040630-105026-656_L1C_049-256-0_D_V1-0.zip
run script
2024-01-14T06:12:19.055    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:12:19.057    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040630-105026-656_L1C_049-256-0_D_V1-0.zip
2024-01-14T06:12:19.057    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:12:19.057    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:12:19.057    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:12:19.057    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:12:19.057    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:12:19.057    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:12:19.057    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:12:19.057    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040630-105026-656_L1C_049-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/06/30/SPOT5-HRG1-XS_20040630-105039-512_L1C_049-257-5_D_V1-0/SPOT5-HRG1-XS_20040630-105039-512_L1C_049-257-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040630-105039-512_L1C_049-257-5_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040630-105039-512_L1C_049-257-5_D_V1-0.zip
run script
2024-01-14T06:14:42.877    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:14:42.878    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040630-105039-512_L1C_049-257-5_D_V1-0.zip
2024-01-14T06:14:42.879    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:14:42.879    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:14:42.879    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:14:42.879    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:14:42.879    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:14:42.879    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:14:42.879    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:14:42.879    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040630-105039-512_L1C_049-257-5_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/06/30/SPOT5-HRG1-XS_20040630-105043-338_L1C_049-258-0_D_V1-0/SPOT5-HRG1-XS_20040630-105043-338_L1C_049-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040630-105043-338_L1C_049-258-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040630-105043-338_L1C_049-258-0_D_V1-0.zip
run script
2024-01-14T06:16:19.824    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:16:19.825    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040630-105043-338_L1C_049-258-0_D_V1-0.zip
2024-01-14T06:16:19.825    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:16:19.825    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:16:19.826    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:16:19.826    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:16:19.826    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:16:19.826    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:16:19.826    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:16:19.826    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T06:17:39.422    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 230). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040630-105043-338_L1C_049-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2004/06/30/SPOT5-HRG1-XS_20040630-105048-752_L1C_049-258-6_D_V1-0/SPOT5-HRG1-XS_20040630-105048-752_L1C_049-258-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040630-105048-752_L1C_049-258-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040630-105048-752_L1C_049-258-6_D_V1-0.zip
run script
2024-01-14T06:17:44.556    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:17:44.557    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040630-105048-752_L1C_049-258-6_D_V1-0.zip
2024-01-14T06:17:44.557    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:17:44.557    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:17:44.557    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:17:44.558    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:17:44.558    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:17:44.558    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:17:44.558    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:17:44.558    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040630-105048-752_L1C_049-258-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/06/30/SPOT5-HRG1-XS_20040630-105115-608_L1C_053-262-6_D_V1-0/SPOT5-HRG1-XS_20040630-105115-608_L1C_053-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040630-105115-608_L1C_053-262-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040630-105115-608_L1C_053-262-6_D_V1-0.zip
run script
2024-01-14T06:18:53.088    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:18:53.090    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040630-105115-608_L1C_053-262-6_D_V1-0.zip
2024-01-14T06:18:53.090    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:18:53.090    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:18:53.090    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:18:53.090    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:18:53.090    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:18:53.090    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:18:53.090    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:18:53.090    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040630-105115-608_L1C_053-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/06/30/SPOT5-HRG1-XS_20040630-105118-592_L1C_053-263-0_D_V1-0/SPOT5-HRG1-XS_20040630-105118-592_L1C_053-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040630-105118-592_L1C_053-263-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040630-105118-592_L1C_053-263-0_D_V1-0.zip
run script
2024-01-14T06:21:31.245    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:21:31.246    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040630-105118-592_L1C_053-263-0_D_V1-0.zip
2024-01-14T06:21:31.246    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:21:31.246    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:21:31.246    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:21:31.246    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:21:31.246    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:21:31.247    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:21:31.247    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:21:31.247    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040630-105118-592_L1C_053-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/02/16/SPOT5-HRG1-XS_20040216-104544-533_L1C_048-254-0_D_V1-0/SPOT5-HRG1-XS_20040216-104544-533_L1C_048-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040216-104544-533_L1C_048-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040216-104544-533_L1C_048-254-0_D_V1-0.zip
run script
2024-01-14T06:23:11.795    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:23:11.796    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040216-104544-533_L1C_048-254-0_D_V1-0.zip
2024-01-14T06:23:11.802    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:23:11.802    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:23:11.802    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:23:11.803    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:23:11.803    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:23:11.803    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:23:11.803    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:23:11.803    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040216-104544-533_L1C_048-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/02/16/SPOT5-HRG1-XS_20040216-104552-835_L1C_048-255-0_D_V1-0/SPOT5-HRG1-XS_20040216-104552-835_L1C_048-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040216-104552-835_L1C_048-255-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040216-104552-835_L1C_048-255-0_D_V1-0.zip
run script
2024-01-14T06:23:17.098    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:23:17.098    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040216-104552-835_L1C_048-255-0_D_V1-0.zip
2024-01-14T06:23:17.098    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:23:17.098    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:23:17.098    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:23:17.098    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:23:17.098    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:23:17.098    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:23:17.098    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:23:17.098    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040216-104552-835_L1C_048-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [2 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/02/16/SPOT5-HRG2-XS_20040216-104542-268_L1C_050-254-0_D_V1-0/SPOT5-HRG2-XS_20040216-104542-268_L1C_050-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040216-104542-268_L1C_050-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040216-104542-268_L1C_050-254-0_D_V1-0.zip
run script
2024-01-14T06:24:00.010    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:24:00.012    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040216-104542-268_L1C_050-254-0_D_V1-0.zip
2024-01-14T06:24:00.012    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:24:00.012    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:24:00.012    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:24:00.012    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:24:00.012    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:24:00.012    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:24:00.012    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:24:00.012    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040216-104542-268_L1C_050-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/02/16/SPOT5-HRG2-XS_20040216-104550-595_L1C_050-255-0_D_V1-0/SPOT5-HRG2-XS_20040216-104550-595_L1C_050-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040216-104550-595_L1C_050-255-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040216-104550-595_L1C_050-255-0_D_V1-0.zip
run script
2024-01-14T06:24:05.494    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:24:05.496    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040216-104550-595_L1C_050-255-0_D_V1-0.zip
2024-01-14T06:24:05.496    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:24:05.496    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:24:05.496    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:24:05.496    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:24:05.496    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:24:05.496    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:24:05.496    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:24:05.496    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040216-104550-595_L1C_050-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/02/16/SPOT5-HRG2-XS_20040216-104551-485_L1C_050-255-1_D_V1-0/SPOT5-HRG2-XS_20040216-104551-485_L1C_050-255-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040216-104551-485_L1C_050-255-1_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040216-104551-485_L1C_050-255-1_D_V1-0.zip
run script
2024-01-14T06:25:27.508    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:25:27.510    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040216-104551-485_L1C_050-255-1_D_V1-0.zip
2024-01-14T06:25:27.510    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:25:27.510    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:25:27.510    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:25:27.510    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:25:27.510    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:25:27.510    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:25:27.510    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:25:27.510    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040216-104551-485_L1C_050-255-1_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 0 ... 2 2 2]
 [1 1 0 ... 2 2 2]
 [2 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/02/27/SPOT5-HRG1-XS_20040227-103419-293_L1C_048-254-0_D_V1-0/SPOT5-HRG1-XS_20040227-103419-293_L1C_048-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040227-103419-293_L1C_048-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040227-103419-293_L1C_048-254-0_D_V1-0.zip
run script
2024-01-14T06:27:01.651    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:27:01.653    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040227-103419-293_L1C_048-254-0_D_V1-0.zip
2024-01-14T06:27:01.653    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:27:01.653    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:27:01.653    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:27:01.653    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:27:01.653    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:27:01.653    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:27:01.654    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:27:01.654    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040227-103419-293_L1C_048-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/02/27/SPOT5-HRG1-XS_20040227-103427-547_L1C_048-255-0_D_V1-0/SPOT5-HRG1-XS_20040227-103427-547_L1C_048-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040227-103427-547_L1C_048-255-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040227-103427-547_L1C_048-255-0_D_V1-0.zip
run script
2024-01-14T06:27:07.064    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:27:07.065    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040227-103427-547_L1C_048-255-0_D_V1-0.zip
2024-01-14T06:27:07.065    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:27:07.065    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:27:07.066    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:27:07.066    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:27:07.066    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:27:07.066    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:27:07.066    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:27:07.066    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040227-103427-547_L1C_048-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/02/27/SPOT5-HRG2-XS_20040227-103417-239_L1C_050-254-0_D_V1-0/SPOT5-HRG2-XS_20040227-103417-239_L1C_050-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040227-103417-239_L1C_050-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040227-103417-239_L1C_050-254-0_D_V1-0.zip
run script
2024-01-14T06:27:49.392    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:27:49.393    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040227-103417-239_L1C_050-254-0_D_V1-0.zip
2024-01-14T06:27:49.393    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:27:49.394    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:27:49.394    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:27:49.394    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:27:49.394    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:27:49.394    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:27:49.394    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:27:49.394    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040227-103417-239_L1C_050-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/02/27/SPOT5-HRG2-XS_20040227-103425-493_L1C_050-255-0_D_V1-0/SPOT5-HRG2-XS_20040227-103425-493_L1C_050-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040227-103425-493_L1C_050-255-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040227-103425-493_L1C_050-255-0_D_V1-0.zip
run script
2024-01-14T06:27:54.805    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:27:54.807    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040227-103425-493_L1C_050-255-0_D_V1-0.zip
2024-01-14T06:27:54.807    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:27:54.807    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:27:54.807    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:27:54.807    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:27:54.807    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:27:54.807    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:27:54.807    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:27:54.807    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040227-103425-493_L1C_050-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/02/27/SPOT5-HRG2-XS_20040227-103432-712_L1C_050-255-8_D_V1-0/SPOT5-HRG2-XS_20040227-103432-712_L1C_050-255-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040227-103432-712_L1C_050-255-8_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040227-103432-712_L1C_050-255-8_D_V1-0.zip
run script
2024-01-14T06:29:02.687    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:29:02.687    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040227-103432-712_L1C_050-255-8_D_V1-0.zip
2024-01-14T06:29:02.687    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:29:02.687    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:29:02.688    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:29:02.688    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:29:02.688    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:29:02.688    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:29:02.688    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:29:02.688    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040227-103432-712_L1C_050-255-8_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/03/03/SPOT5-HRG1-XS_20040303-103813-651_L1C_048-254-0_D_V1-0/SPOT5-HRG1-XS_20040303-103813-651_L1C_048-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040303-103813-651_L1C_048-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040303-103813-651_L1C_048-254-0_D_V1-0.zip
run script
2024-01-14T06:32:08.657    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:32:08.659    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040303-103813-651_L1C_048-254-0_D_V1-0.zip
2024-01-14T06:32:08.659    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:32:08.659    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:32:08.659    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:32:08.659    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:32:08.659    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:32:08.659    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:32:08.659    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:32:08.659    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040303-103813-651_L1C_048-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/03/14/SPOT5-HRG2-XS_20040314-102642-089_L1C_048-254-0_D_V1-0/SPOT5-HRG2-XS_20040314-102642-089_L1C_048-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040314-102642-089_L1C_048-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040314-102642-089_L1C_048-254-0_D_V1-0.zip
run script
2024-01-14T06:32:14.969    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:32:14.970    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040314-102642-089_L1C_048-254-0_D_V1-0.zip
2024-01-14T06:32:14.970    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:32:14.970    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:32:14.970    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:32:14.970    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:32:14.970    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:32:14.970    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:32:14.971    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:32:14.971    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040314-102642-089_L1C_048-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/03/14/SPOT5-HRG2-XS_20040314-102651-209_L1C_049-255-1_D_V1-0/SPOT5-HRG2-XS_20040314-102651-209_L1C_049-255-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040314-102651-209_L1C_049-255-1_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040314-102651-209_L1C_049-255-1_D_V1-0.zip
run script
2024-01-14T06:32:20.783    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:32:20.784    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040314-102651-209_L1C_049-255-1_D_V1-0.zip
2024-01-14T06:32:20.785    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:32:20.785    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:32:20.785    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:32:20.785    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:32:20.785    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:32:20.785    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:32:20.785    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:32:20.785    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040314-102651-209_L1C_049-255-1_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/03/14/SPOT5-HRG1-XS_20040314-102648-340_L1C_050-255-0_D_V1-0/SPOT5-HRG1-XS_20040314-102648-340_L1C_050-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040314-102648-340_L1C_050-255-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040314-102648-340_L1C_050-255-0_D_V1-0.zip
run script
2024-01-14T06:33:12.138    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:33:12.139    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040314-102648-340_L1C_050-255-0_D_V1-0.zip
2024-01-14T06:33:12.139    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:33:12.139    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:33:12.139    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:33:12.139    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:33:12.139    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:33:12.139    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:33:12.139    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:33:12.140    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040314-102648-340_L1C_050-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/03/14/SPOT5-HRG1-XS_20040314-102655-559_L1C_050-255-8_D_V1-0/SPOT5-HRG1-XS_20040314-102655-559_L1C_050-255-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040314-102655-559_L1C_050-255-8_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040314-102655-559_L1C_050-255-8_D_V1-0.zip
run script
2024-01-14T06:34:20.606    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:34:20.607    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040314-102655-559_L1C_050-255-8_D_V1-0.zip
2024-01-14T06:34:20.607    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:34:20.607    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:34:20.607    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:34:20.607    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:34:20.607    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:34:20.607    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:34:20.608    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:34:20.608    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040314-102655-559_L1C_050-255-8_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/19/SPOT5-HRG1-XS_20040519-105759-807_L1C_048-254-6_D_V1-0/SPOT5-HRG1-XS_20040519-105759-807_L1C_048-254-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040519-105759-807_L1C_048-254-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040519-105759-807_L1C_048-254-6_D_V1-0.zip
run script
2024-01-14T06:37:47.002    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:37:47.003    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040519-105759-807_L1C_048-254-6_D_V1-0.zip
2024-01-14T06:37:47.003    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:37:47.003    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:37:47.003    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:37:47.003    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:37:47.003    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:37:47.003    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:37:47.003    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:37:47.003    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040519-105759-807_L1C_048-254-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/19/SPOT5-HRG1-XS_20040519-105802-743_L1C_048-255-0_D_V1-0/SPOT5-HRG1-XS_20040519-105802-743_L1C_048-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040519-105802-743_L1C_048-255-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040519-105802-743_L1C_048-255-0_D_V1-0.zip
run script
2024-01-14T06:38:01.474    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:38:01.475    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040519-105802-743_L1C_048-255-0_D_V1-0.zip
2024-01-14T06:38:01.475    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:38:01.475    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:38:01.475    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:38:01.475    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:38:01.475    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:38:01.475    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:38:01.475    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:38:01.475    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040519-105802-743_L1C_048-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/19/SPOT5-HRG1-XS_20040519-105811-093_L1C_048-256-0_D_V1-0/SPOT5-HRG1-XS_20040519-105811-093_L1C_048-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040519-105811-093_L1C_048-256-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040519-105811-093_L1C_048-256-0_D_V1-0.zip
run script
2024-01-14T06:38:34.607    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:38:34.608    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040519-105811-093_L1C_048-256-0_D_V1-0.zip
2024-01-14T06:38:34.609    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:38:34.609    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:38:34.609    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:38:34.609    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:38:34.609    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:38:34.609    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:38:34.609    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:38:34.609    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040519-105811-093_L1C_048-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/19/SPOT5-HRG1-XS_20040519-105812-007_L1C_048-256-1_D_V1-0/SPOT5-HRG1-XS_20040519-105812-007_L1C_048-256-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040519-105812-007_L1C_048-256-1_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040519-105812-007_L1C_048-256-1_D_V1-0.zip
run script
2024-01-14T06:39:36.749    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:39:36.750    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040519-105812-007_L1C_048-256-1_D_V1-0.zip
2024-01-14T06:39:36.751    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:39:36.751    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:39:36.751    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:39:36.751    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:39:36.751    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:39:36.751    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:39:36.751    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:39:36.751    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040519-105812-007_L1C_048-256-1_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/06/14/SPOT5-HRG1-XS_20040614-105755-970_L1C_048-254-0_D_V1-0/SPOT5-HRG1-XS_20040614-105755-970_L1C_048-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040614-105755-970_L1C_048-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040614-105755-970_L1C_048-254-0_D_V1-0.zip
run script
2024-01-14T06:40:33.866    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:40:33.868    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040614-105755-970_L1C_048-254-0_D_V1-0.zip
2024-01-14T06:40:33.868    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:40:33.868    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:40:33.868    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:40:33.868    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:40:33.868    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:40:33.868    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:40:33.868    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:40:33.868    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040614-105755-970_L1C_048-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/06/24/SPOT5-HRG2-XS_20040624-110536-520_L1C_048-254-0_D_V1-0/SPOT5-HRG2-XS_20040624-110536-520_L1C_048-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040624-110536-520_L1C_048-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040624-110536-520_L1C_048-254-0_D_V1-0.zip
run script
2024-01-14T06:40:38.866    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:40:38.867    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040624-110536-520_L1C_048-254-0_D_V1-0.zip
2024-01-14T06:40:38.867    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:40:38.867    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:40:38.867    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:40:38.867    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:40:38.867    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:40:38.867    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:40:38.867    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:40:38.867    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040624-110536-520_L1C_048-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/06/24/SPOT5-HRG1-XS_20040624-110543-121_L1C_049-255-0_D_V1-0/SPOT5-HRG1-XS_20040624-110543-121_L1C_049-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040624-110543-121_L1C_049-255-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040624-110543-121_L1C_049-255-0_D_V1-0.zip
run script
2024-01-14T06:40:44.448    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:40:44.449    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040624-110543-121_L1C_049-255-0_D_V1-0.zip
2024-01-14T06:40:44.449    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:40:44.449    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:40:44.449    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:40:44.449    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:40:44.449    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:40:44.449    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:40:44.449    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:40:44.449    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040624-110543-121_L1C_049-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/07/31/SPOT5-HRG2-XS_20040731-105410-037_L1C_048-254-0_D_V1-0/SPOT5-HRG2-XS_20040731-105410-037_L1C_048-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040731-105410-037_L1C_048-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040731-105410-037_L1C_048-254-0_D_V1-0.zip
run script
2024-01-14T06:41:50.038    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:41:50.039    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040731-105410-037_L1C_048-254-0_D_V1-0.zip
2024-01-14T06:41:50.040    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:41:50.040    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:41:50.040    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:41:50.040    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:41:50.040    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:41:50.040    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:41:50.040    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:41:50.040    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040731-105410-037_L1C_048-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/07/31/SPOT5-HRG2-XS_20040731-105446-244_L1C_049-258-6_D_V1-0/SPOT5-HRG2-XS_20040731-105446-244_L1C_049-258-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040731-105446-244_L1C_049-258-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040731-105446-244_L1C_049-258-6_D_V1-0.zip
run script
2024-01-14T06:41:55.170    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:41:55.171    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040731-105446-244_L1C_049-258-6_D_V1-0.zip
2024-01-14T06:41:55.171    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:41:55.171    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:41:55.171    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:41:55.171    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:41:55.171    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:41:55.172    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:41:55.172    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:41:55.172    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040731-105446-244_L1C_049-258-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/07/31/SPOT5-HRG2-XS_20040731-105449-179_L1C_049-259-0_D_V1-0/SPOT5-HRG2-XS_20040731-105449-179_L1C_049-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040731-105449-179_L1C_049-259-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040731-105449-179_L1C_049-259-0_D_V1-0.zip
run script
2024-01-14T06:43:33.344    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:43:33.346    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040731-105449-179_L1C_049-259-0_D_V1-0.zip
2024-01-14T06:43:33.346    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:43:33.346    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:43:33.346    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:43:33.346    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:43:33.346    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:43:33.346    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:43:33.346    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:43:33.346    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040731-105449-179_L1C_049-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/08/15/SPOT5-HRG1-XS_20040815-110544-506_L1C_048-254-0_D_V1-0/SPOT5-HRG1-XS_20040815-110544-506_L1C_048-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040815-110544-506_L1C_048-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040815-110544-506_L1C_048-254-0_D_V1-0.zip
run script
2024-01-14T06:44:53.200    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:44:53.201    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040815-110544-506_L1C_048-254-0_D_V1-0.zip
2024-01-14T06:44:53.201    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:44:53.201    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:44:53.201    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:44:53.201    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:44:53.202    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:44:53.202    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:44:53.202    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:44:53.202    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040815-110544-506_L1C_048-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/09/10/SPOT5-HRG1-XS_20040910-110544-274_L1C_048-254-0_D_V1-0/SPOT5-HRG1-XS_20040910-110544-274_L1C_048-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040910-110544-274_L1C_048-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040910-110544-274_L1C_048-254-0_D_V1-0.zip
run script
2024-01-14T06:44:57.535    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:44:57.537    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040910-110544-274_L1C_048-254-0_D_V1-0.zip
2024-01-14T06:44:57.537    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:44:57.537    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:44:57.537    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:44:57.537    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:44:57.537    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:44:57.537    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:44:57.537    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:44:57.537    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040910-110544-274_L1C_048-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/09/12/SPOT5-HRG2-XS_20040912-102711-839_L1C_048-254-0_D_V1-0/SPOT5-HRG2-XS_20040912-102711-839_L1C_048-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040912-102711-839_L1C_048-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040912-102711-839_L1C_048-254-0_D_V1-0.zip
run script
2024-01-14T06:45:02.600    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:45:02.600    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040912-102711-839_L1C_048-254-0_D_V1-0.zip
2024-01-14T06:45:02.600    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:45:02.601    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:45:02.601    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:45:02.601    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:45:02.601    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:45:02.601    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:45:02.601    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:45:02.601    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040912-102711-839_L1C_048-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/09/12/SPOT5-HRG1-XS_20040912-102746-056_L1C_052-258-7_D_V1-0/SPOT5-HRG1-XS_20040912-102746-056_L1C_052-258-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040912-102746-056_L1C_052-258-7_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040912-102746-056_L1C_052-258-7_D_V1-0.zip
run script
2024-01-14T06:45:07.743    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:45:07.743    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040912-102746-056_L1C_052-258-7_D_V1-0.zip
2024-01-14T06:45:07.743    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:45:07.743    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:45:07.743    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:45:07.743    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:45:07.743    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:45:07.743    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:45:07.743    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:45:07.743    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040912-102746-056_L1C_052-258-7_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/09/12/SPOT5-HRG1-XS_20040912-102748-005_L1C_052-259-0_D_V1-0/SPOT5-HRG1-XS_20040912-102748-005_L1C_052-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040912-102748-005_L1C_052-259-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040912-102748-005_L1C_052-259-0_D_V1-0.zip
run script
2024-01-14T06:48:41.643    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:48:41.644    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040912-102748-005_L1C_052-259-0_D_V1-0.zip
2024-01-14T06:48:41.644    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:48:41.644    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:48:41.644    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:48:41.644    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:48:41.644    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:48:41.644    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:48:41.644    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:48:41.644    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040912-102748-005_L1C_052-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/09/12/SPOT5-HRG1-XS_20040912-102749-810_L1C_052-259-2_D_V1-0/SPOT5-HRG1-XS_20040912-102749-810_L1C_052-259-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040912-102749-810_L1C_052-259-2_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040912-102749-810_L1C_052-259-2_D_V1-0.zip
run script
2024-01-14T06:52:46.207    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:52:46.208    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040912-102749-810_L1C_052-259-2_D_V1-0.zip
2024-01-14T06:52:46.208    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:52:46.209    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:52:46.209    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:52:46.209    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:52:46.209    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:52:46.209    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:52:46.209    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:52:46.209    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040912-102749-810_L1C_052-259-2_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/09/21/SPOT5-HRG1-XS_20040921-105413-247_L1C_048-254-0_D_V1-0/SPOT5-HRG1-XS_20040921-105413-247_L1C_048-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040921-105413-247_L1C_048-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040921-105413-247_L1C_048-254-0_D_V1-0.zip
run script
2024-01-14T06:56:32.872    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:56:32.874    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040921-105413-247_L1C_048-254-0_D_V1-0.zip
2024-01-14T06:56:32.874    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:56:32.874    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:56:32.874    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:56:32.874    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:56:32.874    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:56:32.874    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:56:32.874    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:56:32.874    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040921-105413-247_L1C_048-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/10/01/SPOT5-HRG2-XS_20041001-110157-383_L1C_048-254-0_D_V1-0/SPOT5-HRG2-XS_20041001-110157-383_L1C_048-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20041001-110157-383_L1C_048-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20041001-110157-383_L1C_048-254-0_D_V1-0.zip
run script
2024-01-14T06:56:38.431    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:56:38.432    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20041001-110157-383_L1C_048-254-0_D_V1-0.zip
2024-01-14T06:56:38.432    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:56:38.432    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:56:38.432    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:56:38.432    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:56:38.432    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:56:38.432    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:56:38.432    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:56:38.432    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20041001-110157-383_L1C_048-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/03/02/SPOT5-HRG1-XS_20040302-105737-124_L1C_048-255-0_D_V1-0/SPOT5-HRG1-XS_20040302-105737-124_L1C_048-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040302-105737-124_L1C_048-255-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040302-105737-124_L1C_048-255-0_D_V1-0.zip
run script
2024-01-14T06:56:43.414    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:56:43.415    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040302-105737-124_L1C_048-255-0_D_V1-0.zip
2024-01-14T06:56:43.415    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:56:43.415    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:56:43.415    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:56:43.416    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:56:43.416    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:56:43.416    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:56:43.416    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:56:43.416    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040302-105737-124_L1C_048-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/03/02/SPOT5-HRG1-XS_20040302-105757-798_L1C_048-257-3_D_V1-0/SPOT5-HRG1-XS_20040302-105757-798_L1C_048-257-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040302-105757-798_L1C_048-257-3_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040302-105757-798_L1C_048-257-3_D_V1-0.zip
run script
2024-01-14T06:57:26.674    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:57:26.675    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040302-105757-798_L1C_048-257-3_D_V1-0.zip
2024-01-14T06:57:26.675    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:57:26.675    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:57:26.676    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:57:26.676    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:57:26.676    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:57:26.676    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:57:26.676    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:57:26.676    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040302-105757-798_L1C_048-257-3_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/03/02/SPOT5-HRG1-XS_20040302-105802-322_L1C_048-257-8_D_V1-0/SPOT5-HRG1-XS_20040302-105802-322_L1C_048-257-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040302-105802-322_L1C_048-257-8_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040302-105802-322_L1C_048-257-8_D_V1-0.zip
run script
2024-01-14T06:57:32.124    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:57:32.125    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040302-105802-322_L1C_048-257-8_D_V1-0.zip
2024-01-14T06:57:32.125    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:57:32.125    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:57:32.125    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:57:32.126    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:57:32.126    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:57:32.126    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:57:32.126    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:57:32.126    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040302-105802-322_L1C_048-257-8_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/03/02/SPOT5-HRG2-XS_20040302-105734-520_L1C_050-255-0_D_V1-0/SPOT5-HRG2-XS_20040302-105734-520_L1C_050-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040302-105734-520_L1C_050-255-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040302-105734-520_L1C_050-255-0_D_V1-0.zip
run script
2024-01-14T06:57:37.027    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:57:37.028    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040302-105734-520_L1C_050-255-0_D_V1-0.zip
2024-01-14T06:57:37.028    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:57:37.028    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:57:37.028    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:57:37.028    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:57:37.028    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:57:37.028    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:57:37.029    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:57:37.029    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040302-105734-520_L1C_050-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/03/18/SPOT5-HRG1-XS_20040318-104959-271_L1C_048-255-0_D_V1-0/SPOT5-HRG1-XS_20040318-104959-271_L1C_048-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040318-104959-271_L1C_048-255-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040318-104959-271_L1C_048-255-0_D_V1-0.zip
run script
2024-01-14T06:58:56.167    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:58:56.168    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040318-104959-271_L1C_048-255-0_D_V1-0.zip
2024-01-14T06:58:56.168    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:58:56.168    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:58:56.168    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:58:56.168    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:58:56.168    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:58:56.168    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:58:56.168    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:58:56.168    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040318-104959-271_L1C_048-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 0 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/03/18/SPOT5-HRG1-XS_20040318-104959-102_L1C_049-254-9_D_V1-0/SPOT5-HRG1-XS_20040318-104959-102_L1C_049-254-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040318-104959-102_L1C_049-254-9_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040318-104959-102_L1C_049-254-9_D_V1-0.zip
run script
2024-01-14T06:59:34.911    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:59:34.913    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040318-104959-102_L1C_049-254-9_D_V1-0.zip
2024-01-14T06:59:34.913    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:59:34.913    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:59:34.913    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:59:34.913    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:59:34.913    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:59:34.913    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:59:34.913    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:59:34.913    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040318-104959-102_L1C_049-254-9_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 0 0 ... 2 2 2]
 [2 2 0 ... 2 2 2]
 [0 2 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/03/18/SPOT5-HRG2-XS_20040318-104948-638_L1C_050-254-0_D_V1-0/SPOT5-HRG2-XS_20040318-104948-638_L1C_050-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040318-104948-638_L1C_050-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040318-104948-638_L1C_050-254-0_D_V1-0.zip
run script
2024-01-14T07:00:12.451    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:00:12.453    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040318-104948-638_L1C_050-254-0_D_V1-0.zip
2024-01-14T07:00:12.453    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:00:12.453    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:00:12.453    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:00:12.453    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:00:12.453    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:00:12.453    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:00:12.453    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:00:12.453    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040318-104948-638_L1C_050-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/03/18/SPOT5-HRG2-XS_20040318-104956-964_L1C_050-255-0_D_V1-0/SPOT5-HRG2-XS_20040318-104956-964_L1C_050-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040318-104956-964_L1C_050-255-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040318-104956-964_L1C_050-255-0_D_V1-0.zip
run script
2024-01-14T07:00:16.864    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:00:16.865    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040318-104956-964_L1C_050-255-0_D_V1-0.zip
2024-01-14T07:00:16.865    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:00:16.865    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:00:16.865    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:00:16.866    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:00:16.866    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:00:16.866    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:00:16.866    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:00:16.866    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040318-104956-964_L1C_050-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 0 ... 2 2 2]
 [1 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/03/18/SPOT5-HRG2-XS_20040318-104957-854_L1C_050-255-1_D_V1-0/SPOT5-HRG2-XS_20040318-104957-854_L1C_050-255-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040318-104957-854_L1C_050-255-1_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040318-104957-854_L1C_050-255-1_D_V1-0.zip
run script
2024-01-14T07:01:29.106    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:01:29.107    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040318-104957-854_L1C_050-255-1_D_V1-0.zip
2024-01-14T07:01:29.107    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:01:29.107    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:01:29.107    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:01:29.107    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:01:29.107    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:01:29.107    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:01:29.107    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:01:29.107    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040318-104957-854_L1C_050-255-1_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 0 ... 2 2 2]
 [1 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/03/18/SPOT5-HRG1-XS_20040318-105026-821_L1C_050-258-5_D_V1-0/SPOT5-HRG1-XS_20040318-105026-821_L1C_050-258-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040318-105026-821_L1C_050-258-5_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040318-105026-821_L1C_050-258-5_D_V1-0.zip
run script
2024-01-14T07:02:53.357    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:02:53.358    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040318-105026-821_L1C_050-258-5_D_V1-0.zip
2024-01-14T07:02:53.359    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:02:53.359    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:02:53.359    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:02:53.359    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:02:53.359    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:02:53.359    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:02:53.359    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:02:53.359    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040318-105026-821_L1C_050-258-5_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/03/18/SPOT5-HRG1-XS_20040318-105030-671_L1C_050-259-0_D_V1-0/SPOT5-HRG1-XS_20040318-105030-671_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040318-105030-671_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040318-105030-671_L1C_050-259-0_D_V1-0.zip
run script
2024-01-14T07:04:55.294    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:04:55.295    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040318-105030-671_L1C_050-259-0_D_V1-0.zip
2024-01-14T07:04:55.295    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:04:55.295    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:04:55.295    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:04:55.295    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:04:55.295    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:04:55.296    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:04:55.296    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:04:55.296    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040318-105030-671_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/03/28/SPOT5-HRG2-XS_20040328-105742-221_L1C_048-255-0_D_V1-0/SPOT5-HRG2-XS_20040328-105742-221_L1C_048-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040328-105742-221_L1C_048-255-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040328-105742-221_L1C_048-255-0_D_V1-0.zip
run script
2024-01-14T07:06:57.286    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:06:57.288    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040328-105742-221_L1C_048-255-0_D_V1-0.zip
2024-01-14T07:06:57.288    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:06:57.288    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:06:57.288    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:06:57.288    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:06:57.288    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:06:57.288    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:06:57.288    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:06:57.288    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040328-105742-221_L1C_048-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/03/28/SPOT5-HRG2-XS_20040328-105733-871_L1C_049-254-0_D_V1-0/SPOT5-HRG2-XS_20040328-105733-871_L1C_049-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040328-105733-871_L1C_049-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040328-105733-871_L1C_049-254-0_D_V1-0.zip
run script
2024-01-14T07:07:45.841    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:07:45.843    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040328-105733-871_L1C_049-254-0_D_V1-0.zip
2024-01-14T07:07:45.843    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:07:45.843    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:07:45.843    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:07:45.843    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:07:45.843    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:07:45.843    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:07:45.843    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:07:45.843    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040328-105733-871_L1C_049-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/03/28/SPOT5-HRG1-XS_20040328-105731-362_L1C_050-254-0_D_V1-0/SPOT5-HRG1-XS_20040328-105731-362_L1C_050-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040328-105731-362_L1C_050-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040328-105731-362_L1C_050-254-0_D_V1-0.zip
run script
2024-01-14T07:07:51.465    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:07:51.466    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040328-105731-362_L1C_050-254-0_D_V1-0.zip
2024-01-14T07:07:51.466    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:07:51.466    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:07:51.466    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:07:51.466    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:07:51.466    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:07:51.466    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:07:51.466    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:07:51.466    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040328-105731-362_L1C_050-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/03/28/SPOT5-HRG1-XS_20040328-105739-761_L1C_050-255-0_D_V1-0/SPOT5-HRG1-XS_20040328-105739-761_L1C_050-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040328-105739-761_L1C_050-255-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040328-105739-761_L1C_050-255-0_D_V1-0.zip
run script
2024-01-14T07:07:57.073    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:07:57.073    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040328-105739-761_L1C_050-255-0_D_V1-0.zip
2024-01-14T07:07:57.073    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:07:57.073    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:07:57.073    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:07:57.073    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:07:57.073    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:07:57.074    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:07:57.074    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:07:57.074    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040328-105739-761_L1C_050-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/03/28/SPOT5-HRG1-XS_20040328-105740-651_L1C_050-255-1_D_V1-0/SPOT5-HRG1-XS_20040328-105740-651_L1C_050-255-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040328-105740-651_L1C_050-255-1_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040328-105740-651_L1C_050-255-1_D_V1-0.zip
run script
2024-01-14T07:09:28.883    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:09:28.884    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040328-105740-651_L1C_050-255-1_D_V1-0.zip
2024-01-14T07:09:28.884    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:09:28.884    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:09:28.884    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:09:28.884    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:09:28.884    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:09:28.884    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:09:28.885    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:09:28.885    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040328-105740-651_L1C_050-255-1_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/04/14/SPOT5-HRG1-XS_20040414-103049-916_L1C_048-255-7_D_V1-0/SPOT5-HRG1-XS_20040414-103049-916_L1C_048-255-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040414-103049-916_L1C_048-255-7_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040414-103049-916_L1C_048-255-7_D_V1-0.zip
run script
2024-01-14T07:11:16.625    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:11:16.627    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040414-103049-916_L1C_048-255-7_D_V1-0.zip
2024-01-14T07:11:16.627    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:11:16.627    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:11:16.627    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:11:16.627    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:11:16.627    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:11:16.627    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:11:16.627    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:11:16.627    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040414-103049-916_L1C_048-255-7_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/04/14/SPOT5-HRG1-XS_20040414-103051-841_L1C_048-256-0_D_V1-0/SPOT5-HRG1-XS_20040414-103051-841_L1C_048-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040414-103051-841_L1C_048-256-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040414-103051-841_L1C_048-256-0_D_V1-0.zip
run script
2024-01-14T07:12:10.515    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:12:10.516    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040414-103051-841_L1C_048-256-0_D_V1-0.zip
2024-01-14T07:12:10.516    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:12:10.516    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:12:10.516    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:12:10.516    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:12:10.516    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:12:10.516    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:12:10.517    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:12:10.517    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040414-103051-841_L1C_048-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/04/14/SPOT5-HRG1-XS_20040414-103100-071_L1C_048-257-0_D_V1-0/SPOT5-HRG1-XS_20040414-103100-071_L1C_048-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040414-103100-071_L1C_048-257-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040414-103100-071_L1C_048-257-0_D_V1-0.zip
run script
2024-01-14T07:13:08.017    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:13:08.019    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040414-103100-071_L1C_048-257-0_D_V1-0.zip
2024-01-14T07:13:08.019    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:13:08.019    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:13:08.019    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:13:08.019    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:13:08.019    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:13:08.019    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:13:08.019    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:13:08.019    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040414-103100-071_L1C_048-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/03/SPOT5-HRG1-XS_20040503-110534-942_L1C_048-255-0_D_V1-0/SPOT5-HRG1-XS_20040503-110534-942_L1C_048-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040503-110534-942_L1C_048-255-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040503-110534-942_L1C_048-255-0_D_V1-0.zip
run script
2024-01-14T07:13:57.549    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:13:57.550    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040503-110534-942_L1C_048-255-0_D_V1-0.zip
2024-01-14T07:13:57.550    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:13:57.550    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:13:57.550    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:13:57.550    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:13:57.550    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:13:57.550    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:13:57.550    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:13:57.551    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040503-110534-942_L1C_048-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/03/SPOT5-HRG1-XS_20040503-110534-653_L1C_049-254-9_D_V1-0/SPOT5-HRG1-XS_20040503-110534-653_L1C_049-254-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040503-110534-653_L1C_049-254-9_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040503-110534-653_L1C_049-254-9_D_V1-0.zip
run script
2024-01-14T07:14:58.568    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:14:58.569    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040503-110534-653_L1C_049-254-9_D_V1-0.zip
2024-01-14T07:14:58.569    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:14:58.569    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:14:58.569    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:14:58.569    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:14:58.570    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:14:58.570    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:14:58.570    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:14:58.570    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040503-110534-653_L1C_049-254-9_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/03/SPOT5-HRG2-XS_20040503-110524-348_L1C_050-254-0_D_V1-0/SPOT5-HRG2-XS_20040503-110524-348_L1C_050-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040503-110524-348_L1C_050-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040503-110524-348_L1C_050-254-0_D_V1-0.zip
run script
2024-01-14T07:15:53.710    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:15:53.713    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040503-110524-348_L1C_050-254-0_D_V1-0.zip
2024-01-14T07:15:53.713    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:15:53.713    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:15:53.713    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:15:53.713    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:15:53.713    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:15:53.713    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:15:53.713    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:15:53.714    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040503-110524-348_L1C_050-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/04/24/SPOT5-HRG2-XS_20040424-103844-083_L1C_048-256-3_D_V1-0/SPOT5-HRG2-XS_20040424-103844-083_L1C_048-256-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040424-103844-083_L1C_048-256-3_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040424-103844-083_L1C_048-256-3_D_V1-0.zip
run script
2024-01-14T07:15:58.820    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:15:58.820    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040424-103844-083_L1C_048-256-3_D_V1-0.zip
2024-01-14T07:15:58.820    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:15:58.820    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:15:58.821    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:15:58.821    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:15:58.821    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:15:58.821    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:15:58.821    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:15:58.821    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040424-103844-083_L1C_048-256-3_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/04/24/SPOT5-HRG2-XS_20040424-103848-607_L1C_048-256-8_D_V1-0/SPOT5-HRG2-XS_20040424-103848-607_L1C_048-256-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040424-103848-607_L1C_048-256-8_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040424-103848-607_L1C_048-256-8_D_V1-0.zip
run script
2024-01-14T07:16:41.190    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:16:41.191    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040424-103848-607_L1C_048-256-8_D_V1-0.zip
2024-01-14T07:16:41.191    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:16:41.191    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:16:41.191    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:16:41.191    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:16:41.191    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:16:41.192    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:16:41.192    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:16:41.192    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040424-103848-607_L1C_048-256-8_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/07/17/SPOT5-HRG2-XS_20040717-102334-488_L1C_048-256-3_D_V1-0/SPOT5-HRG2-XS_20040717-102334-488_L1C_048-256-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040717-102334-488_L1C_048-256-3_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040717-102334-488_L1C_048-256-3_D_V1-0.zip
run script
2024-01-14T07:17:19.231    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:17:19.233    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040717-102334-488_L1C_048-256-3_D_V1-0.zip
2024-01-14T07:17:19.233    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:17:19.233    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:17:19.233    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:17:19.233    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:17:19.233    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:17:19.233    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:17:19.233    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:17:19.233    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040717-102334-488_L1C_048-256-3_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/07/17/SPOT5-HRG2-XS_20040717-102339-999_L1C_048-257-0_D_V1-0/SPOT5-HRG2-XS_20040717-102339-999_L1C_048-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040717-102339-999_L1C_048-257-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040717-102339-999_L1C_048-257-0_D_V1-0.zip
run script
2024-01-14T07:18:11.143    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:18:11.144    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040717-102339-999_L1C_048-257-0_D_V1-0.zip
2024-01-14T07:18:11.144    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:18:11.145    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:18:11.145    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:18:11.145    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:18:11.145    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:18:11.145    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:18:11.145    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:18:11.145    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040717-102339-999_L1C_048-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/07/17/SPOT5-HRG2-XS_20040717-102340-913_L1C_048-257-1_D_V1-0/SPOT5-HRG2-XS_20040717-102340-913_L1C_048-257-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040717-102340-913_L1C_048-257-1_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040717-102340-913_L1C_048-257-1_D_V1-0.zip
run script
2024-01-14T07:19:02.071    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:19:02.073    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040717-102340-913_L1C_048-257-1_D_V1-0.zip
2024-01-14T07:19:02.073    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:19:02.073    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:19:02.073    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:19:02.073    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:19:02.073    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:19:02.073    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:19:02.073    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:19:02.073    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040717-102340-913_L1C_048-257-1_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/03/23/SPOT5-HRG1-XS_20040323-105439-490_L1C_048-260-7_D_V1-0/SPOT5-HRG1-XS_20040323-105439-490_L1C_048-260-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040323-105439-490_L1C_048-260-7_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040323-105439-490_L1C_048-260-7_D_V1-0.zip
run script
2024-01-14T07:19:49.627    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:19:49.628    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040323-105439-490_L1C_048-260-7_D_V1-0.zip
2024-01-14T07:19:49.628    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:19:49.628    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:19:49.628    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:19:49.628    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:19:49.628    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:19:49.629    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:19:49.629    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:19:49.629    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040323-105439-490_L1C_048-260-7_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/03/23/SPOT5-HRG1-XS_20040323-105441-535_L1C_048-261-0_D_V1-0/SPOT5-HRG1-XS_20040323-105441-535_L1C_048-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040323-105441-535_L1C_048-261-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040323-105441-535_L1C_048-261-0_D_V1-0.zip
run script
2024-01-14T07:19:54.588    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:19:54.589    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040323-105441-535_L1C_048-261-0_D_V1-0.zip
2024-01-14T07:19:54.589    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:19:54.589    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:19:54.590    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:19:54.590    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:19:54.590    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:19:54.590    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:19:54.590    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:19:54.590    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040323-105441-535_L1C_048-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/05/26/SPOT5-HRG1-XS_20040526-102416-630_L1C_048-261-6_D_V1-0/SPOT5-HRG1-XS_20040526-102416-630_L1C_048-261-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040526-102416-630_L1C_048-261-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040526-102416-630_L1C_048-261-6_D_V1-0.zip
run script
2024-01-14T07:19:59.155    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:19:59.156    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040526-102416-630_L1C_048-261-6_D_V1-0.zip
2024-01-14T07:19:59.156    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:19:59.156    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:19:59.156    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:19:59.156    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:19:59.157    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:19:59.157    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:19:59.157    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:19:59.157    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040526-102416-630_L1C_048-261-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/05/26/SPOT5-HRG2-XS_20040526-102325-918_L1C_049-255-6_D_V1-0/SPOT5-HRG2-XS_20040526-102325-918_L1C_049-255-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040526-102325-918_L1C_049-255-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040526-102325-918_L1C_049-255-6_D_V1-0.zip
run script
2024-01-14T07:20:04.886    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:20:04.887    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040526-102325-918_L1C_049-255-6_D_V1-0.zip
2024-01-14T07:20:04.887    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:20:04.887    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:20:04.887    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:20:04.887    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:20:04.887    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:20:04.888    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:20:04.888    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:20:04.888    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040526-102325-918_L1C_049-255-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/26/SPOT5-HRG2-XS_20040526-102328-709_L1C_049-256-0_D_V1-0/SPOT5-HRG2-XS_20040526-102328-709_L1C_049-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040526-102328-709_L1C_049-256-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040526-102328-709_L1C_049-256-0_D_V1-0.zip
run script
2024-01-14T07:22:19.220    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:22:19.222    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040526-102328-709_L1C_049-256-0_D_V1-0.zip
2024-01-14T07:22:19.222    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:22:19.222    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:22:19.222    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:22:19.222    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:22:19.222    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:22:19.222    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:22:19.222    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:22:19.222    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040526-102328-709_L1C_049-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/26/SPOT5-HRG2-XS_20040526-102329-624_L1C_049-256-1_D_V1-0/SPOT5-HRG2-XS_20040526-102329-624_L1C_049-256-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040526-102329-624_L1C_049-256-1_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040526-102329-624_L1C_049-256-1_D_V1-0.zip
run script
2024-01-14T07:24:50.569    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:24:50.570    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040526-102329-624_L1C_049-256-1_D_V1-0.zip
2024-01-14T07:24:50.570    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:24:50.570    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:24:50.570    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:24:50.570    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:24:50.571    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:24:50.571    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:24:50.571    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:24:50.571    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040526-102329-624_L1C_049-256-1_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/26/SPOT5-HRG1-XS_20040526-102419-494_L1C_049-262-0_D_V1-0/SPOT5-HRG1-XS_20040526-102419-494_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040526-102419-494_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040526-102419-494_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T07:27:10.589    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:27:10.590    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040526-102419-494_L1C_049-262-0_D_V1-0.zip
2024-01-14T07:27:10.590    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:27:10.590    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:27:10.590    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:27:10.590    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:27:10.590    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:27:10.590    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:27:10.590    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:27:10.590    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040526-102419-494_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/02/21/SPOT5-HRG1-XS_20040221-104939-664_L1C_049-254-0_D_V1-0/SPOT5-HRG1-XS_20040221-104939-664_L1C_049-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040221-104939-664_L1C_049-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040221-104939-664_L1C_049-254-0_D_V1-0.zip
run script
2024-01-14T07:27:15.983    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:27:15.984    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040221-104939-664_L1C_049-254-0_D_V1-0.zip
2024-01-14T07:27:15.984    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:27:15.984    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:27:15.984    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:27:15.984    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:27:15.984    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:27:15.984    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:27:15.984    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:27:15.984    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040221-104939-664_L1C_049-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/02/21/SPOT5-HRG2-XS_20040221-104937-514_L1C_050-254-0_D_V1-0/SPOT5-HRG2-XS_20040221-104937-514_L1C_050-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040221-104937-514_L1C_050-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040221-104937-514_L1C_050-254-0_D_V1-0.zip
run script
2024-01-14T07:27:20.371    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:27:20.372    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040221-104937-514_L1C_050-254-0_D_V1-0.zip
2024-01-14T07:27:20.372    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:27:20.373    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:27:20.373    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:27:20.373    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:27:20.373    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:27:20.373    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:27:20.373    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:27:20.373    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040221-104937-514_L1C_050-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/02/21/SPOT5-HRG2-XS_20040221-104945-840_L1C_050-255-0_D_V1-0/SPOT5-HRG2-XS_20040221-104945-840_L1C_050-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040221-104945-840_L1C_050-255-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040221-104945-840_L1C_050-255-0_D_V1-0.zip
run script
2024-01-14T07:27:24.987    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:27:24.988    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040221-104945-840_L1C_050-255-0_D_V1-0.zip
2024-01-14T07:27:24.988    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:27:24.988    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:27:24.988    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:27:24.988    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:27:24.988    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:27:24.988    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:27:24.988    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:27:24.988    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040221-104945-840_L1C_050-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/04/04/SPOT5-HRG1-XS_20040404-102321-314_L1C_049-257-5_D_V1-0/SPOT5-HRG1-XS_20040404-102321-314_L1C_049-257-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040404-102321-314_L1C_049-257-5_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040404-102321-314_L1C_049-257-5_D_V1-0.zip
run script
2024-01-14T07:28:32.589    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:28:32.594    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040404-102321-314_L1C_049-257-5_D_V1-0.zip
2024-01-14T07:28:32.595    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:28:32.595    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:28:32.595    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:28:32.595    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:28:32.595    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:28:32.595    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:28:32.595    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:28:32.595    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040404-102321-314_L1C_049-257-5_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/04/04/SPOT5-HRG1-XS_20040404-102325-019_L1C_049-258-0_D_V1-0/SPOT5-HRG1-XS_20040404-102325-019_L1C_049-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040404-102325-019_L1C_049-258-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040404-102325-019_L1C_049-258-0_D_V1-0.zip
run script
2024-01-14T07:29:59.793    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:29:59.794    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040404-102325-019_L1C_049-258-0_D_V1-0.zip
2024-01-14T07:29:59.795    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:29:59.795    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:29:59.795    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:29:59.795    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:29:59.795    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:29:59.795    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:29:59.795    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:29:59.795    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T07:31:10.431    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 258). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040404-102325-019_L1C_049-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2004/04/04/SPOT5-HRG1-XS_20040404-102333-273_L1C_049-259-0_D_V1-0/SPOT5-HRG1-XS_20040404-102333-273_L1C_049-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040404-102333-273_L1C_049-259-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040404-102333-273_L1C_049-259-0_D_V1-0.zip
run script
2024-01-14T07:31:14.958    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:31:14.959    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040404-102333-273_L1C_049-259-0_D_V1-0.zip
2024-01-14T07:31:14.959    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:31:14.960    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:31:14.960    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:31:14.960    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:31:14.960    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:31:14.960    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:31:14.960    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:31:14.960    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040404-102333-273_L1C_049-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/04/04/SPOT5-HRG1-XS_20040404-102341-551_L1C_049-260-0_D_V1-0/SPOT5-HRG1-XS_20040404-102341-551_L1C_049-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040404-102341-551_L1C_049-260-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040404-102341-551_L1C_049-260-0_D_V1-0.zip
run script
2024-01-14T07:32:20.835    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:32:20.836    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040404-102341-551_L1C_049-260-0_D_V1-0.zip
2024-01-14T07:32:20.836    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:32:20.836    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:32:20.836    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:32:20.837    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:32:20.837    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:32:20.837    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:32:20.837    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:32:20.837    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040404-102341-551_L1C_049-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/04/04/SPOT5-HRG1-XS_20040404-102347-856_L1C_049-260-7_D_V1-0/SPOT5-HRG1-XS_20040404-102347-856_L1C_049-260-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040404-102347-856_L1C_049-260-7_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040404-102347-856_L1C_049-260-7_D_V1-0.zip
run script
2024-01-14T07:33:06.272    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:33:06.273    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040404-102347-856_L1C_049-260-7_D_V1-0.zip
2024-01-14T07:33:06.273    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:33:06.273    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:33:06.273    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:33:06.273    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:33:06.273    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:33:06.273    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:33:06.273    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:33:06.274    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040404-102347-856_L1C_049-260-7_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/04/04/SPOT5-HRG2-XS_20040404-102354-093_L1C_049-261-4_D_V1-0/SPOT5-HRG2-XS_20040404-102354-093_L1C_049-261-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040404-102354-093_L1C_049-261-4_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040404-102354-093_L1C_049-261-4_D_V1-0.zip
run script
2024-01-14T07:33:46.920    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:33:46.921    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040404-102354-093_L1C_049-261-4_D_V1-0.zip
2024-01-14T07:33:46.921    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:33:46.921    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:33:46.922    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:33:46.922    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:33:46.922    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:33:46.922    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:33:46.922    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:33:46.922    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040404-102354-093_L1C_049-261-4_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/02/15/SPOT5-HRG2-XS_20040215-110536-430_L1C_049-258-7_D_V1-0/SPOT5-HRG2-XS_20040215-110536-430_L1C_049-258-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040215-110536-430_L1C_049-258-7_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040215-110536-430_L1C_049-258-7_D_V1-0.zip
run script
2024-01-14T07:33:50.857    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:33:50.857    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040215-110536-430_L1C_049-258-7_D_V1-0.zip
2024-01-14T07:33:50.857    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:33:50.857    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:33:50.857    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:33:50.857    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:33:50.857    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:33:50.857    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:33:50.857    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:33:50.857    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040215-110536-430_L1C_049-258-7_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/04/08/SPOT5-HRG1-XS_20040408-104635-004_L1C_049-258-2_D_V1-0/SPOT5-HRG1-XS_20040408-104635-004_L1C_049-258-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040408-104635-004_L1C_049-258-2_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040408-104635-004_L1C_049-258-2_D_V1-0.zip
run script
2024-01-14T07:35:01.502    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:35:01.504    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040408-104635-004_L1C_049-258-2_D_V1-0.zip
2024-01-14T07:35:01.504    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:35:01.504    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:35:01.504    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:35:01.504    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:35:01.504    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:35:01.504    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:35:01.504    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:35:01.504    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040408-104635-004_L1C_049-258-2_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/04/08/SPOT5-HRG1-XS_20040408-104636-809_L1C_049-258-4_D_V1-0/SPOT5-HRG1-XS_20040408-104636-809_L1C_049-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040408-104636-809_L1C_049-258-4_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040408-104636-809_L1C_049-258-4_D_V1-0.zip
run script
2024-01-14T07:36:04.732    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:36:04.733    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040408-104636-809_L1C_049-258-4_D_V1-0.zip
2024-01-14T07:36:04.733    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:36:04.733    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:36:04.733    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:36:04.733    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:36:04.733    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:36:04.733    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:36:04.734    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:36:04.734    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040408-104636-809_L1C_049-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/04/08/SPOT5-HRG1-XS_20040408-104654-388_L1C_049-260-5_D_V1-0/SPOT5-HRG1-XS_20040408-104654-388_L1C_049-260-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040408-104654-388_L1C_049-260-5_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040408-104654-388_L1C_049-260-5_D_V1-0.zip
run script
2024-01-14T07:37:10.568    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:37:10.569    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040408-104654-388_L1C_049-260-5_D_V1-0.zip
2024-01-14T07:37:10.569    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:37:10.569    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:37:10.570    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:37:10.570    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:37:10.570    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:37:10.570    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:37:10.570    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:37:10.570    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040408-104654-388_L1C_049-260-5_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/04/08/SPOT5-HRG1-XS_20040408-104658-214_L1C_049-261-0_D_V1-0/SPOT5-HRG1-XS_20040408-104658-214_L1C_049-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040408-104658-214_L1C_049-261-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040408-104658-214_L1C_049-261-0_D_V1-0.zip
run script
2024-01-14T07:37:30.133    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:37:30.134    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040408-104658-214_L1C_049-261-0_D_V1-0.zip
2024-01-14T07:37:30.135    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:37:30.135    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:37:30.135    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:37:30.135    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:37:30.135    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:37:30.135    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:37:30.135    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:37:30.135    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040408-104658-214_L1C_049-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/04/08/SPOT5-HRG1-XS_20040408-104704-519_L1C_049-261-7_D_V1-0/SPOT5-HRG1-XS_20040408-104704-519_L1C_049-261-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040408-104704-519_L1C_049-261-7_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040408-104704-519_L1C_049-261-7_D_V1-0.zip
run script
2024-01-14T07:37:35.047    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:37:35.047    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040408-104704-519_L1C_049-261-7_D_V1-0.zip
2024-01-14T07:37:35.047    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:37:35.047    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:37:35.047    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:37:35.047    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:37:35.047    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:37:35.048    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:37:35.048    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:37:35.048    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040408-104704-519_L1C_049-261-7_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/04/19/SPOT5-HRG2-XS_20040419-103505-112_L1C_049-258-4_D_V1-0/SPOT5-HRG2-XS_20040419-103505-112_L1C_049-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040419-103505-112_L1C_049-258-4_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040419-103505-112_L1C_049-258-4_D_V1-0.zip
run script
2024-01-14T07:37:39.540    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:37:39.541    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040419-103505-112_L1C_049-258-4_D_V1-0.zip
2024-01-14T07:37:39.541    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:37:39.541    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:37:39.541    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:37:39.541    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:37:39.541    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:37:39.541    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:37:39.542    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:37:39.542    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040419-103505-112_L1C_049-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/08/05/SPOT5-HRG1-XS_20040805-105837-795_L1C_049-258-6_D_V1-0/SPOT5-HRG1-XS_20040805-105837-795_L1C_049-258-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040805-105837-795_L1C_049-258-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040805-105837-795_L1C_049-258-6_D_V1-0.zip
run script
2024-01-14T07:38:42.155    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:38:42.157    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040805-105837-795_L1C_049-258-6_D_V1-0.zip
2024-01-14T07:38:42.157    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:38:42.157    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:38:42.157    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:38:42.157    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:38:42.157    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:38:42.157    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:38:42.157    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:38:42.157    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040805-105837-795_L1C_049-258-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/08/05/SPOT5-HRG1-XS_20040805-105840-755_L1C_049-259-0_D_V1-0/SPOT5-HRG1-XS_20040805-105840-755_L1C_049-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040805-105840-755_L1C_049-259-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040805-105840-755_L1C_049-259-0_D_V1-0.zip
run script
2024-01-14T07:40:10.830    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:40:10.831    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040805-105840-755_L1C_049-259-0_D_V1-0.zip
2024-01-14T07:40:10.831    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:40:10.832    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:40:10.832    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:40:10.832    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:40:10.832    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:40:10.832    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:40:10.832    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:40:10.832    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040805-105840-755_L1C_049-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/08/05/SPOT5-HRG1-XS_20040805-105802-212_L1C_051-254-6_D_V1-0/SPOT5-HRG1-XS_20040805-105802-212_L1C_051-254-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040805-105802-212_L1C_051-254-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040805-105802-212_L1C_051-254-6_D_V1-0.zip
run script
2024-01-14T07:41:29.772    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:41:29.773    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040805-105802-212_L1C_051-254-6_D_V1-0.zip
2024-01-14T07:41:29.773    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:41:29.773    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:41:29.773    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:41:29.774    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:41:29.774    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:41:29.774    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:41:29.774    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:41:29.774    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040805-105802-212_L1C_051-254-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/08/05/SPOT5-HRG1-XS_20040805-105805-196_L1C_051-255-0_D_V1-0/SPOT5-HRG1-XS_20040805-105805-196_L1C_051-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040805-105805-196_L1C_051-255-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040805-105805-196_L1C_051-255-0_D_V1-0.zip
run script
2024-01-14T07:41:54.047    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:41:54.048    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040805-105805-196_L1C_051-255-0_D_V1-0.zip
2024-01-14T07:41:54.048    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:41:54.048    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:41:54.048    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:41:54.048    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:41:54.048    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:41:54.048    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:41:54.048    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:41:54.048    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040805-105805-196_L1C_051-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/12/04/SPOT5-HRG1-XS_20041204-103139-844_L1C_049-259-4_D_V1-0/SPOT5-HRG1-XS_20041204-103139-844_L1C_049-259-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20041204-103139-844_L1C_049-259-4_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041204-103139-844_L1C_049-259-4_D_V1-0.zip
run script
2024-01-14T07:43:12.577    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:43:12.578    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041204-103139-844_L1C_049-259-4_D_V1-0.zip
2024-01-14T07:43:12.578    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:43:12.578    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:43:12.578    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:43:12.578    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:43:12.578    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:43:12.578    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:43:12.578    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:43:12.578    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041204-103139-844_L1C_049-259-4_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/12/18/SPOT5-HRG1-XS_20041218-110226-249_L1C_049-259-3_D_V1-0/SPOT5-HRG1-XS_20041218-110226-249_L1C_049-259-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20041218-110226-249_L1C_049-259-3_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041218-110226-249_L1C_049-259-3_D_V1-0.zip
run script
2024-01-14T07:43:50.205    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:43:50.206    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041218-110226-249_L1C_049-259-3_D_V1-0.zip
2024-01-14T07:43:50.206    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:43:50.207    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:43:50.207    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:43:50.207    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:43:50.207    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:43:50.207    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:43:50.207    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:43:50.207    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041218-110226-249_L1C_049-259-3_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/12/18/SPOT5-HRG1-XS_20041218-110228-054_L1C_049-259-5_D_V1-0/SPOT5-HRG1-XS_20041218-110228-054_L1C_049-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20041218-110228-054_L1C_049-259-5_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041218-110228-054_L1C_049-259-5_D_V1-0.zip
run script
2024-01-14T07:44:42.181    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:44:42.182    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041218-110228-054_L1C_049-259-5_D_V1-0.zip
2024-01-14T07:44:42.182    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:44:42.182    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:44:42.182    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:44:42.182    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:44:42.182    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:44:42.182    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:44:42.182    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:44:42.182    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041218-110228-054_L1C_049-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/12/24/SPOT5-HRG1-XS_20041224-104703-676_L1C_049-259-3_D_V1-0/SPOT5-HRG1-XS_20041224-104703-676_L1C_049-259-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20041224-104703-676_L1C_049-259-3_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041224-104703-676_L1C_049-259-3_D_V1-0.zip
run script
2024-01-14T07:45:26.628    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:45:26.629    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041224-104703-676_L1C_049-259-3_D_V1-0.zip
2024-01-14T07:45:26.629    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:45:26.629    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:45:26.629    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:45:26.629    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:45:26.629    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:45:26.629    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:45:26.629    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:45:26.629    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041224-104703-676_L1C_049-259-3_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/12/24/SPOT5-HRG1-XS_20041224-104705-480_L1C_049-259-5_D_V1-0/SPOT5-HRG1-XS_20041224-104705-480_L1C_049-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20041224-104705-480_L1C_049-259-5_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041224-104705-480_L1C_049-259-5_D_V1-0.zip
run script
2024-01-14T07:46:01.780    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:46:01.781    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041224-104705-480_L1C_049-259-5_D_V1-0.zip
2024-01-14T07:46:01.781    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:46:01.781    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:46:01.781    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:46:01.781    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:46:01.781    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:46:01.781    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:46:01.782    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:46:01.782    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041224-104705-480_L1C_049-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/12/29/SPOT5-HRG2-XS_20041229-105054-975_L1C_049-259-3_D_V1-0/SPOT5-HRG2-XS_20041229-105054-975_L1C_049-259-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20041229-105054-975_L1C_049-259-3_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20041229-105054-975_L1C_049-259-3_D_V1-0.zip
run script
2024-01-14T07:46:31.291    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:46:31.292    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20041229-105054-975_L1C_049-259-3_D_V1-0.zip
2024-01-14T07:46:31.292    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:46:31.292    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:46:31.292    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:46:31.293    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:46:31.293    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:46:31.293    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:46:31.293    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:46:31.293    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20041229-105054-975_L1C_049-259-3_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 0 0 0]
 [1 1 1 ... 0 0 0]
 [1 1 1 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 1 1 ... 2 2 2]
 [2 1 1 ... 2 2 2]
 [2 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/12/29/SPOT5-HRG2-XS_20041229-105056-780_L1C_049-259-5_D_V1-0/SPOT5-HRG2-XS_20041229-105056-780_L1C_049-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20041229-105056-780_L1C_049-259-5_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20041229-105056-780_L1C_049-259-5_D_V1-0.zip
run script
2024-01-14T07:47:09.734    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:47:09.735    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20041229-105056-780_L1C_049-259-5_D_V1-0.zip
2024-01-14T07:47:09.735    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:47:09.735    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:47:09.735    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:47:09.735    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:47:09.735    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:47:09.735    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:47:09.735    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:47:09.736    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20041229-105056-780_L1C_049-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/12/30/SPOT5-HRG2-XS_20041230-103138-800_L1C_049-259-3_D_V1-0/SPOT5-HRG2-XS_20041230-103138-800_L1C_049-259-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20041230-103138-800_L1C_049-259-3_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20041230-103138-800_L1C_049-259-3_D_V1-0.zip
run script
2024-01-14T07:47:42.351    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:47:42.352    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20041230-103138-800_L1C_049-259-3_D_V1-0.zip
2024-01-14T07:47:42.352    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:47:42.352    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:47:42.352    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:47:42.353    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:47:42.353    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:47:42.353    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:47:42.353    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:47:42.353    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20041230-103138-800_L1C_049-259-3_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 0 0 1]
 [1 1 1 ... 0 0 0]
 [1 1 1 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 1 1 1]
 [1 1 1 ... 1 1 1]
 [1 1 1 ... 1 1 1]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/12/30/SPOT5-HRG2-XS_20041230-103140-605_L1C_049-259-5_D_V1-0/SPOT5-HRG2-XS_20041230-103140-605_L1C_049-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20041230-103140-605_L1C_049-259-5_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20041230-103140-605_L1C_049-259-5_D_V1-0.zip
run script
2024-01-14T07:48:21.646    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:48:21.648    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20041230-103140-605_L1C_049-259-5_D_V1-0.zip
2024-01-14T07:48:21.648    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:48:21.648    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:48:21.648    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:48:21.648    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:48:21.648    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:48:21.648    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:48:21.649    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:48:21.649    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20041230-103140-605_L1C_049-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 0 0 0]
 [1 1 1 ... 0 0 0]
 [1 1 1 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/04/09/SPOT5-HRG2-XS_20040409-102744-035_L1C_049-261-3_D_V1-0/SPOT5-HRG2-XS_20040409-102744-035_L1C_049-261-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040409-102744-035_L1C_049-261-3_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040409-102744-035_L1C_049-261-3_D_V1-0.zip
run script
2024-01-14T07:48:57.776    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:48:57.777    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040409-102744-035_L1C_049-261-3_D_V1-0.zip
2024-01-14T07:48:57.777    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:48:57.777    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:48:57.778    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:48:57.778    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:48:57.778    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:48:57.778    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:48:57.778    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:48:57.778    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T07:49:04.435    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (195 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040409-102744-035_L1C_049-261-3_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2004/04/09/SPOT5-HRG2-XS_20040409-102745-840_L1C_049-261-5_D_V1-0/SPOT5-HRG2-XS_20040409-102745-840_L1C_049-261-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040409-102745-840_L1C_049-261-5_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040409-102745-840_L1C_049-261-5_D_V1-0.zip
run script
2024-01-14T07:49:10.219    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:49:10.221    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040409-102745-840_L1C_049-261-5_D_V1-0.zip
2024-01-14T07:49:10.221    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:49:10.221    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:49:10.221    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:49:10.221    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:49:10.221    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:49:10.221    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:49:10.221    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:49:10.221    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040409-102745-840_L1C_049-261-5_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/04/09/SPOT5-HRG2-XS_20040409-102641-413_L1C_050-254-0_D_V1-0/SPOT5-HRG2-XS_20040409-102641-413_L1C_050-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040409-102641-413_L1C_050-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040409-102641-413_L1C_050-254-0_D_V1-0.zip
run script
2024-01-14T07:49:13.885    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:49:13.886    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040409-102641-413_L1C_050-254-0_D_V1-0.zip
2024-01-14T07:49:13.886    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:49:13.886    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:49:13.886    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:49:13.886    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:49:13.886    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:49:13.886    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:49:13.886    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:49:13.886    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040409-102641-413_L1C_050-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/04/02/SPOT5-HRG1-XS_20040402-110125-430_L1C_050-254-4_D_V1-0/SPOT5-HRG1-XS_20040402-110125-430_L1C_050-254-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040402-110125-430_L1C_050-254-4_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040402-110125-430_L1C_050-254-4_D_V1-0.zip
run script
2024-01-14T07:49:19.791    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:49:19.793    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040402-110125-430_L1C_050-254-4_D_V1-0.zip
2024-01-14T07:49:19.793    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:49:19.793    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:49:19.793    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:49:19.793    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:49:19.793    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:49:19.793    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:49:19.793    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:49:19.793    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040402-110125-430_L1C_050-254-4_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/04/02/SPOT5-HRG1-XS_20040402-110127-235_L1C_050-254-6_D_V1-0/SPOT5-HRG1-XS_20040402-110127-235_L1C_050-254-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040402-110127-235_L1C_050-254-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040402-110127-235_L1C_050-254-6_D_V1-0.zip
run script
2024-01-14T07:49:25.545    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:49:25.545    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040402-110127-235_L1C_050-254-6_D_V1-0.zip
2024-01-14T07:49:25.545    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:49:25.545    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:49:25.545    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:49:25.546    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:49:25.546    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:49:25.546    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:49:25.546    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:49:25.546    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040402-110127-235_L1C_050-254-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/04/25/SPOT5-HRG1-XS_20040425-101909-322_L1C_050-254-5_D_V1-0/SPOT5-HRG1-XS_20040425-101909-322_L1C_050-254-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040425-101909-322_L1C_050-254-5_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040425-101909-322_L1C_050-254-5_D_V1-0.zip
run script
2024-01-14T07:49:53.350    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:49:53.352    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040425-101909-322_L1C_050-254-5_D_V1-0.zip
2024-01-14T07:49:53.352    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:49:53.352    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:49:53.352    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:49:53.352    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:49:53.352    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:49:53.352    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:49:53.352    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:49:53.352    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040425-101909-322_L1C_050-254-5_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/04/25/SPOT5-HRG1-XS_20040425-101913-003_L1C_050-255-0_D_V1-0/SPOT5-HRG1-XS_20040425-101913-003_L1C_050-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040425-101913-003_L1C_050-255-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040425-101913-003_L1C_050-255-0_D_V1-0.zip
run script
2024-01-14T07:49:59.085    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:49:59.086    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040425-101913-003_L1C_050-255-0_D_V1-0.zip
2024-01-14T07:49:59.086    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:49:59.086    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:49:59.086    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:49:59.086    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:49:59.087    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:49:59.087    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:49:59.087    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:49:59.087    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040425-101913-003_L1C_050-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/04/25/SPOT5-HRG1-XS_20040425-101921-233_L1C_050-256-0_D_V1-0/SPOT5-HRG1-XS_20040425-101921-233_L1C_050-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040425-101921-233_L1C_050-256-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040425-101921-233_L1C_050-256-0_D_V1-0.zip
run script
2024-01-14T07:51:10.564    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:51:10.565    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040425-101921-233_L1C_050-256-0_D_V1-0.zip
2024-01-14T07:51:10.565    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:51:10.565    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:51:10.565    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:51:10.566    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:51:10.566    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:51:10.566    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:51:10.566    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:51:10.566    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040425-101921-233_L1C_050-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/04/25/SPOT5-HRG1-XS_20040425-101928-452_L1C_050-256-8_D_V1-0/SPOT5-HRG1-XS_20040425-101928-452_L1C_050-256-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040425-101928-452_L1C_050-256-8_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040425-101928-452_L1C_050-256-8_D_V1-0.zip
run script
2024-01-14T07:54:52.870    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:54:52.871    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040425-101928-452_L1C_050-256-8_D_V1-0.zip
2024-01-14T07:54:52.871    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:54:52.872    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:54:52.872    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:54:52.872    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:54:52.872    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:54:52.872    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:54:52.872    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:54:52.872    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040425-101928-452_L1C_050-256-8_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/04/29/SPOT5-HRG2-XS_20040429-104216-726_L1C_050-254-0_D_V1-0/SPOT5-HRG2-XS_20040429-104216-726_L1C_050-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040429-104216-726_L1C_050-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040429-104216-726_L1C_050-254-0_D_V1-0.zip
run script
2024-01-14T07:58:57.815    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:58:57.816    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040429-104216-726_L1C_050-254-0_D_V1-0.zip
2024-01-14T07:58:57.816    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:58:57.816    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:58:57.816    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:58:57.816    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:58:57.816    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:58:57.816    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:58:57.816    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:58:57.816    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040429-104216-726_L1C_050-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/04/29/SPOT5-HRG2-XS_20040429-104225-028_L1C_050-255-0_D_V1-0/SPOT5-HRG2-XS_20040429-104225-028_L1C_050-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040429-104225-028_L1C_050-255-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040429-104225-028_L1C_050-255-0_D_V1-0.zip
run script
2024-01-14T07:59:02.644    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:59:02.645    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040429-104225-028_L1C_050-255-0_D_V1-0.zip
2024-01-14T07:59:02.645    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T07:59:02.645    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T07:59:02.645    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T07:59:02.645    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T07:59:02.645    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T07:59:02.646    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T07:59:02.646    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T07:59:02.646    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040429-104225-028_L1C_050-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/05/15/SPOT5-HRG2-XS_20040515-103447-631_L1C_050-254-5_D_V1-0/SPOT5-HRG2-XS_20040515-103447-631_L1C_050-254-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040515-103447-631_L1C_050-254-5_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040515-103447-631_L1C_050-254-5_D_V1-0.zip
run script
2024-01-14T08:00:08.266    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:00:08.267    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040515-103447-631_L1C_050-254-5_D_V1-0.zip
2024-01-14T08:00:08.267    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:00:08.267    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:00:08.267    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:00:08.267    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:00:08.267    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:00:08.267    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:00:08.267    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:00:08.267    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040515-103447-631_L1C_050-254-5_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/05/15/SPOT5-HRG2-XS_20040515-103449-435_L1C_050-254-7_D_V1-0/SPOT5-HRG2-XS_20040515-103449-435_L1C_050-254-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040515-103449-435_L1C_050-254-7_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040515-103449-435_L1C_050-254-7_D_V1-0.zip
run script
2024-01-14T08:00:13.850    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:00:13.852    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040515-103449-435_L1C_050-254-7_D_V1-0.zip
2024-01-14T08:00:13.852    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:00:13.852    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:00:13.852    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:00:13.852    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:00:13.852    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:00:13.852    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:00:13.852    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:00:13.852    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040515-103449-435_L1C_050-254-7_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/07/12/SPOT5-HRG1-XS_20040712-101918-430_L1C_050-254-0_D_V1-0/SPOT5-HRG1-XS_20040712-101918-430_L1C_050-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040712-101918-430_L1C_050-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040712-101918-430_L1C_050-254-0_D_V1-0.zip
run script
2024-01-14T08:00:44.284    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:00:44.286    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040712-101918-430_L1C_050-254-0_D_V1-0.zip
2024-01-14T08:00:44.286    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:00:44.286    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:00:44.286    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:00:44.286    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:00:44.286    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:00:44.286    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:00:44.286    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:00:44.286    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040712-101918-430_L1C_050-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/09/05/SPOT5-HRG1-XS_20040905-110157-465_L1C_050-255-0_D_V1-0/SPOT5-HRG1-XS_20040905-110157-465_L1C_050-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040905-110157-465_L1C_050-255-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040905-110157-465_L1C_050-255-0_D_V1-0.zip
run script
2024-01-14T08:00:50.396    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:00:50.397    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040905-110157-465_L1C_050-255-0_D_V1-0.zip
2024-01-14T08:00:50.397    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:00:50.397    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:00:50.397    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:00:50.397    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:00:50.397    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:00:50.397    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:00:50.397    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:00:50.398    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040905-110157-465_L1C_050-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/09/05/SPOT5-HRG1-XS_20040905-110158-355_L1C_050-255-1_D_V1-0/SPOT5-HRG1-XS_20040905-110158-355_L1C_050-255-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040905-110158-355_L1C_050-255-1_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040905-110158-355_L1C_050-255-1_D_V1-0.zip
run script
2024-01-14T08:02:15.600    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:02:15.601    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040905-110158-355_L1C_050-255-1_D_V1-0.zip
2024-01-14T08:02:15.602    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:02:15.602    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:02:15.602    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:02:15.602    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:02:15.602    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:02:15.602    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:02:15.602    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:02:15.602    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040905-110158-355_L1C_050-255-1_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/09/05/SPOT5-HRG1-XS_20040905-110149-043_L1C_051-254-0_D_V1-0/SPOT5-HRG1-XS_20040905-110149-043_L1C_051-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040905-110149-043_L1C_051-254-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040905-110149-043_L1C_051-254-0_D_V1-0.zip
run script
2024-01-14T08:03:56.836    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:03:56.837    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040905-110149-043_L1C_051-254-0_D_V1-0.zip
2024-01-14T08:03:56.837    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:03:56.837    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:03:56.837    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:03:56.837    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:03:56.837    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:03:56.837    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:03:56.838    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:03:56.838    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040905-110149-043_L1C_051-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2004/10/29/SPOT5-HRG1-XS_20041029-102357-876_L1C_050-258-1_D_V1-0/SPOT5-HRG1-XS_20041029-102357-876_L1C_050-258-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20041029-102357-876_L1C_050-258-1_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041029-102357-876_L1C_050-258-1_D_V1-0.zip
run script
2024-01-14T08:04:01.093    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:04:01.094    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041029-102357-876_L1C_050-258-1_D_V1-0.zip
2024-01-14T08:04:01.094    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:04:01.094    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:04:01.094    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:04:01.094    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:04:01.094    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:04:01.094    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:04:01.094    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:04:01.094    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041029-102357-876_L1C_050-258-1_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/11/24/SPOT5-HRG1-XS_20041124-102350-614_L1C_050-258-2_D_V1-0/SPOT5-HRG1-XS_20041124-102350-614_L1C_050-258-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20041124-102350-614_L1C_050-258-2_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041124-102350-614_L1C_050-258-2_D_V1-0.zip
run script
2024-01-14T08:06:50.341    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:06:50.342    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041124-102350-614_L1C_050-258-2_D_V1-0.zip
2024-01-14T08:06:50.342    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:06:50.342    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:06:50.342    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:06:50.342    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:06:50.342    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:06:50.342    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:06:50.343    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:06:50.343    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041124-102350-614_L1C_050-258-2_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/12/03/SPOT5-HRG1-XS_20041203-105042-587_L1C_050-258-0_D_V1-0/SPOT5-HRG1-XS_20041203-105042-587_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20041203-105042-587_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041203-105042-587_L1C_050-258-0_D_V1-0.zip
run script
2024-01-14T08:09:33.243    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:09:33.244    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041203-105042-587_L1C_050-258-0_D_V1-0.zip
2024-01-14T08:09:33.245    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:09:33.245    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:09:33.245    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:09:33.245    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:09:33.245    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:09:33.245    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:09:33.245    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:09:33.245    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041203-105042-587_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/12/03/SPOT5-HRG1-XS_20041203-105044-392_L1C_050-258-2_D_V1-0/SPOT5-HRG1-XS_20041203-105044-392_L1C_050-258-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20041203-105044-392_L1C_050-258-2_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041203-105044-392_L1C_050-258-2_D_V1-0.zip
run script
2024-01-14T08:12:13.703    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:12:13.704    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041203-105044-392_L1C_050-258-2_D_V1-0.zip
2024-01-14T08:12:13.704    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:12:13.704    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:12:13.704    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:12:13.705    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:12:13.705    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:12:13.705    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:12:13.705    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:12:13.705    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20041203-105044-392_L1C_050-258-2_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/12/14/SPOT5-HRG2-XS_20041214-103907-946_L1C_050-258-1_D_V1-0/SPOT5-HRG2-XS_20041214-103907-946_L1C_050-258-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20041214-103907-946_L1C_050-258-1_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20041214-103907-946_L1C_050-258-1_D_V1-0.zip
run script
2024-01-14T08:14:46.082    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:14:46.083    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20041214-103907-946_L1C_050-258-1_D_V1-0.zip
2024-01-14T08:14:46.083    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:14:46.084    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:14:46.084    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:14:46.084    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:14:46.084    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:14:46.084    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:14:46.084    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:14:46.084    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20041214-103907-946_L1C_050-258-1_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/06/25/SPOT5-HRG2-XS_20040625-104705-244_L1C_050-259-6_D_V1-0/SPOT5-HRG2-XS_20040625-104705-244_L1C_050-259-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040625-104705-244_L1C_050-259-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040625-104705-244_L1C_050-259-6_D_V1-0.zip
run script
2024-01-14T08:17:06.214    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:17:06.215    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040625-104705-244_L1C_050-259-6_D_V1-0.zip
2024-01-14T08:17:06.216    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:17:06.216    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:17:06.216    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:17:06.216    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:17:06.216    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:17:06.216    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:17:06.216    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:17:06.216    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040625-104705-244_L1C_050-259-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/06/25/SPOT5-HRG2-XS_20040625-104708-180_L1C_050-260-0_D_V1-0/SPOT5-HRG2-XS_20040625-104708-180_L1C_050-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040625-104708-180_L1C_050-260-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040625-104708-180_L1C_050-260-0_D_V1-0.zip
run script
2024-01-14T08:18:47.425    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:18:47.426    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040625-104708-180_L1C_050-260-0_D_V1-0.zip
2024-01-14T08:18:47.426    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:18:47.426    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:18:47.426    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:18:47.427    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:18:47.427    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:18:47.427    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:18:47.427    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:18:47.427    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040625-104708-180_L1C_050-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/06/25/SPOT5-HRG2-XS_20040625-104716-530_L1C_050-261-0_D_V1-0/SPOT5-HRG2-XS_20040625-104716-530_L1C_050-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20040625-104716-530_L1C_050-261-0_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040625-104716-530_L1C_050-261-0_D_V1-0.zip
run script
2024-01-14T08:20:14.190    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:20:14.191    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040625-104716-530_L1C_050-261-0_D_V1-0.zip
2024-01-14T08:20:14.191    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:20:14.191    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:20:14.191    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:20:14.192    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:20:14.192    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:20:14.192    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:20:14.192    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:20:14.192    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG2-XS_20040625-104716-530_L1C_050-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/06/25/SPOT5-HRG1-XS_20040625-104730-170_L1C_050-262-6_D_V1-0/SPOT5-HRG1-XS_20040625-104730-170_L1C_050-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040625-104730-170_L1C_050-262-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040625-104730-170_L1C_050-262-6_D_V1-0.zip
run script
2024-01-14T08:21:29.169    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:21:29.170    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040625-104730-170_L1C_050-262-6_D_V1-0.zip
2024-01-14T08:21:29.170    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:21:29.170    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:21:29.170    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:21:29.170    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:21:29.170    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:21:29.170    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:21:29.170    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:21:29.171    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040625-104730-170_L1C_050-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2004/06/25/SPOT5-HRG1-XS_20040625-104647-554_L1C_051-257-6_D_V1-0/SPOT5-HRG1-XS_20040625-104647-554_L1C_051-257-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20040625-104647-554_L1C_051-257-6_D_V1-0.zip
/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040625-104647-554_L1C_051-257-6_D_V1-0.zip
run script
2024-01-14T08:21:56.551    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:21:56.552    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040625-104647-554_L1C_051-257-6_D_V1-0.zip
2024-01-14T08:21:56.552    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T08:21:56.552    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T08:21:56.552    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T08:21:56.552    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T08:21:56.552    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T08:21:56.552    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T08:21:56.552    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T08:21:56.552    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259302/INPUT/SPOT5-HRG1-XS_20040625-104647-554_L1C_051-257-6_D_V1-0.zip', job_dir='/tmp/slurm-4259302/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
end
[2024-01-14 08:25:21.995214397+00:00] cnes_level2/barrouz/4259302:  Account (env) = cnes_level2
[2024-01-14 08:25:21.996471598+00:00] cnes_level2/barrouz/4259302:     User (env) = barrouz
[2024-01-14 08:25:21.997614429+00:00] cnes_level2/barrouz/4259302:        GroupId = cesbio(426000053)
[2024-01-14 08:25:21.998670841+00:00] cnes_level2/barrouz/4259302:         UserId = barrouz(9134)
[2024-01-14 08:25:21.999793233+00:00] cnes_level2/barrouz/4259302:        Account = cnes_level2
[2024-01-14 08:25:22.000907705+00:00] cnes_level2/barrouz/4259302:        Account = cnes_level2
[2024-01-14 08:25:22.002080027+00:00] cnes_level2/barrouz/4259302:      Partition = cpu2022
[2024-01-14 08:25:22.003302618+00:00] cnes_level2/barrouz/4259302:            QOS = cpu_2022_1280
[2024-01-14 08:25:22.004651268+00:00] cnes_level2/barrouz/4259302:        JobName = inf_ALP_40_TCD-CIRRUS-BLUE_AVG-1200
[2024-01-14 08:25:22.005935438+00:00] cnes_level2/barrouz/4259302:     SubmitTime = 2024-01-13T13:42:46
[2024-01-14 08:25:22.007090720+00:00] cnes_level2/barrouz/4259302:        RunTime = 07:29:18
[2024-01-14 08:25:22.008257901+00:00] cnes_level2/barrouz/4259302:      TimeLimit = 1-16:00:00
[2024-01-14 08:25:22.009463712+00:00] cnes_level2/barrouz/4259302:   EligibleTime = 2024-01-13T13:42:46
[2024-01-14 08:25:22.010630214+00:00] cnes_level2/barrouz/4259302:      StartTime = 2024-01-14T00:56:03
[2024-01-14 08:25:22.011786515+00:00] cnes_level2/barrouz/4259302:        EndTime = 2024-01-14T08:25:21
[2024-01-14 08:25:22.012973657+00:00] cnes_level2/barrouz/4259302:       ExitCode = 0:0
[2024-01-14 08:25:22.014165788+00:00] cnes_level2/barrouz/4259302:       NodeList = trex032
[2024-01-14 08:25:22.015271180+00:00] cnes_level2/barrouz/4259302:      BatchHost = trex032
[2024-01-14 08:25:22.016481751+00:00] cnes_level2/barrouz/4259302:           TRES = 
[2024-01-14 08:25:22.017679892+00:00] cnes_level2/barrouz/4259302:        Command = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh_job.sh
[2024-01-14 08:25:22.018890183+00:00] cnes_level2/barrouz/4259302:        WorkDir = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code
[2024-01-14 08:25:22.020009455+00:00] cnes_level2/barrouz/4259302:         StdErr = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_ALP_40_TCD-CIRRUS-BLUE_AVG-1200.log
[2024-01-14 08:25:22.021124557+00:00] cnes_level2/barrouz/4259302:         StdOut = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_ALP_40_TCD-CIRRUS-BLUE_AVG-1200.log

#########################################
#        EVIDEN - CNES                  #
#        Job Accounting                 #
#########################################
Cluster              : trex
JobIDRaw             : 4259302
JobID                : 4259302
JobName              : inf_ALP_40_TCD-CIRRUS-BLUE_AVG-1200
Account              : cnes_level2
User                 : barrouz(9134), cesbio(426000053)
Partition            : cpu2022
QOS                  : cpu_2022_1280
Nodelist             : trex032 (1)
State                : COMPLETED  (Exitcode=0:0, DerivedExitCode=0:0, Restarts=0)
Submit date          : 2024-01-13T13:42:46
Start time           : 2024-01-14T00:56:03
End time             : 2024-01-14T08:25:21
Elapsed time         : 07:29:18  (Timelimit=1-16:00:00, Suspended=00:00:00)
TEI                  : 2 days, 11:54:24
Command              : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh_job.sh
StdOut               : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_ALP_40_TCD-CIRRUS-BLUE_AVG-1200.log
StdErr               : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_ALP_40_TCD-CIRRUS-BLUE_AVG-1200.log

STEP(s) : 2
--------- 
   StepID  | JobName      State       Exit   Start               End                 Elapsed   TotalCPU   CPUTime    ConsumedEnergy MaxDiskRead MaxDiskWrite     MaxRSS MaxRSSTask MaxRSSNode NNodes UserCPU    NodeList
   ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 
   batch   | batch        COMPLETED   0:0    2024-01-14T00:56:03 2024-01-14T08:25:21 07:29:18  1-09:08:31 2-11:54:24       0.21375M  230481.88M    97632.00M 105392952K          0    trex032      1 22:34:28   trex032
   extern  | extern       COMPLETED   0:0    2024-01-14T00:56:03 2024-01-14T08:25:21 07:29:18  00:00.001  2-11:54:24       0.21375M       0.00M        0.00M      1692K          0    trex032      1 00:00:00   trex032

