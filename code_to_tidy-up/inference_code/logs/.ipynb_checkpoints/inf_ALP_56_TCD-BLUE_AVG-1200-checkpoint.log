unload conda/22.11.1  : OK 
load conda/22.11.1  : OK 
envs_dirs : /work/scratch/env/barrouz/conda_env/
pkgs_dirs : /work/scratch/env/barrouz/pkgs_conda
INPUT_PATH /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/ALP/56.txt
OUTPUT_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
DEM_PATH /work/CAMPUS/etudes/Neige/DEM
TCD_PATH /work/datalake/static_aux/TreeCoverDensity
MODELS_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
KEEP_REFL 0
MASK 1
start
/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/ALP/56.txt
muscate/SPOTWORLDHERITAGE/2005/01/17/SPOT2-HRV2-XS_20050117-103438-610_L1C_049-259-0_D_V1-0/SPOT2-HRV2-XS_20050117-103438-610_L1C_049-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050117-103438-610_L1C_049-259-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050117-103438-610_L1C_049-259-0_D_V1-0.zip
run script
2024-01-09T22:44:48.753    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T22:44:48.754    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050117-103438-610_L1C_049-259-0_D_V1-0.zip
2024-01-09T22:44:48.754    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T22:44:48.754    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T22:44:48.755    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T22:44:48.755    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T22:44:48.755    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T22:44:48.755    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T22:44:48.755    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T22:44:48.755    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050117-103438-610_L1C_049-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/01/17/SPOT2-HRV2-XS_20050117-103446-904_L1C_049-260-0_D_V1-0/SPOT2-HRV2-XS_20050117-103446-904_L1C_049-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050117-103446-904_L1C_049-260-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050117-103446-904_L1C_049-260-0_D_V1-0.zip
run script
2024-01-09T22:45:28.056    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T22:45:28.057    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050117-103446-904_L1C_049-260-0_D_V1-0.zip
2024-01-09T22:45:28.058    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T22:45:28.058    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T22:45:28.058    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T22:45:28.058    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T22:45:28.058    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T22:45:28.058    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T22:45:28.058    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T22:45:28.058    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050117-103446-904_L1C_049-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/01/17/SPOT2-HRV2-XS_20050117-103449-611_L1C_049-260-3_D_V1-0/SPOT2-HRV2-XS_20050117-103449-611_L1C_049-260-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050117-103449-611_L1C_049-260-3_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050117-103449-611_L1C_049-260-3_D_V1-0.zip
run script
2024-01-09T22:45:45.366    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T22:45:45.367    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050117-103449-611_L1C_049-260-3_D_V1-0.zip
2024-01-09T22:45:45.367    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T22:45:45.367    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T22:45:45.367    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T22:45:45.367    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T22:45:45.367    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T22:45:45.367    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T22:45:45.367    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T22:45:45.368    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050117-103449-611_L1C_049-260-3_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/01/17/SPOT2-HRV1-XS_20050117-103428-633_L1C_050-257-9_D_V1-0/SPOT2-HRV1-XS_20050117-103428-633_L1C_050-257-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050117-103428-633_L1C_050-257-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050117-103428-633_L1C_050-257-9_D_V1-0.zip
run script
2024-01-09T22:45:57.129    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T22:45:57.130    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050117-103428-633_L1C_050-257-9_D_V1-0.zip
2024-01-09T22:45:57.131    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T22:45:57.131    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T22:45:57.131    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T22:45:57.131    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T22:45:57.131    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T22:45:57.131    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T22:45:57.131    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T22:45:57.131    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-09T22:47:39.892    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1 x 216). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050117-103428-633_L1C_050-257-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2005/01/17/SPOT2-HRV1-XS_20050117-103428-801_L1C_050-258-0_D_V1-0/SPOT2-HRV1-XS_20050117-103428-801_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050117-103428-801_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050117-103428-801_L1C_050-258-0_D_V1-0.zip
run script
2024-01-09T22:47:43.296    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T22:47:43.297    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050117-103428-801_L1C_050-258-0_D_V1-0.zip
2024-01-09T22:47:43.298    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T22:47:43.298    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T22:47:43.298    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T22:47:43.298    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T22:47:43.298    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T22:47:43.298    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T22:47:43.298    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T22:47:43.298    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-09T22:49:30.732    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 438). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050117-103428-801_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2005/01/17/SPOT2-HRV1-XS_20050117-103437-100_L1C_050-259-0_D_V1-0/SPOT2-HRV1-XS_20050117-103437-100_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050117-103437-100_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050117-103437-100_L1C_050-259-0_D_V1-0.zip
run script
2024-01-09T22:49:34.035    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T22:49:34.036    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050117-103437-100_L1C_050-259-0_D_V1-0.zip
2024-01-09T22:49:34.036    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T22:49:34.036    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T22:49:34.036    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T22:49:34.037    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T22:49:34.037    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T22:49:34.037    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T22:49:34.037    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T22:49:34.037    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-09T22:51:35.709    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (810 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050117-103437-100_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2005/01/17/SPOT2-HRV1-XS_20050117-103445-406_L1C_050-260-0_D_V1-0/SPOT2-HRV1-XS_20050117-103445-406_L1C_050-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050117-103445-406_L1C_050-260-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050117-103445-406_L1C_050-260-0_D_V1-0.zip
run script
2024-01-09T22:51:39.164    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T22:51:39.165    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050117-103445-406_L1C_050-260-0_D_V1-0.zip
2024-01-09T22:51:39.165    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T22:51:39.165    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T22:51:39.165    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T22:51:39.165    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T22:51:39.165    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T22:51:39.166    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T22:51:39.166    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T22:51:39.166    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050117-103445-406_L1C_050-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/01/17/SPOT2-HRV1-XS_20050117-103449-918_L1C_050-260-5_D_V1-0/SPOT2-HRV1-XS_20050117-103449-918_L1C_050-260-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050117-103449-918_L1C_050-260-5_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050117-103449-918_L1C_050-260-5_D_V1-0.zip
run script
2024-01-09T22:53:10.507    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T22:53:10.508    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050117-103449-918_L1C_050-260-5_D_V1-0.zip
2024-01-09T22:53:10.509    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T22:53:10.509    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T22:53:10.509    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T22:53:10.509    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T22:53:10.509    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T22:53:10.509    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T22:53:10.509    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T22:53:10.509    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050117-103449-918_L1C_050-260-5_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 1 1 ... 2 2 2]
 [0 1 1 ... 2 2 2]
 [0 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/02/18/SPOT2-HRV1-XS_20050218-101818-751_L1C_049-257-0_D_V1-0/SPOT2-HRV1-XS_20050218-101818-751_L1C_049-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050218-101818-751_L1C_049-257-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050218-101818-751_L1C_049-257-0_D_V1-0.zip
run script
2024-01-09T22:54:38.472    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T22:54:38.473    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050218-101818-751_L1C_049-257-0_D_V1-0.zip
2024-01-09T22:54:38.473    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T22:54:38.474    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T22:54:38.474    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T22:54:38.474    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T22:54:38.474    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T22:54:38.474    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T22:54:38.474    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T22:54:38.474    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050218-101818-751_L1C_049-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/02/18/SPOT2-HRV1-XS_20050218-101835-202_L1C_049-259-0_D_V1-0/SPOT2-HRV1-XS_20050218-101835-202_L1C_049-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050218-101835-202_L1C_049-259-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050218-101835-202_L1C_049-259-0_D_V1-0.zip
run script
2024-01-09T22:56:17.009    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T22:56:17.011    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050218-101835-202_L1C_049-259-0_D_V1-0.zip
2024-01-09T22:56:17.011    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T22:56:17.011    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T22:56:17.011    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T22:56:17.011    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T22:56:17.011    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T22:56:17.011    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T22:56:17.011    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T22:56:17.011    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050218-101835-202_L1C_049-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/02/18/SPOT2-HRV1-XS_20050218-101843-441_L1C_049-260-0_D_V1-0/SPOT2-HRV1-XS_20050218-101843-441_L1C_049-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050218-101843-441_L1C_049-260-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050218-101843-441_L1C_049-260-0_D_V1-0.zip
run script
2024-01-09T22:57:25.226    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T22:57:25.227    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050218-101843-441_L1C_049-260-0_D_V1-0.zip
2024-01-09T22:57:25.227    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T22:57:25.227    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T22:57:25.227    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T22:57:25.227    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T22:57:25.227    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T22:57:25.227    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T22:57:25.227    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T22:57:25.227    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050218-101843-441_L1C_049-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/02/18/SPOT2-HRV1-XS_20050218-101851-692_L1C_049-261-0_D_V1-0/SPOT2-HRV1-XS_20050218-101851-692_L1C_049-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050218-101851-692_L1C_049-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050218-101851-692_L1C_049-261-0_D_V1-0.zip
run script
2024-01-09T22:58:12.768    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T22:58:12.769    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050218-101851-692_L1C_049-261-0_D_V1-0.zip
2024-01-09T22:58:12.769    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T22:58:12.769    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T22:58:12.769    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T22:58:12.770    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T22:58:12.770    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T22:58:12.770    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T22:58:12.770    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T22:58:12.770    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050218-101851-692_L1C_049-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/02/18/SPOT2-HRV1-XS_20050218-101859-949_L1C_049-262-0_D_V1-0/SPOT2-HRV1-XS_20050218-101859-949_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050218-101859-949_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050218-101859-949_L1C_049-262-0_D_V1-0.zip
run script
2024-01-09T22:58:49.359    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T22:58:49.360    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050218-101859-949_L1C_049-262-0_D_V1-0.zip
2024-01-09T22:58:49.360    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T22:58:49.361    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T22:58:49.361    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T22:58:49.361    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T22:58:49.361    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T22:58:49.361    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T22:58:49.361    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T22:58:49.361    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050218-101859-949_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/01/01/SPOT2-HRV1-XS_20050101-104239-304_L1C_049-258-9_D_V1-0/SPOT2-HRV1-XS_20050101-104239-304_L1C_049-258-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050101-104239-304_L1C_049-258-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050101-104239-304_L1C_049-258-9_D_V1-0.zip
run script
2024-01-09T22:59:07.253    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T22:59:07.254    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050101-104239-304_L1C_049-258-9_D_V1-0.zip
2024-01-09T22:59:07.254    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T22:59:07.254    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T22:59:07.254    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T22:59:07.254    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T22:59:07.254    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T22:59:07.254    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T22:59:07.254    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T22:59:07.254    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050101-104239-304_L1C_049-258-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/01/01/SPOT2-HRV1-XS_20050101-104239-512_L1C_049-259-0_D_V1-0/SPOT2-HRV1-XS_20050101-104239-512_L1C_049-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050101-104239-512_L1C_049-259-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050101-104239-512_L1C_049-259-0_D_V1-0.zip
run script
2024-01-09T22:59:40.093    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T22:59:40.094    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050101-104239-512_L1C_049-259-0_D_V1-0.zip
2024-01-09T22:59:40.094    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T22:59:40.094    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T22:59:40.094    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T22:59:40.094    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T22:59:40.094    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T22:59:40.094    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T22:59:40.094    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T22:59:40.095    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050101-104239-512_L1C_049-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/01/01/SPOT2-HRV1-XS_20050101-104247-844_L1C_049-260-0_D_V1-0/SPOT2-HRV1-XS_20050101-104247-844_L1C_049-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050101-104247-844_L1C_049-260-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050101-104247-844_L1C_049-260-0_D_V1-0.zip
run script
2024-01-09T23:00:13.283    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:00:13.284    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050101-104247-844_L1C_049-260-0_D_V1-0.zip
2024-01-09T23:00:13.284    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:00:13.285    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:00:13.285    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:00:13.285    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:00:13.285    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:00:13.285    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:00:13.285    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:00:13.285    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-09T23:00:16.935    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (221 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050101-104247-844_L1C_049-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2005/01/01/SPOT2-HRV1-XS_20050101-104256-185_L1C_049-261-0_D_V1-0/SPOT2-HRV1-XS_20050101-104256-185_L1C_049-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050101-104256-185_L1C_049-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050101-104256-185_L1C_049-261-0_D_V1-0.zip
run script
2024-01-09T23:00:20.227    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:00:20.228    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050101-104256-185_L1C_049-261-0_D_V1-0.zip
2024-01-09T23:00:20.228    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:00:20.228    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:00:20.228    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:00:20.228    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:00:20.228    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:00:20.228    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:00:20.228    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:00:20.228    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050101-104256-185_L1C_049-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2005/01/01/SPOT2-HRV1-XS_20050101-104304-533_L1C_049-262-0_D_V1-0/SPOT2-HRV1-XS_20050101-104304-533_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050101-104304-533_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050101-104304-533_L1C_049-262-0_D_V1-0.zip
run script
2024-01-09T23:00:23.405    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:00:23.407    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050101-104304-533_L1C_049-262-0_D_V1-0.zip
2024-01-09T23:00:23.407    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:00:23.407    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:00:23.407    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:00:23.407    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:00:23.407    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:00:23.407    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:00:23.407    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:00:23.407    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050101-104304-533_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2005/01/07/SPOT2-HRV1-XS_20050107-102705-745_L1C_049-258-9_D_V1-0/SPOT2-HRV1-XS_20050107-102705-745_L1C_049-258-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050107-102705-745_L1C_049-258-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050107-102705-745_L1C_049-258-9_D_V1-0.zip
run script
2024-01-09T23:00:27.403    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:00:27.404    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050107-102705-745_L1C_049-258-9_D_V1-0.zip
2024-01-09T23:00:27.404    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:00:27.404    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:00:27.404    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:00:27.404    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:00:27.404    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:00:27.404    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:00:27.404    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:00:27.404    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050107-102705-745_L1C_049-258-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/01/07/SPOT2-HRV1-XS_20050107-102705-874_L1C_049-259-0_D_V1-0/SPOT2-HRV1-XS_20050107-102705-874_L1C_049-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050107-102705-874_L1C_049-259-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050107-102705-874_L1C_049-259-0_D_V1-0.zip
run script
2024-01-09T23:01:08.707    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:01:08.709    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050107-102705-874_L1C_049-259-0_D_V1-0.zip
2024-01-09T23:01:08.709    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:01:08.709    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:01:08.709    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:01:08.709    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:01:08.709    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:01:08.709    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:01:08.709    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:01:08.709    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050107-102705-874_L1C_049-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/01/07/SPOT2-HRV1-XS_20050107-102714-137_L1C_049-260-0_D_V1-0/SPOT2-HRV1-XS_20050107-102714-137_L1C_049-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050107-102714-137_L1C_049-260-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050107-102714-137_L1C_049-260-0_D_V1-0.zip
run script
2024-01-09T23:01:48.852    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:01:48.854    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050107-102714-137_L1C_049-260-0_D_V1-0.zip
2024-01-09T23:01:48.854    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:01:48.854    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:01:48.854    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:01:48.854    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:01:48.854    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:01:48.854    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:01:48.854    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:01:48.854    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050107-102714-137_L1C_049-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/01/07/SPOT2-HRV1-XS_20050107-102715-942_L1C_049-260-2_D_V1-0/SPOT2-HRV1-XS_20050107-102715-942_L1C_049-260-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050107-102715-942_L1C_049-260-2_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050107-102715-942_L1C_049-260-2_D_V1-0.zip
run script
2024-01-09T23:02:08.251    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:02:08.252    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050107-102715-942_L1C_049-260-2_D_V1-0.zip
2024-01-09T23:02:08.252    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:02:08.252    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:02:08.252    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:02:08.252    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:02:08.252    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:02:08.252    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:02:08.252    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:02:08.253    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-09T23:02:10.829    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 34). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050107-102715-942_L1C_049-260-2_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2005/01/07/SPOT2-HRV2-XS_20050107-102631-679_L1C_050-255-0_D_V1-0/SPOT2-HRV2-XS_20050107-102631-679_L1C_050-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050107-102631-679_L1C_050-255-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050107-102631-679_L1C_050-255-0_D_V1-0.zip
run script
2024-01-09T23:02:14.103    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:02:14.103    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050107-102631-679_L1C_050-255-0_D_V1-0.zip
2024-01-09T23:02:14.103    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:02:14.103    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:02:14.103    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:02:14.103    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:02:14.103    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:02:14.103    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:02:14.103    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:02:14.103    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050107-102631-679_L1C_050-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/01/07/SPOT2-HRV2-XS_20050107-102639-912_L1C_050-256-0_D_V1-0/SPOT2-HRV2-XS_20050107-102639-912_L1C_050-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050107-102639-912_L1C_050-256-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050107-102639-912_L1C_050-256-0_D_V1-0.zip
run script
2024-01-09T23:03:13.351    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:03:13.352    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050107-102639-912_L1C_050-256-0_D_V1-0.zip
2024-01-09T23:03:13.352    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:03:13.352    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:03:13.352    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:03:13.352    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:03:13.352    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:03:13.353    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:03:13.353    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:03:13.353    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050107-102639-912_L1C_050-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/01/07/SPOT2-HRV2-XS_20050107-102644-424_L1C_050-256-5_D_V1-0/SPOT2-HRV2-XS_20050107-102644-424_L1C_050-256-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050107-102644-424_L1C_050-256-5_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050107-102644-424_L1C_050-256-5_D_V1-0.zip
run script
2024-01-09T23:05:57.438    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:05:57.440    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050107-102644-424_L1C_050-256-5_D_V1-0.zip
2024-01-09T23:05:57.440    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:05:57.440    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:05:57.440    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:05:57.440    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:05:57.440    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:05:57.440    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:05:57.440    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:05:57.440    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-09T23:07:50.621    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 170). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050107-102644-424_L1C_050-256-5_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2005/01/27/SPOT2-HRV2-XS_20050127-104209-262_L1C_049-258-9_D_V1-0/SPOT2-HRV2-XS_20050127-104209-262_L1C_049-258-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050127-104209-262_L1C_049-258-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050127-104209-262_L1C_049-258-9_D_V1-0.zip
run script
2024-01-09T23:07:53.998    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:07:54.000    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050127-104209-262_L1C_049-258-9_D_V1-0.zip
2024-01-09T23:07:54.000    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:07:54.000    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:07:54.000    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:07:54.000    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:07:54.000    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:07:54.000    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:07:54.000    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:07:54.000    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050127-104209-262_L1C_049-258-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/01/27/SPOT2-HRV2-XS_20050127-104217-802_L1C_049-260-0_D_V1-0/SPOT2-HRV2-XS_20050127-104217-802_L1C_049-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050127-104217-802_L1C_049-260-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050127-104217-802_L1C_049-260-0_D_V1-0.zip
run script
2024-01-09T23:08:36.385    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:08:36.388    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050127-104217-802_L1C_049-260-0_D_V1-0.zip
2024-01-09T23:08:36.388    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:08:36.388    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:08:36.397    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:08:36.397    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:08:36.398    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:08:36.398    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:08:36.398    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:08:36.398    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050127-104217-802_L1C_049-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/01/27/SPOT2-HRV2-XS_20050127-104227-048_L1C_049-261-1_D_V1-0/SPOT2-HRV2-XS_20050127-104227-048_L1C_049-261-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050127-104227-048_L1C_049-261-1_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050127-104227-048_L1C_049-261-1_D_V1-0.zip
run script
2024-01-09T23:08:51.408    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:08:51.409    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050127-104227-048_L1C_049-261-1_D_V1-0.zip
2024-01-09T23:08:51.409    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:08:51.409    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:08:51.409    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:08:51.410    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:08:51.410    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:08:51.410    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:08:51.410    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:08:51.410    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050127-104227-048_L1C_049-261-1_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2005/04/11/SPOT2-HRV1-XS_20050411-101922-684_L1C_049-258-5_D_V1-0/SPOT2-HRV1-XS_20050411-101922-684_L1C_049-258-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050411-101922-684_L1C_049-258-5_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050411-101922-684_L1C_049-258-5_D_V1-0.zip
run script
2024-01-09T23:08:54.506    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:08:54.507    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050411-101922-684_L1C_049-258-5_D_V1-0.zip
2024-01-09T23:08:54.507    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:08:54.507    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:08:54.507    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:08:54.507    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:08:54.507    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:08:54.507    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:08:54.507    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:08:54.507    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050411-101922-684_L1C_049-258-5_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/11/SPOT2-HRV1-XS_20050411-101926-405_L1C_049-259-0_D_V1-0/SPOT2-HRV1-XS_20050411-101926-405_L1C_049-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050411-101926-405_L1C_049-259-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050411-101926-405_L1C_049-259-0_D_V1-0.zip
run script
2024-01-09T23:09:51.982    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:09:51.983    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050411-101926-405_L1C_049-259-0_D_V1-0.zip
2024-01-09T23:09:51.984    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:09:51.984    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:09:51.984    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:09:51.984    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:09:51.984    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:09:51.984    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:09:51.984    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:09:51.984    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050411-101926-405_L1C_049-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/11/SPOT2-HRV1-XS_20050411-101928-210_L1C_049-259-2_D_V1-0/SPOT2-HRV1-XS_20050411-101928-210_L1C_049-259-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050411-101928-210_L1C_049-259-2_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050411-101928-210_L1C_049-259-2_D_V1-0.zip
run script
2024-01-09T23:10:42.492    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:10:42.494    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050411-101928-210_L1C_049-259-2_D_V1-0.zip
2024-01-09T23:10:42.494    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:10:42.494    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:10:42.494    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:10:42.494    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:10:42.494    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:10:42.494    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:10:42.494    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:10:42.494    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050411-101928-210_L1C_049-259-2_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/11/SPOT2-HRV1-XS_20050411-101943-797_L1C_049-261-1_D_V1-0/SPOT2-HRV1-XS_20050411-101943-797_L1C_049-261-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050411-101943-797_L1C_049-261-1_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050411-101943-797_L1C_049-261-1_D_V1-0.zip
run script
2024-01-09T23:11:30.539    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:11:30.540    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050411-101943-797_L1C_049-261-1_D_V1-0.zip
2024-01-09T23:11:30.541    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:11:30.541    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:11:30.541    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:11:30.541    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:11:30.541    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:11:30.541    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:11:30.541    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:11:30.541    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050411-101943-797_L1C_049-261-1_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/11/SPOT2-HRV1-XS_20050411-101951-155_L1C_049-262-0_D_V1-0/SPOT2-HRV1-XS_20050411-101951-155_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050411-101951-155_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050411-101951-155_L1C_049-262-0_D_V1-0.zip
run script
2024-01-09T23:11:49.431    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:11:49.433    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050411-101951-155_L1C_049-262-0_D_V1-0.zip
2024-01-09T23:11:49.433    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:11:49.433    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:11:49.433    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:11:49.433    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:11:49.433    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:11:49.433    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:11:49.433    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:11:49.433    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050411-101951-155_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2005/04/11/SPOT2-HRV2-XS_20050411-101944-483_L1C_051-261-4_D_V1-0/SPOT2-HRV2-XS_20050411-101944-483_L1C_051-261-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050411-101944-483_L1C_051-261-4_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050411-101944-483_L1C_051-261-4_D_V1-0.zip
run script
2024-01-09T23:11:52.765    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:11:52.767    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050411-101944-483_L1C_051-261-4_D_V1-0.zip
2024-01-09T23:11:52.767    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:11:52.767    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:11:52.767    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:11:52.767    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:11:52.767    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:11:52.767    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:11:52.767    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:11:52.767    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050411-101944-483_L1C_051-261-4_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 1 2 2]
 [0 0 0 ... 1 1 1]
 [0 0 1 ... 1 1 1]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/11/SPOT2-HRV2-XS_20050411-101949-142_L1C_051-262-0_D_V1-0/SPOT2-HRV2-XS_20050411-101949-142_L1C_051-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050411-101949-142_L1C_051-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050411-101949-142_L1C_051-262-0_D_V1-0.zip
run script
2024-01-09T23:14:19.054    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:14:19.055    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050411-101949-142_L1C_051-262-0_D_V1-0.zip
2024-01-09T23:14:19.055    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:14:19.055    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:14:19.055    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:14:19.055    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:14:19.055    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:14:19.055    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:14:19.056    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:14:19.056    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050411-101949-142_L1C_051-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/11/SPOT2-HRV2-XS_20050411-101957-420_L1C_051-263-0_D_V1-0/SPOT2-HRV2-XS_20050411-101957-420_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050411-101957-420_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050411-101957-420_L1C_051-263-0_D_V1-0.zip
run script
2024-01-09T23:16:19.219    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:16:19.220    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050411-101957-420_L1C_051-263-0_D_V1-0.zip
2024-01-09T23:16:19.220    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:16:19.220    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:16:19.220    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:16:19.220    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:16:19.220    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:16:19.220    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:16:19.220    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:16:19.220    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050411-101957-420_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/22/SPOT2-HRV1-XS_20050522-103151-736_L1C_049-259-3_D_V1-0/SPOT2-HRV1-XS_20050522-103151-736_L1C_049-259-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050522-103151-736_L1C_049-259-3_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050522-103151-736_L1C_049-259-3_D_V1-0.zip
run script
2024-01-09T23:17:06.846    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:17:06.847    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050522-103151-736_L1C_049-259-3_D_V1-0.zip
2024-01-09T23:17:06.847    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:17:06.847    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:17:06.847    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:17:06.847    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:17:06.847    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:17:06.847    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:17:06.847    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:17:06.848    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050522-103151-736_L1C_049-259-3_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/22/SPOT2-HRV1-XS_20050522-103157-301_L1C_049-260-0_D_V1-0/SPOT2-HRV1-XS_20050522-103157-301_L1C_049-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050522-103157-301_L1C_049-260-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050522-103157-301_L1C_049-260-0_D_V1-0.zip
run script
2024-01-09T23:17:21.235    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:17:21.236    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050522-103157-301_L1C_049-260-0_D_V1-0.zip
2024-01-09T23:17:21.236    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:17:21.236    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:17:21.236    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:17:21.236    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:17:21.236    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:17:21.236    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:17:21.236    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:17:21.236    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050522-103157-301_L1C_049-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2005/05/22/SPOT2-HRV1-XS_20050522-103205-585_L1C_049-261-0_D_V1-0/SPOT2-HRV1-XS_20050522-103205-585_L1C_049-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050522-103205-585_L1C_049-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050522-103205-585_L1C_049-261-0_D_V1-0.zip
run script
2024-01-09T23:17:24.432    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:17:24.433    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050522-103205-585_L1C_049-261-0_D_V1-0.zip
2024-01-09T23:17:24.434    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:17:24.434    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:17:24.434    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:17:24.434    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:17:24.434    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:17:24.434    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:17:24.434    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:17:24.434    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050522-103205-585_L1C_049-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2005/05/22/SPOT2-HRV1-XS_20050522-103213-875_L1C_049-262-0_D_V1-0/SPOT2-HRV1-XS_20050522-103213-875_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050522-103213-875_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050522-103213-875_L1C_049-262-0_D_V1-0.zip
run script
2024-01-09T23:17:27.511    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:17:27.513    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050522-103213-875_L1C_049-262-0_D_V1-0.zip
2024-01-09T23:17:27.513    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:17:27.513    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:17:27.513    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:17:27.513    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:17:27.513    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:17:27.513    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:17:27.513    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:17:27.513    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050522-103213-875_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2005/01/02/SPOT2-HRV1-XS_20050102-102327-300_L1C_049-260-0_D_V1-0/SPOT2-HRV1-XS_20050102-102327-300_L1C_049-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050102-102327-300_L1C_049-260-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050102-102327-300_L1C_049-260-0_D_V1-0.zip
run script
2024-01-09T23:17:30.746    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:17:30.747    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050102-102327-300_L1C_049-260-0_D_V1-0.zip
2024-01-09T23:17:30.747    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:17:30.747    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:17:30.747    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:17:30.748    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:17:30.748    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:17:30.748    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:17:30.748    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:17:30.748    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050102-102327-300_L1C_049-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/01/02/SPOT2-HRV1-XS_20050102-102335-556_L1C_049-261-0_D_V1-0/SPOT2-HRV1-XS_20050102-102335-556_L1C_049-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050102-102335-556_L1C_049-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050102-102335-556_L1C_049-261-0_D_V1-0.zip
run script
2024-01-09T23:17:45.293    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:17:45.294    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050102-102335-556_L1C_049-261-0_D_V1-0.zip
2024-01-09T23:17:45.294    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:17:45.294    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:17:45.294    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:17:45.294    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:17:45.294    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:17:45.294    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:17:45.294    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:17:45.294    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050102-102335-556_L1C_049-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2005/01/02/SPOT2-HRV1-XS_20050102-102343-819_L1C_049-262-0_D_V1-0/SPOT2-HRV1-XS_20050102-102343-819_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050102-102343-819_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050102-102343-819_L1C_049-262-0_D_V1-0.zip
run script
2024-01-09T23:17:48.486    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:17:48.487    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050102-102343-819_L1C_049-262-0_D_V1-0.zip
2024-01-09T23:17:48.487    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:17:48.487    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:17:48.487    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:17:48.487    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:17:48.487    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:17:48.487    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:17:48.487    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:17:48.487    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050102-102343-819_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2005/01/06/SPOT2-HRV1-XS_20050106-104634-071_L1C_049-260-0_D_V1-0/SPOT2-HRV1-XS_20050106-104634-071_L1C_049-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050106-104634-071_L1C_049-260-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050106-104634-071_L1C_049-260-0_D_V1-0.zip
run script
2024-01-09T23:17:51.832    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:17:51.832    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050106-104634-071_L1C_049-260-0_D_V1-0.zip
2024-01-09T23:17:51.832    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:17:51.833    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:17:51.833    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:17:51.833    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:17:51.833    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:17:51.833    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:17:51.833    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:17:51.833    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050106-104634-071_L1C_049-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/01/06/SPOT2-HRV1-XS_20050106-104640-388_L1C_049-260-7_D_V1-0/SPOT2-HRV1-XS_20050106-104640-388_L1C_049-260-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050106-104640-388_L1C_049-260-7_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050106-104640-388_L1C_049-260-7_D_V1-0.zip
run script
2024-01-09T23:18:10.272    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:18:10.275    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050106-104640-388_L1C_049-260-7_D_V1-0.zip
2024-01-09T23:18:10.276    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:18:10.276    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:18:10.276    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:18:10.276    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:18:10.276    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:18:10.276    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:18:10.276    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:18:10.276    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050106-104640-388_L1C_049-260-7_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2005/01/21/SPOT2-HRV2-XS_20050121-105751-115_L1C_049-260-0_D_V1-0/SPOT2-HRV2-XS_20050121-105751-115_L1C_049-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050121-105751-115_L1C_049-260-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050121-105751-115_L1C_049-260-0_D_V1-0.zip
run script
2024-01-09T23:18:14.225    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:18:14.227    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050121-105751-115_L1C_049-260-0_D_V1-0.zip
2024-01-09T23:18:14.227    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:18:14.227    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:18:14.227    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:18:14.227    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:18:14.227    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:18:14.227    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:18:14.227    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:18:14.227    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050121-105751-115_L1C_049-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/01/21/SPOT2-HRV2-XS_20050121-105758-335_L1C_049-260-8_D_V1-0/SPOT2-HRV2-XS_20050121-105758-335_L1C_049-260-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050121-105758-335_L1C_049-260-8_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050121-105758-335_L1C_049-260-8_D_V1-0.zip
run script
2024-01-09T23:18:33.291    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:18:33.293    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050121-105758-335_L1C_049-260-8_D_V1-0.zip
2024-01-09T23:18:33.293    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:18:33.293    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:18:33.293    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:18:33.293    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:18:33.293    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:18:33.293    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:18:33.293    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:18:33.293    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050121-105758-335_L1C_049-260-8_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2005/10/09/SPOT2-HRV2-XS_20051009-104219-424_L1C_049-261-5_D_V1-0/SPOT2-HRV2-XS_20051009-104219-424_L1C_049-261-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20051009-104219-424_L1C_049-261-5_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051009-104219-424_L1C_049-261-5_D_V1-0.zip
run script
2024-01-09T23:18:36.347    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:18:36.347    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051009-104219-424_L1C_049-261-5_D_V1-0.zip
2024-01-09T23:18:36.347    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:18:36.347    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:18:36.347    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:18:36.347    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:18:36.347    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:18:36.347    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:18:36.348    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:18:36.348    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051009-104219-424_L1C_049-261-5_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2005/10/09/SPOT2-HRV2-XS_20051009-104223-239_L1C_049-262-0_D_V1-0/SPOT2-HRV2-XS_20051009-104223-239_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20051009-104223-239_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051009-104223-239_L1C_049-262-0_D_V1-0.zip
run script
2024-01-09T23:18:39.290    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:18:39.291    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051009-104223-239_L1C_049-262-0_D_V1-0.zip
2024-01-09T23:18:39.291    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:18:39.291    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:18:39.291    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:18:39.292    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:18:39.292    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:18:39.292    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:18:39.292    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:18:39.292    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051009-104223-239_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2005/10/09/SPOT2-HRV1-XS_20051009-104138-239_L1C_051-257-0_D_V1-0/SPOT2-HRV1-XS_20051009-104138-239_L1C_051-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20051009-104138-239_L1C_051-257-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20051009-104138-239_L1C_051-257-0_D_V1-0.zip
run script
2024-01-09T23:18:42.409    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:18:42.409    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20051009-104138-239_L1C_051-257-0_D_V1-0.zip
2024-01-09T23:18:42.409    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:18:42.409    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:18:42.409    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:18:42.409    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:18:42.409    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:18:42.409    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:18:42.409    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:18:42.409    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20051009-104138-239_L1C_051-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 0 0 0]
 [1 2 2 ... 1 1 0]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/10/09/SPOT2-HRV2-XS_20051009-104138-374_L1C_051-257-0_D_V1-0/SPOT2-HRV2-XS_20051009-104138-374_L1C_051-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20051009-104138-374_L1C_051-257-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051009-104138-374_L1C_051-257-0_D_V1-0.zip
run script
2024-01-09T23:22:00.081    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:22:00.083    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051009-104138-374_L1C_051-257-0_D_V1-0.zip
2024-01-09T23:22:00.083    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:22:00.083    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:22:00.083    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:22:00.083    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:22:00.083    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:22:00.083    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:22:00.083    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:22:00.083    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051009-104138-374_L1C_051-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 0 0 0]
 [1 1 1 ... 0 0 0]
 [1 1 1 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/10/09/SPOT2-HRV1-XS_20051009-104146-568_L1C_051-258-0_D_V1-0/SPOT2-HRV1-XS_20051009-104146-568_L1C_051-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20051009-104146-568_L1C_051-258-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20051009-104146-568_L1C_051-258-0_D_V1-0.zip
run script
2024-01-09T23:25:27.166    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:25:27.168    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20051009-104146-568_L1C_051-258-0_D_V1-0.zip
2024-01-09T23:25:27.169    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:25:27.169    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:25:27.169    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:25:27.169    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:25:27.169    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:25:27.169    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:25:27.169    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:25:27.169    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20051009-104146-568_L1C_051-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/10/09/SPOT2-HRV2-XS_20051009-104146-703_L1C_051-258-0_D_V1-0/SPOT2-HRV2-XS_20051009-104146-703_L1C_051-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20051009-104146-703_L1C_051-258-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051009-104146-703_L1C_051-258-0_D_V1-0.zip
run script
2024-01-09T23:28:23.959    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:28:23.961    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051009-104146-703_L1C_051-258-0_D_V1-0.zip
2024-01-09T23:28:23.961    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:28:23.961    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:28:23.961    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:28:23.961    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:28:23.961    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:28:23.961    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:28:23.961    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:28:23.961    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051009-104146-703_L1C_051-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/10/09/SPOT2-HRV1-XS_20051009-104154-903_L1C_051-259-0_D_V1-0/SPOT2-HRV1-XS_20051009-104154-903_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20051009-104154-903_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20051009-104154-903_L1C_051-259-0_D_V1-0.zip
run script
2024-01-09T23:31:16.856    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:31:16.857    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20051009-104154-903_L1C_051-259-0_D_V1-0.zip
2024-01-09T23:31:16.858    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:31:16.858    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:31:16.858    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:31:16.858    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:31:16.858    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:31:16.858    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:31:16.858    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:31:16.858    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20051009-104154-903_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 1 0]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/10/09/SPOT2-HRV1-XS_20051009-104200-318_L1C_051-259-6_D_V1-0/SPOT2-HRV1-XS_20051009-104200-318_L1C_051-259-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20051009-104200-318_L1C_051-259-6_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20051009-104200-318_L1C_051-259-6_D_V1-0.zip
run script
2024-01-09T23:34:34.000    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:34:34.001    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20051009-104200-318_L1C_051-259-6_D_V1-0.zip
2024-01-09T23:34:34.001    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:34:34.001    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:34:34.002    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:34:34.002    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:34:34.002    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:34:34.002    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:34:34.002    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:34:34.002    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20051009-104200-318_L1C_051-259-6_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/10/09/SPOT2-HRV2-XS_20051009-104155-036_L1C_051-259-0_D_V1-0/SPOT2-HRV2-XS_20051009-104155-036_L1C_051-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20051009-104155-036_L1C_051-259-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051009-104155-036_L1C_051-259-0_D_V1-0.zip
run script
2024-01-09T23:37:42.893    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:37:42.895    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051009-104155-036_L1C_051-259-0_D_V1-0.zip
2024-01-09T23:37:42.895    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:37:42.895    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:37:42.895    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:37:42.895    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:37:42.895    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:37:42.895    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:37:42.895    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:37:42.895    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051009-104155-036_L1C_051-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/10/09/SPOT2-HRV2-XS_20051009-104159-548_L1C_051-259-5_D_V1-0/SPOT2-HRV2-XS_20051009-104159-548_L1C_051-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20051009-104159-548_L1C_051-259-5_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051009-104159-548_L1C_051-259-5_D_V1-0.zip
run script
2024-01-09T23:40:55.735    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:40:55.736    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051009-104159-548_L1C_051-259-5_D_V1-0.zip
2024-01-09T23:40:55.736    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:40:55.736    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:40:55.736    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:40:55.736    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:40:55.736    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:40:55.736    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:40:55.736    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:40:55.736    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051009-104159-548_L1C_051-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 0 0 0]
 [1 1 1 ... 0 0 0]
 [1 1 1 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/02/SPOT2-HRV1-XS_20050502-101517-257_L1C_050-254-0_D_V1-0/SPOT2-HRV1-XS_20050502-101517-257_L1C_050-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050502-101517-257_L1C_050-254-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050502-101517-257_L1C_050-254-0_D_V1-0.zip
run script
2024-01-09T23:44:02.376    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:44:02.377    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050502-101517-257_L1C_050-254-0_D_V1-0.zip
2024-01-09T23:44:02.377    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:44:02.377    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:44:02.377    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:44:02.377    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:44:02.377    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:44:02.377    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:44:02.378    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:44:02.378    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050502-101517-257_L1C_050-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2005/05/02/SPOT2-HRV1-XS_20050502-101525-444_L1C_050-255-0_D_V1-0/SPOT2-HRV1-XS_20050502-101525-444_L1C_050-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050502-101525-444_L1C_050-255-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050502-101525-444_L1C_050-255-0_D_V1-0.zip
run script
2024-01-09T23:44:07.079    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:44:07.080    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050502-101525-444_L1C_050-255-0_D_V1-0.zip
2024-01-09T23:44:07.080    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:44:07.080    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:44:07.080    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:44:07.080    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:44:07.080    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:44:07.081    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:44:07.081    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:44:07.081    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050502-101525-444_L1C_050-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/02/SPOT2-HRV1-XS_20050502-101533-644_L1C_050-256-0_D_V1-0/SPOT2-HRV1-XS_20050502-101533-644_L1C_050-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050502-101533-644_L1C_050-256-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050502-101533-644_L1C_050-256-0_D_V1-0.zip
run script
2024-01-09T23:45:11.627    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:45:11.628    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050502-101533-644_L1C_050-256-0_D_V1-0.zip
2024-01-09T23:45:11.628    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:45:11.629    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:45:11.629    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:45:11.629    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:45:11.629    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:45:11.629    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:45:11.629    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:45:11.629    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050502-101533-644_L1C_050-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/02/SPOT2-HRV1-XS_20050502-101541-853_L1C_050-257-0_D_V1-0/SPOT2-HRV1-XS_20050502-101541-853_L1C_050-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050502-101541-853_L1C_050-257-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050502-101541-853_L1C_050-257-0_D_V1-0.zip
run script
2024-01-09T23:48:34.115    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:48:34.117    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050502-101541-853_L1C_050-257-0_D_V1-0.zip
2024-01-09T23:48:34.117    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:48:34.117    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:48:34.117    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:48:34.117    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:48:34.117    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:48:34.117    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:48:34.117    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:48:34.117    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050502-101541-853_L1C_050-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/02/SPOT2-HRV1-XS_20050502-101544-560_L1C_050-257-3_D_V1-0/SPOT2-HRV1-XS_20050502-101544-560_L1C_050-257-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050502-101544-560_L1C_050-257-3_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050502-101544-560_L1C_050-257-3_D_V1-0.zip
run script
2024-01-09T23:52:14.112    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:52:14.113    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050502-101544-560_L1C_050-257-3_D_V1-0.zip
2024-01-09T23:52:14.113    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:52:14.113    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:52:14.113    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:52:14.114    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:52:14.114    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:52:14.114    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:52:14.114    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:52:14.114    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050502-101544-560_L1C_050-257-3_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/17/SPOT2-HRV2-XS_20050517-102714-970_L1C_050-254-6_D_V1-0/SPOT2-HRV2-XS_20050517-102714-970_L1C_050-254-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050517-102714-970_L1C_050-254-6_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050517-102714-970_L1C_050-254-6_D_V1-0.zip
run script
2024-01-09T23:55:49.582    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:55:49.583    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050517-102714-970_L1C_050-254-6_D_V1-0.zip
2024-01-09T23:55:49.584    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:55:49.584    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:55:49.584    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:55:49.584    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:55:49.584    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:55:49.584    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:55:49.584    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:55:49.584    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-09T23:55:52.923    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 203). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050517-102714-970_L1C_050-254-6_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2005/05/17/SPOT2-HRV2-XS_20050517-102726-019_L1C_050-256-0_D_V1-0/SPOT2-HRV2-XS_20050517-102726-019_L1C_050-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050517-102726-019_L1C_050-256-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050517-102726-019_L1C_050-256-0_D_V1-0.zip
run script
2024-01-09T23:55:56.395    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:55:56.395    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050517-102726-019_L1C_050-256-0_D_V1-0.zip
2024-01-09T23:55:56.395    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:55:56.396    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:55:56.396    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:55:56.396    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:55:56.396    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:55:56.396    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:55:56.396    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:55:56.396    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050517-102726-019_L1C_050-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/17/SPOT2-HRV2-XS_20050517-102734-264_L1C_050-257-0_D_V1-0/SPOT2-HRV2-XS_20050517-102734-264_L1C_050-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050517-102734-264_L1C_050-257-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050517-102734-264_L1C_050-257-0_D_V1-0.zip
run script
2024-01-09T23:58:49.748    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-09T23:58:49.750    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050517-102734-264_L1C_050-257-0_D_V1-0.zip
2024-01-09T23:58:49.750    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-09T23:58:49.750    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-09T23:58:49.750    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-09T23:58:49.750    INFO:run_snow_swh.py::main:model type : mtn
2024-01-09T23:58:49.750    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-09T23:58:49.750    INFO:run_snow_swh.py::main:mask inference : None
2024-01-09T23:58:49.750    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-09T23:58:49.750    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050517-102734-264_L1C_050-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/17/SPOT2-HRV2-XS_20050517-102742-518_L1C_050-258-0_D_V1-0/SPOT2-HRV2-XS_20050517-102742-518_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050517-102742-518_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050517-102742-518_L1C_050-258-0_D_V1-0.zip
run script
2024-01-10T00:01:43.692    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:01:43.693    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050517-102742-518_L1C_050-258-0_D_V1-0.zip
2024-01-10T00:01:43.693    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:01:43.693    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:01:43.693    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:01:43.693    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:01:43.693    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:01:43.693    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:01:43.693    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:01:43.693    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T00:03:50.177    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 460). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050517-102742-518_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2005/06/12/SPOT2-HRV1-XS_20050612-102730-342_L1C_050-254-0_D_V1-0/SPOT2-HRV1-XS_20050612-102730-342_L1C_050-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050612-102730-342_L1C_050-254-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050612-102730-342_L1C_050-254-0_D_V1-0.zip
run script
2024-01-10T00:03:53.679    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:03:53.680    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050612-102730-342_L1C_050-254-0_D_V1-0.zip
2024-01-10T00:03:53.680    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:03:53.680    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:03:53.681    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:03:53.681    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:03:53.681    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:03:53.681    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:03:53.681    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:03:53.681    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050612-102730-342_L1C_050-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2005/06/12/SPOT2-HRV1-XS_20050612-102746-799_L1C_050-256-0_D_V1-0/SPOT2-HRV1-XS_20050612-102746-799_L1C_050-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050612-102746-799_L1C_050-256-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050612-102746-799_L1C_050-256-0_D_V1-0.zip
run script
2024-01-10T00:03:57.185    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:03:57.185    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050612-102746-799_L1C_050-256-0_D_V1-0.zip
2024-01-10T00:03:57.186    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:03:57.186    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:03:57.186    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:03:57.186    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:03:57.186    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:03:57.186    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:03:57.186    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:03:57.186    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050612-102746-799_L1C_050-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/06/12/SPOT2-HRV1-XS_20050612-102755-044_L1C_050-257-0_D_V1-0/SPOT2-HRV1-XS_20050612-102755-044_L1C_050-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050612-102755-044_L1C_050-257-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050612-102755-044_L1C_050-257-0_D_V1-0.zip
run script
2024-01-10T00:06:53.141    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:06:53.142    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050612-102755-044_L1C_050-257-0_D_V1-0.zip
2024-01-10T00:06:53.142    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:06:53.143    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:06:53.143    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:06:53.143    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:06:53.143    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:06:53.143    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:06:53.143    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:06:53.143    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050612-102755-044_L1C_050-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/06/12/SPOT2-HRV1-XS_20050612-102803-295_L1C_050-258-0_D_V1-0/SPOT2-HRV1-XS_20050612-102803-295_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050612-102803-295_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050612-102803-295_L1C_050-258-0_D_V1-0.zip
run script
2024-01-10T00:09:39.480    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:09:39.481    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050612-102803-295_L1C_050-258-0_D_V1-0.zip
2024-01-10T00:09:39.481    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:09:39.481    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:09:39.481    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:09:39.481    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:09:39.481    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:09:39.481    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:09:39.481    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:09:39.481    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T00:11:39.951    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 922). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050612-102803-295_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2005/06/12/SPOT2-HRV1-XS_20050612-102811-555_L1C_050-259-0_D_V1-0/SPOT2-HRV1-XS_20050612-102811-555_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050612-102811-555_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050612-102811-555_L1C_050-259-0_D_V1-0.zip
run script
2024-01-10T00:11:43.475    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:11:43.476    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050612-102811-555_L1C_050-259-0_D_V1-0.zip
2024-01-10T00:11:43.476    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:11:43.476    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:11:43.476    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:11:43.477    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:11:43.477    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:11:43.477    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:11:43.477    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:11:43.477    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050612-102811-555_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/06/12/SPOT2-HRV1-XS_20050612-102819-824_L1C_050-260-0_D_V1-0/SPOT2-HRV1-XS_20050612-102819-824_L1C_050-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050612-102819-824_L1C_050-260-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050612-102819-824_L1C_050-260-0_D_V1-0.zip
run script
2024-01-10T00:13:58.066    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:13:58.067    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050612-102819-824_L1C_050-260-0_D_V1-0.zip
2024-01-10T00:13:58.067    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:13:58.067    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:13:58.067    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:13:58.067    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:13:58.067    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:13:58.067    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:13:58.067    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:13:58.067    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050612-102819-824_L1C_050-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/06/12/SPOT2-HRV1-XS_20050612-102828-102_L1C_050-261-0_D_V1-0/SPOT2-HRV1-XS_20050612-102828-102_L1C_050-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050612-102828-102_L1C_050-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050612-102828-102_L1C_050-261-0_D_V1-0.zip
run script
2024-01-10T00:15:32.259    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:15:32.260    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050612-102828-102_L1C_050-261-0_D_V1-0.zip
2024-01-10T00:15:32.260    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:15:32.261    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:15:32.261    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:15:32.261    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:15:32.261    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:15:32.261    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:15:32.261    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:15:32.261    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050612-102828-102_L1C_050-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/06/12/SPOT2-HRV1-XS_20050612-102836-389_L1C_050-262-0_D_V1-0/SPOT2-HRV1-XS_20050612-102836-389_L1C_050-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050612-102836-389_L1C_050-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050612-102836-389_L1C_050-262-0_D_V1-0.zip
run script
2024-01-10T00:17:04.074    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:17:04.075    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050612-102836-389_L1C_050-262-0_D_V1-0.zip
2024-01-10T00:17:04.075    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:17:04.075    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:17:04.075    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:17:04.075    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:17:04.075    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:17:04.076    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:17:04.076    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:17:04.076    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050612-102836-389_L1C_050-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/10/20/SPOT2-HRV2-XS_20051020-102950-523_L1C_050-254-0_D_V1-0/SPOT2-HRV2-XS_20051020-102950-523_L1C_050-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20051020-102950-523_L1C_050-254-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051020-102950-523_L1C_050-254-0_D_V1-0.zip
run script
2024-01-10T00:18:04.634    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:18:04.635    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051020-102950-523_L1C_050-254-0_D_V1-0.zip
2024-01-10T00:18:04.635    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:18:04.635    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:18:04.636    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:18:04.636    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:18:04.636    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:18:04.636    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:18:04.636    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:18:04.636    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051020-102950-523_L1C_050-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2005/10/20/SPOT2-HRV2-XS_20051020-102958-747_L1C_050-255-0_D_V1-0/SPOT2-HRV2-XS_20051020-102958-747_L1C_050-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20051020-102958-747_L1C_050-255-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051020-102958-747_L1C_050-255-0_D_V1-0.zip
run script
2024-01-10T00:18:08.235    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:18:08.236    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051020-102958-747_L1C_050-255-0_D_V1-0.zip
2024-01-10T00:18:08.236    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:18:08.236    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:18:08.236    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:18:08.236    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:18:08.236    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:18:08.236    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:18:08.237    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:18:08.237    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051020-102958-747_L1C_050-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/10/20/SPOT2-HRV2-XS_20051020-103023-478_L1C_050-258-0_D_V1-0/SPOT2-HRV2-XS_20051020-103023-478_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20051020-103023-478_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051020-103023-478_L1C_050-258-0_D_V1-0.zip
run script
2024-01-10T00:19:05.378    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:19:05.379    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051020-103023-478_L1C_050-258-0_D_V1-0.zip
2024-01-10T00:19:05.379    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:19:05.379    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:19:05.379    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:19:05.379    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:19:05.380    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:19:05.380    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:19:05.380    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:19:05.380    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T00:20:57.250    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 922). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051020-103023-478_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2005/10/20/SPOT2-HRV2-XS_20051020-103024-381_L1C_050-258-1_D_V1-0/SPOT2-HRV2-XS_20051020-103024-381_L1C_050-258-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20051020-103024-381_L1C_050-258-1_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051020-103024-381_L1C_050-258-1_D_V1-0.zip
run script
2024-01-10T00:21:00.855    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:21:00.857    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051020-103024-381_L1C_050-258-1_D_V1-0.zip
2024-01-10T00:21:00.857    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:21:00.857    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:21:00.857    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:21:00.857    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:21:00.857    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:21:00.857    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:21:00.857    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:21:00.857    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051020-103024-381_L1C_050-258-1_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/01/11/SPOT2-HRV2-XS_20050111-104954-250_L1C_050-257-1_D_V1-0/SPOT2-HRV2-XS_20050111-104954-250_L1C_050-257-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050111-104954-250_L1C_050-257-1_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050111-104954-250_L1C_050-257-1_D_V1-0.zip
run script
2024-01-10T00:23:10.516    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:23:10.517    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050111-104954-250_L1C_050-257-1_D_V1-0.zip
2024-01-10T00:23:10.517    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:23:10.518    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:23:10.518    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:23:10.518    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:23:10.518    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:23:10.518    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:23:10.518    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:23:10.518    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050111-104954-250_L1C_050-257-1_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 1 ... 2 2 2]
 [2 1 1 ... 2 2 2]
 [2 1 1 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [0 1 1 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/01/11/SPOT2-HRV2-XS_20050111-105001-740_L1C_050-258-0_D_V1-0/SPOT2-HRV2-XS_20050111-105001-740_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050111-105001-740_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050111-105001-740_L1C_050-258-0_D_V1-0.zip
run script
2024-01-10T00:26:35.694    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:26:35.695    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050111-105001-740_L1C_050-258-0_D_V1-0.zip
2024-01-10T00:26:35.695    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:26:35.695    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:26:35.695    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:26:35.695    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:26:35.695    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:26:35.695    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:26:35.695    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:26:35.695    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T00:28:50.681    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 474). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050111-105001-740_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2005/01/11/SPOT2-HRV2-XS_20050111-105008-959_L1C_050-258-8_D_V1-0/SPOT2-HRV2-XS_20050111-105008-959_L1C_050-258-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050111-105008-959_L1C_050-258-8_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050111-105008-959_L1C_050-258-8_D_V1-0.zip
run script
2024-01-10T00:28:54.134    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:28:54.135    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050111-105008-959_L1C_050-258-8_D_V1-0.zip
2024-01-10T00:28:54.136    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:28:54.136    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:28:54.136    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:28:54.136    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:28:54.136    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:28:54.136    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:28:54.136    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:28:54.136    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T00:31:05.940    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (148 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050111-105008-959_L1C_050-258-8_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2005/01/12/SPOT2-HRV2-XS_20050112-103042-587_L1C_050-257-9_D_V1-0/SPOT2-HRV2-XS_20050112-103042-587_L1C_050-257-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050112-103042-587_L1C_050-257-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050112-103042-587_L1C_050-257-9_D_V1-0.zip
run script
2024-01-10T00:31:09.007    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:31:09.008    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050112-103042-587_L1C_050-257-9_D_V1-0.zip
2024-01-10T00:31:09.008    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:31:09.008    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:31:09.008    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:31:09.008    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:31:09.008    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:31:09.008    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:31:09.008    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:31:09.008    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T00:32:57.016    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 221). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050112-103042-587_L1C_050-257-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2005/01/12/SPOT2-HRV2-XS_20050112-103042-737_L1C_050-258-0_D_V1-0/SPOT2-HRV2-XS_20050112-103042-737_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050112-103042-737_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050112-103042-737_L1C_050-258-0_D_V1-0.zip
run script
2024-01-10T00:33:00.304    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:33:00.305    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050112-103042-737_L1C_050-258-0_D_V1-0.zip
2024-01-10T00:33:00.305    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:33:00.305    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:33:00.305    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:33:00.305    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:33:00.305    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:33:00.305    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:33:00.305    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:33:00.305    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T00:34:50.254    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 446). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050112-103042-737_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2005/01/12/SPOT2-HRV2-XS_20050112-103047-249_L1C_050-258-5_D_V1-0/SPOT2-HRV2-XS_20050112-103047-249_L1C_050-258-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050112-103047-249_L1C_050-258-5_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050112-103047-249_L1C_050-258-5_D_V1-0.zip
run script
2024-01-10T00:34:53.779    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:34:53.780    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050112-103047-249_L1C_050-258-5_D_V1-0.zip
2024-01-10T00:34:53.780    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:34:53.780    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:34:53.780    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:34:53.780    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:34:53.781    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:34:53.781    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:34:53.781    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:34:53.781    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050112-103047-249_L1C_050-258-5_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/01/16/SPOT2-HRV1-XS_20050116-105345-120_L1C_050-257-7_D_V1-0/SPOT2-HRV1-XS_20050116-105345-120_L1C_050-257-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050116-105345-120_L1C_050-257-7_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050116-105345-120_L1C_050-257-7_D_V1-0.zip
run script
2024-01-10T00:37:14.718    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:37:14.719    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050116-105345-120_L1C_050-257-7_D_V1-0.zip
2024-01-10T00:37:14.719    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:37:14.719    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:37:14.719    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:37:14.719    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:37:14.719    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:37:14.719    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:37:14.719    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:37:14.719    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050116-105345-120_L1C_050-257-7_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/01/16/SPOT2-HRV1-XS_20050116-105347-232_L1C_050-258-0_D_V1-0/SPOT2-HRV1-XS_20050116-105347-232_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050116-105347-232_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050116-105347-232_L1C_050-258-0_D_V1-0.zip
run script
2024-01-10T00:40:52.025    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:40:52.026    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050116-105347-232_L1C_050-258-0_D_V1-0.zip
2024-01-10T00:40:52.026    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:40:52.026    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:40:52.026    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:40:52.027    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:40:52.027    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:40:52.027    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:40:52.027    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:40:52.027    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050116-105347-232_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/01/16/SPOT2-HRV1-XS_20050116-105349-939_L1C_050-258-3_D_V1-0/SPOT2-HRV1-XS_20050116-105349-939_L1C_050-258-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050116-105349-939_L1C_050-258-3_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050116-105349-939_L1C_050-258-3_D_V1-0.zip
run script
2024-01-10T00:43:58.509    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:43:58.511    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050116-105349-939_L1C_050-258-3_D_V1-0.zip
2024-01-10T00:43:58.511    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:43:58.511    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:43:58.512    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:43:58.512    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:43:58.512    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:43:58.512    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:43:58.512    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:43:58.512    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T00:44:01.502    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1 x 254). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050116-105349-939_L1C_050-258-3_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2005/04/05/SPOT2-HRV1-XS_20050405-103436-582_L1C_050-257-9_D_V1-0/SPOT2-HRV1-XS_20050405-103436-582_L1C_050-257-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050405-103436-582_L1C_050-257-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050405-103436-582_L1C_050-257-9_D_V1-0.zip
run script
2024-01-10T00:44:04.664    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:44:04.664    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050405-103436-582_L1C_050-257-9_D_V1-0.zip
2024-01-10T00:44:04.664    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:44:04.664    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:44:04.664    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:44:04.664    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:44:04.664    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:44:04.664    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:44:04.664    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:44:04.664    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T00:45:54.628    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1 x 216). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050405-103436-582_L1C_050-257-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2005/04/05/SPOT2-HRV1-XS_20050405-103436-750_L1C_050-258-0_D_V1-0/SPOT2-HRV1-XS_20050405-103436-750_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050405-103436-750_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050405-103436-750_L1C_050-258-0_D_V1-0.zip
run script
2024-01-10T00:45:57.898    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:45:57.899    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050405-103436-750_L1C_050-258-0_D_V1-0.zip
2024-01-10T00:45:57.899    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:45:57.899    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:45:57.899    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:45:57.899    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:45:57.899    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:45:57.899    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:45:57.899    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:45:57.900    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T00:47:47.119    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 438). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050405-103436-750_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2005/04/05/SPOT2-HRV1-XS_20050405-103445-052_L1C_050-259-0_D_V1-0/SPOT2-HRV1-XS_20050405-103445-052_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050405-103445-052_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050405-103445-052_L1C_050-259-0_D_V1-0.zip
run script
2024-01-10T00:47:50.966    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:47:50.967    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050405-103445-052_L1C_050-259-0_D_V1-0.zip
2024-01-10T00:47:50.967    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:47:50.967    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:47:50.967    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:47:50.967    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:47:50.967    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:47:50.968    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:47:50.968    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:47:50.968    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050405-103445-052_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 2 ... 2 2 2]
 [1 1 2 ... 2 2 2]
 [1 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/05/SPOT2-HRV1-XS_20050405-103446-857_L1C_050-259-2_D_V1-0/SPOT2-HRV1-XS_20050405-103446-857_L1C_050-259-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050405-103446-857_L1C_050-259-2_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050405-103446-857_L1C_050-259-2_D_V1-0.zip
run script
2024-01-10T00:49:51.232    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:49:51.234    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050405-103446-857_L1C_050-259-2_D_V1-0.zip
2024-01-10T00:49:51.234    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:49:51.234    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:49:51.234    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:49:51.234    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:49:51.234    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:49:51.234    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:49:51.234    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:49:51.234    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050405-103446-857_L1C_050-259-2_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 1 1 1]
 [1 1 1 ... 1 1 1]
 [1 1 1 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/05/SPOT2-HRV1-XS_20050405-103503-539_L1C_051-261-3_D_V1-0/SPOT2-HRV1-XS_20050405-103503-539_L1C_051-261-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050405-103503-539_L1C_051-261-3_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050405-103503-539_L1C_051-261-3_D_V1-0.zip
run script
2024-01-10T00:51:46.307    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:51:46.309    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050405-103503-539_L1C_051-261-3_D_V1-0.zip
2024-01-10T00:51:46.309    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:51:46.309    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:51:46.309    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:51:46.309    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:51:46.309    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:51:46.309    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:51:46.309    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:51:46.309    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050405-103503-539_L1C_051-261-3_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/05/SPOT2-HRV1-XS_20050405-103509-164_L1C_051-262-0_D_V1-0/SPOT2-HRV1-XS_20050405-103509-164_L1C_051-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050405-103509-164_L1C_051-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050405-103509-164_L1C_051-262-0_D_V1-0.zip
run script
2024-01-10T00:53:46.531    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:53:46.532    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050405-103509-164_L1C_051-262-0_D_V1-0.zip
2024-01-10T00:53:46.532    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:53:46.532    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:53:46.532    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:53:46.533    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:53:46.533    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:53:46.533    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:53:46.533    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:53:46.533    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050405-103509-164_L1C_051-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/05/SPOT2-HRV1-XS_20050405-103517-500_L1C_051-263-0_D_V1-0/SPOT2-HRV1-XS_20050405-103517-500_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050405-103517-500_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050405-103517-500_L1C_051-263-0_D_V1-0.zip
run script
2024-01-10T00:55:18.511    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:55:18.512    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050405-103517-500_L1C_051-263-0_D_V1-0.zip
2024-01-10T00:55:18.512    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:55:18.512    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:55:18.512    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:55:18.512    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:55:18.512    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:55:18.512    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:55:18.512    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:55:18.512    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050405-103517-500_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/06/SPOT2-HRV2-XS_20050406-101514-812_L1C_050-257-6_D_V1-0/SPOT2-HRV2-XS_20050406-101514-812_L1C_050-257-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050406-101514-812_L1C_050-257-6_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050406-101514-812_L1C_050-257-6_D_V1-0.zip
run script
2024-01-10T00:55:53.818    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:55:53.819    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050406-101514-812_L1C_050-257-6_D_V1-0.zip
2024-01-10T00:55:53.819    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:55:53.819    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:55:53.819    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:55:53.819    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:55:53.819    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:55:53.820    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:55:53.820    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:55:53.820    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050406-101514-812_L1C_050-257-6_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 2 2 ... 2 2 2]
 [0 0 2 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 0 ... 2 2 2]
 [2 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/06/SPOT2-HRV2-XS_20050406-101517-619_L1C_050-258-0_D_V1-0/SPOT2-HRV2-XS_20050406-101517-619_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050406-101517-619_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050406-101517-619_L1C_050-258-0_D_V1-0.zip
run script
2024-01-10T00:59:45.591    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T00:59:45.592    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050406-101517-619_L1C_050-258-0_D_V1-0.zip
2024-01-10T00:59:45.592    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T00:59:45.592    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T00:59:45.592    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T00:59:45.592    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T00:59:45.592    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T00:59:45.592    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T00:59:45.592    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T00:59:45.592    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T01:02:04.724    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1 x 268). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050406-101517-619_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2005/04/06/SPOT2-HRV2-XS_20050406-101523-936_L1C_050-258-7_D_V1-0/SPOT2-HRV2-XS_20050406-101523-936_L1C_050-258-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050406-101523-936_L1C_050-258-7_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050406-101523-936_L1C_050-258-7_D_V1-0.zip
run script
2024-01-10T01:02:08.257    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:02:08.258    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050406-101523-936_L1C_050-258-7_D_V1-0.zip
2024-01-10T01:02:08.258    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:02:08.258    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:02:08.259    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:02:08.259    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:02:08.259    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:02:08.259    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:02:08.259    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:02:08.259    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050406-101523-936_L1C_050-258-7_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/06/SPOT2-HRV2-XS_20050406-101534-990_L1C_051-260-1_D_V1-0/SPOT2-HRV2-XS_20050406-101534-990_L1C_051-260-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050406-101534-990_L1C_051-260-1_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050406-101534-990_L1C_051-260-1_D_V1-0.zip
run script
2024-01-10T01:05:45.441    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:05:45.443    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050406-101534-990_L1C_051-260-1_D_V1-0.zip
2024-01-10T01:05:45.443    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:05:45.443    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:05:45.443    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:05:45.443    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:05:45.443    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:05:45.443    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:05:45.444    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:05:45.444    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050406-101534-990_L1C_051-260-1_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/06/SPOT2-HRV2-XS_20050406-101542-336_L1C_051-261-0_D_V1-0/SPOT2-HRV2-XS_20050406-101542-336_L1C_051-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050406-101542-336_L1C_051-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050406-101542-336_L1C_051-261-0_D_V1-0.zip
run script
2024-01-10T01:08:00.478    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:08:00.479    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050406-101542-336_L1C_051-261-0_D_V1-0.zip
2024-01-10T01:08:00.480    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:08:00.480    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:08:00.480    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:08:00.480    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:08:00.480    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:08:00.480    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:08:00.480    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:08:00.480    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050406-101542-336_L1C_051-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/06/SPOT2-HRV2-XS_20050406-101550-592_L1C_051-262-0_D_V1-0/SPOT2-HRV2-XS_20050406-101550-592_L1C_051-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050406-101550-592_L1C_051-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050406-101550-592_L1C_051-262-0_D_V1-0.zip
run script
2024-01-10T01:10:21.764    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:10:21.766    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050406-101550-592_L1C_051-262-0_D_V1-0.zip
2024-01-10T01:10:21.766    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:10:21.766    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:10:21.766    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:10:21.766    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:10:21.766    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:10:21.766    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:10:21.766    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:10:21.766    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050406-101550-592_L1C_051-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/06/SPOT2-HRV2-XS_20050406-101558-858_L1C_051-263-0_D_V1-0/SPOT2-HRV2-XS_20050406-101558-858_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050406-101558-858_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050406-101558-858_L1C_051-263-0_D_V1-0.zip
run script
2024-01-10T01:12:08.588    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:12:08.589    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050406-101558-858_L1C_051-263-0_D_V1-0.zip
2024-01-10T01:12:08.589    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:12:08.589    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:12:08.589    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:12:08.589    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:12:08.589    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:12:08.589    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:12:08.590    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:12:08.590    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050406-101558-858_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/26/SPOT2-HRV1-XS_20050426-103111-985_L1C_050-257-9_D_V1-0/SPOT2-HRV1-XS_20050426-103111-985_L1C_050-257-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050426-103111-985_L1C_050-257-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050426-103111-985_L1C_050-257-9_D_V1-0.zip
run script
2024-01-10T01:12:52.633    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:12:52.635    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050426-103111-985_L1C_050-257-9_D_V1-0.zip
2024-01-10T01:12:52.635    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:12:52.635    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:12:52.635    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:12:52.635    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:12:52.635    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:12:52.635    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:12:52.635    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:12:52.635    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T01:14:47.069    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 446). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050426-103111-985_L1C_050-257-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2005/04/26/SPOT2-HRV1-XS_20050426-103112-135_L1C_050-258-0_D_V1-0/SPOT2-HRV1-XS_20050426-103112-135_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050426-103112-135_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050426-103112-135_L1C_050-258-0_D_V1-0.zip
run script
2024-01-10T01:14:50.291    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:14:50.291    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050426-103112-135_L1C_050-258-0_D_V1-0.zip
2024-01-10T01:14:50.291    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:14:50.291    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:14:50.291    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:14:50.291    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:14:50.291    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:14:50.291    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:14:50.291    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:14:50.292    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T01:16:45.153    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 1802). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050426-103112-135_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2005/04/26/SPOT2-HRV1-XS_20050426-103120-413_L1C_050-259-0_D_V1-0/SPOT2-HRV1-XS_20050426-103120-413_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050426-103120-413_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050426-103120-413_L1C_050-259-0_D_V1-0.zip
run script
2024-01-10T01:16:48.488    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:16:48.489    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050426-103120-413_L1C_050-259-0_D_V1-0.zip
2024-01-10T01:16:48.489    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:16:48.489    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:16:48.490    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:16:48.490    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:16:48.490    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:16:48.490    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:16:48.490    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:16:48.490    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050426-103120-413_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/26/SPOT2-HRV1-XS_20050426-103124-023_L1C_050-259-4_D_V1-0/SPOT2-HRV1-XS_20050426-103124-023_L1C_050-259-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050426-103124-023_L1C_050-259-4_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050426-103124-023_L1C_050-259-4_D_V1-0.zip
run script
2024-01-10T01:18:47.028    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:18:47.029    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050426-103124-023_L1C_050-259-4_D_V1-0.zip
2024-01-10T01:18:47.029    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:18:47.029    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:18:47.029    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:18:47.029    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:18:47.029    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:18:47.029    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:18:47.029    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:18:47.029    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050426-103124-023_L1C_050-259-4_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/21/SPOT2-HRV2-XS_20050521-105055-193_L1C_050-257-8_D_V1-0/SPOT2-HRV2-XS_20050521-105055-193_L1C_050-257-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050521-105055-193_L1C_050-257-8_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050521-105055-193_L1C_050-257-8_D_V1-0.zip
run script
2024-01-10T01:20:28.091    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:20:28.093    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050521-105055-193_L1C_050-257-8_D_V1-0.zip
2024-01-10T01:20:28.093    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:20:28.093    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:20:28.093    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:20:28.093    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:20:28.093    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:20:28.094    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:20:28.094    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:20:28.094    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050521-105055-193_L1C_050-257-8_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/21/SPOT2-HRV2-XS_20050521-105056-363_L1C_050-258-0_D_V1-0/SPOT2-HRV2-XS_20050521-105056-363_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050521-105056-363_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050521-105056-363_L1C_050-258-0_D_V1-0.zip
run script
2024-01-10T01:23:17.443    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:23:17.444    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050521-105056-363_L1C_050-258-0_D_V1-0.zip
2024-01-10T01:23:17.444    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:23:17.444    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:23:17.444    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:23:17.444    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:23:17.444    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:23:17.444    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:23:17.444    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:23:17.445    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T01:25:30.629    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 219). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050521-105056-363_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2005/05/21/SPOT2-HRV2-XS_20050521-105104-759_L1C_050-259-0_D_V1-0/SPOT2-HRV2-XS_20050521-105104-759_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050521-105104-759_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050521-105104-759_L1C_050-259-0_D_V1-0.zip
run script
2024-01-10T01:25:34.121    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:25:34.121    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050521-105104-759_L1C_050-259-0_D_V1-0.zip
2024-01-10T01:25:34.121    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:25:34.122    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:25:34.122    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:25:34.122    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:25:34.122    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:25:34.122    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:25:34.122    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:25:34.122    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050521-105104-759_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/21/SPOT2-HRV2-XS_20050521-105111-978_L1C_050-259-8_D_V1-0/SPOT2-HRV2-XS_20050521-105111-978_L1C_050-259-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050521-105111-978_L1C_050-259-8_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050521-105111-978_L1C_050-259-8_D_V1-0.zip
run script
2024-01-10T01:27:31.813    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:27:31.814    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050521-105111-978_L1C_050-259-8_D_V1-0.zip
2024-01-10T01:27:31.815    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:27:31.815    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:27:31.815    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:27:31.815    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:27:31.816    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:27:31.816    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:27:31.816    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:27:31.816    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T01:28:48.159    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1 x 134). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050521-105111-978_L1C_050-259-8_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2005/07/24/SPOT2-HRV1-XS_20050724-102105-341_L1C_050-257-5_D_V1-0/SPOT2-HRV1-XS_20050724-102105-341_L1C_050-257-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050724-102105-341_L1C_050-257-5_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050724-102105-341_L1C_050-257-5_D_V1-0.zip
run script
2024-01-10T01:28:51.508    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:28:51.509    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050724-102105-341_L1C_050-257-5_D_V1-0.zip
2024-01-10T01:28:51.509    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:28:51.510    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:28:51.510    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:28:51.510    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:28:51.510    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:28:51.510    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:28:51.510    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:28:51.510    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050724-102105-341_L1C_050-257-5_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/07/24/SPOT2-HRV1-XS_20050724-102109-056_L1C_050-258-0_D_V1-0/SPOT2-HRV1-XS_20050724-102109-056_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050724-102109-056_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050724-102109-056_L1C_050-258-0_D_V1-0.zip
run script
2024-01-10T01:32:00.531    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:32:00.532    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050724-102109-056_L1C_050-258-0_D_V1-0.zip
2024-01-10T01:32:00.532    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:32:00.532    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:32:00.532    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:32:00.532    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:32:00.533    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:32:00.533    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:32:00.533    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:32:00.533    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T01:34:15.145    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 502). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050724-102109-056_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2005/07/24/SPOT2-HRV1-XS_20050724-102116-275_L1C_050-258-8_D_V1-0/SPOT2-HRV1-XS_20050724-102116-275_L1C_050-258-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050724-102116-275_L1C_050-258-8_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050724-102116-275_L1C_050-258-8_D_V1-0.zip
run script
2024-01-10T01:34:18.609    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:34:18.609    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050724-102116-275_L1C_050-258-8_D_V1-0.zip
2024-01-10T01:34:18.609    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:34:18.609    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:34:18.609    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:34:18.609    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:34:18.609    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:34:18.610    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:34:18.610    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:34:18.610    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050724-102116-275_L1C_050-258-8_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 2]
 [2 2 2 2]
 [2 2 2 2]
 ...
 [2 2 2 2]
 [2 2 2 2]
 [2 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 2]
 [2 2 2 2]
 [2 2 2 2]
 ...
 [2 2 2 2]
 [2 2 2 2]
 [2 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/07/28/SPOT2-HRV2-XS_20050728-104420-902_L1C_050-257-5_D_V1-0/SPOT2-HRV2-XS_20050728-104420-902_L1C_050-257-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050728-104420-902_L1C_050-257-5_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050728-104420-902_L1C_050-257-5_D_V1-0.zip
run script
2024-01-10T01:36:45.580    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:36:45.582    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050728-104420-902_L1C_050-257-5_D_V1-0.zip
2024-01-10T01:36:45.582    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:36:45.582    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:36:45.582    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:36:45.582    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:36:45.582    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:36:45.582    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:36:45.582    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:36:45.582    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050728-104420-902_L1C_050-257-5_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/07/28/SPOT2-HRV2-XS_20050728-104424-725_L1C_050-258-0_D_V1-0/SPOT2-HRV2-XS_20050728-104424-725_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050728-104424-725_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050728-104424-725_L1C_050-258-0_D_V1-0.zip
run script
2024-01-10T01:39:35.262    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:39:35.264    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050728-104424-725_L1C_050-258-0_D_V1-0.zip
2024-01-10T01:39:35.264    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:39:35.264    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:39:35.264    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:39:35.264    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:39:35.264    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:39:35.264    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:39:35.264    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:39:35.264    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T01:41:25.904    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 436). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050728-104424-725_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2005/07/28/SPOT2-HRV2-XS_20050728-104428-334_L1C_050-258-4_D_V1-0/SPOT2-HRV2-XS_20050728-104428-334_L1C_050-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050728-104428-334_L1C_050-258-4_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050728-104428-334_L1C_050-258-4_D_V1-0.zip
run script
2024-01-10T01:41:29.021    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:41:29.022    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050728-104428-334_L1C_050-258-4_D_V1-0.zip
2024-01-10T01:41:29.022    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:41:29.022    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:41:29.022    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:41:29.022    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:41:29.022    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:41:29.022    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:41:29.022    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:41:29.023    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050728-104428-334_L1C_050-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/21/SPOT2-HRV1-XS_20050421-102714-113_L1C_050-258-0_D_V1-0/SPOT2-HRV1-XS_20050421-102714-113_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050421-102714-113_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050421-102714-113_L1C_050-258-0_D_V1-0.zip
run script
2024-01-10T01:43:32.229    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:43:32.231    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050421-102714-113_L1C_050-258-0_D_V1-0.zip
2024-01-10T01:43:32.231    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:43:32.231    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:43:32.231    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:43:32.231    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:43:32.231    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:43:32.231    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:43:32.231    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:43:32.231    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T01:45:35.372    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 922). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050421-102714-113_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2005/04/21/SPOT2-HRV1-XS_20050421-102722-376_L1C_050-259-0_D_V1-0/SPOT2-HRV1-XS_20050421-102722-376_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050421-102722-376_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050421-102722-376_L1C_050-259-0_D_V1-0.zip
run script
2024-01-10T01:45:38.597    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:45:38.597    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050421-102722-376_L1C_050-259-0_D_V1-0.zip
2024-01-10T01:45:38.597    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:45:38.597    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:45:38.597    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:45:38.597    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:45:38.597    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:45:38.598    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:45:38.598    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:45:38.598    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050421-102722-376_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/21/SPOT2-HRV1-XS_20050421-102724-180_L1C_050-259-2_D_V1-0/SPOT2-HRV1-XS_20050421-102724-180_L1C_050-259-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050421-102724-180_L1C_050-259-2_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050421-102724-180_L1C_050-259-2_D_V1-0.zip
run script
2024-01-10T01:47:32.945    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:47:32.947    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050421-102724-180_L1C_050-259-2_D_V1-0.zip
2024-01-10T01:47:32.947    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:47:32.947    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:47:32.947    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:47:32.947    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:47:32.947    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:47:32.947    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:47:32.947    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:47:32.947    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050421-102724-180_L1C_050-259-2_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/12/15/SPOT2-HRV1-XS_20051215-105345-252_L1C_051-255-0_D_V1-0/SPOT2-HRV1-XS_20051215-105345-252_L1C_051-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20051215-105345-252_L1C_051-255-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20051215-105345-252_L1C_051-255-0_D_V1-0.zip
run script
2024-01-10T01:49:30.407    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:49:30.408    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20051215-105345-252_L1C_051-255-0_D_V1-0.zip
2024-01-10T01:49:30.408    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:49:30.409    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:49:30.409    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:49:30.409    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:49:30.409    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:49:30.409    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:49:30.409    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:49:30.409    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20051215-105345-252_L1C_051-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/10/29/SPOT2-HRV2-XS_20051029-105755-486_L1C_051-261-0_D_V1-0/SPOT2-HRV2-XS_20051029-105755-486_L1C_051-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20051029-105755-486_L1C_051-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051029-105755-486_L1C_051-261-0_D_V1-0.zip
run script
2024-01-10T01:50:43.989    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:50:43.990    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051029-105755-486_L1C_051-261-0_D_V1-0.zip
2024-01-10T01:50:43.990    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:50:43.990    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:50:43.990    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:50:43.990    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:50:43.990    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:50:43.990    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:50:43.990    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:50:43.990    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051029-105755-486_L1C_051-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/10/29/SPOT2-HRV2-XS_20051029-105800-901_L1C_051-261-6_D_V1-0/SPOT2-HRV2-XS_20051029-105800-901_L1C_051-261-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20051029-105800-901_L1C_051-261-6_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051029-105800-901_L1C_051-261-6_D_V1-0.zip
run script
2024-01-10T01:54:38.310    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:54:38.311    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051029-105800-901_L1C_051-261-6_D_V1-0.zip
2024-01-10T01:54:38.311    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:54:38.311    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:54:38.311    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:54:38.311    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:54:38.312    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:54:38.312    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:54:38.312    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:54:38.312    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051029-105800-901_L1C_051-261-6_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/07/SPOT2-HRV1-XS_20050507-101954-484_L1C_052-259-0_D_V1-0/SPOT2-HRV1-XS_20050507-101954-484_L1C_052-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050507-101954-484_L1C_052-259-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050507-101954-484_L1C_052-259-0_D_V1-0.zip
run script
2024-01-10T01:58:03.237    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T01:58:03.238    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050507-101954-484_L1C_052-259-0_D_V1-0.zip
2024-01-10T01:58:03.238    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T01:58:03.238    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T01:58:03.238    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T01:58:03.238    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T01:58:03.238    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T01:58:03.238    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T01:58:03.238    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T01:58:03.238    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050507-101954-484_L1C_052-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 0 0 0]
 [1 1 1 ... 0 0 0]
 [1 1 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/07/SPOT2-HRV1-XS_20050507-102002-741_L1C_052-260-0_D_V1-0/SPOT2-HRV1-XS_20050507-102002-741_L1C_052-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050507-102002-741_L1C_052-260-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050507-102002-741_L1C_052-260-0_D_V1-0.zip
run script
2024-01-10T02:01:17.238    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:01:17.240    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050507-102002-741_L1C_052-260-0_D_V1-0.zip
2024-01-10T02:01:17.240    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:01:17.240    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:01:17.240    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:01:17.240    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:01:17.240    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:01:17.240    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:01:17.240    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:01:17.240    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050507-102002-741_L1C_052-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/07/SPOT2-HRV1-XS_20050507-102011-010_L1C_052-261-0_D_V1-0/SPOT2-HRV1-XS_20050507-102011-010_L1C_052-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050507-102011-010_L1C_052-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050507-102011-010_L1C_052-261-0_D_V1-0.zip
run script
2024-01-10T02:04:22.154    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:04:22.155    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050507-102011-010_L1C_052-261-0_D_V1-0.zip
2024-01-10T02:04:22.156    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:04:22.156    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:04:22.156    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:04:22.156    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:04:22.156    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:04:22.156    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:04:22.156    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:04:22.156    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050507-102011-010_L1C_052-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/07/SPOT2-HRV1-XS_20050507-102019-285_L1C_052-262-0_D_V1-0/SPOT2-HRV1-XS_20050507-102019-285_L1C_052-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050507-102019-285_L1C_052-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050507-102019-285_L1C_052-262-0_D_V1-0.zip
run script
2024-01-10T02:07:28.624    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:07:28.626    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050507-102019-285_L1C_052-262-0_D_V1-0.zip
2024-01-10T02:07:28.626    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:07:28.626    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:07:28.626    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:07:28.626    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:07:28.626    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:07:28.626    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:07:28.626    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:07:28.626    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050507-102019-285_L1C_052-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/10/SPOT2-HRV2-XS_20051110-102709-934_L1C_053-260-8_D_V1-0/SPOT2-HRV2-XS_20051110-102709-934_L1C_053-260-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20051110-102709-934_L1C_053-260-8_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051110-102709-934_L1C_053-260-8_D_V1-0.zip
run script
2024-01-10T02:10:13.456    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:10:13.457    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051110-102709-934_L1C_053-260-8_D_V1-0.zip
2024-01-10T02:10:13.457    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:10:13.457    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:10:13.457    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:10:13.457    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:10:13.457    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:10:13.458    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:10:13.458    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:10:13.458    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051110-102709-934_L1C_053-260-8_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/10/SPOT2-HRV2-XS_20051110-102711-002_L1C_053-261-0_D_V1-0/SPOT2-HRV2-XS_20051110-102711-002_L1C_053-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20051110-102711-002_L1C_053-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051110-102711-002_L1C_053-261-0_D_V1-0.zip
run script
2024-01-10T02:12:57.510    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:12:57.511    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051110-102711-002_L1C_053-261-0_D_V1-0.zip
2024-01-10T02:12:57.511    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:12:57.511    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:12:57.511    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:12:57.511    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:12:57.511    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:12:57.511    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:12:57.512    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:12:57.512    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051110-102711-002_L1C_053-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/10/SPOT2-HRV2-XS_20051110-102719-295_L1C_053-262-0_D_V1-0/SPOT2-HRV2-XS_20051110-102719-295_L1C_053-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20051110-102719-295_L1C_053-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051110-102719-295_L1C_053-262-0_D_V1-0.zip
run script
2024-01-10T02:15:56.270    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:15:56.271    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051110-102719-295_L1C_053-262-0_D_V1-0.zip
2024-01-10T02:15:56.271    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:15:56.271    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:15:56.271    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:15:56.271    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:15:56.272    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:15:56.272    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:15:56.272    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:15:56.272    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051110-102719-295_L1C_053-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/06/22/SPOT2-HRV2-XS_20050622-103620-722_L1C_053-261-0_D_V1-0/SPOT2-HRV2-XS_20050622-103620-722_L1C_053-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050622-103620-722_L1C_053-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050622-103620-722_L1C_053-261-0_D_V1-0.zip
run script
2024-01-10T02:18:34.117    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:18:34.118    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050622-103620-722_L1C_053-261-0_D_V1-0.zip
2024-01-10T02:18:34.119    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:18:34.119    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:18:34.119    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:18:34.119    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:18:34.119    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:18:34.119    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:18:34.119    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:18:34.119    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050622-103620-722_L1C_053-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/06/22/SPOT2-HRV2-XS_20050622-103629-075_L1C_053-262-0_D_V1-0/SPOT2-HRV2-XS_20050622-103629-075_L1C_053-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050622-103629-075_L1C_053-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050622-103629-075_L1C_053-262-0_D_V1-0.zip
run script
2024-01-10T02:21:09.751    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:21:09.752    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050622-103629-075_L1C_053-262-0_D_V1-0.zip
2024-01-10T02:21:09.752    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:21:09.752    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:21:09.752    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:21:09.753    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:21:09.753    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:21:09.753    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:21:09.753    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:21:09.753    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050622-103629-075_L1C_053-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/09/SPOT2-HRV2-XS_20051109-104645-101_L1C_053-263-0_D_V1-0/SPOT2-HRV2-XS_20051109-104645-101_L1C_053-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20051109-104645-101_L1C_053-263-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051109-104645-101_L1C_053-263-0_D_V1-0.zip
run script
2024-01-10T02:23:37.850    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:23:37.852    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051109-104645-101_L1C_053-263-0_D_V1-0.zip
2024-01-10T02:23:37.852    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:23:37.852    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:23:37.852    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:23:37.852    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:23:37.852    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:23:37.852    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:23:37.852    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:23:37.852    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20051109-104645-101_L1C_053-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/06/18/SPOT2-HRV2-XS_20050618-101302-888_L1C_054-261-0_D_V1-0/SPOT2-HRV2-XS_20050618-101302-888_L1C_054-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050618-101302-888_L1C_054-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050618-101302-888_L1C_054-261-0_D_V1-0.zip
run script
2024-01-10T02:25:06.516    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:25:06.516    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050618-101302-888_L1C_054-261-0_D_V1-0.zip
2024-01-10T02:25:06.516    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:25:06.516    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:25:06.517    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:25:06.517    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:25:06.517    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:25:06.517    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:25:06.517    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:25:06.517    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050618-101302-888_L1C_054-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/06/18/SPOT2-HRV2-XS_20050618-101311-151_L1C_054-262-0_D_V1-0/SPOT2-HRV2-XS_20050618-101311-151_L1C_054-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050618-101311-151_L1C_054-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050618-101311-151_L1C_054-262-0_D_V1-0.zip
run script
2024-01-10T02:26:43.946    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:26:43.947    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050618-101311-151_L1C_054-262-0_D_V1-0.zip
2024-01-10T02:26:43.947    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:26:43.947    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:26:43.947    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:26:43.948    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:26:43.948    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:26:43.948    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:26:43.948    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:26:43.948    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050618-101311-151_L1C_054-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/06/27/SPOT2-HRV2-XS_20050627-104017-052_L1C_054-261-0_D_V1-0/SPOT2-HRV2-XS_20050627-104017-052_L1C_054-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050627-104017-052_L1C_054-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050627-104017-052_L1C_054-261-0_D_V1-0.zip
run script
2024-01-10T02:28:39.372    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:28:39.373    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050627-104017-052_L1C_054-261-0_D_V1-0.zip
2024-01-10T02:28:39.373    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:28:39.373    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:28:39.373    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:28:39.373    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:28:39.373    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:28:39.373    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:28:39.373    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:28:39.373    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050627-104017-052_L1C_054-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/06/27/SPOT2-HRV2-XS_20050627-104025-448_L1C_054-262-0_D_V1-0/SPOT2-HRV2-XS_20050627-104025-448_L1C_054-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20050627-104025-448_L1C_054-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050627-104025-448_L1C_054-262-0_D_V1-0.zip
run script
2024-01-10T02:30:21.807    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:30:21.809    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050627-104025-448_L1C_054-262-0_D_V1-0.zip
2024-01-10T02:30:21.809    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:30:21.809    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:30:21.809    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:30:21.809    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:30:21.809    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:30:21.809    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:30:21.810    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:30:21.810    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV2-XS_20050627-104025-448_L1C_054-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/07/14/SPOT2-HRV1-XS_20050714-101334-427_L1C_055-261-0_D_V1-0/SPOT2-HRV1-XS_20050714-101334-427_L1C_055-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050714-101334-427_L1C_055-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050714-101334-427_L1C_055-261-0_D_V1-0.zip
run script
2024-01-10T02:32:22.535    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:32:22.536    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050714-101334-427_L1C_055-261-0_D_V1-0.zip
2024-01-10T02:32:22.536    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:32:22.536    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:32:22.536    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:32:22.536    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:32:22.536    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:32:22.536    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:32:22.536    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:32:22.537    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050714-101334-427_L1C_055-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/07/14/SPOT2-HRV1-XS_20050714-101342-693_L1C_055-262-0_D_V1-0/SPOT2-HRV1-XS_20050714-101342-693_L1C_055-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050714-101342-693_L1C_055-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050714-101342-693_L1C_055-262-0_D_V1-0.zip
run script
2024-01-10T02:34:02.024    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:34:02.025    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050714-101342-693_L1C_055-262-0_D_V1-0.zip
2024-01-10T02:34:02.025    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:34:02.025    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:34:02.025    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:34:02.025    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:34:02.025    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:34:02.025    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:34:02.025    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:34:02.026    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050714-101342-693_L1C_055-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/07/14/SPOT2-HRV1-XS_20050714-101347-205_L1C_055-262-5_D_V1-0/SPOT2-HRV1-XS_20050714-101347-205_L1C_055-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050714-101347-205_L1C_055-262-5_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050714-101347-205_L1C_055-262-5_D_V1-0.zip
run script
2024-01-10T02:35:46.565    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:35:46.567    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050714-101347-205_L1C_055-262-5_D_V1-0.zip
2024-01-10T02:35:46.567    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:35:46.567    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:35:46.567    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:35:46.567    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:35:46.567    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:35:46.567    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:35:46.567    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:35:46.567    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050714-101347-205_L1C_055-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 0 0 0]
 [1 1 1 ... 0 0 0]
 [1 1 1 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/08/09/SPOT2-HRV1-XS_20050809-101401-101_L1C_055-261-0_D_V1-0/SPOT2-HRV1-XS_20050809-101401-101_L1C_055-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050809-101401-101_L1C_055-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050809-101401-101_L1C_055-261-0_D_V1-0.zip
run script
2024-01-10T02:37:13.720    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:37:13.721    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050809-101401-101_L1C_055-261-0_D_V1-0.zip
2024-01-10T02:37:13.721    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:37:13.721    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:37:13.721    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:37:13.721    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:37:13.721    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:37:13.722    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:37:13.722    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:37:13.722    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050809-101401-101_L1C_055-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/08/09/SPOT2-HRV1-XS_20050809-101409-367_L1C_055-262-0_D_V1-0/SPOT2-HRV1-XS_20050809-101409-367_L1C_055-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20050809-101409-367_L1C_055-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050809-101409-367_L1C_055-262-0_D_V1-0.zip
run script
2024-01-10T02:38:52.015    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:38:52.016    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050809-101409-367_L1C_055-262-0_D_V1-0.zip
2024-01-10T02:38:52.016    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:38:52.016    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:38:52.016    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:38:52.016    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:38:52.016    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:38:52.016    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:38:52.017    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:38:52.017    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT2-HRV1-XS_20050809-101409-367_L1C_055-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/07/28/SPOT1-HRV1-XS_19860728-105847-536_L1C_046-263-0_D_V1-0/SPOT1-HRV1-XS_19860728-105847-536_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860728-105847-536_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860728-105847-536_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T02:40:37.762    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:40:37.763    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860728-105847-536_L1C_046-263-0_D_V1-0.zip
2024-01-10T02:40:37.764    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:40:37.764    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:40:37.764    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:40:37.764    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:40:37.764    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:40:37.764    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:40:37.764    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:40:37.764    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860728-105847-536_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/07/28/SPOT1-HRV1-XS_19860728-105855-658_L1C_046-263-9_D_V1-0/SPOT1-HRV1-XS_19860728-105855-658_L1C_046-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860728-105855-658_L1C_046-263-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860728-105855-658_L1C_046-263-9_D_V1-0.zip
run script
2024-01-10T02:41:10.697    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:41:10.699    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860728-105855-658_L1C_046-263-9_D_V1-0.zip
2024-01-10T02:41:10.699    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:41:10.699    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:41:10.699    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:41:10.699    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:41:10.699    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:41:10.699    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:41:10.699    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:41:10.699    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860728-105855-658_L1C_046-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/07/29/SPOT1-HRV2-XS_19860729-103829-888_L1C_047-255-9_D_V1-0/SPOT1-HRV2-XS_19860729-103829-888_L1C_047-255-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19860729-103829-888_L1C_047-255-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860729-103829-888_L1C_047-255-9_D_V1-0.zip
run script
2024-01-10T02:43:47.153    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:43:47.155    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860729-103829-888_L1C_047-255-9_D_V1-0.zip
2024-01-10T02:43:47.155    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:43:47.155    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:43:47.155    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:43:47.155    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:43:47.155    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:43:47.155    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:43:47.155    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:43:47.155    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860729-103829-888_L1C_047-255-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1986/11/16/SPOT1-HRV1-XS_19861116-102231-929_L1C_048-254-0_D_V1-0/SPOT1-HRV1-XS_19861116-102231-929_L1C_048-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19861116-102231-929_L1C_048-254-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861116-102231-929_L1C_048-254-0_D_V1-0.zip
run script
2024-01-10T02:43:50.602    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:43:50.603    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861116-102231-929_L1C_048-254-0_D_V1-0.zip
2024-01-10T02:43:50.603    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:43:50.603    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:43:50.603    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:43:50.603    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:43:50.604    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:43:50.604    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:43:50.604    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:43:50.604    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861116-102231-929_L1C_048-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1986/11/16/SPOT1-HRV1-XS_19861116-102240-120_L1C_048-255-0_D_V1-0/SPOT1-HRV1-XS_19861116-102240-120_L1C_048-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19861116-102240-120_L1C_048-255-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861116-102240-120_L1C_048-255-0_D_V1-0.zip
run script
2024-01-10T02:43:53.607    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:43:53.608    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861116-102240-120_L1C_048-255-0_D_V1-0.zip
2024-01-10T02:43:53.608    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:43:53.608    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:43:53.608    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:43:53.608    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:43:53.608    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:43:53.608    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:43:53.608    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:43:53.608    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861116-102240-120_L1C_048-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/11/16/SPOT1-HRV1-XS_19861116-102248-242_L1C_048-255-9_D_V1-0/SPOT1-HRV1-XS_19861116-102248-242_L1C_048-255-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19861116-102248-242_L1C_048-255-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861116-102248-242_L1C_048-255-9_D_V1-0.zip
run script
2024-01-10T02:44:33.497    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:44:33.498    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861116-102248-242_L1C_048-255-9_D_V1-0.zip
2024-01-10T02:44:33.499    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:44:33.499    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:44:33.499    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:44:33.499    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:44:33.499    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:44:33.499    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:44:33.499    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:44:33.499    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861116-102248-242_L1C_048-255-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/11/16/SPOT1-HRV1-XS_19861116-102248-317_L1C_048-256-0_D_V1-0/SPOT1-HRV1-XS_19861116-102248-317_L1C_048-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19861116-102248-317_L1C_048-256-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861116-102248-317_L1C_048-256-0_D_V1-0.zip
run script
2024-01-10T02:45:55.792    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:45:55.793    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861116-102248-317_L1C_048-256-0_D_V1-0.zip
2024-01-10T02:45:55.793    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:45:55.793    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:45:55.793    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:45:55.794    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:45:55.794    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:45:55.794    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:45:55.794    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:45:55.794    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861116-102248-317_L1C_048-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/11/16/SPOT1-HRV2-XS_19861116-102229-288_L1C_051-254-0_D_V1-0/SPOT1-HRV2-XS_19861116-102229-288_L1C_051-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19861116-102229-288_L1C_051-254-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861116-102229-288_L1C_051-254-0_D_V1-0.zip
run script
2024-01-10T02:47:24.567    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:47:24.568    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861116-102229-288_L1C_051-254-0_D_V1-0.zip
2024-01-10T02:47:24.568    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:47:24.568    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:47:24.568    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:47:24.568    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:47:24.568    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:47:24.568    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:47:24.568    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:47:24.569    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861116-102229-288_L1C_051-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1986/11/16/SPOT1-HRV2-XS_19861116-102253-831_L1C_051-256-9_D_V1-0/SPOT1-HRV2-XS_19861116-102253-831_L1C_051-256-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19861116-102253-831_L1C_051-256-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861116-102253-831_L1C_051-256-9_D_V1-0.zip
run script
2024-01-10T02:47:27.841    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:47:27.842    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861116-102253-831_L1C_051-256-9_D_V1-0.zip
2024-01-10T02:47:27.842    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:47:27.842    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:47:27.842    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:47:27.843    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:47:27.843    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:47:27.843    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:47:27.843    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:47:27.843    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861116-102253-831_L1C_051-256-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/06/17/SPOT1-HRV2-XS_19860617-104631-802_L1C_048-259-0_D_V1-0/SPOT1-HRV2-XS_19860617-104631-802_L1C_048-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19860617-104631-802_L1C_048-259-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860617-104631-802_L1C_048-259-0_D_V1-0.zip
run script
2024-01-10T02:51:07.097    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:51:07.098    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860617-104631-802_L1C_048-259-0_D_V1-0.zip
2024-01-10T02:51:07.098    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:51:07.098    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:51:07.098    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:51:07.098    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:51:07.098    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:51:07.098    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:51:07.098    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:51:07.099    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860617-104631-802_L1C_048-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1986/06/17/SPOT1-HRV2-XS_19860617-104640-131_L1C_048-260-0_D_V1-0/SPOT1-HRV2-XS_19860617-104640-131_L1C_048-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19860617-104640-131_L1C_048-260-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860617-104640-131_L1C_048-260-0_D_V1-0.zip
run script
2024-01-10T02:51:10.739    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:51:10.739    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860617-104640-131_L1C_048-260-0_D_V1-0.zip
2024-01-10T02:51:10.739    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:51:10.739    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:51:10.739    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:51:10.739    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:51:10.739    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:51:10.739    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:51:10.739    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:51:10.739    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860617-104640-131_L1C_048-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1986/06/17/SPOT1-HRV2-XS_19860617-104648-466_L1C_048-261-0_D_V1-0/SPOT1-HRV2-XS_19860617-104648-466_L1C_048-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19860617-104648-466_L1C_048-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860617-104648-466_L1C_048-261-0_D_V1-0.zip
run script
2024-01-10T02:51:16.343    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:51:16.345    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860617-104648-466_L1C_048-261-0_D_V1-0.zip
2024-01-10T02:51:16.345    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:51:16.345    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:51:16.345    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:51:16.345    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:51:16.345    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:51:16.345    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:51:16.346    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:51:16.346    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860617-104648-466_L1C_048-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1986/04/26/SPOT1-HRV2-XS_19860426-104639-738_L1C_048-261-0_D_V1-0/SPOT1-HRV2-XS_19860426-104639-738_L1C_048-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19860426-104639-738_L1C_048-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860426-104639-738_L1C_048-261-0_D_V1-0.zip
run script
2024-01-10T02:51:19.636    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:51:19.636    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860426-104639-738_L1C_048-261-0_D_V1-0.zip
2024-01-10T02:51:19.636    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:51:19.636    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:51:19.636    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:51:19.636    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:51:19.636    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:51:19.636    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:51:19.636    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:51:19.636    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860426-104639-738_L1C_048-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1986/07/13/SPOT1-HRV2-XS_19860713-104549-836_L1C_050-254-0_D_V1-0/SPOT1-HRV2-XS_19860713-104549-836_L1C_050-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19860713-104549-836_L1C_050-254-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860713-104549-836_L1C_050-254-0_D_V1-0.zip
run script
2024-01-10T02:51:22.868    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:51:22.870    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860713-104549-836_L1C_050-254-0_D_V1-0.zip
2024-01-10T02:51:22.870    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:51:22.870    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:51:22.870    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:51:22.870    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:51:22.870    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:51:22.870    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:51:22.870    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:51:22.870    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860713-104549-836_L1C_050-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1986/07/13/SPOT1-HRV2-XS_19860713-104558-153_L1C_050-255-0_D_V1-0/SPOT1-HRV2-XS_19860713-104558-153_L1C_050-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19860713-104558-153_L1C_050-255-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860713-104558-153_L1C_050-255-0_D_V1-0.zip
run script
2024-01-10T02:51:26.036    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:51:26.036    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860713-104558-153_L1C_050-255-0_D_V1-0.zip
2024-01-10T02:51:26.037    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:51:26.037    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:51:26.037    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:51:26.037    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:51:26.037    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:51:26.037    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:51:26.037    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:51:26.037    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860713-104558-153_L1C_050-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/07/13/SPOT1-HRV2-XS_19860713-104606-274_L1C_050-255-9_D_V1-0/SPOT1-HRV2-XS_19860713-104606-274_L1C_050-255-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19860713-104606-274_L1C_050-255-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860713-104606-274_L1C_050-255-9_D_V1-0.zip
run script
2024-01-10T02:52:36.810    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:52:36.812    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860713-104606-274_L1C_050-255-9_D_V1-0.zip
2024-01-10T02:52:36.812    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:52:36.812    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:52:36.812    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:52:36.812    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:52:36.812    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:52:36.812    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:52:36.812    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:52:36.812    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860713-104606-274_L1C_050-255-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/08/09/SPOT1-HRV2-XS_19860809-102634-894_L1C_050-254-0_D_V1-0/SPOT1-HRV2-XS_19860809-102634-894_L1C_050-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19860809-102634-894_L1C_050-254-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860809-102634-894_L1C_050-254-0_D_V1-0.zip
run script
2024-01-10T02:56:04.458    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:56:04.459    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860809-102634-894_L1C_050-254-0_D_V1-0.zip
2024-01-10T02:56:04.459    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:56:04.460    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:56:04.460    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:56:04.460    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:56:04.460    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:56:04.460    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:56:04.460    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:56:04.460    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860809-102634-894_L1C_050-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1986/08/03/SPOT1-HRV1-XS_19860803-104226-692_L1C_050-257-0_D_V1-0/SPOT1-HRV1-XS_19860803-104226-692_L1C_050-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860803-104226-692_L1C_050-257-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860803-104226-692_L1C_050-257-0_D_V1-0.zip
run script
2024-01-10T02:56:08.304    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T02:56:08.305    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860803-104226-692_L1C_050-257-0_D_V1-0.zip
2024-01-10T02:56:08.305    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T02:56:08.305    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T02:56:08.306    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T02:56:08.306    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T02:56:08.306    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T02:56:08.306    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T02:56:08.306    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T02:56:08.306    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860803-104226-692_L1C_050-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/08/03/SPOT1-HRV1-XS_19860803-104235-006_L1C_050-258-0_D_V1-0/SPOT1-HRV1-XS_19860803-104235-006_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860803-104235-006_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860803-104235-006_L1C_050-258-0_D_V1-0.zip
run script
2024-01-10T03:00:58.885    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T03:00:58.885    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860803-104235-006_L1C_050-258-0_D_V1-0.zip
2024-01-10T03:00:58.885    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:00:58.885    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:00:58.885    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:00:58.886    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:00:58.886    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:00:58.886    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:00:58.886    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:00:58.886    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T03:14:59.708    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1 x 218). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860803-104235-006_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/1986/08/03/SPOT1-HRV1-XS_19860803-104243-329_L1C_050-259-0_D_V1-0/SPOT1-HRV1-XS_19860803-104243-329_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860803-104243-329_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860803-104243-329_L1C_050-259-0_D_V1-0.zip
run script
2024-01-10T03:15:03.741    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T03:15:03.742    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860803-104243-329_L1C_050-259-0_D_V1-0.zip
2024-01-10T03:15:03.743    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T03:15:03.743    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T03:15:03.743    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T03:15:03.743    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T03:15:03.743    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T03:15:03.743    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T03:15:03.743    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T03:15:03.743    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860803-104243-329_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/08/03/SPOT1-HRV1-XS_19860803-104251-661_L1C_050-260-0_D_V1-0/SPOT1-HRV1-XS_19860803-104251-661_L1C_050-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860803-104251-661_L1C_050-260-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860803-104251-661_L1C_050-260-0_D_V1-0.zip
run script
2024-01-10T04:02:09.893    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T04:02:09.895    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860803-104251-661_L1C_050-260-0_D_V1-0.zip
2024-01-10T04:02:09.895    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T04:02:09.895    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T04:02:09.895    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T04:02:09.895    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T04:02:09.895    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T04:02:09.895    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T04:02:09.895    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T04:02:09.895    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860803-104251-661_L1C_050-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/08/03/SPOT1-HRV1-XS_19860803-104259-996_L1C_050-261-0_D_V1-0/SPOT1-HRV1-XS_19860803-104259-996_L1C_050-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860803-104259-996_L1C_050-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860803-104259-996_L1C_050-261-0_D_V1-0.zip
run script
2024-01-10T05:51:28.395    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T05:51:28.396    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860803-104259-996_L1C_050-261-0_D_V1-0.zip
2024-01-10T05:51:28.396    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:51:28.396    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:51:28.396    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:51:28.396    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:51:28.396    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:51:28.396    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:51:28.396    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:51:28.397    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860803-104259-996_L1C_050-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/08/03/SPOT1-HRV1-XS_19860803-104308-340_L1C_050-262-0_D_V1-0/SPOT1-HRV1-XS_19860803-104308-340_L1C_050-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860803-104308-340_L1C_050-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860803-104308-340_L1C_050-262-0_D_V1-0.zip
run script
2024-01-10T05:54:40.647    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T05:54:40.648    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860803-104308-340_L1C_050-262-0_D_V1-0.zip
2024-01-10T05:54:40.648    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:54:40.648    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:54:40.648    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:54:40.648    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:54:40.648    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:54:40.648    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:54:40.649    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:54:40.649    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860803-104308-340_L1C_050-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/08/03/SPOT1-HRV2-XS_19860803-104302-839_L1C_054-262-0_D_V1-0/SPOT1-HRV2-XS_19860803-104302-839_L1C_054-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19860803-104302-839_L1C_054-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860803-104302-839_L1C_054-262-0_D_V1-0.zip
run script
2024-01-10T05:56:13.006    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T05:56:13.007    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860803-104302-839_L1C_054-262-0_D_V1-0.zip
2024-01-10T05:56:13.007    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:56:13.007    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:56:13.007    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:56:13.007    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:56:13.008    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:56:13.008    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:56:13.008    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:56:13.008    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860803-104302-839_L1C_054-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/08/03/SPOT1-HRV2-XS_19860803-104254-443_L1C_055-261-0_D_V1-0/SPOT1-HRV2-XS_19860803-104254-443_L1C_055-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19860803-104254-443_L1C_055-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860803-104254-443_L1C_055-261-0_D_V1-0.zip
run script
2024-01-10T05:58:15.370    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T05:58:15.371    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860803-104254-443_L1C_055-261-0_D_V1-0.zip
2024-01-10T05:58:15.371    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:58:15.371    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:58:15.371    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:58:15.371    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:58:15.371    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:58:15.371    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:58:15.371    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:58:15.371    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860803-104254-443_L1C_055-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/07/08/SPOT1-HRV1-XS_19860708-104238-508_L1C_050-259-0_D_V1-0/SPOT1-HRV1-XS_19860708-104238-508_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860708-104238-508_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860708-104238-508_L1C_050-259-0_D_V1-0.zip
run script
2024-01-10T05:59:55.140    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T05:59:55.141    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860708-104238-508_L1C_050-259-0_D_V1-0.zip
2024-01-10T05:59:55.141    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T05:59:55.141    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T05:59:55.141    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T05:59:55.141    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T05:59:55.142    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T05:59:55.142    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T05:59:55.142    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T05:59:55.142    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860708-104238-508_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/07/08/SPOT1-HRV1-XS_19860708-104246-840_L1C_050-260-0_D_V1-0/SPOT1-HRV1-XS_19860708-104246-840_L1C_050-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860708-104246-840_L1C_050-260-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860708-104246-840_L1C_050-260-0_D_V1-0.zip
run script
2024-01-10T06:02:37.771    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:02:37.772    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860708-104246-840_L1C_050-260-0_D_V1-0.zip
2024-01-10T06:02:37.772    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:02:37.772    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:02:37.772    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:02:37.773    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:02:37.773    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:02:37.773    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:02:37.773    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:02:37.773    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860708-104246-840_L1C_050-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/07/08/SPOT1-HRV1-XS_19860708-104255-178_L1C_050-261-0_D_V1-0/SPOT1-HRV1-XS_19860708-104255-178_L1C_050-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860708-104255-178_L1C_050-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860708-104255-178_L1C_050-261-0_D_V1-0.zip
run script
2024-01-10T06:04:43.578    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:04:43.579    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860708-104255-178_L1C_050-261-0_D_V1-0.zip
2024-01-10T06:04:43.579    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:04:43.579    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:04:43.580    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:04:43.580    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:04:43.580    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:04:43.580    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:04:43.580    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:04:43.580    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860708-104255-178_L1C_050-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 1 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/07/08/SPOT1-HRV1-XS_19860708-104303-522_L1C_050-262-0_D_V1-0/SPOT1-HRV1-XS_19860708-104303-522_L1C_050-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860708-104303-522_L1C_050-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860708-104303-522_L1C_050-262-0_D_V1-0.zip
run script
2024-01-10T06:06:35.869    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:06:35.870    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860708-104303-522_L1C_050-262-0_D_V1-0.zip
2024-01-10T06:06:35.870    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:06:35.870    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:06:35.870    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:06:35.870    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:06:35.870    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:06:35.870    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:06:35.871    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:06:35.871    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860708-104303-522_L1C_050-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/05/12/SPOT1-HRV1-XS_19860512-103759-777_L1C_051-254-0_D_V1-0/SPOT1-HRV1-XS_19860512-103759-777_L1C_051-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860512-103759-777_L1C_051-254-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860512-103759-777_L1C_051-254-0_D_V1-0.zip
run script
2024-01-10T06:07:50.978    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:07:50.979    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860512-103759-777_L1C_051-254-0_D_V1-0.zip
2024-01-10T06:07:50.979    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:07:50.979    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:07:50.979    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:07:50.980    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:07:50.980    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:07:50.980    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:07:50.980    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:07:50.980    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860512-103759-777_L1C_051-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1986/05/12/SPOT1-HRV1-XS_19860512-103824-617_L1C_051-257-0_D_V1-0/SPOT1-HRV1-XS_19860512-103824-617_L1C_051-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860512-103824-617_L1C_051-257-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860512-103824-617_L1C_051-257-0_D_V1-0.zip
run script
2024-01-10T06:07:54.199    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:07:54.200    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860512-103824-617_L1C_051-257-0_D_V1-0.zip
2024-01-10T06:07:54.200    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:07:54.200    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:07:54.200    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:07:54.200    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:07:54.201    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:07:54.201    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:07:54.201    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:07:54.201    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860512-103824-617_L1C_051-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 1 1 1]
 [1 1 1 ... 1 1 1]
 [1 1 1 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 1]
 [0 0 0 ... 2 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/05/12/SPOT1-HRV1-XS_19860512-103832-913_L1C_051-258-0_D_V1-0/SPOT1-HRV1-XS_19860512-103832-913_L1C_051-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860512-103832-913_L1C_051-258-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860512-103832-913_L1C_051-258-0_D_V1-0.zip
run script
2024-01-10T06:11:59.609    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:11:59.610    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860512-103832-913_L1C_051-258-0_D_V1-0.zip
2024-01-10T06:11:59.610    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:11:59.610    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:11:59.610    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:11:59.610    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:11:59.611    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:11:59.611    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:11:59.611    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:11:59.611    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T06:14:09.000    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 217). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860512-103832-913_L1C_051-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/1986/05/12/SPOT1-HRV1-XS_19860512-103841-035_L1C_051-258-9_D_V1-0/SPOT1-HRV1-XS_19860512-103841-035_L1C_051-258-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860512-103841-035_L1C_051-258-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860512-103841-035_L1C_051-258-9_D_V1-0.zip
run script
2024-01-10T06:14:12.573    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:14:12.573    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860512-103841-035_L1C_051-258-9_D_V1-0.zip
2024-01-10T06:14:12.573    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:14:12.573    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:14:12.573    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:14:12.573    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:14:12.573    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:14:12.573    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:14:12.573    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:14:12.574    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860512-103841-035_L1C_051-258-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/05/12/SPOT1-HRV2-XS_19860512-103830-973_L1C_052-258-0_D_V1-0/SPOT1-HRV2-XS_19860512-103830-973_L1C_052-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19860512-103830-973_L1C_052-258-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860512-103830-973_L1C_052-258-0_D_V1-0.zip
run script
2024-01-10T06:17:28.490    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:17:28.491    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860512-103830-973_L1C_052-258-0_D_V1-0.zip
2024-01-10T06:17:28.491    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:17:28.492    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:17:28.492    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:17:28.492    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:17:28.492    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:17:28.492    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:17:28.492    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:17:28.492    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860512-103830-973_L1C_052-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/05/12/SPOT1-HRV2-XS_19860512-103839-095_L1C_052-258-9_D_V1-0/SPOT1-HRV2-XS_19860512-103839-095_L1C_052-258-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19860512-103839-095_L1C_052-258-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860512-103839-095_L1C_052-258-9_D_V1-0.zip
run script
2024-01-10T06:20:17.432    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:20:17.433    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860512-103839-095_L1C_052-258-9_D_V1-0.zip
2024-01-10T06:20:17.433    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:20:17.433    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:20:17.433    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:20:17.433    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:20:17.433    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:20:17.433    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:20:17.434    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:20:17.434    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860512-103839-095_L1C_052-258-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 1 1 1]
 [1 1 2 ... 1 1 1]
 [1 1 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/12/17/SPOT1-HRV1-XS_19861217-102705-919_L1C_051-260-0_D_V1-0/SPOT1-HRV1-XS_19861217-102705-919_L1C_051-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19861217-102705-919_L1C_051-260-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861217-102705-919_L1C_051-260-0_D_V1-0.zip
run script
2024-01-10T06:23:41.326    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:23:41.327    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861217-102705-919_L1C_051-260-0_D_V1-0.zip
2024-01-10T06:23:41.327    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:23:41.327    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:23:41.327    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:23:41.327    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:23:41.327    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:23:41.327    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:23:41.327    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:23:41.327    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861217-102705-919_L1C_051-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/12/17/SPOT1-HRV1-XS_19861217-102714-188_L1C_051-261-0_D_V1-0/SPOT1-HRV1-XS_19861217-102714-188_L1C_051-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19861217-102714-188_L1C_051-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861217-102714-188_L1C_051-261-0_D_V1-0.zip
run script
2024-01-10T06:26:26.185    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:26:26.186    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861217-102714-188_L1C_051-261-0_D_V1-0.zip
2024-01-10T06:26:26.187    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:26:26.187    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:26:26.187    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:26:26.187    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:26:26.187    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:26:26.187    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:26:26.187    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:26:26.187    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T06:29:06.911    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (119 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861217-102714-188_L1C_051-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/1986/12/17/SPOT1-HRV1-XS_19861217-102722-466_L1C_051-262-0_D_V1-0/SPOT1-HRV1-XS_19861217-102722-466_L1C_051-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19861217-102722-466_L1C_051-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861217-102722-466_L1C_051-262-0_D_V1-0.zip
run script
2024-01-10T06:29:10.317    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:29:10.317    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861217-102722-466_L1C_051-262-0_D_V1-0.zip
2024-01-10T06:29:10.317    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:29:10.317    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:29:10.317    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:29:10.317    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:29:10.317    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:29:10.318    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:29:10.318    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:29:10.318    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861217-102722-466_L1C_051-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/12/17/SPOT1-HRV1-XS_19861217-102730-750_L1C_051-263-0_D_V1-0/SPOT1-HRV1-XS_19861217-102730-750_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19861217-102730-750_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861217-102730-750_L1C_051-263-0_D_V1-0.zip
run script
2024-01-10T06:31:19.708    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:31:19.710    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861217-102730-750_L1C_051-263-0_D_V1-0.zip
2024-01-10T06:31:19.710    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:31:19.710    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:31:19.710    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:31:19.710    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:31:19.710    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:31:19.710    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:31:19.710    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:31:19.710    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861217-102730-750_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/12/17/SPOT1-HRV2-XS_19861217-102712-711_L1C_052-261-0_D_V1-0/SPOT1-HRV2-XS_19861217-102712-711_L1C_052-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19861217-102712-711_L1C_052-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861217-102712-711_L1C_052-261-0_D_V1-0.zip
run script
2024-01-10T06:32:08.624    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:32:08.625    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861217-102712-711_L1C_052-261-0_D_V1-0.zip
2024-01-10T06:32:08.625    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:32:08.625    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:32:08.625    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:32:08.625    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:32:08.625    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:32:08.625    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:32:08.626    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:32:08.626    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861217-102712-711_L1C_052-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/12/17/SPOT1-HRV2-XS_19861217-102720-998_L1C_052-262-0_D_V1-0/SPOT1-HRV2-XS_19861217-102720-998_L1C_052-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19861217-102720-998_L1C_052-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861217-102720-998_L1C_052-262-0_D_V1-0.zip
run script
2024-01-10T06:35:35.927    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:35:35.929    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861217-102720-998_L1C_052-262-0_D_V1-0.zip
2024-01-10T06:35:35.929    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:35:35.929    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:35:35.929    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:35:35.929    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:35:35.929    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:35:35.929    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:35:35.929    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:35:35.929    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861217-102720-998_L1C_052-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/12/17/SPOT1-HRV2-XS_19861217-102729-294_L1C_052-263-0_D_V1-0/SPOT1-HRV2-XS_19861217-102729-294_L1C_052-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19861217-102729-294_L1C_052-263-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861217-102729-294_L1C_052-263-0_D_V1-0.zip
run script
2024-01-10T06:38:16.952    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:38:16.954    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861217-102729-294_L1C_052-263-0_D_V1-0.zip
2024-01-10T06:38:16.954    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:38:16.954    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:38:16.954    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:38:16.954    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:38:16.954    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:38:16.954    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:38:16.954    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:38:16.954    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861217-102729-294_L1C_052-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/12/27/SPOT1-HRV1-XS_19861227-103446-497_L1C_051-260-0_D_V1-0/SPOT1-HRV1-XS_19861227-103446-497_L1C_051-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19861227-103446-497_L1C_051-260-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861227-103446-497_L1C_051-260-0_D_V1-0.zip
run script
2024-01-10T06:39:36.214    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:39:36.215    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861227-103446-497_L1C_051-260-0_D_V1-0.zip
2024-01-10T06:39:36.215    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:39:36.215    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:39:36.215    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:39:36.215    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:39:36.215    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:39:36.215    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:39:36.215    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:39:36.216    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861227-103446-497_L1C_051-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/12/27/SPOT1-HRV1-XS_19861227-103454-799_L1C_051-261-0_D_V1-0/SPOT1-HRV1-XS_19861227-103454-799_L1C_051-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19861227-103454-799_L1C_051-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861227-103454-799_L1C_051-261-0_D_V1-0.zip
run script
2024-01-10T06:42:04.778    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:42:04.779    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861227-103454-799_L1C_051-261-0_D_V1-0.zip
2024-01-10T06:42:04.779    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:42:04.779    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:42:04.780    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:42:04.780    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:42:04.780    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:42:04.780    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:42:04.780    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:42:04.780    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861227-103454-799_L1C_051-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/12/27/SPOT1-HRV1-XS_19861227-103503-104_L1C_051-262-0_D_V1-0/SPOT1-HRV1-XS_19861227-103503-104_L1C_051-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19861227-103503-104_L1C_051-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861227-103503-104_L1C_051-262-0_D_V1-0.zip
run script
2024-01-10T06:44:32.959    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:44:32.960    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861227-103503-104_L1C_051-262-0_D_V1-0.zip
2024-01-10T06:44:32.960    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:44:32.960    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:44:32.961    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:44:32.961    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:44:32.961    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:44:32.961    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:44:32.961    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:44:32.961    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861227-103503-104_L1C_051-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/12/27/SPOT1-HRV1-XS_19861227-103511-421_L1C_051-263-0_D_V1-0/SPOT1-HRV1-XS_19861227-103511-421_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19861227-103511-421_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861227-103511-421_L1C_051-263-0_D_V1-0.zip
run script
2024-01-10T06:46:26.771    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:46:26.781    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861227-103511-421_L1C_051-263-0_D_V1-0.zip
2024-01-10T06:46:26.781    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:46:26.781    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:46:26.781    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:46:26.781    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:46:26.781    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:46:26.781    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:46:26.781    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:46:26.781    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861227-103511-421_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/12/27/SPOT1-HRV2-XS_19861227-103444-671_L1C_052-260-0_D_V1-0/SPOT1-HRV2-XS_19861227-103444-671_L1C_052-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19861227-103444-671_L1C_052-260-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861227-103444-671_L1C_052-260-0_D_V1-0.zip
run script
2024-01-10T06:47:06.448    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:47:06.450    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861227-103444-671_L1C_052-260-0_D_V1-0.zip
2024-01-10T06:47:06.451    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:47:06.451    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:47:06.451    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:47:06.451    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:47:06.451    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:47:06.451    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:47:06.452    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:47:06.452    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861227-103444-671_L1C_052-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/12/27/SPOT1-HRV2-XS_19861227-103452-985_L1C_052-261-0_D_V1-0/SPOT1-HRV2-XS_19861227-103452-985_L1C_052-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19861227-103452-985_L1C_052-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861227-103452-985_L1C_052-261-0_D_V1-0.zip
run script
2024-01-10T06:50:13.349    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:50:13.350    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861227-103452-985_L1C_052-261-0_D_V1-0.zip
2024-01-10T06:50:13.350    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:50:13.350    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:50:13.350    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:50:13.351    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:50:13.351    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:50:13.351    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:50:13.351    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:50:13.351    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861227-103452-985_L1C_052-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/12/27/SPOT1-HRV2-XS_19861227-103501-308_L1C_052-262-0_D_V1-0/SPOT1-HRV2-XS_19861227-103501-308_L1C_052-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19861227-103501-308_L1C_052-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861227-103501-308_L1C_052-262-0_D_V1-0.zip
run script
2024-01-10T06:53:44.049    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:53:44.050    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861227-103501-308_L1C_052-262-0_D_V1-0.zip
2024-01-10T06:53:44.051    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:53:44.051    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:53:44.051    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:53:44.051    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:53:44.051    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:53:44.051    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:53:44.051    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:53:44.051    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861227-103501-308_L1C_052-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/06/02/SPOT1-HRV1-XS_19860602-103517-858_L1C_051-262-0_D_V1-0/SPOT1-HRV1-XS_19860602-103517-858_L1C_051-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860602-103517-858_L1C_051-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860602-103517-858_L1C_051-262-0_D_V1-0.zip
run script
2024-01-10T06:56:30.760    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:56:30.761    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860602-103517-858_L1C_051-262-0_D_V1-0.zip
2024-01-10T06:56:30.762    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:56:30.762    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:56:30.762    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:56:30.762    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:56:30.762    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:56:30.762    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:56:30.762    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:56:30.762    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860602-103517-858_L1C_051-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/06/02/SPOT1-HRV1-XS_19860602-103525-980_L1C_051-262-9_D_V1-0/SPOT1-HRV1-XS_19860602-103525-980_L1C_051-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860602-103525-980_L1C_051-262-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860602-103525-980_L1C_051-262-9_D_V1-0.zip
run script
2024-01-10T06:58:05.416    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:58:05.417    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860602-103525-980_L1C_051-262-9_D_V1-0.zip
2024-01-10T06:58:05.417    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:58:05.417    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:58:05.417    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:58:05.417    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:58:05.417    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:58:05.417    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:58:05.417    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:58:05.418    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860602-103525-980_L1C_051-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/06/02/SPOT1-HRV2-XS_19860602-103516-066_L1C_052-262-0_D_V1-0/SPOT1-HRV2-XS_19860602-103516-066_L1C_052-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19860602-103516-066_L1C_052-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860602-103516-066_L1C_052-262-0_D_V1-0.zip
run script
2024-01-10T06:58:40.418    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T06:58:40.420    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860602-103516-066_L1C_052-262-0_D_V1-0.zip
2024-01-10T06:58:40.420    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T06:58:40.420    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T06:58:40.420    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T06:58:40.420    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T06:58:40.420    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T06:58:40.420    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T06:58:40.420    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T06:58:40.420    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860602-103516-066_L1C_052-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/06/12/SPOT1-HRV1-XS_19860612-104301-848_L1C_051-262-0_D_V1-0/SPOT1-HRV1-XS_19860612-104301-848_L1C_051-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860612-104301-848_L1C_051-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860612-104301-848_L1C_051-262-0_D_V1-0.zip
run script
2024-01-10T07:01:16.399    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:01:16.400    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860612-104301-848_L1C_051-262-0_D_V1-0.zip
2024-01-10T07:01:16.400    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:01:16.401    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:01:16.401    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:01:16.401    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:01:16.401    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:01:16.401    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:01:16.401    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:01:16.401    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860612-104301-848_L1C_051-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/06/12/SPOT1-HRV1-XS_19860612-104310-204_L1C_051-263-0_D_V1-0/SPOT1-HRV1-XS_19860612-104310-204_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860612-104310-204_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860612-104310-204_L1C_051-263-0_D_V1-0.zip
run script
2024-01-10T07:02:47.131    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:02:47.133    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860612-104310-204_L1C_051-263-0_D_V1-0.zip
2024-01-10T07:02:47.133    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:02:47.133    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:02:47.133    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:02:47.133    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:02:47.133    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:02:47.133    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:02:47.133    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:02:47.133    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860612-104310-204_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/06/12/SPOT1-HRV2-XS_19860612-104259-845_L1C_052-262-0_D_V1-0/SPOT1-HRV2-XS_19860612-104259-845_L1C_052-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19860612-104259-845_L1C_052-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860612-104259-845_L1C_052-262-0_D_V1-0.zip
run script
2024-01-10T07:03:22.064    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:03:22.066    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860612-104259-845_L1C_052-262-0_D_V1-0.zip
2024-01-10T07:03:22.066    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:03:22.066    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:03:22.066    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:03:22.066    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:03:22.066    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:03:22.066    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:03:22.066    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:03:22.066    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860612-104259-845_L1C_052-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/06/12/SPOT1-HRV2-XS_19860612-104307-966_L1C_052-262-9_D_V1-0/SPOT1-HRV2-XS_19860612-104307-966_L1C_052-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19860612-104307-966_L1C_052-262-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860612-104307-966_L1C_052-262-9_D_V1-0.zip
run script
2024-01-10T07:06:14.999    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:06:15.000    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860612-104307-966_L1C_052-262-9_D_V1-0.zip
2024-01-10T07:06:15.000    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:06:15.001    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:06:15.001    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:06:15.001    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:06:15.001    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:06:15.001    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:06:15.001    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:06:15.001    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860612-104307-966_L1C_052-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/12/11/SPOT1-HRV1-XS_19861211-104300-139_L1C_051-263-0_D_V1-0/SPOT1-HRV1-XS_19861211-104300-139_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19861211-104300-139_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861211-104300-139_L1C_051-263-0_D_V1-0.zip
run script
2024-01-10T07:07:31.736    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:07:31.737    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861211-104300-139_L1C_051-263-0_D_V1-0.zip
2024-01-10T07:07:31.737    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:07:31.737    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:07:31.738    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:07:31.738    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:07:31.738    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:07:31.738    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:07:31.738    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:07:31.738    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861211-104300-139_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/12/11/SPOT1-HRV2-XS_19861211-104258-157_L1C_052-263-0_D_V1-0/SPOT1-HRV2-XS_19861211-104258-157_L1C_052-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19861211-104258-157_L1C_052-263-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861211-104258-157_L1C_052-263-0_D_V1-0.zip
run script
2024-01-10T07:08:04.257    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:08:04.257    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861211-104258-157_L1C_052-263-0_D_V1-0.zip
2024-01-10T07:08:04.257    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:08:04.257    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:08:04.257    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:08:04.257    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:08:04.257    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:08:04.257    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:08:04.257    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:08:04.257    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861211-104258-157_L1C_052-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/12/22/SPOT1-HRV1-XS_19861222-103121-459_L1C_051-263-0_D_V1-0/SPOT1-HRV1-XS_19861222-103121-459_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19861222-103121-459_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861222-103121-459_L1C_051-263-0_D_V1-0.zip
run script
2024-01-10T07:09:16.395    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:09:16.396    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861222-103121-459_L1C_051-263-0_D_V1-0.zip
2024-01-10T07:09:16.396    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:09:16.396    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:09:16.396    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:09:16.396    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:09:16.396    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:09:16.396    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:09:16.396    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:09:16.396    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861222-103121-459_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/12/31/SPOT1-HRV2-XS_19861231-105751-501_L1C_052-260-0_D_V1-0/SPOT1-HRV2-XS_19861231-105751-501_L1C_052-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19861231-105751-501_L1C_052-260-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861231-105751-501_L1C_052-260-0_D_V1-0.zip
run script
2024-01-10T07:09:51.848    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:09:51.848    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861231-105751-501_L1C_052-260-0_D_V1-0.zip
2024-01-10T07:09:51.849    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:09:51.849    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:09:51.849    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:09:51.849    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:09:51.849    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:09:51.849    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:09:51.849    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:09:51.849    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T07:11:31.866    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 1258). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861231-105751-501_L1C_052-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/1986/12/31/SPOT1-HRV2-XS_19861231-105759-977_L1C_052-261-0_D_V1-0/SPOT1-HRV2-XS_19861231-105759-977_L1C_052-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19861231-105759-977_L1C_052-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861231-105759-977_L1C_052-261-0_D_V1-0.zip
run script
2024-01-10T07:11:35.251    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:11:35.251    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861231-105759-977_L1C_052-261-0_D_V1-0.zip
2024-01-10T07:11:35.251    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:11:35.251    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:11:35.251    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:11:35.251    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:11:35.251    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:11:35.251    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:11:35.251    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:11:35.251    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861231-105759-977_L1C_052-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/12/31/SPOT1-HRV2-XS_19861231-105808-460_L1C_052-262-0_D_V1-0/SPOT1-HRV2-XS_19861231-105808-460_L1C_052-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19861231-105808-460_L1C_052-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861231-105808-460_L1C_052-262-0_D_V1-0.zip
run script
2024-01-10T07:15:23.931    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:15:23.932    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861231-105808-460_L1C_052-262-0_D_V1-0.zip
2024-01-10T07:15:23.932    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:15:23.932    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:15:23.932    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:15:23.932    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:15:23.933    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:15:23.933    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:15:23.933    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:15:23.933    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861231-105808-460_L1C_052-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/12/31/SPOT1-HRV2-XS_19861231-105816-946_L1C_052-263-0_D_V1-0/SPOT1-HRV2-XS_19861231-105816-946_L1C_052-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19861231-105816-946_L1C_052-263-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861231-105816-946_L1C_052-263-0_D_V1-0.zip
run script
2024-01-10T07:19:03.073    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:19:03.074    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861231-105816-946_L1C_052-263-0_D_V1-0.zip
2024-01-10T07:19:03.074    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:19:03.075    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:19:03.075    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:19:03.075    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:19:03.075    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:19:03.075    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:19:03.075    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:19:03.075    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861231-105816-946_L1C_052-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/07/24/SPOT1-HRV1-XS_19860724-103455-625_L1C_053-259-0_D_V1-0/SPOT1-HRV1-XS_19860724-103455-625_L1C_053-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860724-103455-625_L1C_053-259-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860724-103455-625_L1C_053-259-0_D_V1-0.zip
run script
2024-01-10T07:20:31.965    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:20:31.967    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860724-103455-625_L1C_053-259-0_D_V1-0.zip
2024-01-10T07:20:31.967    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:20:31.967    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:20:31.967    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:20:31.967    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:20:31.967    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:20:31.967    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:20:31.967    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:20:31.967    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860724-103455-625_L1C_053-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 0 0 0]
 [1 1 1 ... 0 0 0]
 [1 1 1 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/07/24/SPOT1-HRV1-XS_19860724-103503-939_L1C_053-260-0_D_V1-0/SPOT1-HRV1-XS_19860724-103503-939_L1C_053-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860724-103503-939_L1C_053-260-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860724-103503-939_L1C_053-260-0_D_V1-0.zip
run script
2024-01-10T07:23:16.008    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:23:16.010    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860724-103503-939_L1C_053-260-0_D_V1-0.zip
2024-01-10T07:23:16.010    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:23:16.010    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:23:16.010    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:23:16.010    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:23:16.010    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:23:16.010    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:23:16.010    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:23:16.010    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860724-103503-939_L1C_053-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/07/24/SPOT1-HRV1-XS_19860724-103512-259_L1C_053-261-0_D_V1-0/SPOT1-HRV1-XS_19860724-103512-259_L1C_053-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860724-103512-259_L1C_053-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860724-103512-259_L1C_053-261-0_D_V1-0.zip
run script
2024-01-10T07:25:48.375    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:25:48.376    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860724-103512-259_L1C_053-261-0_D_V1-0.zip
2024-01-10T07:25:48.376    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:25:48.376    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:25:48.376    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:25:48.376    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:25:48.376    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:25:48.376    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:25:48.376    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:25:48.377    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860724-103512-259_L1C_053-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/07/24/SPOT1-HRV1-XS_19860724-103520-585_L1C_053-262-0_D_V1-0/SPOT1-HRV1-XS_19860724-103520-585_L1C_053-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860724-103520-585_L1C_053-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860724-103520-585_L1C_053-262-0_D_V1-0.zip
run script
2024-01-10T07:28:48.863    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:28:48.864    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860724-103520-585_L1C_053-262-0_D_V1-0.zip
2024-01-10T07:28:48.864    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:28:48.864    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:28:48.864    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:28:48.865    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:28:48.865    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:28:48.865    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:28:48.865    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:28:48.865    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860724-103520-585_L1C_053-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/07/24/SPOT1-HRV2-XS_19860724-103510-367_L1C_054-261-0_D_V1-0/SPOT1-HRV2-XS_19860724-103510-367_L1C_054-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19860724-103510-367_L1C_054-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860724-103510-367_L1C_054-261-0_D_V1-0.zip
run script
2024-01-10T07:31:26.234    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:31:26.235    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860724-103510-367_L1C_054-261-0_D_V1-0.zip
2024-01-10T07:31:26.235    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:31:26.235    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:31:26.235    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:31:26.235    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:31:26.235    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:31:26.236    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:31:26.236    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:31:26.236    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860724-103510-367_L1C_054-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/07/24/SPOT1-HRV2-XS_19860724-103518-708_L1C_054-262-0_D_V1-0/SPOT1-HRV2-XS_19860724-103518-708_L1C_054-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19860724-103518-708_L1C_054-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860724-103518-708_L1C_054-262-0_D_V1-0.zip
run script
2024-01-10T07:33:10.424    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:33:10.425    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860724-103518-708_L1C_054-262-0_D_V1-0.zip
2024-01-10T07:33:10.426    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:33:10.426    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:33:10.426    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:33:10.426    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:33:10.426    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:33:10.426    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:33:10.426    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:33:10.426    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19860724-103518-708_L1C_054-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/06/23/SPOT1-HRV1-XS_19860623-103107-971_L1C_053-260-0_D_V1-0/SPOT1-HRV1-XS_19860623-103107-971_L1C_053-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860623-103107-971_L1C_053-260-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860623-103107-971_L1C_053-260-0_D_V1-0.zip
run script
2024-01-10T07:35:06.023    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:35:06.025    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860623-103107-971_L1C_053-260-0_D_V1-0.zip
2024-01-10T07:35:06.025    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:35:06.025    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:35:06.025    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:35:06.026    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:35:06.026    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:35:06.026    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:35:06.026    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:35:06.026    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860623-103107-971_L1C_053-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/06/23/SPOT1-HRV1-XS_19860623-103116-273_L1C_053-261-0_D_V1-0/SPOT1-HRV1-XS_19860623-103116-273_L1C_053-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860623-103116-273_L1C_053-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860623-103116-273_L1C_053-261-0_D_V1-0.zip
run script
2024-01-10T07:37:47.144    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:37:47.145    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860623-103116-273_L1C_053-261-0_D_V1-0.zip
2024-01-10T07:37:47.146    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:37:47.146    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:37:47.146    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:37:47.146    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:37:47.146    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:37:47.146    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:37:47.146    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:37:47.146    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860623-103116-273_L1C_053-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/06/23/SPOT1-HRV1-XS_19860623-103124-581_L1C_053-262-0_D_V1-0/SPOT1-HRV1-XS_19860623-103124-581_L1C_053-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19860623-103124-581_L1C_053-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860623-103124-581_L1C_053-262-0_D_V1-0.zip
run script
2024-01-10T07:40:50.691    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:40:50.692    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860623-103124-581_L1C_053-262-0_D_V1-0.zip
2024-01-10T07:40:50.692    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:40:50.692    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:40:50.692    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:40:50.692    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:40:50.692    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:40:50.692    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:40:50.692    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:40:50.693    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19860623-103124-581_L1C_053-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/10/31/SPOT1-HRV1-XS_19861031-103112-767_L1C_053-261-0_D_V1-0/SPOT1-HRV1-XS_19861031-103112-767_L1C_053-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19861031-103112-767_L1C_053-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861031-103112-767_L1C_053-261-0_D_V1-0.zip
run script
2024-01-10T07:43:32.349    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:43:32.350    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861031-103112-767_L1C_053-261-0_D_V1-0.zip
2024-01-10T07:43:32.350    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:43:32.350    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:43:32.350    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:43:32.350    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:43:32.350    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:43:32.350    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:43:32.350    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:43:32.350    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861031-103112-767_L1C_053-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/10/31/SPOT1-HRV1-XS_19861031-103121-075_L1C_053-262-0_D_V1-0/SPOT1-HRV1-XS_19861031-103121-075_L1C_053-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV1-XS_19861031-103121-075_L1C_053-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861031-103121-075_L1C_053-262-0_D_V1-0.zip
run script
2024-01-10T07:46:34.921    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:46:34.923    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861031-103121-075_L1C_053-262-0_D_V1-0.zip
2024-01-10T07:46:34.923    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:46:34.923    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:46:34.923    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:46:34.923    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:46:34.923    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:46:34.923    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:46:34.923    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:46:34.923    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV1-XS_19861031-103121-075_L1C_053-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/10/31/SPOT1-HRV2-XS_19861031-103110-956_L1C_054-261-0_D_V1-0/SPOT1-HRV2-XS_19861031-103110-956_L1C_054-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19861031-103110-956_L1C_054-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861031-103110-956_L1C_054-261-0_D_V1-0.zip
run script
2024-01-10T07:49:19.459    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:49:19.459    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861031-103110-956_L1C_054-261-0_D_V1-0.zip
2024-01-10T07:49:19.459    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:49:19.459    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:49:19.459    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:49:19.460    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:49:19.460    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:49:19.460    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:49:19.460    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:49:19.460    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861031-103110-956_L1C_054-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1986/10/31/SPOT1-HRV2-XS_19861031-103119-279_L1C_054-262-0_D_V1-0/SPOT1-HRV2-XS_19861031-103119-279_L1C_054-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT1-HRV2-XS_19861031-103119-279_L1C_054-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861031-103119-279_L1C_054-262-0_D_V1-0.zip
run script
2024-01-10T07:51:05.810    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:51:05.810    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861031-103119-279_L1C_054-262-0_D_V1-0.zip
2024-01-10T07:51:05.810    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:51:05.810    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:51:05.810    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:51:05.820    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:51:05.820    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:51:05.820    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:51:05.820    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:51:05.820    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT1-HRV2-XS_19861031-103119-279_L1C_054-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/18/SPOT4-HRVIR1-XS_20100818-102208-106_L1C_046-262-9_D_V1-0/SPOT4-HRVIR1-XS_20100818-102208-106_L1C_046-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100818-102208-106_L1C_046-262-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100818-102208-106_L1C_046-262-9_D_V1-0.zip
run script
2024-01-10T07:53:07.922    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:53:07.922    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100818-102208-106_L1C_046-262-9_D_V1-0.zip
2024-01-10T07:53:07.922    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:53:07.922    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:53:07.922    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:53:07.922    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:53:07.922    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:53:07.923    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:53:07.923    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:53:07.923    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100818-102208-106_L1C_046-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/18/SPOT4-HRVIR1-XS_20100818-102208-274_L1C_046-263-0_D_V1-0/SPOT4-HRVIR1-XS_20100818-102208-274_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100818-102208-274_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100818-102208-274_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T07:53:47.777    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:53:47.777    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100818-102208-274_L1C_046-263-0_D_V1-0.zip
2024-01-10T07:53:47.777    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:53:47.777    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:53:47.778    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:53:47.778    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:53:47.778    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:53:47.778    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:53:47.778    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:53:47.778    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100818-102208-274_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/18/SPOT4-HRVIR1-XS_20100818-102144-494_L1C_052-260-9_D_V1-0/SPOT4-HRVIR1-XS_20100818-102144-494_L1C_052-260-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100818-102144-494_L1C_052-260-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100818-102144-494_L1C_052-260-9_D_V1-0.zip
run script
2024-01-10T07:54:21.461    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:54:21.461    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100818-102144-494_L1C_052-260-9_D_V1-0.zip
2024-01-10T07:54:21.461    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:54:21.462    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:54:21.462    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:54:21.462    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:54:21.462    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:54:21.462    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:54:21.462    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:54:21.462    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100818-102144-494_L1C_052-260-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/18/SPOT4-HRVIR1-XS_20100818-102144-701_L1C_052-261-0_D_V1-0/SPOT4-HRVIR1-XS_20100818-102144-701_L1C_052-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100818-102144-701_L1C_052-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100818-102144-701_L1C_052-261-0_D_V1-0.zip
run script
2024-01-10T07:57:48.845    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T07:57:48.845    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100818-102144-701_L1C_052-261-0_D_V1-0.zip
2024-01-10T07:57:48.845    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:57:48.845    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:57:48.845    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T07:57:48.845    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:57:48.845    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:57:48.846    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:57:48.846    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:57:48.846    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100818-102144-701_L1C_052-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/27/SPOT4-HRVIR2-XS_20100627-102341-658_L1C_046-263-7_D_V1-0/SPOT4-HRVIR2-XS_20100627-102341-658_L1C_046-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100627-102341-658_L1C_046-263-7_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100627-102341-658_L1C_046-263-7_D_V1-0.zip
run script
2024-01-10T08:01:23.640    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:01:23.640    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100627-102341-658_L1C_046-263-7_D_V1-0.zip
2024-01-10T08:01:23.640    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:01:23.641    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:01:23.641    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:01:23.641    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:01:23.641    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:01:23.641    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:01:23.641    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:01:23.641    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100627-102341-658_L1C_046-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/27/SPOT4-HRVIR2-XS_20100627-102259-336_L1C_047-258-8_D_V1-0/SPOT4-HRVIR2-XS_20100627-102259-336_L1C_047-258-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100627-102259-336_L1C_047-258-8_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100627-102259-336_L1C_047-258-8_D_V1-0.zip
run script
2024-01-10T08:02:30.670    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:02:30.670    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100627-102259-336_L1C_047-258-8_D_V1-0.zip
2024-01-10T08:02:30.670    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:02:30.670    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:02:30.670    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:02:30.670    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:02:30.670    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:02:30.670    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:02:30.670    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:02:30.670    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100627-102259-336_L1C_047-258-8_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/06/27/SPOT4-HRVIR2-XS_20100627-102300-389_L1C_047-259-0_D_V1-0/SPOT4-HRVIR2-XS_20100627-102300-389_L1C_047-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100627-102300-389_L1C_047-259-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100627-102300-389_L1C_047-259-0_D_V1-0.zip
run script
2024-01-10T08:02:34.370    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:02:34.371    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100627-102300-389_L1C_047-259-0_D_V1-0.zip
2024-01-10T08:02:34.371    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:02:34.371    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:02:34.371    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:02:34.371    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:02:34.371    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:02:34.371    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:02:34.371    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:02:34.371    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100627-102300-389_L1C_047-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/06/27/SPOT4-HRVIR2-XS_20100627-102308-667_L1C_047-260-0_D_V1-0/SPOT4-HRVIR2-XS_20100627-102308-667_L1C_047-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100627-102308-667_L1C_047-260-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100627-102308-667_L1C_047-260-0_D_V1-0.zip
run script
2024-01-10T08:02:38.147    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:02:38.147    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100627-102308-667_L1C_047-260-0_D_V1-0.zip
2024-01-10T08:02:38.147    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:02:38.147    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:02:38.147    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:02:38.147    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:02:38.147    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:02:38.148    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:02:38.148    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:02:38.148    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100627-102308-667_L1C_047-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/06/27/SPOT4-HRVIR1-XS_20100627-102245-160_L1C_049-257-4_D_V1-0/SPOT4-HRVIR1-XS_20100627-102245-160_L1C_049-257-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100627-102245-160_L1C_049-257-4_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100627-102245-160_L1C_049-257-4_D_V1-0.zip
run script
2024-01-10T08:02:42.060    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:02:42.060    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100627-102245-160_L1C_049-257-4_D_V1-0.zip
2024-01-10T08:02:42.060    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:02:42.060    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:02:42.060    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:02:42.061    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:02:42.061    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:02:42.061    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:02:42.061    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:02:42.061    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100627-102245-160_L1C_049-257-4_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/06/27/SPOT4-HRVIR1-XS_20100627-102248-770_L1C_049-257-8_D_V1-0/SPOT4-HRVIR1-XS_20100627-102248-770_L1C_049-257-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100627-102248-770_L1C_049-257-8_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100627-102248-770_L1C_049-257-8_D_V1-0.zip
run script
2024-01-10T08:05:00.331    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:05:00.331    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100627-102248-770_L1C_049-257-8_D_V1-0.zip
2024-01-10T08:05:00.331    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:05:00.331    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:05:00.331    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:05:00.332    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:05:00.332    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:05:00.332    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:05:00.332    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:05:00.332    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100627-102248-770_L1C_049-257-8_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/11/SPOT4-HRVIR1-XS_20100711-105405-632_L1C_046-263-0_D_V1-0/SPOT4-HRVIR1-XS_20100711-105405-632_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100711-105405-632_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100711-105405-632_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T08:06:44.248    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:06:44.249    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100711-105405-632_L1C_046-263-0_D_V1-0.zip
2024-01-10T08:06:44.249    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:06:44.249    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:06:44.249    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:06:44.249    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:06:44.249    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:06:44.249    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:06:44.249    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:06:44.249    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100711-105405-632_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/11/SPOT4-HRVIR1-XS_20100711-105409-242_L1C_046-263-4_D_V1-0/SPOT4-HRVIR1-XS_20100711-105409-242_L1C_046-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100711-105409-242_L1C_046-263-4_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100711-105409-242_L1C_046-263-4_D_V1-0.zip
run script
2024-01-10T08:07:57.791    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:07:57.791    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100711-105409-242_L1C_046-263-4_D_V1-0.zip
2024-01-10T08:07:57.792    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:07:57.792    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:07:57.792    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:07:57.792    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:07:57.792    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:07:57.792    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:07:57.792    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:07:57.792    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100711-105409-242_L1C_046-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/12/SPOT4-HRVIR2-XS_20100712-103446-911_L1C_046-263-0_D_V1-0/SPOT4-HRVIR2-XS_20100712-103446-911_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100712-103446-911_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100712-103446-911_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T08:09:41.428    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:09:41.428    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100712-103446-911_L1C_046-263-0_D_V1-0.zip
2024-01-10T08:09:41.428    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:09:41.428    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:09:41.428    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:09:41.428    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:09:41.428    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:09:41.428    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:09:41.428    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:09:41.428    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100712-103446-911_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/12/SPOT4-HRVIR2-XS_20100712-103336-266_L1C_049-254-9_D_V1-0/SPOT4-HRVIR2-XS_20100712-103336-266_L1C_049-254-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100712-103336-266_L1C_049-254-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100712-103336-266_L1C_049-254-9_D_V1-0.zip
run script
2024-01-10T08:10:16.453    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:10:16.453    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100712-103336-266_L1C_049-254-9_D_V1-0.zip
2024-01-10T08:10:16.453    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:10:16.453    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:10:16.453    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:10:16.453    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:10:16.453    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:10:16.453    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:10:16.453    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:10:16.453    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100712-103336-266_L1C_049-254-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/12/SPOT4-HRVIR2-XS_20100712-103344-806_L1C_049-256-0_D_V1-0/SPOT4-HRVIR2-XS_20100712-103344-806_L1C_049-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100712-103344-806_L1C_049-256-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100712-103344-806_L1C_049-256-0_D_V1-0.zip
run script
2024-01-10T08:11:05.712    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:11:05.712    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100712-103344-806_L1C_049-256-0_D_V1-0.zip
2024-01-10T08:11:05.712    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:11:05.712    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:11:05.712    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:11:05.712    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:11:05.712    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:11:05.712    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:11:05.712    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:11:05.712    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100712-103344-806_L1C_049-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/12/SPOT4-HRVIR2-XS_20100712-103353-147_L1C_049-257-0_D_V1-0/SPOT4-HRVIR2-XS_20100712-103353-147_L1C_049-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100712-103353-147_L1C_049-257-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100712-103353-147_L1C_049-257-0_D_V1-0.zip
run script
2024-01-10T08:13:27.897    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:13:27.897    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100712-103353-147_L1C_049-257-0_D_V1-0.zip
2024-01-10T08:13:27.897    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:13:27.897    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:13:27.897    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:13:27.897    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:13:27.897    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:13:27.897    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:13:27.897    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:13:27.897    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100712-103353-147_L1C_049-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/12/SPOT4-HRVIR2-XS_20100712-103401-494_L1C_049-258-0_D_V1-0/SPOT4-HRVIR2-XS_20100712-103401-494_L1C_049-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100712-103401-494_L1C_049-258-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100712-103401-494_L1C_049-258-0_D_V1-0.zip
run script
2024-01-10T08:15:14.863    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:15:14.863    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100712-103401-494_L1C_049-258-0_D_V1-0.zip
2024-01-10T08:15:14.863    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:15:14.863    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:15:14.863    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:15:14.863    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:15:14.863    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:15:14.863    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:15:14.863    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:15:14.863    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T08:16:29.692    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 1042). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100712-103401-494_L1C_049-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/07/12/SPOT4-HRVIR2-XS_20100712-103409-847_L1C_049-259-0_D_V1-0/SPOT4-HRVIR2-XS_20100712-103409-847_L1C_049-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100712-103409-847_L1C_049-259-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100712-103409-847_L1C_049-259-0_D_V1-0.zip
run script
2024-01-10T08:16:33.228    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:16:33.229    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100712-103409-847_L1C_049-259-0_D_V1-0.zip
2024-01-10T08:16:33.229    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:16:33.229    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:16:33.229    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:16:33.229    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:16:33.229    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:16:33.229    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:16:33.229    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:16:33.229    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100712-103409-847_L1C_049-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/12/SPOT4-HRVIR2-XS_20100712-103418-206_L1C_049-260-0_D_V1-0/SPOT4-HRVIR2-XS_20100712-103418-206_L1C_049-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100712-103418-206_L1C_049-260-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100712-103418-206_L1C_049-260-0_D_V1-0.zip
run script
2024-01-10T08:17:29.268    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:17:29.269    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100712-103418-206_L1C_049-260-0_D_V1-0.zip
2024-01-10T08:17:29.269    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:17:29.269    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:17:29.269    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:17:29.269    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:17:29.269    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:17:29.269    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:17:29.269    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:17:29.269    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100712-103418-206_L1C_049-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/12/SPOT4-HRVIR2-XS_20100712-103426-575_L1C_049-261-0_D_V1-0/SPOT4-HRVIR2-XS_20100712-103426-575_L1C_049-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100712-103426-575_L1C_049-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100712-103426-575_L1C_049-261-0_D_V1-0.zip
run script
2024-01-10T08:18:00.397    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:18:00.397    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100712-103426-575_L1C_049-261-0_D_V1-0.zip
2024-01-10T08:18:00.397    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:18:00.397    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:18:00.397    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:18:00.397    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:18:00.397    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:18:00.397    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:18:00.397    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:18:00.397    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T08:18:02.507    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1130 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100712-103426-575_L1C_049-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2010/07/12/SPOT4-HRVIR1-XS_20100712-103437-544_L1C_051-262-6_D_V1-0/SPOT4-HRVIR1-XS_20100712-103437-544_L1C_051-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100712-103437-544_L1C_051-262-6_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100712-103437-544_L1C_051-262-6_D_V1-0.zip
run script
2024-01-10T08:18:05.843    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:18:05.843    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100712-103437-544_L1C_051-262-6_D_V1-0.zip
2024-01-10T08:18:05.843    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:18:05.843    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:18:05.843    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:18:05.843    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:18:05.843    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:18:05.843    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:18:05.844    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:18:05.844    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100712-103437-544_L1C_051-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/12/SPOT4-HRVIR1-XS_20100712-103440-536_L1C_051-263-0_D_V1-0/SPOT4-HRVIR1-XS_20100712-103440-536_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100712-103440-536_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100712-103440-536_L1C_051-263-0_D_V1-0.zip
run script
2024-01-10T08:19:22.135    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:19:22.135    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100712-103440-536_L1C_051-263-0_D_V1-0.zip
2024-01-10T08:19:22.135    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:19:22.135    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:19:22.135    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:19:22.135    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:19:22.135    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:19:22.135    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:19:22.135    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:19:22.136    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100712-103440-536_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/22/SPOT4-HRVIR2-XS_20100722-104221-667_L1C_046-263-9_D_V1-0/SPOT4-HRVIR2-XS_20100722-104221-667_L1C_046-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100722-104221-667_L1C_046-263-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100722-104221-667_L1C_046-263-9_D_V1-0.zip
run script
2024-01-10T08:20:04.904    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:20:04.905    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100722-104221-667_L1C_046-263-9_D_V1-0.zip
2024-01-10T08:20:04.905    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:20:04.905    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:20:04.905    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:20:04.905    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:20:04.905    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:20:04.905    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:20:04.905    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:20:04.905    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100722-104221-667_L1C_046-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/23/SPOT4-HRVIR1-XS_20100723-102253-453_L1C_046-263-0_D_V1-0/SPOT4-HRVIR1-XS_20100723-102253-453_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100723-102253-453_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100723-102253-453_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T08:21:16.139    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:21:16.139    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100723-102253-453_L1C_046-263-0_D_V1-0.zip
2024-01-10T08:21:16.139    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:21:16.139    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:21:16.139    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:21:16.139    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:21:16.139    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:21:16.139    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:21:16.139    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:21:16.140    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100723-102253-453_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/23/SPOT4-HRVIR2-XS_20100723-102145-308_L1C_048-255-0_D_V1-0/SPOT4-HRVIR2-XS_20100723-102145-308_L1C_048-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100723-102145-308_L1C_048-255-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100723-102145-308_L1C_048-255-0_D_V1-0.zip
run script
2024-01-10T08:21:53.728    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:21:53.729    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100723-102145-308_L1C_048-255-0_D_V1-0.zip
2024-01-10T08:21:53.729    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:21:53.729    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:21:53.729    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:21:53.729    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:21:53.729    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:21:53.729    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:21:53.729    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:21:53.729    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100723-102145-308_L1C_048-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/23/SPOT4-HRVIR2-XS_20100723-102153-556_L1C_048-256-0_D_V1-0/SPOT4-HRVIR2-XS_20100723-102153-556_L1C_048-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100723-102153-556_L1C_048-256-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100723-102153-556_L1C_048-256-0_D_V1-0.zip
run script
2024-01-10T08:22:10.263    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:22:10.263    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100723-102153-556_L1C_048-256-0_D_V1-0.zip
2024-01-10T08:22:10.264    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:22:10.264    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:22:10.264    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:22:10.264    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:22:10.264    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:22:10.264    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:22:10.264    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:22:10.264    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100723-102153-556_L1C_048-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/23/SPOT4-HRVIR1-XS_20100723-102204-344_L1C_050-257-6_D_V1-0/SPOT4-HRVIR1-XS_20100723-102204-344_L1C_050-257-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100723-102204-344_L1C_050-257-6_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100723-102204-344_L1C_050-257-6_D_V1-0.zip
run script
2024-01-10T08:22:31.135    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:22:31.135    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100723-102204-344_L1C_050-257-6_D_V1-0.zip
2024-01-10T08:22:31.135    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:22:31.135    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:22:31.135    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:22:31.135    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:22:31.135    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:22:31.135    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:22:31.135    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:22:31.135    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100723-102204-344_L1C_050-257-6_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 0 0 ... 2 2 2]
 [2 2 0 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/23/SPOT4-HRVIR1-XS_20100723-102207-217_L1C_050-258-0_D_V1-0/SPOT4-HRVIR1-XS_20100723-102207-217_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100723-102207-217_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100723-102207-217_L1C_050-258-0_D_V1-0.zip
run script
2024-01-10T08:25:20.573    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:25:20.573    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100723-102207-217_L1C_050-258-0_D_V1-0.zip
2024-01-10T08:25:20.574    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:25:20.574    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:25:20.574    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:25:20.574    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:25:20.574    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:25:20.574    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:25:20.574    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:25:20.574    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T08:27:26.685    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 438). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100723-102207-217_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2010/07/23/SPOT4-HRVIR1-XS_20100723-102209-022_L1C_050-258-2_D_V1-0/SPOT4-HRVIR1-XS_20100723-102209-022_L1C_050-258-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100723-102209-022_L1C_050-258-2_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100723-102209-022_L1C_050-258-2_D_V1-0.zip
run script
2024-01-10T08:27:29.938    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:27:29.938    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100723-102209-022_L1C_050-258-2_D_V1-0.zip
2024-01-10T08:27:29.938    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:27:29.938    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:27:29.938    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:27:29.938    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:27:29.938    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:27:29.938    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:27:29.938    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:27:29.938    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100723-102209-022_L1C_050-258-2_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/23/SPOT4-HRVIR1-XS_20100723-102219-122_L1C_050-259-4_D_V1-0/SPOT4-HRVIR1-XS_20100723-102219-122_L1C_050-259-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100723-102219-122_L1C_050-259-4_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100723-102219-122_L1C_050-259-4_D_V1-0.zip
run script
2024-01-10T08:29:56.800    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:29:56.801    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100723-102219-122_L1C_050-259-4_D_V1-0.zip
2024-01-10T08:29:56.801    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:29:56.801    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:29:56.801    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:29:56.801    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:29:56.801    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:29:56.801    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:29:56.801    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:29:56.801    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100723-102219-122_L1C_050-259-4_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/23/SPOT4-HRVIR1-XS_20100723-102220-926_L1C_050-259-6_D_V1-0/SPOT4-HRVIR1-XS_20100723-102220-926_L1C_050-259-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100723-102220-926_L1C_050-259-6_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100723-102220-926_L1C_050-259-6_D_V1-0.zip
run script
2024-01-10T08:32:04.257    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:32:04.257    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100723-102220-926_L1C_050-259-6_D_V1-0.zip
2024-01-10T08:32:04.257    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:32:04.257    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:32:04.257    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:32:04.257    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:32:04.257    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:32:04.257    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:32:04.257    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:32:04.257    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100723-102220-926_L1C_050-259-6_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/23/SPOT4-HRVIR2-XS_20100723-102231-501_L1C_051-260-9_D_V1-0/SPOT4-HRVIR2-XS_20100723-102231-501_L1C_051-260-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100723-102231-501_L1C_051-260-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100723-102231-501_L1C_051-260-9_D_V1-0.zip
run script
2024-01-10T08:34:05.699    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:34:05.699    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100723-102231-501_L1C_051-260-9_D_V1-0.zip
2024-01-10T08:34:05.699    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:34:05.699    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:34:05.699    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:34:05.699    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:34:05.699    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:34:05.700    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:34:05.700    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:34:05.700    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100723-102231-501_L1C_051-260-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/23/SPOT4-HRVIR2-XS_20100723-102231-693_L1C_051-261-0_D_V1-0/SPOT4-HRVIR2-XS_20100723-102231-693_L1C_051-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100723-102231-693_L1C_051-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100723-102231-693_L1C_051-261-0_D_V1-0.zip
run script
2024-01-10T08:36:01.469    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:36:01.469    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100723-102231-693_L1C_051-261-0_D_V1-0.zip
2024-01-10T08:36:01.469    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:36:01.469    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:36:01.469    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:36:01.469    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:36:01.469    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:36:01.469    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:36:01.469    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:36:01.469    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100723-102231-693_L1C_051-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/23/SPOT4-HRVIR2-XS_20100723-102240-016_L1C_051-262-0_D_V1-0/SPOT4-HRVIR2-XS_20100723-102240-016_L1C_051-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100723-102240-016_L1C_051-262-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100723-102240-016_L1C_051-262-0_D_V1-0.zip
run script
2024-01-10T08:37:48.816    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:37:48.817    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100723-102240-016_L1C_051-262-0_D_V1-0.zip
2024-01-10T08:37:48.817    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:37:48.817    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:37:48.817    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:37:48.817    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:37:48.817    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:37:48.817    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:37:48.817    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:37:48.817    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100723-102240-016_L1C_051-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/27/SPOT4-HRVIR2-XS_20100727-104556-518_L1C_046-263-0_D_V1-0/SPOT4-HRVIR2-XS_20100727-104556-518_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100727-104556-518_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100727-104556-518_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T08:39:09.327    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:39:09.327    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100727-104556-518_L1C_046-263-0_D_V1-0.zip
2024-01-10T08:39:09.327    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:39:09.327    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:39:09.327    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:39:09.327    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:39:09.327    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:39:09.327    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:39:09.327    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:39:09.327    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100727-104556-518_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/27/SPOT4-HRVIR2-XS_20100727-104509-256_L1C_050-258-1_D_V1-0/SPOT4-HRVIR2-XS_20100727-104509-256_L1C_050-258-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100727-104509-256_L1C_050-258-1_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100727-104509-256_L1C_050-258-1_D_V1-0.zip
run script
2024-01-10T08:39:52.133    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:39:52.133    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100727-104509-256_L1C_050-258-1_D_V1-0.zip
2024-01-10T08:39:52.133    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:39:52.133    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:39:52.133    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:39:52.133    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:39:52.133    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:39:52.133    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:39:52.133    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:39:52.133    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100727-104509-256_L1C_050-258-1_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/27/SPOT4-HRVIR2-XS_20100727-104520-429_L1C_050-259-4_D_V1-0/SPOT4-HRVIR2-XS_20100727-104520-429_L1C_050-259-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100727-104520-429_L1C_050-259-4_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100727-104520-429_L1C_050-259-4_D_V1-0.zip
run script
2024-01-10T08:43:55.340    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:43:55.340    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100727-104520-429_L1C_050-259-4_D_V1-0.zip
2024-01-10T08:43:55.340    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:43:55.340    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:43:55.340    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:43:55.340    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:43:55.340    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:43:55.340    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:43:55.341    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:43:55.341    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100727-104520-429_L1C_050-259-4_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/07/27/SPOT4-HRVIR2-XS_20100727-104524-038_L1C_050-259-8_D_V1-0/SPOT4-HRVIR2-XS_20100727-104524-038_L1C_050-259-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100727-104524-038_L1C_050-259-8_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100727-104524-038_L1C_050-259-8_D_V1-0.zip
run script
2024-01-10T08:46:40.905    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:46:40.906    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100727-104524-038_L1C_050-259-8_D_V1-0.zip
2024-01-10T08:46:40.906    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:46:40.906    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:46:40.906    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:46:40.906    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:46:40.906    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:46:40.906    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:46:40.906    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:46:40.906    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100727-104524-038_L1C_050-259-8_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/12/SPOT4-HRVIR2-XS_20100812-103746-207_L1C_046-263-0_D_V1-0/SPOT4-HRVIR2-XS_20100812-103746-207_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100812-103746-207_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100812-103746-207_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T08:49:00.106    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:49:00.106    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100812-103746-207_L1C_046-263-0_D_V1-0.zip
2024-01-10T08:49:00.106    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:49:00.106    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:49:00.107    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:49:00.107    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:49:00.107    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:49:00.107    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:49:00.107    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:49:00.107    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100812-103746-207_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/12/SPOT4-HRVIR2-XS_20100812-103710-833_L1C_047-259-0_D_V1-0/SPOT4-HRVIR2-XS_20100812-103710-833_L1C_047-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100812-103710-833_L1C_047-259-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100812-103710-833_L1C_047-259-0_D_V1-0.zip
run script
2024-01-10T08:49:37.491    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:49:37.491    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100812-103710-833_L1C_047-259-0_D_V1-0.zip
2024-01-10T08:49:37.492    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:49:37.492    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:49:37.492    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:49:37.492    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:49:37.492    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:49:37.492    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:49:37.492    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:49:37.492    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100812-103710-833_L1C_047-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/08/12/SPOT4-HRVIR2-XS_20100812-103637-434_L1C_048-255-0_D_V1-0/SPOT4-HRVIR2-XS_20100812-103637-434_L1C_048-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100812-103637-434_L1C_048-255-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100812-103637-434_L1C_048-255-0_D_V1-0.zip
run script
2024-01-10T08:49:41.055    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:49:41.056    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100812-103637-434_L1C_048-255-0_D_V1-0.zip
2024-01-10T08:49:41.056    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:49:41.056    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:49:41.056    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:49:41.056    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:49:41.056    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:49:41.056    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:49:41.056    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:49:41.056    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100812-103637-434_L1C_048-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/12/SPOT4-HRVIR2-XS_20100812-103710-595_L1C_048-258-9_D_V1-0/SPOT4-HRVIR2-XS_20100812-103710-595_L1C_048-258-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100812-103710-595_L1C_048-258-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100812-103710-595_L1C_048-258-9_D_V1-0.zip
run script
2024-01-10T08:50:02.961    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:50:02.961    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100812-103710-595_L1C_048-258-9_D_V1-0.zip
2024-01-10T08:50:02.961    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:50:02.961    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:50:02.961    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:50:02.961    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:50:02.961    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:50:02.961    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:50:02.961    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:50:02.961    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100812-103710-595_L1C_048-258-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/08/28/SPOT4-HRVIR2-XS_20100828-102938-224_L1C_046-263-5_D_V1-0/SPOT4-HRVIR2-XS_20100828-102938-224_L1C_046-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100828-102938-224_L1C_046-263-5_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100828-102938-224_L1C_046-263-5_D_V1-0.zip
run script
2024-01-10T08:50:06.153    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:50:06.153    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100828-102938-224_L1C_046-263-5_D_V1-0.zip
2024-01-10T08:50:06.153    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:50:06.154    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:50:06.154    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:50:06.154    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:50:06.154    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:50:06.154    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:50:06.154    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:50:06.154    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100828-102938-224_L1C_046-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/28/SPOT4-HRVIR1-XS_20100828-102843-230_L1C_048-257-2_D_V1-0/SPOT4-HRVIR1-XS_20100828-102843-230_L1C_048-257-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100828-102843-230_L1C_048-257-2_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100828-102843-230_L1C_048-257-2_D_V1-0.zip
run script
2024-01-10T08:52:07.312    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:52:07.312    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100828-102843-230_L1C_048-257-2_D_V1-0.zip
2024-01-10T08:52:07.312    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:52:07.312    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:52:07.312    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:52:07.313    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:52:07.313    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:52:07.313    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:52:07.313    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:52:07.313    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100828-102843-230_L1C_048-257-2_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/28/SPOT4-HRVIR1-XS_20100828-102847-742_L1C_048-257-7_D_V1-0/SPOT4-HRVIR1-XS_20100828-102847-742_L1C_048-257-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100828-102847-742_L1C_048-257-7_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100828-102847-742_L1C_048-257-7_D_V1-0.zip
run script
2024-01-10T08:52:38.162    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:52:38.162    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100828-102847-742_L1C_048-257-7_D_V1-0.zip
2024-01-10T08:52:38.162    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:52:38.162    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:52:38.162    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:52:38.162    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:52:38.162    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:52:38.162    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:52:38.162    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:52:38.163    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100828-102847-742_L1C_048-257-7_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/12/SPOT4-HRVIR2-XS_20100912-104048-198_L1C_046-263-9_D_V1-0/SPOT4-HRVIR2-XS_20100912-104048-198_L1C_046-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100912-104048-198_L1C_046-263-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100912-104048-198_L1C_046-263-9_D_V1-0.zip
run script
2024-01-10T08:52:51.465    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:52:51.465    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100912-104048-198_L1C_046-263-9_D_V1-0.zip
2024-01-10T08:52:51.465    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:52:51.465    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:52:51.465    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:52:51.465    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:52:51.465    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:52:51.465    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:52:51.465    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:52:51.465    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100912-104048-198_L1C_046-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/12/SPOT4-HRVIR2-XS_20100912-103920-830_L1C_049-254-0_D_V1-0/SPOT4-HRVIR2-XS_20100912-103920-830_L1C_049-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100912-103920-830_L1C_049-254-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100912-103920-830_L1C_049-254-0_D_V1-0.zip
run script
2024-01-10T08:54:10.016    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:54:10.016    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100912-103920-830_L1C_049-254-0_D_V1-0.zip
2024-01-10T08:54:10.016    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:54:10.016    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:54:10.017    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:54:10.017    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:54:10.017    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:54:10.017    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:54:10.017    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:54:10.017    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100912-103920-830_L1C_049-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/09/13/SPOT4-HRVIR1-XS_20100913-102126-031_L1C_046-263-7_D_V1-0/SPOT4-HRVIR1-XS_20100913-102126-031_L1C_046-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100913-102126-031_L1C_046-263-7_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100913-102126-031_L1C_046-263-7_D_V1-0.zip
run script
2024-01-10T08:54:13.266    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:54:13.266    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100913-102126-031_L1C_046-263-7_D_V1-0.zip
2024-01-10T08:54:13.266    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:54:13.266    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:54:13.266    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:54:13.266    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:54:13.266    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:54:13.266    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:54:13.266    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:54:13.266    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100913-102126-031_L1C_046-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/13/SPOT4-HRVIR2-XS_20100913-102011-559_L1C_047-255-0_D_V1-0/SPOT4-HRVIR2-XS_20100913-102011-559_L1C_047-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100913-102011-559_L1C_047-255-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100913-102011-559_L1C_047-255-0_D_V1-0.zip
run script
2024-01-10T08:55:26.910    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:55:26.910    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100913-102011-559_L1C_047-255-0_D_V1-0.zip
2024-01-10T08:55:26.910    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:55:26.910    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:55:26.910    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:55:26.911    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:55:26.911    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:55:26.911    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:55:26.911    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:55:26.911    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100913-102011-559_L1C_047-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 2 ... 2 2 2]
 [0 0 2 ... 2 2 2]
 [0 0 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/13/SPOT4-HRVIR2-XS_20100913-102044-601_L1C_048-259-0_D_V1-0/SPOT4-HRVIR2-XS_20100913-102044-601_L1C_048-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100913-102044-601_L1C_048-259-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100913-102044-601_L1C_048-259-0_D_V1-0.zip
run script
2024-01-10T08:55:44.661    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:55:44.661    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100913-102044-601_L1C_048-259-0_D_V1-0.zip
2024-01-10T08:55:44.661    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:55:44.662    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:55:44.662    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:55:44.662    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:55:44.662    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:55:44.662    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:55:44.662    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:55:44.662    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100913-102044-601_L1C_048-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/09/13/SPOT4-HRVIR1-XS_20100913-102055-027_L1C_052-260-8_D_V1-0/SPOT4-HRVIR1-XS_20100913-102055-027_L1C_052-260-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100913-102055-027_L1C_052-260-8_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100913-102055-027_L1C_052-260-8_D_V1-0.zip
run script
2024-01-10T08:55:48.183    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:55:48.183    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100913-102055-027_L1C_052-260-8_D_V1-0.zip
2024-01-10T08:55:48.184    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:55:48.184    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:55:48.184    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:55:48.184    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:55:48.184    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:55:48.184    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:55:48.184    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:55:48.184    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100913-102055-027_L1C_052-260-8_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/09/13/SPOT4-HRVIR1-XS_20100913-102056-140_L1C_052-261-0_D_V1-0/SPOT4-HRVIR1-XS_20100913-102056-140_L1C_052-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100913-102056-140_L1C_052-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100913-102056-140_L1C_052-261-0_D_V1-0.zip
run script
2024-01-10T08:59:26.738    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T08:59:26.738    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100913-102056-140_L1C_052-261-0_D_V1-0.zip
2024-01-10T08:59:26.739    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:59:26.739    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:59:26.739    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T08:59:26.739    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:59:26.739    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:59:26.739    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:59:26.739    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:59:26.739    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100913-102056-140_L1C_052-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/04/10/SPOT4-HRVIR1-XS_20100410-102443-474_L1C_047-254-9_D_V1-0/SPOT4-HRVIR1-XS_20100410-102443-474_L1C_047-254-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100410-102443-474_L1C_047-254-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100410-102443-474_L1C_047-254-9_D_V1-0.zip
run script
2024-01-10T09:02:52.061    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:02:52.061    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100410-102443-474_L1C_047-254-9_D_V1-0.zip
2024-01-10T09:02:52.061    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:02:52.061    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:02:52.061    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:02:52.061    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:02:52.061    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:02:52.061    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:02:52.061    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:02:52.061    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100410-102443-474_L1C_047-254-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/04/10/SPOT4-HRVIR1-XS_20100410-102443-586_L1C_047-255-0_D_V1-0/SPOT4-HRVIR1-XS_20100410-102443-586_L1C_047-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100410-102443-586_L1C_047-255-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100410-102443-586_L1C_047-255-0_D_V1-0.zip
run script
2024-01-10T09:03:00.278    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:03:00.279    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100410-102443-586_L1C_047-255-0_D_V1-0.zip
2024-01-10T09:03:00.279    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:03:00.279    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:03:00.279    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:03:00.279    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:03:00.279    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:03:00.279    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:03:00.279    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:03:00.279    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100410-102443-586_L1C_047-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/04/10/SPOT4-HRVIR1-XS_20100410-102449-902_L1C_047-255-7_D_V1-0/SPOT4-HRVIR1-XS_20100410-102449-902_L1C_047-255-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100410-102449-902_L1C_047-255-7_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100410-102449-902_L1C_047-255-7_D_V1-0.zip
run script
2024-01-10T09:03:10.001    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:03:10.001    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100410-102449-902_L1C_047-255-7_D_V1-0.zip
2024-01-10T09:03:10.001    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:03:10.001    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:03:10.001    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:03:10.001    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:03:10.002    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:03:10.002    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:03:10.002    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:03:10.002    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100410-102449-902_L1C_047-255-7_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/04/10/SPOT4-HRVIR1-XS_20100410-102503-152_L1C_048-257-4_D_V1-0/SPOT4-HRVIR1-XS_20100410-102503-152_L1C_048-257-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100410-102503-152_L1C_048-257-4_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100410-102503-152_L1C_048-257-4_D_V1-0.zip
run script
2024-01-10T09:03:13.739    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:03:13.739    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100410-102503-152_L1C_048-257-4_D_V1-0.zip
2024-01-10T09:03:13.739    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:03:13.739    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:03:13.739    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:03:13.739    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:03:13.739    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:03:13.739    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:03:13.739    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:03:13.739    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100410-102503-152_L1C_048-257-4_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/04/10/SPOT4-HRVIR1-XS_20100410-102507-806_L1C_048-258-0_D_V1-0/SPOT4-HRVIR1-XS_20100410-102507-806_L1C_048-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100410-102507-806_L1C_048-258-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100410-102507-806_L1C_048-258-0_D_V1-0.zip
run script
2024-01-10T09:03:17.586    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:03:17.586    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100410-102507-806_L1C_048-258-0_D_V1-0.zip
2024-01-10T09:03:17.586    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:03:17.586    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:03:17.586    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:03:17.586    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:03:17.586    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:03:17.586    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:03:17.587    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:03:17.587    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100410-102507-806_L1C_048-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/04/10/SPOT4-HRVIR1-XS_20100410-102518-787_L1C_048-259-3_D_V1-0/SPOT4-HRVIR1-XS_20100410-102518-787_L1C_048-259-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100410-102518-787_L1C_048-259-3_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100410-102518-787_L1C_048-259-3_D_V1-0.zip
run script
2024-01-10T09:03:21.090    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:03:21.091    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100410-102518-787_L1C_048-259-3_D_V1-0.zip
2024-01-10T09:03:21.091    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:03:21.091    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:03:21.091    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:03:21.091    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:03:21.091    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:03:21.091    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:03:21.091    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:03:21.091    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100410-102518-787_L1C_048-259-3_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/04/10/SPOT4-HRVIR1-XS_20100410-102522-397_L1C_048-259-7_D_V1-0/SPOT4-HRVIR1-XS_20100410-102522-397_L1C_048-259-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100410-102522-397_L1C_048-259-7_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100410-102522-397_L1C_048-259-7_D_V1-0.zip
run script
2024-01-10T09:03:24.961    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:03:24.961    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100410-102522-397_L1C_048-259-7_D_V1-0.zip
2024-01-10T09:03:24.961    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:03:24.961    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:03:24.961    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:03:24.961    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:03:24.962    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:03:24.962    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:03:24.962    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:03:24.962    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100410-102522-397_L1C_048-259-7_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/05/22/SPOT4-HRVIR1-XS_20100522-101544-194_L1C_047-254-7_D_V1-0/SPOT4-HRVIR1-XS_20100522-101544-194_L1C_047-254-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100522-101544-194_L1C_047-254-7_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100522-101544-194_L1C_047-254-7_D_V1-0.zip
run script
2024-01-10T09:03:28.415    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:03:28.415    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100522-101544-194_L1C_047-254-7_D_V1-0.zip
2024-01-10T09:03:28.415    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:03:28.415    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:03:28.416    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:03:28.416    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:03:28.416    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:03:28.416    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:03:28.416    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:03:28.416    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100522-101544-194_L1C_047-254-7_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/05/22/SPOT4-HRVIR1-XS_20100522-101546-080_L1C_047-255-0_D_V1-0/SPOT4-HRVIR1-XS_20100522-101546-080_L1C_047-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100522-101546-080_L1C_047-255-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100522-101546-080_L1C_047-255-0_D_V1-0.zip
run script
2024-01-10T09:03:36.749    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:03:36.749    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100522-101546-080_L1C_047-255-0_D_V1-0.zip
2024-01-10T09:03:36.749    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:03:36.749    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:03:36.749    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:03:36.749    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:03:36.749    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:03:36.749    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:03:36.750    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:03:36.750    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100522-101546-080_L1C_047-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/05/22/SPOT4-HRVIR1-XS_20100522-101552-397_L1C_047-255-7_D_V1-0/SPOT4-HRVIR1-XS_20100522-101552-397_L1C_047-255-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100522-101552-397_L1C_047-255-7_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100522-101552-397_L1C_047-255-7_D_V1-0.zip
run script
2024-01-10T09:03:48.421    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:03:48.421    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100522-101552-397_L1C_047-255-7_D_V1-0.zip
2024-01-10T09:03:48.421    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:03:48.422    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:03:48.422    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:03:48.422    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:03:48.422    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:03:48.422    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:03:48.422    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:03:48.422    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100522-101552-397_L1C_047-255-7_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/05/22/SPOT4-HRVIR1-XS_20100522-101605-227_L1C_047-257-3_D_V1-0/SPOT4-HRVIR1-XS_20100522-101605-227_L1C_047-257-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100522-101605-227_L1C_047-257-3_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100522-101605-227_L1C_047-257-3_D_V1-0.zip
run script
2024-01-10T09:03:59.111    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:03:59.111    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100522-101605-227_L1C_047-257-3_D_V1-0.zip
2024-01-10T09:03:59.111    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:03:59.111    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:03:59.111    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:03:59.111    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:03:59.111    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:03:59.111    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:03:59.111    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:03:59.111    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100522-101605-227_L1C_047-257-3_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/05/22/SPOT4-HRVIR1-XS_20100522-101610-753_L1C_047-258-0_D_V1-0/SPOT4-HRVIR1-XS_20100522-101610-753_L1C_047-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100522-101610-753_L1C_047-258-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100522-101610-753_L1C_047-258-0_D_V1-0.zip
run script
2024-01-10T09:04:02.625    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:04:02.625    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100522-101610-753_L1C_047-258-0_D_V1-0.zip
2024-01-10T09:04:02.625    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:04:02.625    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:04:02.625    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:04:02.625    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:04:02.625    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:04:02.625    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:04:02.625    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:04:02.625    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100522-101610-753_L1C_047-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/05/22/SPOT4-HRVIR1-XS_20100522-101613-460_L1C_047-258-3_D_V1-0/SPOT4-HRVIR1-XS_20100522-101613-460_L1C_047-258-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100522-101613-460_L1C_047-258-3_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100522-101613-460_L1C_047-258-3_D_V1-0.zip
run script
2024-01-10T09:04:06.842    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:04:06.842    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100522-101613-460_L1C_047-258-3_D_V1-0.zip
2024-01-10T09:04:06.842    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:04:06.842    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:04:06.842    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:04:06.842    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:04:06.842    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:04:06.843    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:04:06.843    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:04:06.843    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100522-101613-460_L1C_047-258-3_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/05/22/SPOT4-HRVIR2-XS_20100522-101623-993_L1C_048-259-6_D_V1-0/SPOT4-HRVIR2-XS_20100522-101623-993_L1C_048-259-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100522-101623-993_L1C_048-259-6_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100522-101623-993_L1C_048-259-6_D_V1-0.zip
run script
2024-01-10T09:04:11.282    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:04:11.282    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100522-101623-993_L1C_048-259-6_D_V1-0.zip
2024-01-10T09:04:11.282    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:04:11.283    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:04:11.283    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:04:11.283    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:04:11.283    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:04:11.283    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:04:11.283    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:04:11.283    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100522-101623-993_L1C_048-259-6_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/05/22/SPOT4-HRVIR2-XS_20100522-101624-895_L1C_048-259-7_D_V1-0/SPOT4-HRVIR2-XS_20100522-101624-895_L1C_048-259-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100522-101624-895_L1C_048-259-7_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100522-101624-895_L1C_048-259-7_D_V1-0.zip
run script
2024-01-10T09:04:15.454    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:04:15.454    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100522-101624-895_L1C_048-259-7_D_V1-0.zip
2024-01-10T09:04:15.454    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:04:15.454    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:04:15.454    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:04:15.454    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:04:15.455    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:04:15.455    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:04:15.455    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:04:15.455    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100522-101624-895_L1C_048-259-7_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/02/22/SPOT4-HRVIR1-XS_20100222-102944-626_L1C_047-255-0_D_V1-0/SPOT4-HRVIR1-XS_20100222-102944-626_L1C_047-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100222-102944-626_L1C_047-255-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100222-102944-626_L1C_047-255-0_D_V1-0.zip
run script
2024-01-10T09:04:19.372    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:04:19.372    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100222-102944-626_L1C_047-255-0_D_V1-0.zip
2024-01-10T09:04:19.372    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:04:19.372    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:04:19.373    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:04:19.373    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:04:19.373    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:04:19.373    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:04:19.373    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:04:19.373    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100222-102944-626_L1C_047-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/02/22/SPOT4-HRVIR1-XS_20100222-102952-889_L1C_047-256-0_D_V1-0/SPOT4-HRVIR1-XS_20100222-102952-889_L1C_047-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100222-102952-889_L1C_047-256-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100222-102952-889_L1C_047-256-0_D_V1-0.zip
run script
2024-01-10T09:04:32.872    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:04:32.872    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100222-102952-889_L1C_047-256-0_D_V1-0.zip
2024-01-10T09:04:32.872    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:04:32.872    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:04:32.872    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:04:32.872    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:04:32.872    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:04:32.872    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:04:32.872    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:04:32.873    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100222-102952-889_L1C_047-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 2]
 [2 2 2 2]
 [2 2 2 2]
 ...
 [2 2 2 2]
 [2 2 2 2]
 [2 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/02/22/SPOT4-HRVIR1-XS_20100222-103001-164_L1C_047-257-0_D_V1-0/SPOT4-HRVIR1-XS_20100222-103001-164_L1C_047-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100222-103001-164_L1C_047-257-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100222-103001-164_L1C_047-257-0_D_V1-0.zip
run script
2024-01-10T09:04:43.744    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:04:43.744    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100222-103001-164_L1C_047-257-0_D_V1-0.zip
2024-01-10T09:04:43.744    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:04:43.744    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:04:43.744    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:04:43.744    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:04:43.744    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:04:43.744    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:04:43.744    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:04:43.744    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100222-103001-164_L1C_047-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/05/27/SPOT4-HRVIR1-XS_20100527-101933-475_L1C_047-255-5_D_V1-0/SPOT4-HRVIR1-XS_20100527-101933-475_L1C_047-255-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100527-101933-475_L1C_047-255-5_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100527-101933-475_L1C_047-255-5_D_V1-0.zip
run script
2024-01-10T09:04:51.502    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:04:51.502    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100527-101933-475_L1C_047-255-5_D_V1-0.zip
2024-01-10T09:04:51.502    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:04:51.503    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:04:51.503    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:04:51.503    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:04:51.503    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:04:51.503    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:04:51.503    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:04:51.503    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T09:04:54.618    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (163 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100527-101933-475_L1C_047-255-5_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2010/05/27/SPOT4-HRVIR1-XS_20100527-101935-280_L1C_047-255-7_D_V1-0/SPOT4-HRVIR1-XS_20100527-101935-280_L1C_047-255-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100527-101935-280_L1C_047-255-7_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100527-101935-280_L1C_047-255-7_D_V1-0.zip
run script
2024-01-10T09:04:57.792    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:04:57.792    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100527-101935-280_L1C_047-255-7_D_V1-0.zip
2024-01-10T09:04:57.792    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:04:57.792    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:04:57.792    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:04:57.792    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:04:57.792    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:04:57.792    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:04:57.792    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:04:57.792    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100527-101935-280_L1C_047-255-7_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/08/13/SPOT4-HRVIR2-XS_20100813-101725-272_L1C_047-255-9_D_V1-0/SPOT4-HRVIR2-XS_20100813-101725-272_L1C_047-255-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100813-101725-272_L1C_047-255-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100813-101725-272_L1C_047-255-9_D_V1-0.zip
run script
2024-01-10T09:05:01.893    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:05:01.893    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100813-101725-272_L1C_047-255-9_D_V1-0.zip
2024-01-10T09:05:01.893    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:05:01.893    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:05:01.894    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:05:01.894    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:05:01.894    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:05:01.894    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:05:01.894    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:05:01.894    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100813-101725-272_L1C_047-255-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/13/SPOT4-HRVIR2-XS_20100813-101750-247_L1C_047-258-9_D_V1-0/SPOT4-HRVIR2-XS_20100813-101750-247_L1C_047-258-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100813-101750-247_L1C_047-258-9_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100813-101750-247_L1C_047-258-9_D_V1-0.zip
run script
2024-01-10T09:05:22.810    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:05:22.810    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100813-101750-247_L1C_047-258-9_D_V1-0.zip
2024-01-10T09:05:22.810    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:05:22.810    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:05:22.810    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:05:22.810    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:05:22.810    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:05:22.810    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:05:22.810    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:05:22.810    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100813-101750-247_L1C_047-258-9_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/08/13/SPOT4-HRVIR2-XS_20100813-101750-379_L1C_047-259-0_D_V1-0/SPOT4-HRVIR2-XS_20100813-101750-379_L1C_047-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100813-101750-379_L1C_047-259-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100813-101750-379_L1C_047-259-0_D_V1-0.zip
run script
2024-01-10T09:05:26.756    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:05:26.756    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100813-101750-379_L1C_047-259-0_D_V1-0.zip
2024-01-10T09:05:26.756    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:05:26.756    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:05:26.756    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:05:26.756    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:05:26.756    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:05:26.756    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:05:26.756    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:05:26.757    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100813-101750-379_L1C_047-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/08/13/SPOT4-HRVIR2-XS_20100813-101725-380_L1C_048-256-0_D_V1-0/SPOT4-HRVIR2-XS_20100813-101725-380_L1C_048-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100813-101725-380_L1C_048-256-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100813-101725-380_L1C_048-256-0_D_V1-0.zip
run script
2024-01-10T09:05:30.359    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:05:30.359    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100813-101725-380_L1C_048-256-0_D_V1-0.zip
2024-01-10T09:05:30.359    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:05:30.359    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:05:30.359    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:05:30.359    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:05:30.360    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:05:30.360    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:05:30.360    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:05:30.360    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100813-101725-380_L1C_048-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/13/SPOT4-HRVIR1-XS_20100813-101735-953_L1C_048-257-3_D_V1-0/SPOT4-HRVIR1-XS_20100813-101735-953_L1C_048-257-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100813-101735-953_L1C_048-257-3_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100813-101735-953_L1C_048-257-3_D_V1-0.zip
run script
2024-01-10T09:05:48.974    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:05:48.974    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100813-101735-953_L1C_048-257-3_D_V1-0.zip
2024-01-10T09:05:48.974    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:05:48.974    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:05:48.974    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:05:48.974    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:05:48.974    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:05:48.974    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:05:48.974    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:05:48.974    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100813-101735-953_L1C_048-257-3_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/13/SPOT4-HRVIR1-XS_20100813-101739-563_L1C_048-257-7_D_V1-0/SPOT4-HRVIR1-XS_20100813-101739-563_L1C_048-257-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100813-101739-563_L1C_048-257-7_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100813-101739-563_L1C_048-257-7_D_V1-0.zip
run script
2024-01-10T09:06:07.673    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:06:07.673    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100813-101739-563_L1C_048-257-7_D_V1-0.zip
2024-01-10T09:06:07.673    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:06:07.673    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:06:07.673    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:06:07.673    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:06:07.673    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:06:07.673    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:06:07.674    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:06:07.674    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100813-101739-563_L1C_048-257-7_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/13/SPOT4-HRVIR2-XS_20100813-101707-296_L1C_049-254-0_D_V1-0/SPOT4-HRVIR2-XS_20100813-101707-296_L1C_049-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20100813-101707-296_L1C_049-254-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100813-101707-296_L1C_049-254-0_D_V1-0.zip
run script
2024-01-10T09:06:23.716    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:06:23.716    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100813-101707-296_L1C_049-254-0_D_V1-0.zip
2024-01-10T09:06:23.716    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:06:23.716    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:06:23.716    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:06:23.716    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:06:23.716    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:06:23.716    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:06:23.716    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:06:23.716    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR2-XS_20100813-101707-296_L1C_049-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2010/08/13/SPOT4-HRVIR1-XS_20100813-101800-808_L1C_051-260-6_D_V1-0/SPOT4-HRVIR1-XS_20100813-101800-808_L1C_051-260-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100813-101800-808_L1C_051-260-6_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100813-101800-808_L1C_051-260-6_D_V1-0.zip
run script
2024-01-10T09:06:27.791    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:06:27.791    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100813-101800-808_L1C_051-260-6_D_V1-0.zip
2024-01-10T09:06:27.791    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:06:27.791    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:06:27.791    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:06:27.791    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:06:27.791    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:06:27.792    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:06:27.792    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:06:27.792    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100813-101800-808_L1C_051-260-6_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/08/13/SPOT4-HRVIR1-XS_20100813-101803-690_L1C_051-261-0_D_V1-0/SPOT4-HRVIR1-XS_20100813-101803-690_L1C_051-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20100813-101803-690_L1C_051-261-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100813-101803-690_L1C_051-261-0_D_V1-0.zip
run script
2024-01-10T09:08:35.064    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:08:35.065    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100813-101803-690_L1C_051-261-0_D_V1-0.zip
2024-01-10T09:08:35.065    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:08:35.065    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:08:35.065    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:08:35.065    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:08:35.065    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:08:35.065    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:08:35.065    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:08:35.065    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20100813-101803-690_L1C_051-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/15/SPOT4-HRVIR1-XS_20101215-102841-580_L1C_047-255-8_D_V1-0/SPOT4-HRVIR1-XS_20101215-102841-580_L1C_047-255-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101215-102841-580_L1C_047-255-8_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20101215-102841-580_L1C_047-255-8_D_V1-0.zip
run script
2024-01-10T09:10:30.312    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:10:30.312    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20101215-102841-580_L1C_047-255-8_D_V1-0.zip
2024-01-10T09:10:30.312    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:10:30.312    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:10:30.312    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:10:30.312    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:10:30.313    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:10:30.313    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:10:30.313    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:10:30.313    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20101215-102841-580_L1C_047-255-8_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/15/SPOT4-HRVIR1-XS_20101215-102842-672_L1C_047-256-0_D_V1-0/SPOT4-HRVIR1-XS_20101215-102842-672_L1C_047-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101215-102842-672_L1C_047-256-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20101215-102842-672_L1C_047-256-0_D_V1-0.zip
run script
2024-01-10T09:10:49.166    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:10:49.166    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20101215-102842-672_L1C_047-256-0_D_V1-0.zip
2024-01-10T09:10:49.166    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:10:49.166    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:10:49.166    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:10:49.166    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:10:49.167    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:10:49.167    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:10:49.167    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:10:49.167    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20101215-102842-672_L1C_047-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2010/12/15/SPOT4-HRVIR1-XS_20101215-102850-992_L1C_047-257-0_D_V1-0/SPOT4-HRVIR1-XS_20101215-102850-992_L1C_047-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20101215-102850-992_L1C_047-257-0_D_V1-0.zip
/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20101215-102850-992_L1C_047-257-0_D_V1-0.zip
run script
2024-01-10T09:11:04.017    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200
2024-01-10T09:11:04.018    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20101215-102850-992_L1C_047-257-0_D_V1-0.zip
2024-01-10T09:11:04.018    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:11:04.018    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:11:04.018    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200
2024-01-10T09:11:04.018    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:11:04.018    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:11:04.018    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:11:04.018    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:11:04.018    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016256/INPUT/SPOT4-HRVIR1-XS_20101215-102850-992_L1C_047-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4016256/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
end
[2024-01-10 09:11:04.581048770+00:00] cnes_level2/barrouz/4016256:  Account (env) = cnes_level2
[2024-01-10 09:11:04.582602398+00:00] cnes_level2/barrouz/4016256:     User (env) = barrouz
[2024-01-10 09:11:04.583873328+00:00] cnes_level2/barrouz/4016256:        GroupId = cesbio(426000053)
[2024-01-10 09:11:04.585259308+00:00] cnes_level2/barrouz/4016256:         UserId = barrouz(9134)
[2024-01-10 09:11:04.586828846+00:00] cnes_level2/barrouz/4016256:        Account = cnes_level2
[2024-01-10 09:11:04.588392794+00:00] cnes_level2/barrouz/4016256:        Account = cnes_level2
[2024-01-10 09:11:04.590027171+00:00] cnes_level2/barrouz/4016256:      Partition = cpu2022
[2024-01-10 09:11:04.591699399+00:00] cnes_level2/barrouz/4016256:            QOS = cpu_2022_1280
[2024-01-10 09:11:04.593363716+00:00] cnes_level2/barrouz/4016256:        JobName = inf_ALP_56_TCD-BLUE_AVG-1200
[2024-01-10 09:11:04.594726646+00:00] cnes_level2/barrouz/4016256:     SubmitTime = 2024-01-09T10:52:03
[2024-01-10 09:11:04.595970476+00:00] cnes_level2/barrouz/4016256:        RunTime = 10:26:22
[2024-01-10 09:11:04.597247896+00:00] cnes_level2/barrouz/4016256:      TimeLimit = 1-16:00:00
[2024-01-10 09:11:04.598570736+00:00] cnes_level2/barrouz/4016256:   EligibleTime = 2024-01-09T10:52:03
[2024-01-10 09:11:04.599588588+00:00] cnes_level2/barrouz/4016256:      StartTime = 2024-01-09T22:44:42
[2024-01-10 09:11:04.600502901+00:00] cnes_level2/barrouz/4016256:        EndTime = 2024-01-10T09:11:04
[2024-01-10 09:11:04.601415095+00:00] cnes_level2/barrouz/4016256:       ExitCode = 0:0
[2024-01-10 09:11:04.602276518+00:00] cnes_level2/barrouz/4016256:       NodeList = trex032
[2024-01-10 09:11:04.603147102+00:00] cnes_level2/barrouz/4016256:      BatchHost = trex032
[2024-01-10 09:11:04.603984565+00:00] cnes_level2/barrouz/4016256:           TRES = 
[2024-01-10 09:11:04.605615373+00:00] cnes_level2/barrouz/4016256:        Command = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh_job.sh
[2024-01-10 09:11:04.607150231+00:00] cnes_level2/barrouz/4016256:        WorkDir = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code
[2024-01-10 09:11:04.608560050+00:00] cnes_level2/barrouz/4016256:         StdErr = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_ALP_56_TCD-BLUE_AVG-1200.log
[2024-01-10 09:11:04.610202408+00:00] cnes_level2/barrouz/4016256:         StdOut = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_ALP_56_TCD-BLUE_AVG-1200.log

#########################################
#        EVIDEN - CNES                  #
#        Job Accounting                 #
#########################################
Cluster              : trex
JobIDRaw             : 4016256
JobID                : 4016256
JobName              : inf_ALP_56_TCD-BLUE_AVG-1200
Account              : cnes_level2
User                 : barrouz(9134), cesbio(426000053)
Partition            : cpu2022
QOS                  : cpu_2022_1280
Nodelist             : trex032 (1)
State                : COMPLETED  (Exitcode=0:0, DerivedExitCode=0:0, Restarts=0)
Submit date          : 2024-01-09T10:52:03
Start time           : 2024-01-09T22:44:42
End time             : 2024-01-10T09:11:04
Elapsed time         : 10:26:22  (Timelimit=1-16:00:00, Suspended=00:00:00)
TEI                  : 3 days, 11:30:56
Command              : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh_job.sh
StdOut               : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_ALP_56_TCD-BLUE_AVG-1200.log
StdErr               : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_ALP_56_TCD-BLUE_AVG-1200.log

STEP(s) : 2
--------- 
   StepID  | JobName      State       Exit   Start               End                 Elapsed   TotalCPU   CPUTime    ConsumedEnergy MaxDiskRead MaxDiskWrite     MaxRSS MaxRSSTask MaxRSSNode NNodes UserCPU    NodeList
   ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 
   batch   | batch        COMPLETED   0:0    2024-01-09T22:44:42 2024-01-10T09:11:04 10:26:22  1-11:12:06 3-11:30:56       0.30875M  185144.73M    76033.61M 101144708K          0    trex032      1 1-00:08:35 trex032
   extern  | extern       COMPLETED   0:0    2024-01-09T22:44:42 2024-01-10T09:11:04 10:26:22  00:00.001  3-11:30:56       0.30875M       0.00M        0.00M      1704K          0    trex032      1 00:00.001  trex032

