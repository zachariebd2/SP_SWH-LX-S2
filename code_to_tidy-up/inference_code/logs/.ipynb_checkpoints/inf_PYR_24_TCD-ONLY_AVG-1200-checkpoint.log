unload conda/22.11.1  : OK 
load conda/22.11.1  : OK 
envs_dirs : /work/scratch/env/barrouz/conda_env/
pkgs_dirs : /work/scratch/env/barrouz/pkgs_conda
INPUT_PATH /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/PYR/24.txt
OUTPUT_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
DEM_PATH /work/CAMPUS/etudes/Neige/DEM
TCD_PATH /work/datalake/static_aux/TreeCoverDensity
MODELS_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
KEEP_REFL 0
MASK 1
start
/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/PYR/24.txt
muscate/SPOTWORLDHERITAGE/2005/01/05/SPOT4-HRVIR1-XS_20050105-104504-830_L1C_041-262-6_D_V1-0/SPOT4-HRVIR1-XS_20050105-104504-830_L1C_041-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050105-104504-830_L1C_041-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050105-104504-830_L1C_041-262-6_D_V1-0.zip
run script
2024-01-10T07:42:26.625    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T07:42:26.626    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050105-104504-830_L1C_041-262-6_D_V1-0.zip
2024-01-10T07:42:26.626    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:42:26.626    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:42:26.626    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T07:42:26.626    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:42:26.626    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:42:26.626    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:42:26.626    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:42:26.627    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050105-104504-830_L1C_041-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/01/14/SPOT4-HRVIR2-XS_20050114-111208-215_L1C_041-262-5_D_V1-0/SPOT4-HRVIR2-XS_20050114-111208-215_L1C_041-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050114-111208-215_L1C_041-262-5_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050114-111208-215_L1C_041-262-5_D_V1-0.zip
run script
2024-01-10T07:43:23.578    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T07:43:23.579    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050114-111208-215_L1C_041-262-5_D_V1-0.zip
2024-01-10T07:43:23.579    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:43:23.579    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:43:23.579    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T07:43:23.579    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:43:23.579    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:43:23.579    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:43:23.579    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:43:23.579    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050114-111208-215_L1C_041-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/02/04/SPOT4-HRVIR2-XS_20050204-110817-858_L1C_041-262-5_D_V1-0/SPOT4-HRVIR2-XS_20050204-110817-858_L1C_041-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050204-110817-858_L1C_041-262-5_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050204-110817-858_L1C_041-262-5_D_V1-0.zip
run script
2024-01-10T07:44:16.265    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T07:44:16.266    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050204-110817-858_L1C_041-262-5_D_V1-0.zip
2024-01-10T07:44:16.266    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:44:16.266    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:44:16.266    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T07:44:16.266    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:44:16.266    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:44:16.266    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:44:16.266    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:44:16.266    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050204-110817-858_L1C_041-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/12/SPOT4-HRVIR2-XS_20050412-111933-895_L1C_041-262-6_D_V1-0/SPOT4-HRVIR2-XS_20050412-111933-895_L1C_041-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050412-111933-895_L1C_041-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050412-111933-895_L1C_041-262-6_D_V1-0.zip
run script
2024-01-10T07:45:06.110    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T07:45:06.112    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050412-111933-895_L1C_041-262-6_D_V1-0.zip
2024-01-10T07:45:06.112    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:45:06.112    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:45:06.112    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T07:45:06.112    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:45:06.112    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:45:06.112    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:45:06.112    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:45:06.112    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050412-111933-895_L1C_041-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/12/SPOT4-HRVIR1-XS_20050412-111933-653_L1C_042-262-8_D_V1-0/SPOT4-HRVIR1-XS_20050412-111933-653_L1C_042-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050412-111933-653_L1C_042-262-8_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050412-111933-653_L1C_042-262-8_D_V1-0.zip
run script
2024-01-10T07:46:13.168    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T07:46:13.170    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050412-111933-653_L1C_042-262-8_D_V1-0.zip
2024-01-10T07:46:13.170    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:46:13.170    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:46:13.170    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T07:46:13.170    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:46:13.170    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:46:13.170    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:46:13.170    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:46:13.170    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050412-111933-653_L1C_042-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/08/05/SPOT4-HRVIR1-XS_20050805-110728-860_L1C_041-262-5_D_V1-0/SPOT4-HRVIR1-XS_20050805-110728-860_L1C_041-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050805-110728-860_L1C_041-262-5_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050805-110728-860_L1C_041-262-5_D_V1-0.zip
run script
2024-01-10T07:47:50.271    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T07:47:50.272    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050805-110728-860_L1C_041-262-5_D_V1-0.zip
2024-01-10T07:47:50.272    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:47:50.272    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:47:50.272    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T07:47:50.272    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:47:50.272    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:47:50.272    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:47:50.272    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:47:50.272    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050805-110728-860_L1C_041-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/09/11/SPOT4-HRVIR1-XS_20050911-105534-407_L1C_041-262-5_D_V1-0/SPOT4-HRVIR1-XS_20050911-105534-407_L1C_041-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050911-105534-407_L1C_041-262-5_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050911-105534-407_L1C_041-262-5_D_V1-0.zip
run script
2024-01-10T07:48:39.266    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T07:48:39.267    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050911-105534-407_L1C_041-262-5_D_V1-0.zip
2024-01-10T07:48:39.267    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:48:39.267    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:48:39.267    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T07:48:39.267    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:48:39.267    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:48:39.267    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:48:39.267    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:48:39.267    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050911-105534-407_L1C_041-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/09/21/SPOT4-HRVIR2-XS_20050921-110316-630_L1C_041-262-6_D_V1-0/SPOT4-HRVIR2-XS_20050921-110316-630_L1C_041-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050921-110316-630_L1C_041-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050921-110316-630_L1C_041-262-6_D_V1-0.zip
run script
2024-01-10T07:49:24.733    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T07:49:24.734    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050921-110316-630_L1C_041-262-6_D_V1-0.zip
2024-01-10T07:49:24.734    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:49:24.734    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:49:24.734    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T07:49:24.734    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:49:24.734    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:49:24.735    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:49:24.735    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:49:24.735    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050921-110316-630_L1C_041-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/09/22/SPOT4-HRVIR2-XS_20050922-104356-969_L1C_041-262-6_D_V1-0/SPOT4-HRVIR2-XS_20050922-104356-969_L1C_041-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050922-104356-969_L1C_041-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050922-104356-969_L1C_041-262-6_D_V1-0.zip
run script
2024-01-10T07:50:22.460    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T07:50:22.461    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050922-104356-969_L1C_041-262-6_D_V1-0.zip
2024-01-10T07:50:22.461    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:50:22.461    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:50:22.461    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T07:50:22.461    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:50:22.462    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:50:22.462    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:50:22.462    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:50:22.462    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050922-104356-969_L1C_041-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 0 ... 0 0 0]
 [2 2 0 ... 0 0 0]
 [2 2 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/09/27/SPOT4-HRVIR2-XS_20050927-104747-702_L1C_041-262-6_D_V1-0/SPOT4-HRVIR2-XS_20050927-104747-702_L1C_041-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050927-104747-702_L1C_041-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050927-104747-702_L1C_041-262-6_D_V1-0.zip
run script
2024-01-10T07:51:22.506    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T07:51:22.507    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050927-104747-702_L1C_041-262-6_D_V1-0.zip
2024-01-10T07:51:22.507    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:51:22.508    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:51:22.508    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T07:51:22.508    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:51:22.508    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:51:22.508    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:51:22.508    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:51:22.508    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050927-104747-702_L1C_041-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/10/11/SPOT4-HRVIR1-XS_20051011-111835-475_L1C_041-262-6_D_V1-0/SPOT4-HRVIR1-XS_20051011-111835-475_L1C_041-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051011-111835-475_L1C_041-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051011-111835-475_L1C_041-262-6_D_V1-0.zip
run script
2024-01-10T07:52:19.863    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T07:52:19.864    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051011-111835-475_L1C_041-262-6_D_V1-0.zip
2024-01-10T07:52:19.865    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:52:19.865    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:52:19.865    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T07:52:19.865    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:52:19.865    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:52:19.865    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:52:19.865    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:52:19.865    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051011-111835-475_L1C_041-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/01/SPOT4-HRVIR2-XS_20051101-111434-225_L1C_041-262-6_D_V1-0/SPOT4-HRVIR2-XS_20051101-111434-225_L1C_041-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20051101-111434-225_L1C_041-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051101-111434-225_L1C_041-262-6_D_V1-0.zip
run script
2024-01-10T07:53:28.767    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T07:53:28.768    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051101-111434-225_L1C_041-262-6_D_V1-0.zip
2024-01-10T07:53:28.768    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:53:28.768    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:53:28.768    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T07:53:28.768    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:53:28.768    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:53:28.768    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:53:28.768    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:53:28.768    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051101-111434-225_L1C_041-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/07/SPOT4-HRVIR2-XS_20051107-105905-142_L1C_041-262-6_D_V1-0/SPOT4-HRVIR2-XS_20051107-105905-142_L1C_041-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20051107-105905-142_L1C_041-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051107-105905-142_L1C_041-262-6_D_V1-0.zip
run script
2024-01-10T07:54:40.290    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T07:54:40.291    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051107-105905-142_L1C_041-262-6_D_V1-0.zip
2024-01-10T07:54:40.292    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:54:40.292    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:54:40.292    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T07:54:40.292    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:54:40.292    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:54:40.292    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:54:40.292    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:54:40.292    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051107-105905-142_L1C_041-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/23/SPOT4-HRVIR1-XS_20051123-105112-167_L1C_041-262-7_D_V1-0/SPOT4-HRVIR1-XS_20051123-105112-167_L1C_041-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051123-105112-167_L1C_041-262-7_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051123-105112-167_L1C_041-262-7_D_V1-0.zip
run script
2024-01-10T07:55:33.028    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T07:55:33.029    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051123-105112-167_L1C_041-262-7_D_V1-0.zip
2024-01-10T07:55:33.029    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:55:33.029    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:55:33.029    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T07:55:33.029    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:55:33.029    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:55:33.030    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:55:33.030    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:55:33.030    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051123-105112-167_L1C_041-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/23/SPOT4-HRVIR1-XS_20051123-105122-271_L1C_041-263-9_D_V1-0/SPOT4-HRVIR1-XS_20051123-105122-271_L1C_041-263-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051123-105122-271_L1C_041-263-9_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051123-105122-271_L1C_041-263-9_D_V1-0.zip
run script
2024-01-10T07:56:37.857    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T07:56:37.858    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051123-105122-271_L1C_041-263-9_D_V1-0.zip
2024-01-10T07:56:37.858    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:56:37.858    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:56:37.858    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T07:56:37.858    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:56:37.858    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:56:37.858    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:56:37.858    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:56:37.858    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051123-105122-271_L1C_041-263-9_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/23/SPOT4-HRVIR1-XS_20051123-105122-458_L1C_041-264-0_D_V1-0/SPOT4-HRVIR1-XS_20051123-105122-458_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051123-105122-458_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051123-105122-458_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T07:58:42.576    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T07:58:42.578    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051123-105122-458_L1C_041-264-0_D_V1-0.zip
2024-01-10T07:58:42.578    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T07:58:42.578    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T07:58:42.578    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T07:58:42.578    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T07:58:42.578    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T07:58:42.578    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T07:58:42.578    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T07:58:42.578    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051123-105122-458_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/23/SPOT4-HRVIR2-XS_20051123-105111-495_L1C_042-262-7_D_V1-0/SPOT4-HRVIR2-XS_20051123-105111-495_L1C_042-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20051123-105111-495_L1C_042-262-7_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051123-105111-495_L1C_042-262-7_D_V1-0.zip
run script
2024-01-10T08:00:48.409    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:00:48.410    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051123-105111-495_L1C_042-262-7_D_V1-0.zip
2024-01-10T08:00:48.410    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:00:48.410    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:00:48.410    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:00:48.410    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:00:48.410    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:00:48.410    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:00:48.410    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:00:48.410    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051123-105111-495_L1C_042-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/15/SPOT4-HRVIR1-XS_20050515-104445-191_L1C_041-263-0_D_V1-0/SPOT4-HRVIR1-XS_20050515-104445-191_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050515-104445-191_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050515-104445-191_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T08:01:49.778    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:01:49.779    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050515-104445-191_L1C_041-263-0_D_V1-0.zip
2024-01-10T08:01:49.779    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:01:49.779    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:01:49.779    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:01:49.779    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:01:49.779    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:01:49.779    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:01:49.779    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:01:49.780    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050515-104445-191_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/15/SPOT4-HRVIR1-XS_20050515-104446-093_L1C_041-263-1_D_V1-0/SPOT4-HRVIR1-XS_20050515-104446-093_L1C_041-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050515-104446-093_L1C_041-263-1_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050515-104446-093_L1C_041-263-1_D_V1-0.zip
run script
2024-01-10T08:03:24.236    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:03:24.238    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050515-104446-093_L1C_041-263-1_D_V1-0.zip
2024-01-10T08:03:24.238    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:03:24.238    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:03:24.238    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:03:24.238    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:03:24.238    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:03:24.238    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:03:24.238    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:03:24.238    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050515-104446-093_L1C_041-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/15/SPOT4-HRVIR2-XS_20050515-104442-492_L1C_044-263-0_D_V1-0/SPOT4-HRVIR2-XS_20050515-104442-492_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050515-104442-492_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050515-104442-492_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T08:05:05.596    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:05:05.597    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050515-104442-492_L1C_044-263-0_D_V1-0.zip
2024-01-10T08:05:05.597    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:05:05.597    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:05:05.597    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:05:05.597    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:05:05.597    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:05:05.598    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:05:05.598    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:05:05.598    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050515-104442-492_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/15/SPOT4-HRVIR2-XS_20050515-104446-102_L1C_044-263-4_D_V1-0/SPOT4-HRVIR2-XS_20050515-104446-102_L1C_044-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050515-104446-102_L1C_044-263-4_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050515-104446-102_L1C_044-263-4_D_V1-0.zip
run script
2024-01-10T08:06:28.903    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:06:28.904    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050515-104446-102_L1C_044-263-4_D_V1-0.zip
2024-01-10T08:06:28.904    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:06:28.904    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:06:28.904    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:06:28.904    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:06:28.904    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:06:28.904    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:06:28.904    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:06:28.905    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050515-104446-102_L1C_044-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/07/01/SPOT4-HRVIR1-XS_20050701-104041-270_L1C_041-263-0_D_V1-0/SPOT4-HRVIR1-XS_20050701-104041-270_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050701-104041-270_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050701-104041-270_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T08:08:25.285    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:08:25.286    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050701-104041-270_L1C_041-263-0_D_V1-0.zip
2024-01-10T08:08:25.286    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:08:25.286    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:08:25.286    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:08:25.286    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:08:25.286    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:08:25.286    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:08:25.286    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:08:25.286    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050701-104041-270_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/07/01/SPOT4-HRVIR1-XS_20050701-104043-075_L1C_041-263-2_D_V1-0/SPOT4-HRVIR1-XS_20050701-104043-075_L1C_041-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050701-104043-075_L1C_041-263-2_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050701-104043-075_L1C_041-263-2_D_V1-0.zip
run script
2024-01-10T08:10:01.845    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:10:01.847    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050701-104043-075_L1C_041-263-2_D_V1-0.zip
2024-01-10T08:10:01.847    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:10:01.847    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:10:01.847    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:10:01.847    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:10:01.847    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:10:01.847    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:10:01.847    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:10:01.847    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050701-104043-075_L1C_041-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/07/01/SPOT4-HRVIR2-XS_20050701-104038-831_L1C_044-263-0_D_V1-0/SPOT4-HRVIR2-XS_20050701-104038-831_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050701-104038-831_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050701-104038-831_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T08:11:59.574    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:11:59.576    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050701-104038-831_L1C_044-263-0_D_V1-0.zip
2024-01-10T08:11:59.576    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:11:59.576    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:11:59.576    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:11:59.576    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:11:59.576    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:11:59.576    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:11:59.576    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:11:59.576    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050701-104038-831_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 2]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/07/01/SPOT4-HRVIR2-XS_20050701-104042-440_L1C_044-263-4_D_V1-0/SPOT4-HRVIR2-XS_20050701-104042-440_L1C_044-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050701-104042-440_L1C_044-263-4_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050701-104042-440_L1C_044-263-4_D_V1-0.zip
run script
2024-01-10T08:13:27.521    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:13:27.523    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050701-104042-440_L1C_044-263-4_D_V1-0.zip
2024-01-10T08:13:27.523    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:13:27.523    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:13:27.523    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:13:27.523    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:13:27.523    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:13:27.523    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:13:27.523    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:13:27.523    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050701-104042-440_L1C_044-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/07/05/SPOT4-HRVIR1-XS_20050705-110351-992_L1C_041-263-0_D_V1-0/SPOT4-HRVIR1-XS_20050705-110351-992_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050705-110351-992_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050705-110351-992_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T08:15:26.849    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:15:26.850    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050705-110351-992_L1C_041-263-0_D_V1-0.zip
2024-01-10T08:15:26.850    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:15:26.850    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:15:26.850    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:15:26.851    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:15:26.851    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:15:26.851    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:15:26.851    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:15:26.851    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050705-110351-992_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/07/05/SPOT4-HRVIR1-XS_20050705-110352-895_L1C_041-263-1_D_V1-0/SPOT4-HRVIR1-XS_20050705-110352-895_L1C_041-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050705-110352-895_L1C_041-263-1_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050705-110352-895_L1C_041-263-1_D_V1-0.zip
run script
2024-01-10T08:16:56.958    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:16:56.959    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050705-110352-895_L1C_041-263-1_D_V1-0.zip
2024-01-10T08:16:56.959    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:16:56.959    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:16:56.959    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:16:56.959    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:16:56.960    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:16:56.960    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:16:56.960    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:16:56.960    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050705-110352-895_L1C_041-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/07/05/SPOT4-HRVIR2-XS_20050705-110348-671_L1C_044-263-0_D_V1-0/SPOT4-HRVIR2-XS_20050705-110348-671_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050705-110348-671_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050705-110348-671_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T08:18:41.082    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:18:41.083    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050705-110348-671_L1C_044-263-0_D_V1-0.zip
2024-01-10T08:18:41.083    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:18:41.083    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:18:41.083    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:18:41.083    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:18:41.084    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:18:41.084    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:18:41.084    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:18:41.084    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050705-110348-671_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/07/05/SPOT4-HRVIR2-XS_20050705-110352-281_L1C_044-263-4_D_V1-0/SPOT4-HRVIR2-XS_20050705-110352-281_L1C_044-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050705-110352-281_L1C_044-263-4_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050705-110352-281_L1C_044-263-4_D_V1-0.zip
run script
2024-01-10T08:20:10.040    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:20:10.041    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050705-110352-281_L1C_044-263-4_D_V1-0.zip
2024-01-10T08:20:10.041    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:20:10.041    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:20:10.041    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:20:10.041    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:20:10.041    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:20:10.041    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:20:10.041    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:20:10.041    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050705-110352-281_L1C_044-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/01/09/SPOT4-HRVIR1-XS_20050109-110816-533_L1C_042-262-6_D_V1-0/SPOT4-HRVIR1-XS_20050109-110816-533_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050109-110816-533_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050109-110816-533_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T08:22:10.069    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:22:10.070    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050109-110816-533_L1C_042-262-6_D_V1-0.zip
2024-01-10T08:22:10.070    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:22:10.070    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:22:10.070    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:22:10.070    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:22:10.070    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:22:10.071    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:22:10.071    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:22:10.071    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050109-110816-533_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/23/SPOT4-HRVIR2-XS_20050423-110759-132_L1C_042-262-8_D_V1-0/SPOT4-HRVIR2-XS_20050423-110759-132_L1C_042-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050423-110759-132_L1C_042-262-8_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050423-110759-132_L1C_042-262-8_D_V1-0.zip
run script
2024-01-10T08:23:06.816    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:23:06.817    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050423-110759-132_L1C_042-262-8_D_V1-0.zip
2024-01-10T08:23:06.817    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:23:06.818    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:23:06.818    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:23:06.818    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:23:06.818    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:23:06.818    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:23:06.818    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:23:06.818    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050423-110759-132_L1C_042-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/19/SPOT4-HRVIR2-XS_20050519-110751-143_L1C_042-262-7_D_V1-0/SPOT4-HRVIR2-XS_20050519-110751-143_L1C_042-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050519-110751-143_L1C_042-262-7_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050519-110751-143_L1C_042-262-7_D_V1-0.zip
run script
2024-01-10T08:24:23.553    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:24:23.554    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050519-110751-143_L1C_042-262-7_D_V1-0.zip
2024-01-10T08:24:23.554    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:24:23.554    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:24:23.554    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:24:23.554    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:24:23.554    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:24:23.554    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:24:23.554    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:24:23.554    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050519-110751-143_L1C_042-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/19/SPOT4-HRVIR2-XS_20050519-110752-046_L1C_042-262-8_D_V1-0/SPOT4-HRVIR2-XS_20050519-110752-046_L1C_042-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050519-110752-046_L1C_042-262-8_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050519-110752-046_L1C_042-262-8_D_V1-0.zip
run script
2024-01-10T08:25:31.515    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:25:31.516    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050519-110752-046_L1C_042-262-8_D_V1-0.zip
2024-01-10T08:25:31.516    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:25:31.516    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:25:31.516    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:25:31.516    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:25:31.516    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:25:31.516    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:25:31.516    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:25:31.516    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050519-110752-046_L1C_042-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/24/SPOT4-HRVIR2-XS_20050524-111140-166_L1C_042-262-7_D_V1-0/SPOT4-HRVIR2-XS_20050524-111140-166_L1C_042-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050524-111140-166_L1C_042-262-7_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050524-111140-166_L1C_042-262-7_D_V1-0.zip
run script
2024-01-10T08:26:50.176    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:26:50.178    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050524-111140-166_L1C_042-262-7_D_V1-0.zip
2024-01-10T08:26:50.178    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:26:50.178    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:26:50.178    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:26:50.178    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:26:50.178    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:26:50.178    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:26:50.178    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:26:50.178    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050524-111140-166_L1C_042-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/24/SPOT4-HRVIR2-XS_20050524-111141-069_L1C_042-262-8_D_V1-0/SPOT4-HRVIR2-XS_20050524-111141-069_L1C_042-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050524-111141-069_L1C_042-262-8_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050524-111141-069_L1C_042-262-8_D_V1-0.zip
run script
2024-01-10T08:28:03.490    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:28:03.491    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050524-111141-069_L1C_042-262-8_D_V1-0.zip
2024-01-10T08:28:03.491    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:28:03.492    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:28:03.492    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:28:03.492    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:28:03.492    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:28:03.492    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:28:03.492    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:28:03.492    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050524-111141-069_L1C_042-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/25/SPOT4-HRVIR2-XS_20050525-105221-820_L1C_042-262-7_D_V1-0/SPOT4-HRVIR2-XS_20050525-105221-820_L1C_042-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050525-105221-820_L1C_042-262-7_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050525-105221-820_L1C_042-262-7_D_V1-0.zip
run script
2024-01-10T08:29:24.633    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:29:24.635    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050525-105221-820_L1C_042-262-7_D_V1-0.zip
2024-01-10T08:29:24.635    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:29:24.635    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:29:24.635    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:29:24.635    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:29:24.635    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:29:24.635    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:29:24.635    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:29:24.635    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050525-105221-820_L1C_042-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 2]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 2 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/25/SPOT4-HRVIR2-XS_20050525-105223-814_L1C_042-263-0_D_V1-0/SPOT4-HRVIR2-XS_20050525-105223-814_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050525-105223-814_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050525-105223-814_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T08:30:27.216    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:30:27.218    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050525-105223-814_L1C_042-263-0_D_V1-0.zip
2024-01-10T08:30:27.218    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:30:27.218    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:30:27.218    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:30:27.218    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:30:27.218    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:30:27.218    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:30:27.218    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:30:27.218    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050525-105223-814_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 2 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/25/SPOT4-HRVIR2-XS_20050525-105225-619_L1C_042-263-2_D_V1-0/SPOT4-HRVIR2-XS_20050525-105225-619_L1C_042-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050525-105225-619_L1C_042-263-2_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050525-105225-619_L1C_042-263-2_D_V1-0.zip
run script
2024-01-10T08:31:49.440    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:31:49.442    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050525-105225-619_L1C_042-263-2_D_V1-0.zip
2024-01-10T08:31:49.442    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:31:49.442    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:31:49.442    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:31:49.442    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:31:49.442    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:31:49.442    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:31:49.442    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:31:49.442    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050525-105225-619_L1C_042-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/25/SPOT4-HRVIR1-XS_20050525-105221-639_L1C_044-262-9_D_V1-0/SPOT4-HRVIR1-XS_20050525-105221-639_L1C_044-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050525-105221-639_L1C_044-262-9_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050525-105221-639_L1C_044-262-9_D_V1-0.zip
run script
2024-01-10T08:33:31.017    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:33:31.019    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050525-105221-639_L1C_044-262-9_D_V1-0.zip
2024-01-10T08:33:31.019    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:33:31.019    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:33:31.019    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:33:31.019    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:33:31.019    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:33:31.019    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:33:31.019    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:33:31.019    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T08:33:33.322    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (154 x 1). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050525-105221-639_L1C_044-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2005/05/25/SPOT4-HRVIR1-XS_20050525-105221-844_L1C_044-263-0_D_V1-0/SPOT4-HRVIR1-XS_20050525-105221-844_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050525-105221-844_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050525-105221-844_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T08:33:36.598    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:33:36.600    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050525-105221-844_L1C_044-263-0_D_V1-0.zip
2024-01-10T08:33:36.600    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:33:36.600    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:33:36.600    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:33:36.600    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:33:36.600    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:33:36.600    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:33:36.600    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:33:36.601    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T08:33:38.905    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (158 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050525-105221-844_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2005/05/25/SPOT4-HRVIR1-XS_20050525-105226-356_L1C_044-263-5_D_V1-0/SPOT4-HRVIR1-XS_20050525-105226-356_L1C_044-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050525-105226-356_L1C_044-263-5_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050525-105226-356_L1C_044-263-5_D_V1-0.zip
run script
2024-01-10T08:33:42.056    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:33:42.057    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050525-105226-356_L1C_044-263-5_D_V1-0.zip
2024-01-10T08:33:42.057    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:33:42.057    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:33:42.058    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:33:42.058    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:33:42.058    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:33:42.058    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:33:42.058    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:33:42.058    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050525-105226-356_L1C_044-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/07/10/SPOT4-HRVIR1-XS_20050710-110739-996_L1C_042-262-7_D_V1-0/SPOT4-HRVIR1-XS_20050710-110739-996_L1C_042-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050710-110739-996_L1C_042-262-7_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050710-110739-996_L1C_042-262-7_D_V1-0.zip
run script
2024-01-10T08:35:29.772    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:35:29.773    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050710-110739-996_L1C_042-262-7_D_V1-0.zip
2024-01-10T08:35:29.773    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:35:29.773    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:35:29.773    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:35:29.773    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:35:29.773    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:35:29.773    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:35:29.773    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:35:29.773    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050710-110739-996_L1C_042-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/07/10/SPOT4-HRVIR2-XS_20050710-110740-598_L1C_042-262-9_D_V1-0/SPOT4-HRVIR2-XS_20050710-110740-598_L1C_042-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/get_swh.py", line 28, in <module>
    credentials = assumerole.getCredentials("arn:aws:iam::732885638740:role/public-read-only-OT", Duration=7200)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 46, in getCredentials
    credentials = kerberos_authenticate(Sts_role_arn=Arn, Sts_role_duration_session=Duration)
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/assumerole.py", line 124, in kerberos_authenticate
    oidc_token = oidc_handler.get_token(
  File "/softs/rh8/conda-envs/s3-env/lib/python3.10/site-packages/assumerole/oidc.py", line 151, in get_token
    raise OIDCException(
oidc.OIDCException: Expected HTTP 302 response, got 502
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050710-110740-598_L1C_042-262-9_D_V1-0.zip
run script
Traceback (most recent call last):
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 179, in <module>
    args = args_parser.parse_args(sys.argv[1:])
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1768, in parse_args
    args, argv = self.parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1800, in parse_known_args
    namespace, args = self._parse_known_args(args, namespace)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 2006, in _parse_known_args
    start_index = consume_optional(start_index)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1946, in consume_optional
    take_action(action, args, option_string)
  File "/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/argparse.py", line 1874, in take_action
    action(self, namespace, argument_values, option_string)
  File "/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh.py", line 23, in __call__
    raise argparse.ArgumentTypeError("Path '{}' does not exist".format(abs_path))
argparse.ArgumentTypeError: Path '/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050710-110740-598_L1C_042-262-9_D_V1-0.zip' does not exist
muscate/SPOTWORLDHERITAGE/2005/08/06/SPOT4-HRVIR1-XS_20050806-104810-392_L1C_042-262-6_D_V1-0/SPOT4-HRVIR1-XS_20050806-104810-392_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050806-104810-392_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050806-104810-392_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T08:37:01.036    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:37:01.038    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050806-104810-392_L1C_042-262-6_D_V1-0.zip
2024-01-10T08:37:01.038    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:37:01.038    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:37:01.038    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:37:01.038    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:37:01.038    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:37:01.038    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:37:01.038    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:37:01.038    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050806-104810-392_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/09/15/SPOT4-HRVIR2-XS_20050915-111842-841_L1C_042-262-6_D_V1-0/SPOT4-HRVIR2-XS_20050915-111842-841_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050915-111842-841_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050915-111842-841_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T08:37:54.052    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:37:54.053    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050915-111842-841_L1C_042-262-6_D_V1-0.zip
2024-01-10T08:37:54.053    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:37:54.054    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:37:54.054    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:37:54.054    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:37:54.054    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:37:54.054    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:37:54.054    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:37:54.054    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050915-111842-841_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/09/16/SPOT4-HRVIR2-XS_20050916-105925-927_L1C_042-262-6_D_V1-0/SPOT4-HRVIR2-XS_20050916-105925-927_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050916-105925-927_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050916-105925-927_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T08:39:08.612    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:39:08.613    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050916-105925-927_L1C_042-262-6_D_V1-0.zip
2024-01-10T08:39:08.613    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:39:08.613    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:39:08.614    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:39:08.614    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:39:08.614    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:39:08.614    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:39:08.614    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:39:08.614    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050916-105925-927_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/09/26/SPOT4-HRVIR1-XS_20050926-110706-472_L1C_042-262-6_D_V1-0/SPOT4-HRVIR1-XS_20050926-110706-472_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050926-110706-472_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050926-110706-472_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T08:40:01.154    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:40:01.156    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050926-110706-472_L1C_042-262-6_D_V1-0.zip
2024-01-10T08:40:01.156    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:40:01.156    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:40:01.156    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:40:01.156    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:40:01.156    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:40:01.156    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:40:01.156    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:40:01.156    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050926-110706-472_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/10/01/SPOT4-HRVIR1-XS_20051001-111056-362_L1C_042-262-6_D_V1-0/SPOT4-HRVIR1-XS_20051001-111056-362_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051001-111056-362_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051001-111056-362_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T08:40:57.989    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:40:57.991    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051001-111056-362_L1C_042-262-6_D_V1-0.zip
2024-01-10T08:40:57.991    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:40:57.991    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:40:57.991    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:40:57.991    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:40:57.991    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:40:57.991    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:40:57.991    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:40:57.991    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051001-111056-362_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/10/06/SPOT4-HRVIR2-XS_20051006-111445-959_L1C_042-262-6_D_V1-0/SPOT4-HRVIR2-XS_20051006-111445-959_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20051006-111445-959_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051006-111445-959_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T08:42:01.855    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:42:01.856    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051006-111445-959_L1C_042-262-6_D_V1-0.zip
2024-01-10T08:42:01.856    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:42:01.856    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:42:01.856    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:42:01.856    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:42:01.856    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:42:01.856    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:42:01.857    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:42:01.857    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051006-111445-959_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/10/07/SPOT4-HRVIR1-XS_20051007-105528-236_L1C_042-262-6_D_V1-0/SPOT4-HRVIR1-XS_20051007-105528-236_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051007-105528-236_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051007-105528-236_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T08:43:13.331    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:43:13.332    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051007-105528-236_L1C_042-262-6_D_V1-0.zip
2024-01-10T08:43:13.332    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:43:13.332    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:43:13.332    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:43:13.332    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:43:13.333    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:43:13.333    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:43:13.333    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:43:13.333    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051007-105528-236_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/10/12/SPOT4-HRVIR1-XS_20051012-105919-784_L1C_042-262-8_D_V1-0/SPOT4-HRVIR1-XS_20051012-105919-784_L1C_042-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051012-105919-784_L1C_042-262-8_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051012-105919-784_L1C_042-262-8_D_V1-0.zip
run script
2024-01-10T08:44:07.250    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:44:07.252    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051012-105919-784_L1C_042-262-8_D_V1-0.zip
2024-01-10T08:44:07.252    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:44:07.252    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:44:07.252    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:44:07.252    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:44:07.252    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:44:07.252    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:44:07.252    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:44:07.252    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051012-105919-784_L1C_042-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/10/12/SPOT4-HRVIR2-XS_20051012-105919-889_L1C_042-263-0_D_V1-0/SPOT4-HRVIR2-XS_20051012-105919-889_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20051012-105919-889_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051012-105919-889_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T08:45:17.010    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:45:17.011    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051012-105919-889_L1C_042-263-0_D_V1-0.zip
2024-01-10T08:45:17.011    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:45:17.011    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:45:17.011    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:45:17.011    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:45:17.012    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:45:17.012    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:45:17.012    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:45:17.012    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051012-105919-889_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/10/12/SPOT4-HRVIR2-XS_20051012-105928-246_L1C_042-264-0_D_V1-0/SPOT4-HRVIR2-XS_20051012-105928-246_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20051012-105928-246_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051012-105928-246_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T08:46:45.190    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:46:45.191    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051012-105928-246_L1C_042-264-0_D_V1-0.zip
2024-01-10T08:46:45.191    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:46:45.191    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:46:45.191    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:46:45.191    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:46:45.191    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:46:45.191    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:46:45.191    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:46:45.191    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051012-105928-246_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/08/SPOT4-HRVIR1-XS_20051108-103944-459_L1C_042-262-6_D_V1-0/SPOT4-HRVIR1-XS_20051108-103944-459_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051108-103944-459_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051108-103944-459_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T08:48:26.412    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:48:26.413    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051108-103944-459_L1C_042-262-6_D_V1-0.zip
2024-01-10T08:48:26.413    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:48:26.413    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:48:26.413    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:48:26.413    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:48:26.413    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:48:26.413    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:48:26.414    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:48:26.414    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051108-103944-459_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/08/SPOT4-HRVIR2-XS_20051108-103941-361_L1C_044-262-5_D_V1-0/SPOT4-HRVIR2-XS_20051108-103941-361_L1C_044-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20051108-103941-361_L1C_044-262-5_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051108-103941-361_L1C_044-262-5_D_V1-0.zip
run script
2024-01-10T08:49:31.975    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:49:31.976    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051108-103941-361_L1C_044-262-5_D_V1-0.zip
2024-01-10T08:49:31.976    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:49:31.976    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:49:31.976    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:49:31.976    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:49:31.976    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:49:31.976    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:49:31.976    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:49:31.977    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051108-103941-361_L1C_044-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/08/SPOT4-HRVIR2-XS_20051108-103944-068_L1C_044-262-8_D_V1-0/SPOT4-HRVIR2-XS_20051108-103944-068_L1C_044-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20051108-103944-068_L1C_044-262-8_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051108-103944-068_L1C_044-262-8_D_V1-0.zip
run script
2024-01-10T08:50:20.613    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:50:20.615    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051108-103944-068_L1C_044-262-8_D_V1-0.zip
2024-01-10T08:50:20.615    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:50:20.615    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:50:20.615    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:50:20.615    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:50:20.615    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:50:20.615    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:50:20.615    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:50:20.615    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051108-103944-068_L1C_044-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/08/SPOT4-HRVIR1-XS_20051108-103959-272_L1C_045-264-8_D_V1-0/SPOT4-HRVIR1-XS_20051108-103959-272_L1C_045-264-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051108-103959-272_L1C_045-264-8_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051108-103959-272_L1C_045-264-8_D_V1-0.zip
run script
2024-01-10T08:51:37.046    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:51:37.047    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051108-103959-272_L1C_045-264-8_D_V1-0.zip
2024-01-10T08:51:37.047    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:51:37.047    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:51:37.048    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:51:37.048    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:51:37.048    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:51:37.048    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:51:37.048    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:51:37.048    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051108-103959-272_L1C_045-264-8_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/08/SPOT4-HRVIR1-XS_20051108-104000-355_L1C_045-265-0_D_V1-0/SPOT4-HRVIR1-XS_20051108-104000-355_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051108-104000-355_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051108-104000-355_L1C_045-265-0_D_V1-0.zip
run script
2024-01-10T08:52:17.641    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:52:17.643    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051108-104000-355_L1C_045-265-0_D_V1-0.zip
2024-01-10T08:52:17.643    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:52:17.643    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:52:17.643    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:52:17.643    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:52:17.643    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:52:17.643    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:52:17.643    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:52:17.643    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051108-104000-355_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/08/SPOT4-HRVIR2-XS_20051108-103958-358_L1C_046-264-8_D_V1-0/SPOT4-HRVIR2-XS_20051108-103958-358_L1C_046-264-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20051108-103958-358_L1C_046-264-8_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051108-103958-358_L1C_046-264-8_D_V1-0.zip
run script
2024-01-10T08:52:46.020    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:52:46.021    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051108-103958-358_L1C_046-264-8_D_V1-0.zip
2024-01-10T08:52:46.021    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:52:46.021    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:52:46.021    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:52:46.021    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:52:46.021    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:52:46.021    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:52:46.021    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:52:46.021    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051108-103958-358_L1C_046-264-8_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/08/SPOT4-HRVIR2-XS_20051108-103959-447_L1C_046-265-0_D_V1-0/SPOT4-HRVIR2-XS_20051108-103959-447_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20051108-103959-447_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051108-103959-447_L1C_046-265-0_D_V1-0.zip
run script
2024-01-10T08:53:10.921    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:53:10.922    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051108-103959-447_L1C_046-265-0_D_V1-0.zip
2024-01-10T08:53:10.922    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:53:10.922    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:53:10.922    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:53:10.922    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:53:10.922    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:53:10.922    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:53:10.922    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:53:10.923    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051108-103959-447_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/12/19/SPOT4-HRVIR1-XS_20051219-105049-810_L1C_042-262-9_D_V1-0/SPOT4-HRVIR1-XS_20051219-105049-810_L1C_042-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051219-105049-810_L1C_042-262-9_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051219-105049-810_L1C_042-262-9_D_V1-0.zip
run script
2024-01-10T08:53:29.737    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:53:29.738    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051219-105049-810_L1C_042-262-9_D_V1-0.zip
2024-01-10T08:53:29.738    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:53:29.738    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:53:29.738    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:53:29.738    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:53:29.738    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:53:29.738    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:53:29.739    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:53:29.739    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051219-105049-810_L1C_042-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/12/19/SPOT4-HRVIR1-XS_20051219-105050-000_L1C_042-263-0_D_V1-0/SPOT4-HRVIR1-XS_20051219-105050-000_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051219-105050-000_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051219-105050-000_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T08:54:54.071    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:54:54.072    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051219-105050-000_L1C_042-263-0_D_V1-0.zip
2024-01-10T08:54:54.072    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:54:54.073    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:54:54.073    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:54:54.073    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:54:54.073    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:54:54.073    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:54:54.073    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:54:54.073    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051219-105050-000_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/12/19/SPOT4-HRVIR1-XS_20051219-105058-320_L1C_042-264-0_D_V1-0/SPOT4-HRVIR1-XS_20051219-105058-320_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051219-105058-320_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051219-105058-320_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T08:56:17.617    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:56:17.619    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051219-105058-320_L1C_042-264-0_D_V1-0.zip
2024-01-10T08:56:17.619    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:56:17.619    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:56:17.619    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:56:17.619    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:56:17.619    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:56:17.619    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:56:17.619    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:56:17.619    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T08:57:53.124    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (846 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051219-105058-320_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2005/04/07/SPOT4-HRVIR2-XS_20050407-111543-750_L1C_042-263-0_D_V1-0/SPOT4-HRVIR2-XS_20050407-111543-750_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050407-111543-750_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050407-111543-750_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T08:57:56.423    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:57:56.424    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050407-111543-750_L1C_042-263-0_D_V1-0.zip
2024-01-10T08:57:56.424    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:57:56.424    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:57:56.424    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:57:56.424    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:57:56.424    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:57:56.424    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:57:56.424    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:57:56.424    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050407-111543-750_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/07/SPOT4-HRVIR2-XS_20050407-111545-555_L1C_042-263-2_D_V1-0/SPOT4-HRVIR2-XS_20050407-111545-555_L1C_042-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050407-111545-555_L1C_042-263-2_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050407-111545-555_L1C_042-263-2_D_V1-0.zip
run script
2024-01-10T08:59:40.560    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T08:59:40.561    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050407-111545-555_L1C_042-263-2_D_V1-0.zip
2024-01-10T08:59:40.561    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T08:59:40.562    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T08:59:40.562    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T08:59:40.562    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T08:59:40.562    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T08:59:40.562    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T08:59:40.562    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T08:59:40.562    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050407-111545-555_L1C_042-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/07/SPOT4-HRVIR1-XS_20050407-111541-346_L1C_044-263-0_D_V1-0/SPOT4-HRVIR1-XS_20050407-111541-346_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050407-111541-346_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050407-111541-346_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T09:01:47.576    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:01:47.577    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050407-111541-346_L1C_044-263-0_D_V1-0.zip
2024-01-10T09:01:47.577    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:01:47.577    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:01:47.577    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:01:47.577    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:01:47.577    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:01:47.577    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:01:47.577    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:01:47.577    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050407-111541-346_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/07/SPOT4-HRVIR1-XS_20050407-111544-956_L1C_044-263-4_D_V1-0/SPOT4-HRVIR1-XS_20050407-111544-956_L1C_044-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050407-111544-956_L1C_044-263-4_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050407-111544-956_L1C_044-263-4_D_V1-0.zip
run script
2024-01-10T09:03:39.183    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:03:39.184    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050407-111544-956_L1C_044-263-4_D_V1-0.zip
2024-01-10T09:03:39.184    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:03:39.184    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:03:39.184    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:03:39.184    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:03:39.184    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:03:39.184    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:03:39.184    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:03:39.185    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050407-111544-956_L1C_044-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/08/SPOT4-HRVIR2-XS_20050408-105626-810_L1C_042-263-0_D_V1-0/SPOT4-HRVIR2-XS_20050408-105626-810_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050408-105626-810_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050408-105626-810_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T09:06:16.387    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:06:16.388    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050408-105626-810_L1C_042-263-0_D_V1-0.zip
2024-01-10T09:06:16.388    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:06:16.388    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:06:16.388    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:06:16.389    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:06:16.389    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:06:16.389    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:06:16.389    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:06:16.389    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050408-105626-810_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/07/11/SPOT4-HRVIR1-XS_20050711-104823-090_L1C_042-263-0_D_V1-0/SPOT4-HRVIR1-XS_20050711-104823-090_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050711-104823-090_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050711-104823-090_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T09:07:39.745    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:07:39.746    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050711-104823-090_L1C_042-263-0_D_V1-0.zip
2024-01-10T09:07:39.746    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:07:39.746    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:07:39.746    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:07:39.746    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:07:39.746    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:07:39.746    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:07:39.746    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:07:39.746    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050711-104823-090_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/07/11/SPOT4-HRVIR1-XS_20050711-104823-992_L1C_042-263-1_D_V1-0/SPOT4-HRVIR1-XS_20050711-104823-992_L1C_042-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050711-104823-992_L1C_042-263-1_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050711-104823-992_L1C_042-263-1_D_V1-0.zip
run script
2024-01-10T09:09:11.840    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:09:11.841    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050711-104823-992_L1C_042-263-1_D_V1-0.zip
2024-01-10T09:09:11.841    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:09:11.841    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:09:11.841    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:09:11.841    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:09:11.842    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:09:11.842    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:09:11.842    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:09:11.842    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050711-104823-992_L1C_042-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 2]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/07/11/SPOT4-HRVIR2-XS_20050711-104822-171_L1C_044-263-2_D_V1-0/SPOT4-HRVIR2-XS_20050711-104822-171_L1C_044-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050711-104822-171_L1C_044-263-2_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050711-104822-171_L1C_044-263-2_D_V1-0.zip
run script
2024-01-10T09:10:50.167    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:10:50.169    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050711-104822-171_L1C_044-263-2_D_V1-0.zip
2024-01-10T09:10:50.169    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:10:50.169    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:10:50.169    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:10:50.169    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:10:50.169    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:10:50.169    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:10:50.169    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:10:50.169    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050711-104822-171_L1C_044-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/07/11/SPOT4-HRVIR2-XS_20050711-104823-976_L1C_044-263-4_D_V1-0/SPOT4-HRVIR2-XS_20050711-104823-976_L1C_044-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050711-104823-976_L1C_044-263-4_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050711-104823-976_L1C_044-263-4_D_V1-0.zip
run script
2024-01-10T09:12:30.077    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:12:30.078    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050711-104823-976_L1C_044-263-4_D_V1-0.zip
2024-01-10T09:12:30.078    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:12:30.078    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:12:30.078    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:12:30.078    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:12:30.078    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:12:30.079    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:12:30.079    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:12:30.079    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050711-104823-976_L1C_044-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/12/SPOT4-HRVIR2-XS_20051112-110255-214_L1C_042-263-0_D_V1-0/SPOT4-HRVIR2-XS_20051112-110255-214_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20051112-110255-214_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051112-110255-214_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T09:14:23.165    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:14:23.167    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051112-110255-214_L1C_042-263-0_D_V1-0.zip
2024-01-10T09:14:23.167    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:14:23.167    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:14:23.167    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:14:23.167    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:14:23.167    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:14:23.167    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:14:23.167    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:14:23.167    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051112-110255-214_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/12/SPOT4-HRVIR2-XS_20051112-110303-594_L1C_042-264-0_D_V1-0/SPOT4-HRVIR2-XS_20051112-110303-594_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20051112-110303-594_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051112-110303-594_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T09:15:53.305    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:15:53.306    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051112-110303-594_L1C_042-264-0_D_V1-0.zip
2024-01-10T09:15:53.306    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:15:53.307    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:15:53.307    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:15:53.307    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:15:53.307    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:15:53.307    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:15:53.307    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:15:53.307    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T09:17:38.580    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (866 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20051112-110303-594_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2005/04/09/SPOT4-HRVIR2-XS_20050409-103702-131_L1C_043-262-5_D_V1-0/SPOT4-HRVIR2-XS_20050409-103702-131_L1C_043-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050409-103702-131_L1C_043-262-5_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050409-103702-131_L1C_043-262-5_D_V1-0.zip
run script
2024-01-10T09:17:41.368    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:17:41.369    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050409-103702-131_L1C_043-262-5_D_V1-0.zip
2024-01-10T09:17:41.370    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:17:41.370    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:17:41.370    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:17:41.370    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:17:41.370    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:17:41.370    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:17:41.370    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:17:41.370    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050409-103702-131_L1C_043-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/09/SPOT4-HRVIR2-XS_20050409-103705-882_L1C_043-263-0_D_V1-0/SPOT4-HRVIR2-XS_20050409-103705-882_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050409-103705-882_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050409-103705-882_L1C_043-263-0_D_V1-0.zip
run script
2024-01-10T09:18:32.562    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:18:32.563    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050409-103705-882_L1C_043-263-0_D_V1-0.zip
2024-01-10T09:18:32.563    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:18:32.563    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:18:32.563    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:18:32.564    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:18:32.564    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:18:32.564    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:18:32.564    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:18:32.564    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050409-103705-882_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/09/SPOT4-HRVIR1-XS_20050409-103707-209_L1C_044-263-3_D_V1-0/SPOT4-HRVIR1-XS_20050409-103707-209_L1C_044-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050409-103707-209_L1C_044-263-3_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050409-103707-209_L1C_044-263-3_D_V1-0.zip
run script
2024-01-10T09:20:10.699    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:20:10.699    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050409-103707-209_L1C_044-263-3_D_V1-0.zip
2024-01-10T09:20:10.699    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:20:10.699    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:20:10.699    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:20:10.699    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:20:10.699    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:20:10.700    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:20:10.700    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:20:10.700    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T09:20:13.769    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (822 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050409-103707-209_L1C_044-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2005/04/09/SPOT4-HRVIR1-XS_20050409-103709-014_L1C_044-263-5_D_V1-0/SPOT4-HRVIR1-XS_20050409-103709-014_L1C_044-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050409-103709-014_L1C_044-263-5_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050409-103709-014_L1C_044-263-5_D_V1-0.zip
run script
2024-01-10T09:20:16.680    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:20:16.680    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050409-103709-014_L1C_044-263-5_D_V1-0.zip
2024-01-10T09:20:16.680    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:20:16.681    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:20:16.681    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:20:16.681    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:20:16.681    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:20:16.681    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:20:16.681    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:20:16.681    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050409-103709-014_L1C_044-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/20/SPOT4-HRVIR1-XS_20050520-104833-936_L1C_043-263-0_D_V1-0/SPOT4-HRVIR1-XS_20050520-104833-936_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050520-104833-936_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050520-104833-936_L1C_043-263-0_D_V1-0.zip
run script
2024-01-10T09:22:13.340    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:22:13.341    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050520-104833-936_L1C_043-263-0_D_V1-0.zip
2024-01-10T09:22:13.341    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:22:13.341    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:22:13.341    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:22:13.341    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:22:13.341    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:22:13.341    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:22:13.342    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:22:13.342    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050520-104833-936_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 2 2 ... 2 2 2]
 [0 2 2 ... 2 2 2]
 [0 2 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/20/SPOT4-HRVIR2-XS_20050520-104832-492_L1C_044-263-0_D_V1-0/SPOT4-HRVIR2-XS_20050520-104832-492_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050520-104832-492_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050520-104832-492_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T09:23:39.567    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:23:39.568    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050520-104832-492_L1C_044-263-0_D_V1-0.zip
2024-01-10T09:23:39.568    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:23:39.569    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:23:39.569    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:23:39.569    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:23:39.569    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:23:39.569    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:23:39.569    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:23:39.569    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050520-104832-492_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/05/20/SPOT4-HRVIR2-XS_20050520-104833-395_L1C_044-263-1_D_V1-0/SPOT4-HRVIR2-XS_20050520-104833-395_L1C_044-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050520-104833-395_L1C_044-263-1_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050520-104833-395_L1C_044-263-1_D_V1-0.zip
run script
2024-01-10T09:25:05.476    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:25:05.477    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050520-104833-395_L1C_044-263-1_D_V1-0.zip
2024-01-10T09:25:05.477    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:25:05.477    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:25:05.478    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:25:05.478    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:25:05.478    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:25:05.478    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:25:05.478    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:25:05.478    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050520-104833-395_L1C_044-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/13/SPOT4-HRVIR1-XS_20050413-110011-354_L1C_044-262-4_D_V1-0/SPOT4-HRVIR1-XS_20050413-110011-354_L1C_044-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050413-110011-354_L1C_044-262-4_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050413-110011-354_L1C_044-262-4_D_V1-0.zip
run script
2024-01-10T09:26:40.857    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:26:40.858    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050413-110011-354_L1C_044-262-4_D_V1-0.zip
2024-01-10T09:26:40.858    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:26:40.858    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:26:40.858    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:26:40.858    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:26:40.858    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:26:40.858    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:26:40.858    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:26:40.858    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050413-110011-354_L1C_044-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/13/SPOT4-HRVIR1-XS_20050413-110016-112_L1C_044-263-0_D_V1-0/SPOT4-HRVIR1-XS_20050413-110016-112_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050413-110016-112_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050413-110016-112_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T09:27:17.640    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:27:17.641    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050413-110016-112_L1C_044-263-0_D_V1-0.zip
2024-01-10T09:27:17.641    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:27:17.641    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:27:17.641    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:27:17.641    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:27:17.641    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:27:17.641    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:27:17.641    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:27:17.642    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050413-110016-112_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 0 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/13/SPOT4-HRVIR1-XS_20050413-110019-722_L1C_044-263-4_D_V1-0/SPOT4-HRVIR1-XS_20050413-110019-722_L1C_044-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050413-110019-722_L1C_044-263-4_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050413-110019-722_L1C_044-263-4_D_V1-0.zip
run script
2024-01-10T09:28:42.996    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:28:42.997    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050413-110019-722_L1C_044-263-4_D_V1-0.zip
2024-01-10T09:28:42.997    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:28:42.997    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:28:42.997    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:28:42.997    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:28:42.997    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:28:42.997    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:28:42.997    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:28:42.997    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050413-110019-722_L1C_044-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/13/SPOT4-HRVIR2-XS_20050413-110016-245_L1C_044-263-0_D_V1-0/SPOT4-HRVIR2-XS_20050413-110016-245_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050413-110016-245_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050413-110016-245_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T09:30:47.073    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:30:47.074    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050413-110016-245_L1C_044-263-0_D_V1-0.zip
2024-01-10T09:30:47.074    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:30:47.074    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:30:47.074    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:30:47.074    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:30:47.074    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:30:47.075    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:30:47.075    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:30:47.075    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050413-110016-245_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/13/SPOT4-HRVIR2-XS_20050413-110019-855_L1C_044-263-4_D_V1-0/SPOT4-HRVIR2-XS_20050413-110019-855_L1C_044-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050413-110019-855_L1C_044-263-4_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050413-110019-855_L1C_044-263-4_D_V1-0.zip
run script
2024-01-10T09:32:14.650    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:32:14.651    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050413-110019-855_L1C_044-263-4_D_V1-0.zip
2024-01-10T09:32:14.651    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:32:14.651    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:32:14.652    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:32:14.652    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:32:14.652    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:32:14.652    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:32:14.652    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:32:14.652    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050413-110019-855_L1C_044-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/03/SPOT4-HRVIR1-XS_20051103-103552-136_L1C_044-262-5_D_V1-0/SPOT4-HRVIR1-XS_20051103-103552-136_L1C_044-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051103-103552-136_L1C_044-262-5_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051103-103552-136_L1C_044-262-5_D_V1-0.zip
run script
2024-01-10T09:34:11.643    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:34:11.645    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051103-103552-136_L1C_044-262-5_D_V1-0.zip
2024-01-10T09:34:11.645    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:34:11.645    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:34:11.645    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:34:11.645    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:34:11.645    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:34:11.645    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:34:11.645    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:34:11.645    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051103-103552-136_L1C_044-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 2 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/03/SPOT4-HRVIR1-XS_20051103-103553-039_L1C_044-262-6_D_V1-0/SPOT4-HRVIR1-XS_20051103-103553-039_L1C_044-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051103-103553-039_L1C_044-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051103-103553-039_L1C_044-262-6_D_V1-0.zip
run script
2024-01-10T09:35:02.302    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:35:02.303    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051103-103553-039_L1C_044-262-6_D_V1-0.zip
2024-01-10T09:35:02.303    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:35:02.303    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:35:02.304    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:35:02.304    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:35:02.304    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:35:02.304    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:35:02.304    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:35:02.304    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051103-103553-039_L1C_044-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 0 2 2]
 [2 2 2 ... 0 0 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/03/SPOT4-HRVIR1-XS_20051103-103612-549_L1C_044-264-9_D_V1-0/SPOT4-HRVIR1-XS_20051103-103612-549_L1C_044-264-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051103-103612-549_L1C_044-264-9_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051103-103612-549_L1C_044-264-9_D_V1-0.zip
run script
2024-01-10T09:36:02.970    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:36:02.971    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051103-103612-549_L1C_044-264-9_D_V1-0.zip
2024-01-10T09:36:02.971    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:36:02.971    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:36:02.972    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:36:02.972    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:36:02.972    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:36:02.972    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:36:02.972    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:36:02.972    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051103-103612-549_L1C_044-264-9_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/03/SPOT4-HRVIR1-XS_20051103-103612-711_L1C_044-265-0_D_V1-0/SPOT4-HRVIR1-XS_20051103-103612-711_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051103-103612-711_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051103-103612-711_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T09:36:42.447    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:36:42.449    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051103-103612-711_L1C_044-265-0_D_V1-0.zip
2024-01-10T09:36:42.449    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:36:42.449    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:36:42.449    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:36:42.449    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:36:42.449    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:36:42.449    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:36:42.449    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:36:42.449    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051103-103612-711_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/03/SPOT4-HRVIR1-XS_20050403-105233-955_L1C_044-263-0_D_V1-0/SPOT4-HRVIR1-XS_20050403-105233-955_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050403-105233-955_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050403-105233-955_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T09:37:18.971    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:37:18.973    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050403-105233-955_L1C_044-263-0_D_V1-0.zip
2024-01-10T09:37:18.973    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:37:18.973    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:37:18.973    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:37:18.973    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:37:18.973    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:37:18.973    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:37:18.973    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:37:18.973    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050403-105233-955_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/03/SPOT4-HRVIR1-XS_20050403-105237-565_L1C_044-263-4_D_V1-0/SPOT4-HRVIR1-XS_20050403-105237-565_L1C_044-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050403-105237-565_L1C_044-263-4_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050403-105237-565_L1C_044-263-4_D_V1-0.zip
run script
2024-01-10T09:38:43.604    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:38:43.605    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050403-105237-565_L1C_044-263-4_D_V1-0.zip
2024-01-10T09:38:43.606    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:38:43.606    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:38:43.606    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:38:43.606    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:38:43.606    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:38:43.606    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:38:43.606    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:38:43.606    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050403-105237-565_L1C_044-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/14/SPOT4-HRVIR1-XS_20050414-104058-474_L1C_044-263-2_D_V1-0/SPOT4-HRVIR1-XS_20050414-104058-474_L1C_044-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050414-104058-474_L1C_044-263-2_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050414-104058-474_L1C_044-263-2_D_V1-0.zip
run script
2024-01-10T09:40:37.123    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:40:37.125    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050414-104058-474_L1C_044-263-2_D_V1-0.zip
2024-01-10T09:40:37.125    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:40:37.125    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:40:37.125    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:40:37.125    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:40:37.125    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:40:37.125    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:40:37.125    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:40:37.125    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050414-104058-474_L1C_044-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/14/SPOT4-HRVIR1-XS_20050414-104100-279_L1C_044-263-4_D_V1-0/SPOT4-HRVIR1-XS_20050414-104100-279_L1C_044-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20050414-104100-279_L1C_044-263-4_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050414-104100-279_L1C_044-263-4_D_V1-0.zip
run script
2024-01-10T09:42:22.597    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:42:22.598    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050414-104100-279_L1C_044-263-4_D_V1-0.zip
2024-01-10T09:42:22.599    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:42:22.599    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:42:22.599    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:42:22.599    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:42:22.599    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:42:22.599    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:42:22.599    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:42:22.599    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20050414-104100-279_L1C_044-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/14/SPOT4-HRVIR2-XS_20050414-104056-775_L1C_044-263-0_D_V1-0/SPOT4-HRVIR2-XS_20050414-104056-775_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050414-104056-775_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050414-104056-775_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T09:44:20.456    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:44:20.457    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050414-104056-775_L1C_044-263-0_D_V1-0.zip
2024-01-10T09:44:20.457    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:44:20.457    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:44:20.457    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:44:20.457    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:44:20.458    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:44:20.458    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:44:20.458    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:44:20.458    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050414-104056-775_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/04/14/SPOT4-HRVIR2-XS_20050414-104100-385_L1C_044-263-4_D_V1-0/SPOT4-HRVIR2-XS_20050414-104100-385_L1C_044-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20050414-104100-385_L1C_044-263-4_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050414-104100-385_L1C_044-263-4_D_V1-0.zip
run script
2024-01-10T09:45:49.709    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:45:49.711    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050414-104100-385_L1C_044-263-4_D_V1-0.zip
2024-01-10T09:45:49.711    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:45:49.711    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:45:49.711    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:45:49.711    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:45:49.711    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:45:49.711    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:45:49.712    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:45:49.712    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR2-XS_20050414-104100-385_L1C_044-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/10/17/SPOT4-HRVIR1-XS_20051017-110315-611_L1C_044-264-0_D_V1-0/SPOT4-HRVIR1-XS_20051017-110315-611_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051017-110315-611_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051017-110315-611_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T09:47:46.306    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:47:46.308    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051017-110315-611_L1C_044-264-0_D_V1-0.zip
2024-01-10T09:47:46.308    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:47:46.308    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:47:46.308    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:47:46.308    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:47:46.308    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:47:46.308    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:47:46.308    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:47:46.308    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051017-110315-611_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/10/17/SPOT4-HRVIR1-XS_20051017-110324-015_L1C_044-265-0_D_V1-0/SPOT4-HRVIR1-XS_20051017-110324-015_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051017-110324-015_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051017-110324-015_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T09:49:47.332    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:49:47.333    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051017-110324-015_L1C_044-265-0_D_V1-0.zip
2024-01-10T09:49:47.337    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:49:47.340    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:49:47.343    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:49:47.346    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:49:47.349    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:49:47.351    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:49:47.354    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:49:47.357    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051017-110324-015_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/12/03/SPOT4-HRVIR1-XS_20051203-105854-591_L1C_044-264-0_D_V1-0/SPOT4-HRVIR1-XS_20051203-105854-591_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051203-105854-591_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051203-105854-591_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T09:50:23.663    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:50:23.664    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051203-105854-591_L1C_044-264-0_D_V1-0.zip
2024-01-10T09:50:23.664    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:50:23.664    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:50:23.664    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:50:23.665    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:50:23.665    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:50:23.665    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:50:23.665    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:50:23.665    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051203-105854-591_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/24/SPOT4-HRVIR1-XS_20051124-103200-686_L1C_047-264-6_D_V1-0/SPOT4-HRVIR1-XS_20051124-103200-686_L1C_047-264-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051124-103200-686_L1C_047-264-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051124-103200-686_L1C_047-264-6_D_V1-0.zip
run script
2024-01-10T09:52:19.451    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:52:19.452    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051124-103200-686_L1C_047-264-6_D_V1-0.zip
2024-01-10T09:52:19.452    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:52:19.452    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:52:19.452    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:52:19.453    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:52:19.453    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:52:19.453    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:52:19.453    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:52:19.453    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051124-103200-686_L1C_047-264-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2005/11/24/SPOT4-HRVIR1-XS_20051124-103203-562_L1C_047-265-0_D_V1-0/SPOT4-HRVIR1-XS_20051124-103203-562_L1C_047-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20051124-103203-562_L1C_047-265-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051124-103203-562_L1C_047-265-0_D_V1-0.zip
run script
2024-01-10T09:52:37.981    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:52:37.982    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051124-103203-562_L1C_047-265-0_D_V1-0.zip
2024-01-10T09:52:37.982    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:52:37.982    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:52:37.983    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:52:37.983    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:52:37.983    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:52:37.983    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:52:37.983    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:52:37.983    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT4-HRVIR1-XS_20051124-103203-562_L1C_047-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/02/03/SPOT5-HRG1-XS_20090203-105124-248_L1C_036-262-2_D_V1-0/SPOT5-HRG1-XS_20090203-105124-248_L1C_036-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090203-105124-248_L1C_036-262-2_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090203-105124-248_L1C_036-262-2_D_V1-0.zip
run script
2024-01-10T09:52:52.554    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:52:52.555    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090203-105124-248_L1C_036-262-2_D_V1-0.zip
2024-01-10T09:52:52.555    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:52:52.555    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:52:52.555    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:52:52.555    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:52:52.555    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:52:52.555    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:52:52.555    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:52:52.555    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090203-105124-248_L1C_036-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/02/03/SPOT5-HRG2-XS_20090203-105123-123_L1C_038-262-3_D_V1-0/SPOT5-HRG2-XS_20090203-105123-123_L1C_038-262-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090203-105123-123_L1C_038-262-3_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090203-105123-123_L1C_038-262-3_D_V1-0.zip
run script
2024-01-10T09:53:16.588    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:53:16.590    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090203-105123-123_L1C_038-262-3_D_V1-0.zip
2024-01-10T09:53:16.590    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:53:16.590    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:53:16.590    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:53:16.590    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:53:16.590    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:53:16.590    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:53:16.590    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:53:16.590    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090203-105123-123_L1C_038-262-3_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/02/12/SPOT5-HRG2-XS_20090212-111835-184_L1C_036-262-0_D_V1-0/SPOT5-HRG2-XS_20090212-111835-184_L1C_036-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090212-111835-184_L1C_036-262-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090212-111835-184_L1C_036-262-0_D_V1-0.zip
run script
2024-01-10T09:53:52.683    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:53:52.684    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090212-111835-184_L1C_036-262-0_D_V1-0.zip
2024-01-10T09:53:52.684    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:53:52.685    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:53:52.685    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:53:52.685    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:53:52.685    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:53:52.685    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:53:52.685    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:53:52.685    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090212-111835-184_L1C_036-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/25/SPOT5-HRG2-XS_20090725-104809-441_L1C_036-262-6_D_V1-0/SPOT5-HRG2-XS_20090725-104809-441_L1C_036-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090725-104809-441_L1C_036-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090725-104809-441_L1C_036-262-6_D_V1-0.zip
run script
2024-01-10T09:54:04.715    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:54:04.716    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090725-104809-441_L1C_036-262-6_D_V1-0.zip
2024-01-10T09:54:04.716    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:54:04.717    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:54:04.717    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:54:04.717    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:54:04.717    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:54:04.717    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:54:04.717    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:54:04.717    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090725-104809-441_L1C_036-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/25/SPOT5-HRG2-XS_20090725-104812-304_L1C_036-263-0_D_V1-0/SPOT5-HRG2-XS_20090725-104812-304_L1C_036-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090725-104812-304_L1C_036-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090725-104812-304_L1C_036-263-0_D_V1-0.zip
run script
2024-01-10T09:54:48.951    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:54:48.952    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090725-104812-304_L1C_036-263-0_D_V1-0.zip
2024-01-10T09:54:48.953    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:54:48.953    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:54:48.953    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:54:48.953    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:54:48.953    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:54:48.953    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:54:48.953    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:54:48.953    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090725-104812-304_L1C_036-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 0]
 [2 2 0 ... 2 0 0]
 [0 0 0 ... 2 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/04/SPOT5-HRG2-XS_20090904-110026-576_L1C_036-262-0_D_V1-0/SPOT5-HRG2-XS_20090904-110026-576_L1C_036-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090904-110026-576_L1C_036-262-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090904-110026-576_L1C_036-262-0_D_V1-0.zip
run script
2024-01-10T09:55:42.313    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:55:42.315    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090904-110026-576_L1C_036-262-0_D_V1-0.zip
2024-01-10T09:55:42.315    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:55:42.315    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:55:42.315    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:55:42.315    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:55:42.315    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:55:42.315    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:55:42.315    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:55:42.315    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T09:55:44.984    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 1482). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090904-110026-576_L1C_036-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2009/09/04/SPOT5-HRG2-XS_20090904-110027-490_L1C_036-262-1_D_V1-0/SPOT5-HRG2-XS_20090904-110027-490_L1C_036-262-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090904-110027-490_L1C_036-262-1_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090904-110027-490_L1C_036-262-1_D_V1-0.zip
run script
2024-01-10T09:55:51.695    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:55:51.696    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090904-110027-490_L1C_036-262-1_D_V1-0.zip
2024-01-10T09:55:51.696    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:55:51.696    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:55:51.696    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:55:51.696    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:55:51.696    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:55:51.697    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:55:51.697    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:55:51.697    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090904-110027-490_L1C_036-262-1_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/10/04/SPOT5-HRG2-XS_20091004-112412-228_L1C_036-262-0_D_V1-0/SPOT5-HRG2-XS_20091004-112412-228_L1C_036-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091004-112412-228_L1C_036-262-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091004-112412-228_L1C_036-262-0_D_V1-0.zip
run script
2024-01-10T09:56:03.308    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:56:03.316    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091004-112412-228_L1C_036-262-0_D_V1-0.zip
2024-01-10T09:56:03.316    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:56:03.317    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:56:03.317    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:56:03.317    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:56:03.317    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:56:03.317    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:56:03.317    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:56:03.317    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091004-112412-228_L1C_036-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/10/30/SPOT5-HRG2-XS_20091030-112440-675_L1C_036-262-0_D_V1-0/SPOT5-HRG2-XS_20091030-112440-675_L1C_036-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091030-112440-675_L1C_036-262-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091030-112440-675_L1C_036-262-0_D_V1-0.zip
run script
2024-01-10T09:56:13.260    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:56:13.262    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091030-112440-675_L1C_036-262-0_D_V1-0.zip
2024-01-10T09:56:13.262    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:56:13.262    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:56:13.262    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:56:13.262    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:56:13.262    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:56:13.262    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:56:13.263    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:56:13.263    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091030-112440-675_L1C_036-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/10/30/SPOT5-HRG2-XS_20091030-112441-589_L1C_036-262-1_D_V1-0/SPOT5-HRG2-XS_20091030-112441-589_L1C_036-262-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091030-112441-589_L1C_036-262-1_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091030-112441-589_L1C_036-262-1_D_V1-0.zip
run script
2024-01-10T09:56:23.279    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:56:23.281    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091030-112441-589_L1C_036-262-1_D_V1-0.zip
2024-01-10T09:56:23.281    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:56:23.281    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:56:23.281    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:56:23.281    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:56:23.281    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:56:23.281    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:56:23.281    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:56:23.281    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091030-112441-589_L1C_036-262-1_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/12/11/SPOT5-HRG2-XS_20091211-111737-315_L1C_036-262-3_D_V1-0/SPOT5-HRG2-XS_20091211-111737-315_L1C_036-262-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091211-111737-315_L1C_036-262-3_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091211-111737-315_L1C_036-262-3_D_V1-0.zip
run script
2024-01-10T09:56:41.678    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:56:41.679    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091211-111737-315_L1C_036-262-3_D_V1-0.zip
2024-01-10T09:56:41.679    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:56:41.679    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:56:41.680    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:56:41.680    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:56:41.680    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:56:41.680    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:56:41.680    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:56:41.680    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091211-111737-315_L1C_036-262-3_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/12/17/SPOT5-HRG2-XS_20091217-110218-712_L1C_036-262-0_D_V1-0/SPOT5-HRG2-XS_20091217-110218-712_L1C_036-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091217-110218-712_L1C_036-262-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091217-110218-712_L1C_036-262-0_D_V1-0.zip
run script
2024-01-10T09:57:10.723    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:57:10.723    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091217-110218-712_L1C_036-262-0_D_V1-0.zip
2024-01-10T09:57:10.723    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:57:10.723    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:57:10.723    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:57:10.723    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:57:10.723    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:57:10.723    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:57:10.723    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:57:10.723    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T09:57:13.150    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 1490). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091217-110218-712_L1C_036-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2009/12/17/SPOT5-HRG2-XS_20091217-110219-602_L1C_036-262-1_D_V1-0/SPOT5-HRG2-XS_20091217-110219-602_L1C_036-262-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091217-110219-602_L1C_036-262-1_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091217-110219-602_L1C_036-262-1_D_V1-0.zip
run script
2024-01-10T09:57:18.074    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:57:18.075    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091217-110219-602_L1C_036-262-1_D_V1-0.zip
2024-01-10T09:57:18.075    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:57:18.075    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:57:18.075    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:57:18.075    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:57:18.075    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:57:18.075    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:57:18.075    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:57:18.075    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091217-110219-602_L1C_036-262-1_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/15/SPOT5-HRG2-XS_20090815-104442-769_L1C_037-262-6_D_V1-0/SPOT5-HRG2-XS_20090815-104442-769_L1C_037-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090815-104442-769_L1C_037-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090815-104442-769_L1C_037-262-6_D_V1-0.zip
run script
2024-01-10T09:57:30.387    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:57:30.388    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090815-104442-769_L1C_037-262-6_D_V1-0.zip
2024-01-10T09:57:30.388    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:57:30.388    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:57:30.388    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:57:30.388    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:57:30.388    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:57:30.389    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:57:30.389    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:57:30.389    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090815-104442-769_L1C_037-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/15/SPOT5-HRG2-XS_20090815-104445-633_L1C_037-263-0_D_V1-0/SPOT5-HRG2-XS_20090815-104445-633_L1C_037-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090815-104445-633_L1C_037-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090815-104445-633_L1C_037-263-0_D_V1-0.zip
run script
2024-01-10T09:58:34.692    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T09:58:34.693    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090815-104445-633_L1C_037-263-0_D_V1-0.zip
2024-01-10T09:58:34.693    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T09:58:34.693    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T09:58:34.693    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T09:58:34.693    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T09:58:34.693    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T09:58:34.693    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T09:58:34.693    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T09:58:34.693    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090815-104445-633_L1C_037-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/15/SPOT5-HRG1-XS_20090815-104436-573_L1C_042-262-6_D_V1-0/SPOT5-HRG1-XS_20090815-104436-573_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090815-104436-573_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090815-104436-573_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T10:00:13.393    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:00:13.394    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090815-104436-573_L1C_042-262-6_D_V1-0.zip
2024-01-10T10:00:13.394    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:00:13.394    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:00:13.394    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:00:13.395    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:00:13.395    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:00:13.395    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:00:13.395    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:00:13.395    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090815-104436-573_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/11/20/SPOT5-HRG2-XS_20091120-112105-428_L1C_039-262-3_D_V1-0/SPOT5-HRG2-XS_20091120-112105-428_L1C_039-262-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091120-112105-428_L1C_039-262-3_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091120-112105-428_L1C_039-262-3_D_V1-0.zip
run script
2024-01-10T10:01:21.416    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:01:21.417    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091120-112105-428_L1C_039-262-3_D_V1-0.zip
2024-01-10T10:01:21.417    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:01:21.417    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:01:21.417    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:01:21.418    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:01:21.418    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:01:21.418    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:01:21.418    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:01:21.418    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091120-112105-428_L1C_039-262-3_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/09/SPOT5-HRG2-XS_20090909-110427-042_L1C_039-263-0_D_V1-0/SPOT5-HRG2-XS_20090909-110427-042_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090909-110427-042_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090909-110427-042_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T10:02:10.748    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:02:10.749    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090909-110427-042_L1C_039-263-0_D_V1-0.zip
2024-01-10T10:02:10.749    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:02:10.749    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:02:10.749    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:02:10.750    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:02:10.750    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:02:10.750    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:02:10.750    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:02:10.750    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090909-110427-042_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/14/SPOT5-HRG2-XS_20090914-110825-252_L1C_039-263-1_D_V1-0/SPOT5-HRG2-XS_20090914-110825-252_L1C_039-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090914-110825-252_L1C_039-263-1_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090914-110825-252_L1C_039-263-1_D_V1-0.zip
run script
2024-01-10T10:03:50.211    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:03:50.212    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090914-110825-252_L1C_039-263-1_D_V1-0.zip
2024-01-10T10:03:50.212    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:03:50.212    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:03:50.212    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:03:50.212    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:03:50.212    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:03:50.213    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:03:50.213    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:03:50.213    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090914-110825-252_L1C_039-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/11/22/SPOT5-HRG2-XS_20091122-104242-342_L1C_039-263-0_D_V1-0/SPOT5-HRG2-XS_20091122-104242-342_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091122-104242-342_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091122-104242-342_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T10:05:50.025    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:05:50.026    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091122-104242-342_L1C_039-263-0_D_V1-0.zip
2024-01-10T10:05:50.026    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:05:50.026    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:05:50.026    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:05:50.026    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:05:50.026    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:05:50.026    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:05:50.027    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:05:50.027    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091122-104242-342_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/11/22/SPOT5-HRG2-XS_20091122-104245-061_L1C_039-263-3_D_V1-0/SPOT5-HRG2-XS_20091122-104245-061_L1C_039-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091122-104245-061_L1C_039-263-3_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091122-104245-061_L1C_039-263-3_D_V1-0.zip
run script
2024-01-10T10:07:38.232    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:07:38.234    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091122-104245-061_L1C_039-263-3_D_V1-0.zip
2024-01-10T10:07:38.234    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:07:38.234    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:07:38.234    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:07:38.234    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:07:38.234    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:07:38.234    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:07:38.234    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:07:38.234    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091122-104245-061_L1C_039-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/04/06/SPOT5-HRG1-XS_20090406-110049-088_L1C_040-263-1_D_V1-0/SPOT5-HRG1-XS_20090406-110049-088_L1C_040-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090406-110049-088_L1C_040-263-1_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090406-110049-088_L1C_040-263-1_D_V1-0.zip
run script
2024-01-10T10:10:04.233    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:10:04.234    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090406-110049-088_L1C_040-263-1_D_V1-0.zip
2024-01-10T10:10:04.234    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:10:04.234    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:10:04.234    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:10:04.234    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:10:04.234    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:10:04.234    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:10:04.234    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:10:04.234    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090406-110049-088_L1C_040-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/04/06/SPOT5-HRG1-XS_20090406-110050-892_L1C_040-263-3_D_V1-0/SPOT5-HRG1-XS_20090406-110050-892_L1C_040-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090406-110050-892_L1C_040-263-3_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090406-110050-892_L1C_040-263-3_D_V1-0.zip
run script
2024-01-10T10:12:13.980    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:12:13.981    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090406-110050-892_L1C_040-263-3_D_V1-0.zip
2024-01-10T10:12:13.981    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:12:13.981    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:12:13.981    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:12:13.981    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:12:13.981    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:12:13.981    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:12:13.981    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:12:13.982    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090406-110050-892_L1C_040-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/17/SPOT5-HRG1-XS_20090517-111323-984_L1C_040-263-3_D_V1-0/SPOT5-HRG1-XS_20090517-111323-984_L1C_040-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090517-111323-984_L1C_040-263-3_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090517-111323-984_L1C_040-263-3_D_V1-0.zip
run script
2024-01-10T10:14:47.498    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:14:47.499    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090517-111323-984_L1C_040-263-3_D_V1-0.zip
2024-01-10T10:14:47.499    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:14:47.499    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:14:47.499    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:14:47.499    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:14:47.499    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:14:47.499    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:14:47.499    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:14:47.499    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090517-111323-984_L1C_040-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/19/SPOT5-HRG1-XS_20090519-103454-717_L1C_040-263-1_D_V1-0/SPOT5-HRG1-XS_20090519-103454-717_L1C_040-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090519-103454-717_L1C_040-263-1_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090519-103454-717_L1C_040-263-1_D_V1-0.zip
run script
2024-01-10T10:17:51.979    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:17:52.000    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090519-103454-717_L1C_040-263-1_D_V1-0.zip
2024-01-10T10:17:52.000    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:17:52.001    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:17:52.001    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:17:52.001    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:17:52.001    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:17:52.001    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:17:52.001    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:17:52.001    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090519-103454-717_L1C_040-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/19/SPOT5-HRG1-XS_20090519-103457-436_L1C_040-263-4_D_V1-0/SPOT5-HRG1-XS_20090519-103457-436_L1C_040-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090519-103457-436_L1C_040-263-4_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090519-103457-436_L1C_040-263-4_D_V1-0.zip
run script
2024-01-10T10:20:03.701    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:20:03.702    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090519-103457-436_L1C_040-263-4_D_V1-0.zip
2024-01-10T10:20:03.702    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:20:03.703    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:20:03.703    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:20:03.703    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:20:03.703    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:20:03.703    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:20:03.703    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:20:03.703    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090519-103457-436_L1C_040-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/19/SPOT5-HRG2-XS_20090519-103455-315_L1C_043-263-6_D_V1-0/SPOT5-HRG2-XS_20090519-103455-315_L1C_043-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090519-103455-315_L1C_043-263-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090519-103455-315_L1C_043-263-6_D_V1-0.zip
run script
2024-01-10T10:22:51.672    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:22:51.673    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090519-103455-315_L1C_043-263-6_D_V1-0.zip
2024-01-10T10:22:51.673    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:22:51.673    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:22:51.673    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:22:51.673    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:22:51.673    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:22:51.673    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:22:51.674    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:22:51.674    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090519-103455-315_L1C_043-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/19/SPOT5-HRG2-XS_20090519-103458-203_L1C_044-264-0_D_V1-0/SPOT5-HRG2-XS_20090519-103458-203_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090519-103458-203_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090519-103458-203_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T10:25:12.116    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:25:12.118    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090519-103458-203_L1C_044-264-0_D_V1-0.zip
2024-01-10T10:25:12.118    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:25:12.118    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:25:12.118    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:25:12.118    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:25:12.118    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:25:12.118    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:25:12.118    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:25:12.118    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090519-103458-203_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/19/SPOT5-HRG2-XS_20090519-103506-529_L1C_044-265-0_D_V1-0/SPOT5-HRG2-XS_20090519-103506-529_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090519-103506-529_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090519-103506-529_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T10:27:35.531    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:27:35.532    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090519-103506-529_L1C_044-265-0_D_V1-0.zip
2024-01-10T10:27:35.532    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:27:35.532    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:27:35.532    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:27:35.532    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:27:35.532    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:27:35.532    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:27:35.533    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:27:35.533    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090519-103506-529_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/23/SPOT5-HRG1-XS_20090523-105808-505_L1C_040-263-1_D_V1-0/SPOT5-HRG1-XS_20090523-105808-505_L1C_040-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090523-105808-505_L1C_040-263-1_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090523-105808-505_L1C_040-263-1_D_V1-0.zip
run script
2024-01-10T10:28:19.816    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:28:19.817    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090523-105808-505_L1C_040-263-1_D_V1-0.zip
2024-01-10T10:28:19.817    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:28:19.817    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:28:19.817    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:28:19.817    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:28:19.817    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:28:19.817    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:28:19.817    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:28:19.817    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090523-105808-505_L1C_040-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/23/SPOT5-HRG1-XS_20090523-105811-200_L1C_040-263-4_D_V1-0/SPOT5-HRG1-XS_20090523-105811-200_L1C_040-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090523-105811-200_L1C_040-263-4_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090523-105811-200_L1C_040-263-4_D_V1-0.zip
run script
2024-01-10T10:30:25.385    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:30:25.386    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090523-105811-200_L1C_040-263-4_D_V1-0.zip
2024-01-10T10:30:25.386    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:30:25.386    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:30:25.386    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:30:25.386    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:30:25.387    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:30:25.387    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:30:25.387    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:30:25.387    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090523-105811-200_L1C_040-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/28/SPOT5-HRG1-XS_20090528-110206-810_L1C_040-263-1_D_V1-0/SPOT5-HRG1-XS_20090528-110206-810_L1C_040-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090528-110206-810_L1C_040-263-1_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090528-110206-810_L1C_040-263-1_D_V1-0.zip
run script
2024-01-10T10:33:01.613    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:33:01.615    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090528-110206-810_L1C_040-263-1_D_V1-0.zip
2024-01-10T10:33:01.615    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:33:01.615    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:33:01.615    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:33:01.615    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:33:01.615    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:33:01.615    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:33:01.615    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:33:01.615    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090528-110206-810_L1C_040-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/28/SPOT5-HRG1-XS_20090528-110209-505_L1C_040-263-4_D_V1-0/SPOT5-HRG1-XS_20090528-110209-505_L1C_040-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090528-110209-505_L1C_040-263-4_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090528-110209-505_L1C_040-263-4_D_V1-0.zip
run script
2024-01-10T10:35:10.157    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:35:10.158    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090528-110209-505_L1C_040-263-4_D_V1-0.zip
2024-01-10T10:35:10.158    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:35:10.158    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:35:10.158    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:35:10.158    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:35:10.158    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:35:10.158    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:35:10.158    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:35:10.158    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090528-110209-505_L1C_040-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/28/SPOT5-HRG2-XS_20090528-110211-799_L1C_045-264-6_D_V1-0/SPOT5-HRG2-XS_20090528-110211-799_L1C_045-264-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090528-110211-799_L1C_045-264-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090528-110211-799_L1C_045-264-6_D_V1-0.zip
run script
2024-01-10T10:38:01.193    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:38:01.194    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090528-110211-799_L1C_045-264-6_D_V1-0.zip
2024-01-10T10:38:01.194    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:38:01.195    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:38:01.195    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:38:01.195    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:38:01.195    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:38:01.195    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:38:01.195    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:38:01.195    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T10:38:04.163    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2156 x 0). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090528-110211-799_L1C_045-264-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2009/05/28/SPOT5-HRG2-XS_20090528-110214-831_L1C_045-265-0_D_V1-0/SPOT5-HRG2-XS_20090528-110214-831_L1C_045-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090528-110214-831_L1C_045-265-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090528-110214-831_L1C_045-265-0_D_V1-0.zip
run script
2024-01-10T10:38:09.470    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:38:09.470    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090528-110214-831_L1C_045-265-0_D_V1-0.zip
2024-01-10T10:38:09.470    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:38:09.470    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:38:09.470    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:38:09.470    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:38:09.470    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:38:09.470    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:38:09.470    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:38:09.470    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090528-110214-831_L1C_045-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/29/SPOT5-HRG1-XS_20090529-104252-806_L1C_040-263-1_D_V1-0/SPOT5-HRG1-XS_20090529-104252-806_L1C_040-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090529-104252-806_L1C_040-263-1_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090529-104252-806_L1C_040-263-1_D_V1-0.zip
run script
2024-01-10T10:39:08.287    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:39:08.288    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090529-104252-806_L1C_040-263-1_D_V1-0.zip
2024-01-10T10:39:08.288    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:39:08.288    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:39:08.288    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:39:08.289    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:39:08.289    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:39:08.289    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:39:08.289    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:39:08.289    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090529-104252-806_L1C_040-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/29/SPOT5-HRG1-XS_20090529-104255-501_L1C_040-263-4_D_V1-0/SPOT5-HRG1-XS_20090529-104255-501_L1C_040-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090529-104255-501_L1C_040-263-4_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090529-104255-501_L1C_040-263-4_D_V1-0.zip
run script
2024-01-10T10:41:11.977    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:41:11.978    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090529-104255-501_L1C_040-263-4_D_V1-0.zip
2024-01-10T10:41:11.978    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:41:11.978    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:41:11.978    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:41:11.978    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:41:11.978    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:41:11.978    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:41:11.978    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:41:11.978    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090529-104255-501_L1C_040-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/02/SPOT5-HRG2-XS_20090602-110610-288_L1C_040-263-6_D_V1-0/SPOT5-HRG2-XS_20090602-110610-288_L1C_040-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090602-110610-288_L1C_040-263-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090602-110610-288_L1C_040-263-6_D_V1-0.zip
run script
2024-01-10T10:43:51.674    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:43:51.675    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090602-110610-288_L1C_040-263-6_D_V1-0.zip
2024-01-10T10:43:51.676    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:43:51.676    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:43:51.676    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:43:51.676    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:43:51.676    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:43:51.676    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:43:51.676    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:43:51.676    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090602-110610-288_L1C_040-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/02/SPOT5-HRG2-XS_20090602-110613-272_L1C_040-264-0_D_V1-0/SPOT5-HRG2-XS_20090602-110613-272_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090602-110613-272_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090602-110613-272_L1C_040-264-0_D_V1-0.zip
run script
2024-01-10T10:46:32.982    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:46:32.983    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090602-110613-272_L1C_040-264-0_D_V1-0.zip
2024-01-10T10:46:32.983    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:46:32.983    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:46:32.983    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:46:32.983    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:46:32.983    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:46:32.983    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:46:32.983    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:46:32.983    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T10:48:56.060    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (226 x 1). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090602-110613-272_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/06/02/SPOT5-HRG1-XS_20090602-110604-786_L1C_041-263-1_D_V1-0/SPOT5-HRG1-XS_20090602-110604-786_L1C_041-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090602-110604-786_L1C_041-263-1_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090602-110604-786_L1C_041-263-1_D_V1-0.zip
run script
2024-01-10T10:49:01.526    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:49:01.527    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090602-110604-786_L1C_041-263-1_D_V1-0.zip
2024-01-10T10:49:01.527    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:49:01.527    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:49:01.528    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:49:01.528    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:49:01.528    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:49:01.528    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:49:01.528    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:49:01.528    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090602-110604-786_L1C_041-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/02/SPOT5-HRG1-XS_20090602-110606-591_L1C_041-263-3_D_V1-0/SPOT5-HRG1-XS_20090602-110606-591_L1C_041-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090602-110606-591_L1C_041-263-3_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090602-110606-591_L1C_041-263-3_D_V1-0.zip
run script
2024-01-10T10:51:19.834    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:51:19.835    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090602-110606-591_L1C_041-263-3_D_V1-0.zip
2024-01-10T10:51:19.835    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:51:19.835    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:51:19.835    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:51:19.835    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:51:19.835    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:51:19.835    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:51:19.835    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:51:19.835    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090602-110606-591_L1C_041-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/03/SPOT5-HRG1-XS_20090603-104651-302_L1C_040-263-1_D_V1-0/SPOT5-HRG1-XS_20090603-104651-302_L1C_040-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090603-104651-302_L1C_040-263-1_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090603-104651-302_L1C_040-263-1_D_V1-0.zip
run script
2024-01-10T10:54:05.086    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:54:05.087    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090603-104651-302_L1C_040-263-1_D_V1-0.zip
2024-01-10T10:54:05.087    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:54:05.088    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:54:05.088    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:54:05.088    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:54:05.088    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:54:05.088    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:54:05.088    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:54:05.088    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090603-104651-302_L1C_040-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/03/SPOT5-HRG1-XS_20090603-104654-021_L1C_040-263-4_D_V1-0/SPOT5-HRG1-XS_20090603-104654-021_L1C_040-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090603-104654-021_L1C_040-263-4_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090603-104654-021_L1C_040-263-4_D_V1-0.zip
run script
2024-01-10T10:56:05.164    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:56:05.165    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090603-104654-021_L1C_040-263-4_D_V1-0.zip
2024-01-10T10:56:05.166    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:56:05.166    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:56:05.166    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:56:05.166    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:56:05.166    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:56:05.166    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:56:05.166    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:56:05.166    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090603-104654-021_L1C_040-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/19/SPOT5-HRG2-XS_20090719-110322-765_L1C_040-263-1_D_V1-0/SPOT5-HRG2-XS_20090719-110322-765_L1C_040-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090719-110322-765_L1C_040-263-1_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090719-110322-765_L1C_040-263-1_D_V1-0.zip
run script
2024-01-10T10:58:35.115    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T10:58:35.116    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090719-110322-765_L1C_040-263-1_D_V1-0.zip
2024-01-10T10:58:35.116    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T10:58:35.116    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T10:58:35.116    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T10:58:35.116    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T10:58:35.116    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T10:58:35.116    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T10:58:35.116    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T10:58:35.117    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090719-110322-765_L1C_040-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/19/SPOT5-HRG2-XS_20090719-110325-460_L1C_040-263-4_D_V1-0/SPOT5-HRG2-XS_20090719-110325-460_L1C_040-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090719-110325-460_L1C_040-263-4_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090719-110325-460_L1C_040-263-4_D_V1-0.zip
run script
2024-01-10T11:00:47.075    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:00:47.076    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090719-110325-460_L1C_040-263-4_D_V1-0.zip
2024-01-10T11:00:47.076    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:00:47.076    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:00:47.076    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:00:47.076    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:00:47.076    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:00:47.076    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:00:47.077    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:00:47.077    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090719-110325-460_L1C_040-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/20/SPOT5-HRG1-XS_20090720-104408-713_L1C_040-263-1_D_V1-0/SPOT5-HRG1-XS_20090720-104408-713_L1C_040-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090720-104408-713_L1C_040-263-1_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090720-104408-713_L1C_040-263-1_D_V1-0.zip
run script
2024-01-10T11:03:34.689    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:03:34.691    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090720-104408-713_L1C_040-263-1_D_V1-0.zip
2024-01-10T11:03:34.691    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:03:34.691    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:03:34.691    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:03:34.691    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:03:34.691    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:03:34.691    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:03:34.691    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:03:34.691    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090720-104408-713_L1C_040-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/20/SPOT5-HRG1-XS_20090720-104411-432_L1C_040-263-4_D_V1-0/SPOT5-HRG1-XS_20090720-104411-432_L1C_040-263-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090720-104411-432_L1C_040-263-4_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090720-104411-432_L1C_040-263-4_D_V1-0.zip
run script
2024-01-10T11:05:38.535    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:05:38.536    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090720-104411-432_L1C_040-263-4_D_V1-0.zip
2024-01-10T11:05:38.536    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:05:38.536    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:05:38.536    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:05:38.536    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:05:38.536    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:05:38.536    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:05:38.536    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:05:38.536    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090720-104411-432_L1C_040-263-4_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/20/SPOT5-HRG2-XS_20090720-104408-842_L1C_044-263-6_D_V1-0/SPOT5-HRG2-XS_20090720-104408-842_L1C_044-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090720-104408-842_L1C_044-263-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090720-104408-842_L1C_044-263-6_D_V1-0.zip
run script
2024-01-10T11:08:12.118    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:08:12.119    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090720-104408-842_L1C_044-263-6_D_V1-0.zip
2024-01-10T11:08:12.119    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:08:12.119    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:08:12.119    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:08:12.119    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:08:12.119    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:08:12.120    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:08:12.120    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:08:12.120    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090720-104408-842_L1C_044-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/20/SPOT5-HRG2-XS_20090720-104411-754_L1C_044-264-0_D_V1-0/SPOT5-HRG2-XS_20090720-104411-754_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090720-104411-754_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090720-104411-754_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T11:10:31.804    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:10:31.805    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090720-104411-754_L1C_044-264-0_D_V1-0.zip
2024-01-10T11:10:31.807    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:10:31.807    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:10:31.808    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:10:31.812    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:10:31.815    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:10:31.818    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:10:31.821    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:10:31.824    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090720-104411-754_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/20/SPOT5-HRG2-XS_20090720-104414-449_L1C_044-264-3_D_V1-0/SPOT5-HRG2-XS_20090720-104414-449_L1C_044-264-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090720-104414-449_L1C_044-264-3_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090720-104414-449_L1C_044-264-3_D_V1-0.zip
run script
2024-01-10T11:12:48.512    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:12:48.513    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090720-104414-449_L1C_044-264-3_D_V1-0.zip
2024-01-10T11:12:48.513    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:12:48.513    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:12:48.513    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:12:48.513    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:12:48.513    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:12:48.513    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:12:48.513    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:12:48.513    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090720-104414-449_L1C_044-264-3_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/04/SPOT5-HRG2-XS_20090804-105601-918_L1C_040-263-0_D_V1-0/SPOT5-HRG2-XS_20090804-105601-918_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090804-105601-918_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090804-105601-918_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T11:14:37.024    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:14:37.025    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090804-105601-918_L1C_040-263-0_D_V1-0.zip
2024-01-10T11:14:37.025    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:14:37.025    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:14:37.025    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:14:37.025    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:14:37.025    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:14:37.025    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:14:37.025    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:14:37.026    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090804-105601-918_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 2 2]
 [2 2 2 ... 0 2 2]
 [2 2 2 ... 0 0 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/04/SPOT5-HRG2-XS_20090804-105604-613_L1C_040-263-3_D_V1-0/SPOT5-HRG2-XS_20090804-105604-613_L1C_040-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090804-105604-613_L1C_040-263-3_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090804-105604-613_L1C_040-263-3_D_V1-0.zip
run script
2024-01-10T11:16:25.157    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:16:25.158    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090804-105604-613_L1C_040-263-3_D_V1-0.zip
2024-01-10T11:16:25.159    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:16:25.159    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:16:25.159    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:16:25.159    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:16:25.159    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:16:25.159    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:16:25.159    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:16:25.159    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090804-105604-613_L1C_040-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/10/26/SPOT5-HRG1-XS_20091026-110129-927_L1C_041-262-6_D_V1-0/SPOT5-HRG1-XS_20091026-110129-927_L1C_041-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20091026-110129-927_L1C_041-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20091026-110129-927_L1C_041-262-6_D_V1-0.zip
run script
2024-01-10T11:18:45.399    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:18:45.400    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20091026-110129-927_L1C_041-262-6_D_V1-0.zip
2024-01-10T11:18:45.400    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:18:45.400    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:18:45.400    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:18:45.400    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:18:45.400    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:18:45.400    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:18:45.400    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:18:45.400    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20091026-110129-927_L1C_041-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/10/26/SPOT5-HRG2-XS_20091026-110131-608_L1C_043-263-3_D_V1-0/SPOT5-HRG2-XS_20091026-110131-608_L1C_043-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091026-110131-608_L1C_043-263-3_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091026-110131-608_L1C_043-263-3_D_V1-0.zip
run script
2024-01-10T11:19:58.080    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:19:58.081    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091026-110131-608_L1C_043-263-3_D_V1-0.zip
2024-01-10T11:19:58.081    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:19:58.081    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:19:58.082    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:19:58.082    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:19:58.082    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:19:58.082    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:19:58.082    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:19:58.082    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091026-110131-608_L1C_043-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/10/26/SPOT5-HRG2-XS_20091026-110137-311_L1C_043-264-0_D_V1-0/SPOT5-HRG2-XS_20091026-110137-311_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091026-110137-311_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091026-110137-311_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T11:22:26.703    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:22:26.704    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091026-110137-311_L1C_043-264-0_D_V1-0.zip
2024-01-10T11:22:26.705    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:22:26.705    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:22:26.705    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:22:26.705    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:22:26.705    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:22:26.705    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:22:26.705    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:22:26.705    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091026-110137-311_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/10/26/SPOT5-HRG2-XS_20091026-110140-030_L1C_043-264-3_D_V1-0/SPOT5-HRG2-XS_20091026-110140-030_L1C_043-264-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091026-110140-030_L1C_043-264-3_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091026-110140-030_L1C_043-264-3_D_V1-0.zip
run script
2024-01-10T11:25:01.178    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:25:01.179    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091026-110140-030_L1C_043-264-3_D_V1-0.zip
2024-01-10T11:25:01.180    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:25:01.180    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:25:01.180    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:25:01.180    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:25:01.180    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:25:01.180    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:25:01.180    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:25:01.180    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091026-110140-030_L1C_043-264-3_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/14/SPOT5-HRG2-XS_20090614-103536-128_L1C_041-263-6_D_V1-0/SPOT5-HRG2-XS_20090614-103536-128_L1C_041-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090614-103536-128_L1C_041-263-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090614-103536-128_L1C_041-263-6_D_V1-0.zip
run script
2024-01-10T11:27:06.566    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:27:06.567    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090614-103536-128_L1C_041-263-6_D_V1-0.zip
2024-01-10T11:27:06.567    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:27:06.567    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:27:06.567    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:27:06.567    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:27:06.567    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:27:06.567    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:27:06.567    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:27:06.567    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090614-103536-128_L1C_041-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/14/SPOT5-HRG2-XS_20090614-103539-016_L1C_041-264-0_D_V1-0/SPOT5-HRG2-XS_20090614-103539-016_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090614-103539-016_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090614-103539-016_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T11:30:01.804    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:30:01.805    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090614-103539-016_L1C_041-264-0_D_V1-0.zip
2024-01-10T11:30:01.805    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:30:01.805    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:30:01.805    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:30:01.805    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:30:01.805    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:30:01.805    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:30:01.805    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:30:01.805    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090614-103539-016_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/10/SPOT5-HRG2-XS_20090910-104514-197_L1C_041-263-6_D_V1-0/SPOT5-HRG2-XS_20090910-104514-197_L1C_041-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090910-104514-197_L1C_041-263-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090910-104514-197_L1C_041-263-6_D_V1-0.zip
run script
2024-01-10T11:32:52.581    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:32:52.582    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090910-104514-197_L1C_041-263-6_D_V1-0.zip
2024-01-10T11:32:52.582    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:32:52.582    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:32:52.583    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:32:52.583    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:32:52.583    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:32:52.583    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:32:52.583    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:32:52.583    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090910-104514-197_L1C_041-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/10/SPOT5-HRG2-XS_20090910-104517-085_L1C_041-264-0_D_V1-0/SPOT5-HRG2-XS_20090910-104517-085_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090910-104517-085_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090910-104517-085_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T11:35:32.061    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:35:32.062    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090910-104517-085_L1C_041-264-0_D_V1-0.zip
2024-01-10T11:35:32.062    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:35:32.062    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:35:32.062    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:35:32.062    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:35:32.062    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:35:32.062    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:35:32.062    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:35:32.062    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090910-104517-085_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/10/SPOT5-HRG2-XS_20090910-104517-999_L1C_041-264-1_D_V1-0/SPOT5-HRG2-XS_20090910-104517-999_L1C_041-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090910-104517-999_L1C_041-264-1_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090910-104517-999_L1C_041-264-1_D_V1-0.zip
run script
2024-01-10T11:38:15.860    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:38:15.861    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090910-104517-999_L1C_041-264-1_D_V1-0.zip
2024-01-10T11:38:15.861    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:38:15.861    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:38:15.861    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:38:15.861    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:38:15.861    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:38:15.861    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:38:15.861    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:38:15.861    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090910-104517-999_L1C_041-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/01/30/SPOT5-HRG1-XS_20090130-102802-712_L1C_042-262-4_D_V1-0/SPOT5-HRG1-XS_20090130-102802-712_L1C_042-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090130-102802-712_L1C_042-262-4_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090130-102802-712_L1C_042-262-4_D_V1-0.zip
run script
2024-01-10T11:40:53.482    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:40:53.483    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090130-102802-712_L1C_042-262-4_D_V1-0.zip
2024-01-10T11:40:53.483    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:40:53.483    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:40:53.483    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:40:53.483    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:40:53.483    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:40:53.483    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:40:53.484    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:40:53.484    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090130-102802-712_L1C_042-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/01/30/SPOT5-HRG1-XS_20090130-102804-516_L1C_042-262-6_D_V1-0/SPOT5-HRG1-XS_20090130-102804-516_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090130-102804-516_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090130-102804-516_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T11:41:47.254    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:41:47.256    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090130-102804-516_L1C_042-262-6_D_V1-0.zip
2024-01-10T11:41:47.256    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:41:47.256    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:41:47.256    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:41:47.256    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:41:47.256    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:41:47.256    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:41:47.256    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:41:47.256    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090130-102804-516_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 0 0]
 [2 2 2 ... 0 2 2]
 [2 2 2 ... 0 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/02/04/SPOT5-HRG1-XS_20090204-103203-645_L1C_042-262-4_D_V1-0/SPOT5-HRG1-XS_20090204-103203-645_L1C_042-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090204-103203-645_L1C_042-262-4_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090204-103203-645_L1C_042-262-4_D_V1-0.zip
run script
2024-01-10T11:43:04.671    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:43:04.672    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090204-103203-645_L1C_042-262-4_D_V1-0.zip
2024-01-10T11:43:04.672    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:43:04.672    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:43:04.672    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:43:04.672    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:43:04.672    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:43:04.672    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:43:04.672    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:43:04.672    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090204-103203-645_L1C_042-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/02/04/SPOT5-HRG1-XS_20090204-103205-450_L1C_042-262-6_D_V1-0/SPOT5-HRG1-XS_20090204-103205-450_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090204-103205-450_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090204-103205-450_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T11:43:54.177    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:43:54.178    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090204-103205-450_L1C_042-262-6_D_V1-0.zip
2024-01-10T11:43:54.178    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:43:54.178    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:43:54.178    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:43:54.179    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:43:54.179    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:43:54.179    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:43:54.179    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:43:54.179    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090204-103205-450_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/02/13/SPOT5-HRG1-XS_20090213-105919-872_L1C_042-262-6_D_V1-0/SPOT5-HRG1-XS_20090213-105919-872_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090213-105919-872_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090213-105919-872_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T11:45:07.634    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:45:07.635    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090213-105919-872_L1C_042-262-6_D_V1-0.zip
2024-01-10T11:45:07.635    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:45:07.635    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:45:07.636    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:45:07.636    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:45:07.636    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:45:07.636    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:45:07.636    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:45:07.636    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090213-105919-872_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/31/SPOT5-HRG1-XS_20090731-103241-697_L1C_042-262-4_D_V1-0/SPOT5-HRG1-XS_20090731-103241-697_L1C_042-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090731-103241-697_L1C_042-262-4_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090731-103241-697_L1C_042-262-4_D_V1-0.zip
run script
2024-01-10T11:46:24.798    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:46:24.799    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090731-103241-697_L1C_042-262-4_D_V1-0.zip
2024-01-10T11:46:24.799    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:46:24.799    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:46:24.799    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:46:24.799    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:46:24.799    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:46:24.800    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:46:24.800    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:46:24.800    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090731-103241-697_L1C_042-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 0 0 ... 0 0 0]
 [2 2 0 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/31/SPOT5-HRG1-XS_20090731-103243-501_L1C_042-262-6_D_V1-0/SPOT5-HRG1-XS_20090731-103243-501_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090731-103243-501_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090731-103243-501_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T11:47:17.173    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:47:17.174    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090731-103243-501_L1C_042-262-6_D_V1-0.zip
2024-01-10T11:47:17.174    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:47:17.174    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:47:17.174    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:47:17.174    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:47:17.174    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:47:17.174    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:47:17.174    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:47:17.174    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090731-103243-501_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/19/SPOT5-HRG1-XS_20090819-110747-136_L1C_042-262-6_D_V1-0/SPOT5-HRG1-XS_20090819-110747-136_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090819-110747-136_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090819-110747-136_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T11:48:38.013    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:48:38.014    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090819-110747-136_L1C_042-262-6_D_V1-0.zip
2024-01-10T11:48:38.014    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:48:38.014    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:48:38.015    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:48:38.015    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:48:38.015    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:48:38.015    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:48:38.015    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:48:38.015    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090819-110747-136_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/25/SPOT5-HRG1-XS_20090925-105659-941_L1C_042-262-6_D_V1-0/SPOT5-HRG1-XS_20090925-105659-941_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20090925-105659-941_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090925-105659-941_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T11:50:32.895    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:50:32.896    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090925-105659-941_L1C_042-262-6_D_V1-0.zip
2024-01-10T11:50:32.896    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:50:32.896    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:50:32.896    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:50:32.896    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:50:32.896    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:50:32.897    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:50:32.897    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:50:32.897    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20090925-105659-941_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/12/27/SPOT5-HRG1-XS_20091227-111009-135_L1C_042-262-6_D_V1-0/SPOT5-HRG1-XS_20091227-111009-135_L1C_042-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG1-XS_20091227-111009-135_L1C_042-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20091227-111009-135_L1C_042-262-6_D_V1-0.zip
run script
2024-01-10T11:51:50.486    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:51:50.488    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20091227-111009-135_L1C_042-262-6_D_V1-0.zip
2024-01-10T11:51:50.488    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:51:50.488    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:51:50.488    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:51:50.488    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:51:50.488    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:51:50.488    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:51:50.488    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:51:50.489    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG1-XS_20091227-111009-135_L1C_042-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/12/27/SPOT5-HRG2-XS_20091227-111006-912_L1C_043-262-6_D_V1-0/SPOT5-HRG2-XS_20091227-111006-912_L1C_043-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091227-111006-912_L1C_043-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091227-111006-912_L1C_043-262-6_D_V1-0.zip
run script
2024-01-10T11:53:10.778    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:53:10.779    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091227-111006-912_L1C_043-262-6_D_V1-0.zip
2024-01-10T11:53:10.780    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:53:10.780    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:53:10.780    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:53:10.780    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:53:10.780    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:53:10.780    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:53:10.780    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:53:10.780    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091227-111006-912_L1C_043-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/12/27/SPOT5-HRG2-XS_20091227-111009-944_L1C_043-263-0_D_V1-0/SPOT5-HRG2-XS_20091227-111009-944_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091227-111009-944_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091227-111009-944_L1C_043-263-0_D_V1-0.zip
run script
2024-01-10T11:54:47.398    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:54:47.399    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091227-111009-944_L1C_043-263-0_D_V1-0.zip
2024-01-10T11:54:47.399    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:54:47.399    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:54:47.399    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:54:47.399    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:54:47.399    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:54:47.399    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:54:47.399    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:54:47.400    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091227-111009-944_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/12/27/SPOT5-HRG2-XS_20091227-111018-391_L1C_043-264-0_D_V1-0/SPOT5-HRG2-XS_20091227-111018-391_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091227-111018-391_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091227-111018-391_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T11:57:15.263    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T11:57:15.265    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091227-111018-391_L1C_043-264-0_D_V1-0.zip
2024-01-10T11:57:15.265    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T11:57:15.265    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T11:57:15.265    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T11:57:15.265    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T11:57:15.265    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T11:57:15.265    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T11:57:15.265    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T11:57:15.265    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091227-111018-391_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/12/27/SPOT5-HRG2-XS_20091227-111020-195_L1C_043-264-2_D_V1-0/SPOT5-HRG2-XS_20091227-111020-195_L1C_043-264-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091227-111020-195_L1C_043-264-2_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091227-111020-195_L1C_043-264-2_D_V1-0.zip
run script
2024-01-10T12:00:40.200    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:00:40.201    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091227-111020-195_L1C_043-264-2_D_V1-0.zip
2024-01-10T12:00:40.201    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:00:40.202    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:00:40.202    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:00:40.202    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:00:40.202    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:00:40.202    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:00:40.202    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:00:40.202    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091227-111020-195_L1C_043-264-2_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/02/SPOT5-HRG2-XS_20090502-110126-931_L1C_042-263-6_D_V1-0/SPOT5-HRG2-XS_20090502-110126-931_L1C_042-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090502-110126-931_L1C_042-263-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090502-110126-931_L1C_042-263-6_D_V1-0.zip
run script
2024-01-10T12:04:03.964    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:04:03.966    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090502-110126-931_L1C_042-263-6_D_V1-0.zip
2024-01-10T12:04:03.966    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:04:03.966    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:04:03.966    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:04:03.966    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:04:03.966    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:04:03.966    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:04:03.966    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:04:03.966    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090502-110126-931_L1C_042-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/02/SPOT5-HRG2-XS_20090502-110129-915_L1C_042-264-0_D_V1-0/SPOT5-HRG2-XS_20090502-110129-915_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090502-110129-915_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090502-110129-915_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T12:08:12.200    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:08:12.201    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090502-110129-915_L1C_042-264-0_D_V1-0.zip
2024-01-10T12:08:12.201    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:08:12.201    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:08:12.201    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:08:12.202    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:08:12.202    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:08:12.202    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:08:12.202    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:08:12.202    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T12:12:04.998    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (229 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090502-110129-915_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/05/12/SPOT5-HRG2-XS_20090512-110924-617_L1C_042-263-6_D_V1-0/SPOT5-HRG2-XS_20090512-110924-617_L1C_042-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090512-110924-617_L1C_042-263-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090512-110924-617_L1C_042-263-6_D_V1-0.zip
run script
2024-01-10T12:12:11.017    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:12:11.018    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090512-110924-617_L1C_042-263-6_D_V1-0.zip
2024-01-10T12:12:11.018    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:12:11.019    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:12:11.019    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:12:11.019    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:12:11.019    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:12:11.019    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:12:11.019    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:12:11.019    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090512-110924-617_L1C_042-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/12/SPOT5-HRG2-XS_20090512-110927-649_L1C_042-264-0_D_V1-0/SPOT5-HRG2-XS_20090512-110927-649_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090512-110927-649_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090512-110927-649_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T12:17:07.647    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:17:07.647    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090512-110927-649_L1C_042-264-0_D_V1-0.zip
2024-01-10T12:17:07.647    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:17:07.647    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:17:07.647    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:17:07.647    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:17:07.647    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:17:07.647    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:17:07.648    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:17:07.648    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090512-110927-649_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 2]
 [2 2 2 2]
 [2 2 2 2]
 ...
 [2 2 2 2]
 [2 2 2 2]
 [2 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/15/SPOT5-HRG2-XS_20090715-104012-407_L1C_042-263-6_D_V1-0/SPOT5-HRG2-XS_20090715-104012-407_L1C_042-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090715-104012-407_L1C_042-263-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090715-104012-407_L1C_042-263-6_D_V1-0.zip
run script
2024-01-10T12:22:10.174    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:22:10.175    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090715-104012-407_L1C_042-263-6_D_V1-0.zip
2024-01-10T12:22:10.175    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:22:10.175    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:22:10.175    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:22:10.175    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:22:10.175    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:22:10.175    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:22:10.175    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:22:10.176    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T12:25:00.217    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (3580 x 0). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090715-104012-407_L1C_042-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/07/15/SPOT5-HRG2-XS_20090715-104015-294_L1C_042-264-0_D_V1-0/SPOT5-HRG2-XS_20090715-104015-294_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090715-104015-294_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090715-104015-294_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T12:25:05.395    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:25:05.396    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090715-104015-294_L1C_042-264-0_D_V1-0.zip
2024-01-10T12:25:05.396    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:25:05.396    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:25:05.396    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:25:05.396    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:25:05.397    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:25:05.397    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:25:05.397    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:25:05.397    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090715-104015-294_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/31/SPOT5-HRG2-XS_20090831-103714-603_L1C_042-263-0_D_V1-0/SPOT5-HRG2-XS_20090831-103714-603_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090831-103714-603_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090831-103714-603_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T12:28:35.066    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:28:35.068    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090831-103714-603_L1C_042-263-0_D_V1-0.zip
2024-01-10T12:28:35.068    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:28:35.068    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:28:35.068    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:28:35.068    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:28:35.068    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:28:35.068    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:28:35.068    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:28:35.068    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090831-103714-603_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 2 2]
 [2 2 2 ... 0 2 2]
 [2 2 2 ... 0 0 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/31/SPOT5-HRG2-XS_20090831-103717-322_L1C_042-263-3_D_V1-0/SPOT5-HRG2-XS_20090831-103717-322_L1C_042-263-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090831-103717-322_L1C_042-263-3_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090831-103717-322_L1C_042-263-3_D_V1-0.zip
run script
2024-01-10T12:30:59.983    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:30:59.984    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090831-103717-322_L1C_042-263-3_D_V1-0.zip
2024-01-10T12:30:59.984    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:30:59.984    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:30:59.985    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:30:59.985    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:30:59.985    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:30:59.985    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:30:59.985    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:30:59.985    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090831-103717-322_L1C_042-263-3_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/09/SPOT5-HRG2-XS_20090509-102656-522_L1C_043-263-6_D_V1-0/SPOT5-HRG2-XS_20090509-102656-522_L1C_043-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090509-102656-522_L1C_043-263-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090509-102656-522_L1C_043-263-6_D_V1-0.zip
run script
2024-01-10T12:33:56.159    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:33:56.159    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090509-102656-522_L1C_043-263-6_D_V1-0.zip
2024-01-10T12:33:56.159    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:33:56.160    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:33:56.160    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:33:56.160    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:33:56.160    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:33:56.160    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:33:56.160    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:33:56.160    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090509-102656-522_L1C_043-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/09/SPOT5-HRG2-XS_20090509-102659-386_L1C_043-264-0_D_V1-0/SPOT5-HRG2-XS_20090509-102659-386_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090509-102659-386_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090509-102659-386_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T12:37:02.940    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:37:02.942    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090509-102659-386_L1C_043-264-0_D_V1-0.zip
2024-01-10T12:37:02.942    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:37:02.942    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:37:02.942    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:37:02.942    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:37:02.942    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:37:02.942    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:37:02.942    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:37:02.942    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090509-102659-386_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/11/12/SPOT5-HRG2-XS_20091112-103451-595_L1C_043-263-6_D_V1-0/SPOT5-HRG2-XS_20091112-103451-595_L1C_043-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091112-103451-595_L1C_043-263-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091112-103451-595_L1C_043-263-6_D_V1-0.zip
run script
2024-01-10T12:40:14.597    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:40:14.598    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091112-103451-595_L1C_043-263-6_D_V1-0.zip
2024-01-10T12:40:14.598    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:40:14.598    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:40:14.598    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:40:14.598    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:40:14.598    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:40:14.598    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:40:14.598    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:40:14.599    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091112-103451-595_L1C_043-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/11/12/SPOT5-HRG2-XS_20091112-103454-483_L1C_043-264-0_D_V1-0/SPOT5-HRG2-XS_20091112-103454-483_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091112-103454-483_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091112-103454-483_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T12:43:13.429    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:43:13.431    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091112-103454-483_L1C_043-264-0_D_V1-0.zip
2024-01-10T12:43:13.431    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:43:13.431    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:43:13.432    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:43:13.432    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:43:13.432    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:43:13.432    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:43:13.432    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:43:13.432    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091112-103454-483_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/11/12/SPOT5-HRG2-XS_20091112-103455-373_L1C_043-264-1_D_V1-0/SPOT5-HRG2-XS_20091112-103455-373_L1C_043-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091112-103455-373_L1C_043-264-1_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091112-103455-373_L1C_043-264-1_D_V1-0.zip
run script
2024-01-10T12:46:04.889    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:46:04.889    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091112-103455-373_L1C_043-264-1_D_V1-0.zip
2024-01-10T12:46:04.889    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:46:04.889    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:46:04.889    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:46:04.890    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:46:04.890    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:46:04.890    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:46:04.890    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:46:04.890    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091112-103455-373_L1C_043-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/11/17/SPOT5-HRG2-XS_20091117-103847-175_L1C_043-263-6_D_V1-0/SPOT5-HRG2-XS_20091117-103847-175_L1C_043-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091117-103847-175_L1C_043-263-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091117-103847-175_L1C_043-263-6_D_V1-0.zip
run script
2024-01-10T12:49:27.838    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:49:27.840    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091117-103847-175_L1C_043-263-6_D_V1-0.zip
2024-01-10T12:49:27.840    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:49:27.840    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:49:27.840    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:49:27.840    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:49:27.840    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:49:27.840    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:49:27.840    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:49:27.840    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091117-103847-175_L1C_043-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 0 1]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/11/17/SPOT5-HRG2-XS_20091117-103850-063_L1C_043-264-0_D_V1-0/SPOT5-HRG2-XS_20091117-103850-063_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091117-103850-063_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091117-103850-063_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T12:53:03.921    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:53:03.922    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091117-103850-063_L1C_043-264-0_D_V1-0.zip
2024-01-10T12:53:03.922    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:53:03.922    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:53:03.923    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:53:03.923    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:53:03.923    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:53:03.923    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:53:03.923    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:53:03.923    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091117-103850-063_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/11/17/SPOT5-HRG2-XS_20091117-103850-978_L1C_043-264-1_D_V1-0/SPOT5-HRG2-XS_20091117-103850-978_L1C_043-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091117-103850-978_L1C_043-264-1_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091117-103850-978_L1C_043-264-1_D_V1-0.zip
run script
2024-01-10T12:56:38.481    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T12:56:38.483    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091117-103850-978_L1C_043-264-1_D_V1-0.zip
2024-01-10T12:56:38.483    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T12:56:38.483    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T12:56:38.483    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T12:56:38.483    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T12:56:38.483    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T12:56:38.483    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T12:56:38.483    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T12:56:38.483    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091117-103850-978_L1C_043-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/15/SPOT5-HRG2-XS_20090915-104859-111_L1C_044-262-6_D_V1-0/SPOT5-HRG2-XS_20090915-104859-111_L1C_044-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090915-104859-111_L1C_044-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090915-104859-111_L1C_044-262-6_D_V1-0.zip
run script
2024-01-10T13:00:02.961    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:00:02.963    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090915-104859-111_L1C_044-262-6_D_V1-0.zip
2024-01-10T13:00:02.963    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:00:02.963    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:00:02.963    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:00:02.963    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:00:02.963    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:00:02.963    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:00:02.963    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:00:02.963    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090915-104859-111_L1C_044-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/15/SPOT5-HRG2-XS_20090915-104902-047_L1C_044-263-0_D_V1-0/SPOT5-HRG2-XS_20090915-104902-047_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090915-104902-047_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090915-104902-047_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T13:01:29.375    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:01:29.376    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090915-104902-047_L1C_044-263-0_D_V1-0.zip
2024-01-10T13:01:29.376    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:01:29.376    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:01:29.376    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:01:29.376    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:01:29.376    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:01:29.376    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:01:29.376    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:01:29.376    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090915-104902-047_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/26/SPOT5-HRG2-XS_20090926-103742-301_L1C_044-262-7_D_V1-0/SPOT5-HRG2-XS_20090926-103742-301_L1C_044-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090926-103742-301_L1C_044-262-7_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090926-103742-301_L1C_044-262-7_D_V1-0.zip
run script
2024-01-10T13:03:51.936    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:03:51.937    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090926-103742-301_L1C_044-262-7_D_V1-0.zip
2024-01-10T13:03:51.937    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:03:51.937    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:03:51.937    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:03:51.937    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:03:51.937    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:03:51.938    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:03:51.938    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:03:51.938    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090926-103742-301_L1C_044-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/26/SPOT5-HRG2-XS_20090926-103744-274_L1C_044-263-0_D_V1-0/SPOT5-HRG2-XS_20090926-103744-274_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090926-103744-274_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090926-103744-274_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T13:05:39.578    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:05:39.579    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090926-103744-274_L1C_044-263-0_D_V1-0.zip
2024-01-10T13:05:39.579    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:05:39.579    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:05:39.579    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:05:39.579    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:05:39.579    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:05:39.579    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:05:39.579    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:05:39.580    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090926-103744-274_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/26/SPOT5-HRG2-XS_20090926-103752-600_L1C_044-264-0_D_V1-0/SPOT5-HRG2-XS_20090926-103752-600_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090926-103752-600_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090926-103752-600_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T13:08:03.557    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:08:03.558    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090926-103752-600_L1C_044-264-0_D_V1-0.zip
2024-01-10T13:08:03.558    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:08:03.558    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:08:03.558    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:08:03.559    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:08:03.559    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:08:03.559    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:08:03.559    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:08:03.559    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090926-103752-600_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/26/SPOT5-HRG2-XS_20090926-103753-491_L1C_044-264-1_D_V1-0/SPOT5-HRG2-XS_20090926-103753-491_L1C_044-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090926-103753-491_L1C_044-264-1_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090926-103753-491_L1C_044-264-1_D_V1-0.zip
run script
2024-01-10T13:11:24.096    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:11:24.098    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090926-103753-491_L1C_044-264-1_D_V1-0.zip
2024-01-10T13:11:24.098    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:11:24.098    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:11:24.098    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:11:24.098    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:11:24.098    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:11:24.098    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:11:24.098    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:11:24.098    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090926-103753-491_L1C_044-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/11/06/SPOT5-HRG2-XS_20091106-105009-722_L1C_044-263-6_D_V1-0/SPOT5-HRG2-XS_20091106-105009-722_L1C_044-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091106-105009-722_L1C_044-263-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091106-105009-722_L1C_044-263-6_D_V1-0.zip
run script
2024-01-10T13:14:40.584    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:14:40.585    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091106-105009-722_L1C_044-263-6_D_V1-0.zip
2024-01-10T13:14:40.586    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:14:40.586    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:14:40.586    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:14:40.586    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:14:40.586    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:14:40.586    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:14:40.586    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:14:40.586    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091106-105009-722_L1C_044-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/11/06/SPOT5-HRG2-XS_20091106-105012-658_L1C_044-264-0_D_V1-0/SPOT5-HRG2-XS_20091106-105012-658_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091106-105012-658_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091106-105012-658_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T13:17:47.711    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:17:47.713    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091106-105012-658_L1C_044-264-0_D_V1-0.zip
2024-01-10T13:17:47.713    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:17:47.713    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:17:47.713    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:17:47.713    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:17:47.713    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:17:47.713    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:17:47.713    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:17:47.713    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091106-105012-658_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/11/06/SPOT5-HRG2-XS_20091106-105015-353_L1C_044-264-3_D_V1-0/SPOT5-HRG2-XS_20091106-105015-353_L1C_044-264-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091106-105015-353_L1C_044-264-3_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091106-105015-353_L1C_044-264-3_D_V1-0.zip
run script
2024-01-10T13:21:16.713    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:21:16.714    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091106-105015-353_L1C_044-264-3_D_V1-0.zip
2024-01-10T13:21:16.714    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:21:16.714    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:21:16.714    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:21:16.714    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:21:16.714    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:21:16.714    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:21:16.714    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:21:16.714    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091106-105015-353_L1C_044-264-3_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/11/21/SPOT5-HRG2-XS_20091121-110154-498_L1C_044-263-6_D_V1-0/SPOT5-HRG2-XS_20091121-110154-498_L1C_044-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091121-110154-498_L1C_044-263-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091121-110154-498_L1C_044-263-6_D_V1-0.zip
run script
2024-01-10T13:24:10.240    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:24:10.242    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091121-110154-498_L1C_044-263-6_D_V1-0.zip
2024-01-10T13:24:10.242    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:24:10.242    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:24:10.242    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:24:10.242    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:24:10.242    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:24:10.242    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:24:10.242    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:24:10.242    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091121-110154-498_L1C_044-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/11/21/SPOT5-HRG2-XS_20091121-110157-506_L1C_044-264-0_D_V1-0/SPOT5-HRG2-XS_20091121-110157-506_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091121-110157-506_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091121-110157-506_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T13:27:55.005    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:27:55.005    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091121-110157-506_L1C_044-264-0_D_V1-0.zip
2024-01-10T13:27:55.005    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:27:55.005    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:27:55.005    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:27:55.005    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:27:55.005    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:27:55.006    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:27:55.006    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:27:55.006    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091121-110157-506_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/11/21/SPOT5-HRG2-XS_20091121-110159-311_L1C_044-264-2_D_V1-0/SPOT5-HRG2-XS_20091121-110159-311_L1C_044-264-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091121-110159-311_L1C_044-264-2_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091121-110159-311_L1C_044-264-2_D_V1-0.zip
run script
2024-01-10T13:31:56.772    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:31:56.773    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091121-110159-311_L1C_044-264-2_D_V1-0.zip
2024-01-10T13:31:56.773    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:31:56.773    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:31:56.773    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:31:56.773    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:31:56.773    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:31:56.773    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:31:56.773    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:31:56.774    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091121-110159-311_L1C_044-264-2_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/12/12/SPOT5-HRG2-XS_20091212-105821-852_L1C_044-263-6_D_V1-0/SPOT5-HRG2-XS_20091212-105821-852_L1C_044-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091212-105821-852_L1C_044-263-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091212-105821-852_L1C_044-263-6_D_V1-0.zip
run script
2024-01-10T13:35:20.489    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:35:20.491    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091212-105821-852_L1C_044-263-6_D_V1-0.zip
2024-01-10T13:35:20.491    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:35:20.491    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:35:20.491    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:35:20.491    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:35:20.491    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:35:20.491    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:35:20.491    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:35:20.491    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091212-105821-852_L1C_044-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/12/12/SPOT5-HRG2-XS_20091212-105824-812_L1C_044-264-0_D_V1-0/SPOT5-HRG2-XS_20091212-105824-812_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091212-105824-812_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091212-105824-812_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T13:38:50.680    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:38:50.682    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091212-105824-812_L1C_044-264-0_D_V1-0.zip
2024-01-10T13:38:50.682    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:38:50.682    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:38:50.682    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:38:50.682    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:38:50.682    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:38:50.682    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:38:50.682    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:38:50.682    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091212-105824-812_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/12/12/SPOT5-HRG2-XS_20091212-105825-726_L1C_044-264-1_D_V1-0/SPOT5-HRG2-XS_20091212-105825-726_L1C_044-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20091212-105825-726_L1C_044-264-1_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091212-105825-726_L1C_044-264-1_D_V1-0.zip
run script
2024-01-10T13:42:37.705    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:42:37.706    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091212-105825-726_L1C_044-264-1_D_V1-0.zip
2024-01-10T13:42:37.706    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:42:37.707    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:42:37.707    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:42:37.707    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:42:37.707    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:42:37.707    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:42:37.707    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:42:37.707    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20091212-105825-726_L1C_044-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/16/SPOT5-HRG2-XS_20090816-102515-593_L1C_046-262-7_D_V1-0/SPOT5-HRG2-XS_20090816-102515-593_L1C_046-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090816-102515-593_L1C_046-262-7_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090816-102515-593_L1C_046-262-7_D_V1-0.zip
run script
2024-01-10T13:46:07.586    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:46:07.588    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090816-102515-593_L1C_046-262-7_D_V1-0.zip
2024-01-10T13:46:07.588    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:46:07.588    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:46:07.588    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:46:07.588    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:46:07.588    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:46:07.588    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:46:07.588    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:46:07.588    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090816-102515-593_L1C_046-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/16/SPOT5-HRG2-XS_20090816-102517-542_L1C_046-263-0_D_V1-0/SPOT5-HRG2-XS_20090816-102517-542_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090816-102517-542_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090816-102517-542_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T13:47:05.632    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:47:05.634    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090816-102517-542_L1C_046-263-0_D_V1-0.zip
2024-01-10T13:47:05.634    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:47:05.634    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:47:05.634    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:47:05.634    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:47:05.634    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:47:05.634    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:47:05.634    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:47:05.634    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090816-102517-542_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/16/SPOT5-HRG2-XS_20090816-102525-844_L1C_046-264-0_D_V1-0/SPOT5-HRG2-XS_20090816-102525-844_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090816-102525-844_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090816-102525-844_L1C_046-264-0_D_V1-0.zip
run script
2024-01-10T13:48:17.015    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:48:17.016    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090816-102525-844_L1C_046-264-0_D_V1-0.zip
2024-01-10T13:48:17.016    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:48:17.016    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:48:17.017    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:48:17.017    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:48:17.017    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:48:17.017    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:48:17.017    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:48:17.017    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090816-102525-844_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/16/SPOT5-HRG2-XS_20090816-102527-649_L1C_046-264-2_D_V1-0/SPOT5-HRG2-XS_20090816-102527-649_L1C_046-264-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090816-102527-649_L1C_046-264-2_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090816-102527-649_L1C_046-264-2_D_V1-0.zip
run script
2024-01-10T13:50:19.147    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:50:19.149    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090816-102527-649_L1C_046-264-2_D_V1-0.zip
2024-01-10T13:50:19.149    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:50:19.149    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:50:19.149    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:50:19.149    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:50:19.149    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:50:19.149    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:50:19.149    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:50:19.149    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090816-102527-649_L1C_046-264-2_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/30/SPOT5-HRG2-XS_20090730-105155-572_L1C_046-263-0_D_V1-0/SPOT5-HRG2-XS_20090730-105155-572_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090730-105155-572_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090730-105155-572_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T13:52:10.407    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:52:10.408    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090730-105155-572_L1C_046-263-0_D_V1-0.zip
2024-01-10T13:52:10.408    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:52:10.409    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:52:10.409    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:52:10.409    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:52:10.409    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:52:10.409    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:52:10.409    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:52:10.409    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090730-105155-572_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/30/SPOT5-HRG2-XS_20090730-105203-947_L1C_046-264-0_D_V1-0/SPOT5-HRG2-XS_20090730-105203-947_L1C_046-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090730-105203-947_L1C_046-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090730-105203-947_L1C_046-264-0_D_V1-0.zip
run script
2024-01-10T13:53:29.974    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:53:29.976    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090730-105203-947_L1C_046-264-0_D_V1-0.zip
2024-01-10T13:53:29.976    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:53:29.976    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:53:29.976    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:53:29.976    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:53:29.976    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:53:29.976    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:53:29.976    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:53:29.976    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090730-105203-947_L1C_046-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/30/SPOT5-HRG2-XS_20090730-105204-861_L1C_046-264-1_D_V1-0/SPOT5-HRG2-XS_20090730-105204-861_L1C_046-264-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090730-105204-861_L1C_046-264-1_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090730-105204-861_L1C_046-264-1_D_V1-0.zip
run script
2024-01-10T13:56:01.555    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:56:01.556    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090730-105204-861_L1C_046-264-1_D_V1-0.zip
2024-01-10T13:56:01.556    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:56:01.556    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:56:01.556    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:56:01.556    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:56:01.556    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:56:01.556    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:56:01.556    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:56:01.556    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090730-105204-861_L1C_046-264-1_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/04/28/SPOT5-HRG2-XS_20090428-103817-021_L1C_046-264-6_D_V1-0/SPOT5-HRG2-XS_20090428-103817-021_L1C_046-264-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090428-103817-021_L1C_046-264-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090428-103817-021_L1C_046-264-6_D_V1-0.zip
run script
2024-01-10T13:58:23.405    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:58:23.406    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090428-103817-021_L1C_046-264-6_D_V1-0.zip
2024-01-10T13:58:23.406    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:58:23.406    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:58:23.406    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:58:23.407    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:58:23.407    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:58:23.407    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:58:23.407    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:58:23.407    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090428-103817-021_L1C_046-264-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/18/SPOT5-HRG2-XS_20090518-105413-348_L1C_046-264-6_D_V1-0/SPOT5-HRG2-XS_20090518-105413-348_L1C_046-264-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090518-105413-348_L1C_046-264-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090518-105413-348_L1C_046-264-6_D_V1-0.zip
run script
2024-01-10T13:59:22.159    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T13:59:22.161    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090518-105413-348_L1C_046-264-6_D_V1-0.zip
2024-01-10T13:59:22.161    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T13:59:22.161    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T13:59:22.161    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T13:59:22.161    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T13:59:22.161    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T13:59:22.161    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T13:59:22.161    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T13:59:22.161    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090518-105413-348_L1C_046-264-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/18/SPOT5-HRG2-XS_20090518-105416-332_L1C_046-265-0_D_V1-0/SPOT5-HRG2-XS_20090518-105416-332_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090518-105416-332_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090518-105416-332_L1C_046-265-0_D_V1-0.zip
run script
2024-01-10T14:00:35.511    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:00:35.512    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090518-105416-332_L1C_046-265-0_D_V1-0.zip
2024-01-10T14:00:35.512    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:00:35.512    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:00:35.512    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:00:35.512    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:00:35.512    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:00:35.512    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:00:35.512    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:00:35.513    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090518-105416-332_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/29/SPOT5-HRG2-XS_20090629-104733-602_L1C_046-264-6_D_V1-0/SPOT5-HRG2-XS_20090629-104733-602_L1C_046-264-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090629-104733-602_L1C_046-264-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090629-104733-602_L1C_046-264-6_D_V1-0.zip
run script
2024-01-10T14:01:21.492    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:01:21.493    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090629-104733-602_L1C_046-264-6_D_V1-0.zip
2024-01-10T14:01:21.493    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:01:21.493    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:01:21.494    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:01:21.494    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:01:21.494    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:01:21.494    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:01:21.494    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:01:21.494    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090629-104733-602_L1C_046-264-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/29/SPOT5-HRG2-XS_20090629-104736-562_L1C_046-265-0_D_V1-0/SPOT5-HRG2-XS_20090629-104736-562_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090629-104736-562_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090629-104736-562_L1C_046-265-0_D_V1-0.zip
run script
2024-01-10T14:02:19.737    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:02:19.739    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090629-104736-562_L1C_046-265-0_D_V1-0.zip
2024-01-10T14:02:19.739    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:02:19.739    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:02:19.739    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:02:19.739    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:02:19.739    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:02:19.739    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:02:19.739    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:02:19.739    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090629-104736-562_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/21/SPOT5-HRG2-XS_20090721-102458-259_L1C_046-264-6_D_V1-0/SPOT5-HRG2-XS_20090721-102458-259_L1C_046-264-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090721-102458-259_L1C_046-264-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090721-102458-259_L1C_046-264-6_D_V1-0.zip
run script
2024-01-10T14:02:58.444    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:02:58.445    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090721-102458-259_L1C_046-264-6_D_V1-0.zip
2024-01-10T14:02:58.445    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:02:58.445    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:02:58.445    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:02:58.446    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:02:58.446    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:02:58.446    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:02:58.446    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:02:58.446    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090721-102458-259_L1C_046-264-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/21/SPOT5-HRG2-XS_20090721-102501-147_L1C_046-265-0_D_V1-0/SPOT5-HRG2-XS_20090721-102501-147_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT5-HRG2-XS_20090721-102501-147_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090721-102501-147_L1C_046-265-0_D_V1-0.zip
run script
2024-01-10T14:04:22.167    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:04:22.169    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090721-102501-147_L1C_046-265-0_D_V1-0.zip
2024-01-10T14:04:22.169    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:04:22.169    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:04:22.169    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:04:22.169    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:04:22.169    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:04:22.169    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:04:22.169    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:04:22.169    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT5-HRG2-XS_20090721-102501-147_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/01/20/SPOT3-HRV2-XS_19960120-111014-159_L1C_036-262-0_D_V1-0/SPOT3-HRV2-XS_19960120-111014-159_L1C_036-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV2-XS_19960120-111014-159_L1C_036-262-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960120-111014-159_L1C_036-262-0_D_V1-0.zip
run script
2024-01-10T14:05:04.423    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:05:04.425    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960120-111014-159_L1C_036-262-0_D_V1-0.zip
2024-01-10T14:05:04.425    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:05:04.425    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:05:04.425    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:05:04.425    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:05:04.425    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:05:04.425    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:05:04.425    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:05:04.425    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960120-111014-159_L1C_036-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/1996/01/20/SPOT3-HRV2-XS_19960120-111022-506_L1C_036-263-0_D_V1-0/SPOT3-HRV2-XS_19960120-111022-506_L1C_036-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV2-XS_19960120-111022-506_L1C_036-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960120-111022-506_L1C_036-263-0_D_V1-0.zip
run script
2024-01-10T14:05:07.475    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:05:07.475    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960120-111022-506_L1C_036-263-0_D_V1-0.zip
2024-01-10T14:05:07.475    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:05:07.475    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:05:07.475    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:05:07.475    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:05:07.475    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:05:07.476    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:05:07.476    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:05:07.476    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960120-111022-506_L1C_036-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/03/28/SPOT3-HRV2-XS_19960328-110204-592_L1C_038-262-5_D_V1-0/SPOT3-HRV2-XS_19960328-110204-592_L1C_038-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV2-XS_19960328-110204-592_L1C_038-262-5_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960328-110204-592_L1C_038-262-5_D_V1-0.zip
run script
2024-01-10T14:06:43.084    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:06:43.086    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960328-110204-592_L1C_038-262-5_D_V1-0.zip
2024-01-10T14:06:43.086    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:06:43.086    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:06:43.086    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:06:43.086    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:06:43.086    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:06:43.086    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:06:43.086    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:06:43.086    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960328-110204-592_L1C_038-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/03/28/SPOT3-HRV1-XS_19960328-110204-646_L1C_041-263-0_D_V1-0/SPOT3-HRV1-XS_19960328-110204-646_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960328-110204-646_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960328-110204-646_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T14:07:45.808    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:07:45.809    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960328-110204-646_L1C_041-263-0_D_V1-0.zip
2024-01-10T14:07:45.809    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:07:45.809    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:07:45.809    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:07:45.809    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:07:45.809    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:07:45.809    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:07:45.809    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:07:45.809    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960328-110204-646_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/05/04/SPOT3-HRV2-XS_19960504-105016-511_L1C_038-262-6_D_V1-0/SPOT3-HRV2-XS_19960504-105016-511_L1C_038-262-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV2-XS_19960504-105016-511_L1C_038-262-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960504-105016-511_L1C_038-262-6_D_V1-0.zip
run script
2024-01-10T14:10:01.189    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:10:01.191    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960504-105016-511_L1C_038-262-6_D_V1-0.zip
2024-01-10T14:10:01.191    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:10:01.191    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:10:01.191    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:10:01.191    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:10:01.191    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:10:01.191    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:10:01.191    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:10:01.191    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960504-105016-511_L1C_038-262-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/15/SPOT3-HRV1-XS_19960815-110835-176_L1C_038-263-0_D_V1-0/SPOT3-HRV1-XS_19960815-110835-176_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960815-110835-176_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960815-110835-176_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T14:11:22.880    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:11:22.881    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960815-110835-176_L1C_038-263-0_D_V1-0.zip
2024-01-10T14:11:22.881    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:11:22.881    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:11:22.881    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:11:22.881    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:11:22.882    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:11:22.882    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:11:22.882    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:11:22.882    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960815-110835-176_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/15/SPOT3-HRV1-XS_19960815-110843-553_L1C_038-264-0_D_V1-0/SPOT3-HRV1-XS_19960815-110843-553_L1C_038-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960815-110843-553_L1C_038-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960815-110843-553_L1C_038-264-0_D_V1-0.zip
run script
2024-01-10T14:13:30.300    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:13:30.301    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960815-110843-553_L1C_038-264-0_D_V1-0.zip
2024-01-10T14:13:30.302    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:13:30.302    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:13:30.302    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:13:30.302    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:13:30.302    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:13:30.302    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:13:30.302    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:13:30.302    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960815-110843-553_L1C_038-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/15/SPOT3-HRV2-XS_19960815-110832-415_L1C_040-263-0_D_V1-0/SPOT3-HRV2-XS_19960815-110832-415_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV2-XS_19960815-110832-415_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960815-110832-415_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T14:16:34.763    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:16:34.765    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960815-110832-415_L1C_040-263-0_D_V1-0.zip
2024-01-10T14:16:34.765    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:16:34.765    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:16:34.765    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:16:34.765    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:16:34.765    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:16:34.765    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:16:34.765    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:16:34.765    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960815-110832-415_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/15/SPOT3-HRV2-XS_19960815-110840-816_L1C_040-264-0_D_V1-0/SPOT3-HRV2-XS_19960815-110840-816_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV2-XS_19960815-110840-816_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960815-110840-816_L1C_040-264-0_D_V1-0.zip
run script
2024-01-10T14:19:05.325    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:19:05.327    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960815-110840-816_L1C_040-264-0_D_V1-0.zip
2024-01-10T14:19:05.327    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:19:05.327    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:19:05.327    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:19:05.327    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:19:05.327    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:19:05.327    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:19:05.327    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:19:05.327    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960815-110840-816_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/06/SPOT3-HRV1-XS_19960906-104508-804_L1C_038-263-0_D_V1-0/SPOT3-HRV1-XS_19960906-104508-804_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960906-104508-804_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960906-104508-804_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T14:22:30.295    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:22:30.297    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960906-104508-804_L1C_038-263-0_D_V1-0.zip
2024-01-10T14:22:30.297    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:22:30.297    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:22:30.297    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:22:30.297    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:22:30.297    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:22:30.297    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:22:30.297    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:22:30.297    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960906-104508-804_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/06/SPOT3-HRV1-XS_19960906-104517-083_L1C_038-264-0_D_V1-0/SPOT3-HRV1-XS_19960906-104517-083_L1C_038-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960906-104517-083_L1C_038-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960906-104517-083_L1C_038-264-0_D_V1-0.zip
run script
2024-01-10T14:24:44.563    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:24:44.564    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960906-104517-083_L1C_038-264-0_D_V1-0.zip
2024-01-10T14:24:44.565    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:24:44.565    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:24:44.565    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:24:44.565    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:24:44.565    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:24:44.565    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:24:44.565    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:24:44.565    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960906-104517-083_L1C_038-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/30/SPOT3-HRV1-XS_19960930-112357-027_L1C_038-263-0_D_V1-0/SPOT3-HRV1-XS_19960930-112357-027_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960930-112357-027_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960930-112357-027_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T14:28:01.232    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:28:01.233    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960930-112357-027_L1C_038-263-0_D_V1-0.zip
2024-01-10T14:28:01.234    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:28:01.234    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:28:01.234    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:28:01.234    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:28:01.234    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:28:01.234    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:28:01.234    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:28:01.234    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960930-112357-027_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/30/SPOT3-HRV1-XS_19960930-112402-441_L1C_038-263-6_D_V1-0/SPOT3-HRV1-XS_19960930-112402-441_L1C_038-263-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960930-112402-441_L1C_038-263-6_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960930-112402-441_L1C_038-263-6_D_V1-0.zip
run script
2024-01-10T14:30:52.739    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:30:52.741    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960930-112402-441_L1C_038-263-6_D_V1-0.zip
2024-01-10T14:30:52.741    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:30:52.741    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:30:52.741    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:30:52.741    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:30:52.741    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:30:52.741    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:30:52.741    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:30:52.741    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960930-112402-441_L1C_038-263-6_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/06/30/SPOT3-HRV2-XS_19960630-105336-122_L1C_039-263-0_D_V1-0/SPOT3-HRV2-XS_19960630-105336-122_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV2-XS_19960630-105336-122_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960630-105336-122_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T14:34:55.228    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:34:55.229    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960630-105336-122_L1C_039-263-0_D_V1-0.zip
2024-01-10T14:34:55.229    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:34:55.229    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:34:55.229    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:34:55.229    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:34:55.229    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:34:55.229    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:34:55.230    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:34:55.230    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960630-105336-122_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 1]
 [2 2 2 ... 2 2 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/06/30/SPOT3-HRV2-XS_19960630-105344-433_L1C_039-264-0_D_V1-0/SPOT3-HRV2-XS_19960630-105344-433_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV2-XS_19960630-105344-433_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960630-105344-433_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T14:36:38.193    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:36:38.194    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960630-105344-433_L1C_039-264-0_D_V1-0.zip
2024-01-10T14:36:38.194    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:36:38.194    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:36:38.194    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:36:38.194    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:36:38.195    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:36:38.195    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:36:38.195    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:36:38.195    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960630-105344-433_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/10/SPOT3-HRV1-XS_19960810-110444-114_L1C_040-263-0_D_V1-0/SPOT3-HRV1-XS_19960810-110444-114_L1C_040-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960810-110444-114_L1C_040-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960810-110444-114_L1C_040-263-0_D_V1-0.zip
run script
2024-01-10T14:39:40.554    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:39:40.555    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960810-110444-114_L1C_040-263-0_D_V1-0.zip
2024-01-10T14:39:40.555    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:39:40.556    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:39:40.556    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:39:40.556    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:39:40.556    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:39:40.556    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:39:40.556    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:39:40.556    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960810-110444-114_L1C_040-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/10/SPOT3-HRV1-XS_19960810-110452-488_L1C_040-264-0_D_V1-0/SPOT3-HRV1-XS_19960810-110452-488_L1C_040-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960810-110452-488_L1C_040-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960810-110452-488_L1C_040-264-0_D_V1-0.zip
run script
2024-01-10T14:41:25.920    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:41:25.921    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960810-110452-488_L1C_040-264-0_D_V1-0.zip
2024-01-10T14:41:25.921    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:41:25.921    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:41:25.921    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:41:25.921    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:41:25.921    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:41:25.921    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:41:25.921    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:41:25.921    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960810-110452-488_L1C_040-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/10/SPOT3-HRV2-XS_19960810-110442-336_L1C_041-263-0_D_V1-0/SPOT3-HRV2-XS_19960810-110442-336_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV2-XS_19960810-110442-336_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960810-110442-336_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T14:44:05.132    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:44:05.133    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960810-110442-336_L1C_041-263-0_D_V1-0.zip
2024-01-10T14:44:05.133    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:44:05.133    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:44:05.133    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:44:05.133    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:44:05.134    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:44:05.134    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:44:05.134    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:44:05.134    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960810-110442-336_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/10/SPOT3-HRV2-XS_19960810-110450-729_L1C_041-264-0_D_V1-0/SPOT3-HRV2-XS_19960810-110450-729_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV2-XS_19960810-110450-729_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960810-110450-729_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T14:46:13.547    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:46:13.548    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960810-110450-729_L1C_041-264-0_D_V1-0.zip
2024-01-10T14:46:13.548    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:46:13.548    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:46:13.548    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:46:13.549    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:46:13.549    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:46:13.549    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:46:13.549    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:46:13.549    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960810-110450-729_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/16/SPOT3-HRV2-XS_19960816-104912-009_L1C_041-263-0_D_V1-0/SPOT3-HRV2-XS_19960816-104912-009_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV2-XS_19960816-104912-009_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960816-104912-009_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T14:48:28.989    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:48:28.990    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960816-104912-009_L1C_041-263-0_D_V1-0.zip
2024-01-10T14:48:28.990    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:48:28.990    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:48:28.990    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:48:28.990    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:48:28.990    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:48:28.990    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:48:28.990    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:48:28.990    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960816-104912-009_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/16/SPOT3-HRV2-XS_19960816-104920-318_L1C_041-264-0_D_V1-0/SPOT3-HRV2-XS_19960816-104920-318_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV2-XS_19960816-104920-318_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960816-104920-318_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T14:50:02.762    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:50:02.763    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960816-104920-318_L1C_041-264-0_D_V1-0.zip
2024-01-10T14:50:02.763    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:50:02.763    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:50:02.763    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:50:02.763    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:50:02.763    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:50:02.764    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:50:02.764    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:50:02.764    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960816-104920-318_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/16/SPOT3-HRV1-XS_19960816-104910-605_L1C_043-263-0_D_V1-0/SPOT3-HRV1-XS_19960816-104910-605_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960816-104910-605_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960816-104910-605_L1C_043-263-0_D_V1-0.zip
run script
2024-01-10T14:52:09.046    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:52:09.048    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960816-104910-605_L1C_043-263-0_D_V1-0.zip
2024-01-10T14:52:09.048    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:52:09.048    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:52:09.048    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:52:09.048    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:52:09.048    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:52:09.048    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:52:09.048    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:52:09.048    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960816-104910-605_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 2 ... 2 2 2]
 [0 2 2 ... 2 2 2]
 [0 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/16/SPOT3-HRV1-XS_19960816-104918-925_L1C_043-264-0_D_V1-0/SPOT3-HRV1-XS_19960816-104918-925_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960816-104918-925_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960816-104918-925_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T14:53:32.737    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:53:32.738    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960816-104918-925_L1C_043-264-0_D_V1-0.zip
2024-01-10T14:53:32.738    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:53:32.739    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:53:32.739    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:53:32.739    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:53:32.739    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:53:32.739    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:53:32.739    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:53:32.739    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960816-104918-925_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/05/SPOT3-HRV1-XS_19960905-110425-814_L1C_041-263-0_D_V1-0/SPOT3-HRV1-XS_19960905-110425-814_L1C_041-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960905-110425-814_L1C_041-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960905-110425-814_L1C_041-263-0_D_V1-0.zip
run script
2024-01-10T14:55:22.251    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:55:22.252    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960905-110425-814_L1C_041-263-0_D_V1-0.zip
2024-01-10T14:55:22.252    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:55:22.252    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:55:22.252    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:55:22.253    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:55:22.253    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:55:22.253    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:55:22.253    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:55:22.253    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960905-110425-814_L1C_041-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/05/SPOT3-HRV1-XS_19960905-110434-197_L1C_041-264-0_D_V1-0/SPOT3-HRV1-XS_19960905-110434-197_L1C_041-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960905-110434-197_L1C_041-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960905-110434-197_L1C_041-264-0_D_V1-0.zip
run script
2024-01-10T14:56:53.124    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:56:53.125    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960905-110434-197_L1C_041-264-0_D_V1-0.zip
2024-01-10T14:56:53.125    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:56:53.125    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:56:53.125    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:56:53.125    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:56:53.125    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:56:53.126    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:56:53.126    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:56:53.126    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960905-110434-197_L1C_041-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/07/21/SPOT3-HRV1-XS_19960721-104925-906_L1C_042-262-9_D_V1-0/SPOT3-HRV1-XS_19960721-104925-906_L1C_042-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960721-104925-906_L1C_042-262-9_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960721-104925-906_L1C_042-262-9_D_V1-0.zip
run script
2024-01-10T14:59:02.597    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T14:59:02.598    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960721-104925-906_L1C_042-262-9_D_V1-0.zip
2024-01-10T14:59:02.598    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T14:59:02.599    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T14:59:02.599    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T14:59:02.599    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T14:59:02.599    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T14:59:02.599    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T14:59:02.599    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T14:59:02.599    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960721-104925-906_L1C_042-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [0 0 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/07/21/SPOT3-HRV1-XS_19960721-104926-096_L1C_042-263-0_D_V1-0/SPOT3-HRV1-XS_19960721-104926-096_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960721-104926-096_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960721-104926-096_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T15:00:24.630    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:00:24.630    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960721-104926-096_L1C_042-263-0_D_V1-0.zip
2024-01-10T15:00:24.631    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:00:24.631    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:00:24.631    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:00:24.631    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:00:24.631    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:00:24.631    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:00:24.631    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:00:24.631    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960721-104926-096_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 2 2 ... 2 2 2]
 [0 0 2 ... 2 2 2]
 [0 0 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/07/21/SPOT3-HRV1-XS_19960721-104934-410_L1C_042-264-0_D_V1-0/SPOT3-HRV1-XS_19960721-104934-410_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960721-104934-410_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960721-104934-410_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T15:01:49.262    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:01:49.263    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960721-104934-410_L1C_042-264-0_D_V1-0.zip
2024-01-10T15:01:49.263    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:01:49.263    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:01:49.263    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:01:49.263    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:01:49.263    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:01:49.263    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:01:49.263    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:01:49.263    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960721-104934-410_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/07/21/SPOT3-HRV2-XS_19960721-104926-126_L1C_044-263-2_D_V1-0/SPOT3-HRV2-XS_19960721-104926-126_L1C_044-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV2-XS_19960721-104926-126_L1C_044-263-2_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960721-104926-126_L1C_044-263-2_D_V1-0.zip
run script
2024-01-10T15:03:26.242    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:03:26.243    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960721-104926-126_L1C_044-263-2_D_V1-0.zip
2024-01-10T15:03:26.243    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:03:26.243    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:03:26.243    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:03:26.243    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:03:26.243    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:03:26.244    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:03:26.244    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:03:26.244    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960721-104926-126_L1C_044-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 0 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/07/21/SPOT3-HRV2-XS_19960721-104932-650_L1C_044-264-0_D_V1-0/SPOT3-HRV2-XS_19960721-104932-650_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV2-XS_19960721-104932-650_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960721-104932-650_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T15:05:04.650    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:05:04.651    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960721-104932-650_L1C_044-264-0_D_V1-0.zip
2024-01-10T15:05:04.651    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:05:04.651    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:05:04.651    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:05:04.651    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:05:04.651    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:05:04.651    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:05:04.651    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:05:04.651    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960721-104932-650_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/07/21/SPOT3-HRV2-XS_19960721-104940-985_L1C_044-265-0_D_V1-0/SPOT3-HRV2-XS_19960721-104940-985_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV2-XS_19960721-104940-985_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960721-104940-985_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T15:06:55.635    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:06:55.635    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960721-104940-985_L1C_044-265-0_D_V1-0.zip
2024-01-10T15:06:55.635    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:06:55.635    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:06:55.635    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:06:55.635    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:06:55.635    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:06:55.636    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:06:55.636    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:06:55.636    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960721-104940-985_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/01/SPOT3-HRV1-XS_19960801-103744-223_L1C_042-263-0_D_V1-0/SPOT3-HRV1-XS_19960801-103744-223_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960801-103744-223_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960801-103744-223_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T15:07:27.002    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:07:27.003    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960801-103744-223_L1C_042-263-0_D_V1-0.zip
2024-01-10T15:07:27.003    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:07:27.003    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:07:27.003    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:07:27.003    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:07:27.003    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:07:27.003    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:07:27.003    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:07:27.004    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T15:07:29.193    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (138 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960801-103744-223_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/1996/08/01/SPOT3-HRV1-XS_19960801-103746-027_L1C_042-263-2_D_V1-0/SPOT3-HRV1-XS_19960801-103746-027_L1C_042-263-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960801-103746-027_L1C_042-263-2_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960801-103746-027_L1C_042-263-2_D_V1-0.zip
run script
2024-01-10T15:07:32.329    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:07:32.331    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960801-103746-027_L1C_042-263-2_D_V1-0.zip
2024-01-10T15:07:32.331    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:07:32.331    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:07:32.331    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:07:32.331    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:07:32.331    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:07:32.331    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:07:32.331    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:07:32.331    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T15:09:14.048    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (384 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960801-103746-027_L1C_042-263-2_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/1996/08/31/SPOT3-HRV2-XS_19960831-110043-260_L1C_042-263-7_D_V1-0/SPOT3-HRV2-XS_19960831-110043-260_L1C_042-263-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV2-XS_19960831-110043-260_L1C_042-263-7_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960831-110043-260_L1C_042-263-7_D_V1-0.zip
run script
2024-01-10T15:09:16.996    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:09:16.996    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960831-110043-260_L1C_042-263-7_D_V1-0.zip
2024-01-10T15:09:16.996    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:09:16.996    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:09:16.996    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:09:16.996    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:09:16.996    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:09:16.996    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:09:16.996    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:09:16.996    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960831-110043-260_L1C_042-263-7_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/31/SPOT3-HRV2-XS_19960831-110045-312_L1C_042-264-0_D_V1-0/SPOT3-HRV2-XS_19960831-110045-312_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV2-XS_19960831-110045-312_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960831-110045-312_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T15:11:19.088    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:11:19.090    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960831-110045-312_L1C_042-264-0_D_V1-0.zip
2024-01-10T15:11:19.090    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:11:19.090    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:11:19.090    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:11:19.090    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:11:19.090    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:11:19.090    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:11:19.090    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:11:19.090    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960831-110045-312_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/31/SPOT3-HRV1-XS_19960831-110042-845_L1C_043-263-8_D_V1-0/SPOT3-HRV1-XS_19960831-110042-845_L1C_043-263-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960831-110042-845_L1C_043-263-8_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960831-110042-845_L1C_043-263-8_D_V1-0.zip
run script
2024-01-10T15:13:23.093    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:13:23.094    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960831-110042-845_L1C_043-263-8_D_V1-0.zip
2024-01-10T15:13:23.094    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:13:23.095    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:13:23.095    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:13:23.095    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:13:23.095    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:13:23.095    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:13:23.095    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:13:23.095    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960831-110042-845_L1C_043-263-8_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/31/SPOT3-HRV1-XS_19960831-110044-009_L1C_043-264-0_D_V1-0/SPOT3-HRV1-XS_19960831-110044-009_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960831-110044-009_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960831-110044-009_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T15:15:15.074    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:15:15.075    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960831-110044-009_L1C_043-264-0_D_V1-0.zip
2024-01-10T15:15:15.075    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:15:15.075    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:15:15.075    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:15:15.075    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:15:15.075    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:15:15.075    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:15:15.075    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:15:15.075    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960831-110044-009_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/01/SPOT3-HRV1-XS_19960901-104117-031_L1C_042-263-0_D_V1-0/SPOT3-HRV1-XS_19960901-104117-031_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960901-104117-031_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960901-104117-031_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T15:17:07.753    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:17:07.754    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960901-104117-031_L1C_042-263-0_D_V1-0.zip
2024-01-10T15:17:07.754    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:17:07.754    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:17:07.754    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:17:07.754    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:17:07.754    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:17:07.754    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:17:07.754    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:17:07.755    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960901-104117-031_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/01/SPOT3-HRV1-XS_19960901-104125-318_L1C_042-264-0_D_V1-0/SPOT3-HRV1-XS_19960901-104125-318_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960901-104125-318_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960901-104125-318_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T15:18:43.199    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:18:43.200    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960901-104125-318_L1C_042-264-0_D_V1-0.zip
2024-01-10T15:18:43.200    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:18:43.200    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:18:43.200    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:18:43.201    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:18:43.201    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:18:43.201    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:18:43.201    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:18:43.201    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960901-104125-318_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/16/SPOT3-HRV1-XS_19960916-105246-981_L1C_042-263-0_D_V1-0/SPOT3-HRV1-XS_19960916-105246-981_L1C_042-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960916-105246-981_L1C_042-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960916-105246-981_L1C_042-263-0_D_V1-0.zip
run script
2024-01-10T15:20:52.772    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:20:52.773    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960916-105246-981_L1C_042-263-0_D_V1-0.zip
2024-01-10T15:20:52.773    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:20:52.773    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:20:52.774    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:20:52.774    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:20:52.774    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:20:52.774    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:20:52.774    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:20:52.774    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960916-105246-981_L1C_042-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/16/SPOT3-HRV1-XS_19960916-105255-307_L1C_042-264-0_D_V1-0/SPOT3-HRV1-XS_19960916-105255-307_L1C_042-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960916-105255-307_L1C_042-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960916-105255-307_L1C_042-264-0_D_V1-0.zip
run script
2024-01-10T15:22:17.419    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:22:17.420    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960916-105255-307_L1C_042-264-0_D_V1-0.zip
2024-01-10T15:22:17.420    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:22:17.420    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:22:17.420    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:22:17.420    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:22:17.420    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:22:17.420    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:22:17.421    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:22:17.421    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960916-105255-307_L1C_042-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/16/SPOT3-HRV2-XS_19960916-105245-435_L1C_043-263-0_D_V1-0/SPOT3-HRV2-XS_19960916-105245-435_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV2-XS_19960916-105245-435_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960916-105245-435_L1C_043-263-0_D_V1-0.zip
run script
2024-01-10T15:24:14.217    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:24:14.218    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960916-105245-435_L1C_043-263-0_D_V1-0.zip
2024-01-10T15:24:14.218    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:24:14.218    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:24:14.218    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:24:14.218    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:24:14.219    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:24:14.219    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:24:14.219    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:24:14.219    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960916-105245-435_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/09/16/SPOT3-HRV2-XS_19960916-105253-776_L1C_043-264-0_D_V1-0/SPOT3-HRV2-XS_19960916-105253-776_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV2-XS_19960916-105253-776_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960916-105253-776_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T15:25:34.724    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:25:34.725    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960916-105253-776_L1C_043-264-0_D_V1-0.zip
2024-01-10T15:25:34.725    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:25:34.725    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:25:34.725    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:25:34.725    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:25:34.725    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:25:34.725    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:25:34.725    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:25:34.725    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960916-105253-776_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/11/07/SPOT3-HRV1-XS_19961107-105331-976_L1C_043-263-0_D_V1-0/SPOT3-HRV1-XS_19961107-105331-976_L1C_043-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19961107-105331-976_L1C_043-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19961107-105331-976_L1C_043-263-0_D_V1-0.zip
run script
2024-01-10T15:27:22.634    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:27:22.635    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19961107-105331-976_L1C_043-263-0_D_V1-0.zip
2024-01-10T15:27:22.635    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:27:22.635    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:27:22.635    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:27:22.636    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:27:22.636    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:27:22.636    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:27:22.636    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:27:22.636    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19961107-105331-976_L1C_043-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/11/07/SPOT3-HRV1-XS_19961107-105340-317_L1C_043-264-0_D_V1-0/SPOT3-HRV1-XS_19961107-105340-317_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19961107-105340-317_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19961107-105340-317_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T15:28:43.704    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:28:43.706    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19961107-105340-317_L1C_043-264-0_D_V1-0.zip
2024-01-10T15:28:43.706    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:28:43.706    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:28:43.706    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:28:43.706    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:28:43.706    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:28:43.706    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:28:43.706    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:28:43.706    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19961107-105340-317_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/11/SPOT3-HRV1-XS_19960811-104529-959_L1C_043-264-0_D_V1-0/SPOT3-HRV1-XS_19960811-104529-959_L1C_043-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960811-104529-959_L1C_043-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960811-104529-959_L1C_043-264-0_D_V1-0.zip
run script
2024-01-10T15:30:34.725    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:30:34.726    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960811-104529-959_L1C_043-264-0_D_V1-0.zip
2024-01-10T15:30:34.726    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:30:34.726    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:30:34.726    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:30:34.727    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:30:34.727    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:30:34.727    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:30:34.727    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:30:34.727    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960811-104529-959_L1C_043-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 0 0 ... 2 2 2]
 [2 2 0 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/08/06/SPOT3-HRV1-XS_19960806-104131-555_L1C_044-263-0_D_V1-0/SPOT3-HRV1-XS_19960806-104131-555_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960806-104131-555_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960806-104131-555_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T15:32:23.738    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:32:23.739    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960806-104131-555_L1C_044-263-0_D_V1-0.zip
2024-01-10T15:32:23.740    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:32:23.740    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:32:23.740    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:32:23.740    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:32:23.740    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:32:23.740    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:32:23.740    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:32:23.740    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960806-104131-555_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/05/30/SPOT3-HRV2-XS_19960530-104956-799_L1C_046-263-0_D_V1-0/SPOT3-HRV2-XS_19960530-104956-799_L1C_046-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV2-XS_19960530-104956-799_L1C_046-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960530-104956-799_L1C_046-263-0_D_V1-0.zip
run script
2024-01-10T15:33:44.729    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:33:44.730    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960530-104956-799_L1C_046-263-0_D_V1-0.zip
2024-01-10T15:33:44.730    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:33:44.730    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:33:44.730    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:33:44.730    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:33:44.730    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:33:44.731    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:33:44.731    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:33:44.731    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV2-XS_19960530-104956-799_L1C_046-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 2]
 [2 2 2 ... 0 0 2]
 [2 2 2 ... 0 0 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/06/15/SPOT3-HRV1-XS_19960615-104219-604_L1C_046-265-0_D_V1-0/SPOT3-HRV1-XS_19960615-104219-604_L1C_046-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960615-104219-604_L1C_046-265-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960615-104219-604_L1C_046-265-0_D_V1-0.zip
run script
2024-01-10T15:34:31.137    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:34:31.138    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960615-104219-604_L1C_046-265-0_D_V1-0.zip
2024-01-10T15:34:31.138    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:34:31.138    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:34:31.138    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:34:31.138    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:34:31.138    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:34:31.138    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:34:31.138    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:34:31.138    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960615-104219-604_L1C_046-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/1996/05/25/SPOT3-HRV1-XS_19960525-104623-108_L1C_047-265-0_D_V1-0/SPOT3-HRV1-XS_19960525-104623-108_L1C_047-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT3-HRV1-XS_19960525-104623-108_L1C_047-265-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960525-104623-108_L1C_047-265-0_D_V1-0.zip
run script
2024-01-10T15:34:49.252    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:34:49.253    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960525-104623-108_L1C_047-265-0_D_V1-0.zip
2024-01-10T15:34:49.253    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:34:49.253    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:34:49.253    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:34:49.253    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:34:49.254    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:34:49.254    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:34:49.254    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:34:49.254    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT3-HRV1-XS_19960525-104623-108_L1C_047-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/05/SPOT2-HRV2-XS_20060905-111918-391_L1C_036-262-9_D_V1-0/SPOT2-HRV2-XS_20060905-111918-391_L1C_036-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060905-111918-391_L1C_036-262-9_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20060905-111918-391_L1C_036-262-9_D_V1-0.zip
run script
2024-01-10T15:34:57.855    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:34:57.856    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20060905-111918-391_L1C_036-262-9_D_V1-0.zip
2024-01-10T15:34:57.856    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:34:57.856    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:34:57.856    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:34:57.856    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:34:57.857    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:34:57.857    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:34:57.857    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:34:57.857    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20060905-111918-391_L1C_036-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/05/SPOT2-HRV2-XS_20060905-111918-668_L1C_036-263-0_D_V1-0/SPOT2-HRV2-XS_20060905-111918-668_L1C_036-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060905-111918-668_L1C_036-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20060905-111918-668_L1C_036-263-0_D_V1-0.zip
run script
2024-01-10T15:35:52.081    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:35:52.082    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20060905-111918-668_L1C_036-263-0_D_V1-0.zip
2024-01-10T15:35:52.082    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:35:52.082    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:35:52.082    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:35:52.082    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:35:52.082    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:35:52.083    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:35:52.083    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:35:52.083    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20060905-111918-668_L1C_036-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/01/SPOT2-HRV2-XS_20061001-111912-132_L1C_036-262-0_D_V1-0/SPOT2-HRV2-XS_20061001-111912-132_L1C_036-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061001-111912-132_L1C_036-262-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20061001-111912-132_L1C_036-262-0_D_V1-0.zip
run script
2024-01-10T15:36:49.583    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:36:49.584    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20061001-111912-132_L1C_036-262-0_D_V1-0.zip
2024-01-10T15:36:49.584    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:36:49.584    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:36:49.584    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:36:49.584    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:36:49.584    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:36:49.584    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:36:49.584    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:36:49.584    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20061001-111912-132_L1C_036-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2006/10/01/SPOT2-HRV2-XS_20061001-111920-528_L1C_036-263-0_D_V1-0/SPOT2-HRV2-XS_20061001-111920-528_L1C_036-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061001-111920-528_L1C_036-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20061001-111920-528_L1C_036-263-0_D_V1-0.zip
run script
2024-01-10T15:36:52.542    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:36:52.542    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20061001-111920-528_L1C_036-263-0_D_V1-0.zip
2024-01-10T15:36:52.542    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:36:52.543    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:36:52.543    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:36:52.543    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:36:52.543    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:36:52.543    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:36:52.543    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:36:52.543    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20061001-111920-528_L1C_036-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/02/SPOT2-HRV2-XS_20061002-105953-800_L1C_036-262-0_D_V1-0/SPOT2-HRV2-XS_20061002-105953-800_L1C_036-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061002-105953-800_L1C_036-262-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20061002-105953-800_L1C_036-262-0_D_V1-0.zip
run script
2024-01-10T15:37:47.910    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:37:47.912    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20061002-105953-800_L1C_036-262-0_D_V1-0.zip
2024-01-10T15:37:47.912    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:37:47.912    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:37:47.912    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:37:47.912    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:37:47.912    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:37:47.912    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:37:47.912    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:37:47.912    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20061002-105953-800_L1C_036-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2006/10/02/SPOT2-HRV1-XS_20061002-105952-591_L1C_044-263-0_D_V1-0/SPOT2-HRV1-XS_20061002-105952-591_L1C_044-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061002-105952-591_L1C_044-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20061002-105952-591_L1C_044-263-0_D_V1-0.zip
run script
2024-01-10T15:37:50.762    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:37:50.763    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20061002-105952-591_L1C_044-263-0_D_V1-0.zip
2024-01-10T15:37:50.764    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:37:50.764    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:37:50.764    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:37:50.764    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:37:50.764    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:37:50.764    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:37:50.764    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:37:50.764    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T15:37:53.036    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (314 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20061002-105952-591_L1C_044-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2006/10/02/SPOT2-HRV1-XS_20061002-110000-965_L1C_044-264-0_D_V1-0/SPOT2-HRV1-XS_20061002-110000-965_L1C_044-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061002-110000-965_L1C_044-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20061002-110000-965_L1C_044-264-0_D_V1-0.zip
run script
2024-01-10T15:37:55.818    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:37:55.819    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20061002-110000-965_L1C_044-264-0_D_V1-0.zip
2024-01-10T15:37:55.819    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:37:55.820    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:37:55.820    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:37:55.820    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:37:55.820    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:37:55.820    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:37:55.820    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:37:55.820    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20061002-110000-965_L1C_044-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/02/SPOT2-HRV1-XS_20061002-110009-349_L1C_044-265-0_D_V1-0/SPOT2-HRV1-XS_20061002-110009-349_L1C_044-265-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061002-110009-349_L1C_044-265-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20061002-110009-349_L1C_044-265-0_D_V1-0.zip
run script
2024-01-10T15:39:42.401    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:39:42.402    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20061002-110009-349_L1C_044-265-0_D_V1-0.zip
2024-01-10T15:39:42.402    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:39:42.403    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:39:42.403    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:39:42.403    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:39:42.403    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:39:42.403    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:39:42.403    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:39:42.403    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20061002-110009-349_L1C_044-265-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/12/SPOT2-HRV2-XS_20061012-110737-150_L1C_036-262-0_D_V1-0/SPOT2-HRV2-XS_20061012-110737-150_L1C_036-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061012-110737-150_L1C_036-262-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20061012-110737-150_L1C_036-262-0_D_V1-0.zip
run script
2024-01-10T15:40:14.318    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:40:14.319    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20061012-110737-150_L1C_036-262-0_D_V1-0.zip
2024-01-10T15:40:14.319    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:40:14.320    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:40:14.320    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:40:14.320    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:40:14.320    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:40:14.320    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:40:14.320    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:40:14.320    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20061012-110737-150_L1C_036-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2006/10/12/SPOT2-HRV2-XS_20061012-110741-662_L1C_036-262-5_D_V1-0/SPOT2-HRV2-XS_20061012-110741-662_L1C_036-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061012-110741-662_L1C_036-262-5_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20061012-110741-662_L1C_036-262-5_D_V1-0.zip
run script
2024-01-10T15:40:17.073    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:40:17.073    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20061012-110741-662_L1C_036-262-5_D_V1-0.zip
2024-01-10T15:40:17.073    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:40:17.073    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:40:17.073    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:40:17.073    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:40:17.073    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:40:17.074    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:40:17.074    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:40:17.074    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20061012-110741-662_L1C_036-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/08/SPOT2-HRV1-XS_20060608-113042-602_L1C_036-263-0_D_V1-0/SPOT2-HRV1-XS_20060608-113042-602_L1C_036-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060608-113042-602_L1C_036-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060608-113042-602_L1C_036-263-0_D_V1-0.zip
run script
2024-01-10T15:40:46.781    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:40:46.782    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060608-113042-602_L1C_036-263-0_D_V1-0.zip
2024-01-10T15:40:46.782    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:40:46.782    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:40:46.782    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:40:46.782    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:40:46.782    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:40:46.782    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:40:46.782    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:40:46.782    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060608-113042-602_L1C_036-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/08/SPOT2-HRV1-XS_20060608-113042-229_L1C_037-262-9_D_V1-0/SPOT2-HRV1-XS_20060608-113042-229_L1C_037-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060608-113042-229_L1C_037-262-9_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060608-113042-229_L1C_037-262-9_D_V1-0.zip
run script
2024-01-10T15:42:01.506    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:42:01.508    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060608-113042-229_L1C_037-262-9_D_V1-0.zip
2024-01-10T15:42:01.508    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:42:01.508    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:42:01.508    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:42:01.508    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:42:01.508    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:42:01.508    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:42:01.508    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:42:01.508    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060608-113042-229_L1C_037-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/30/SPOT2-HRV2-XS_20060630-110736-703_L1C_036-263-0_D_V1-0/SPOT2-HRV2-XS_20060630-110736-703_L1C_036-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060630-110736-703_L1C_036-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20060630-110736-703_L1C_036-263-0_D_V1-0.zip
run script
2024-01-10T15:43:13.655    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:43:13.657    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20060630-110736-703_L1C_036-263-0_D_V1-0.zip
2024-01-10T15:43:13.657    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:43:13.657    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:43:13.657    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:43:13.657    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:43:13.657    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:43:13.657    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:43:13.657    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:43:13.657    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20060630-110736-703_L1C_036-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/30/SPOT2-HRV1-XS_20060630-110734-910_L1C_038-263-0_D_V1-0/SPOT2-HRV1-XS_20060630-110734-910_L1C_038-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060630-110734-910_L1C_038-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060630-110734-910_L1C_038-263-0_D_V1-0.zip
run script
2024-01-10T15:44:13.341    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:44:13.342    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060630-110734-910_L1C_038-263-0_D_V1-0.zip
2024-01-10T15:44:13.342    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:44:13.342    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:44:13.343    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:44:13.343    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:44:13.343    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:44:13.343    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:44:13.343    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:44:13.343    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060630-110734-910_L1C_038-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 0]
 [2 2 2 ... 2 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/06/30/SPOT2-HRV1-XS_20060630-110743-260_L1C_038-264-0_D_V1-0/SPOT2-HRV1-XS_20060630-110743-260_L1C_038-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060630-110743-260_L1C_038-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060630-110743-260_L1C_038-264-0_D_V1-0.zip
run script
2024-01-10T15:45:27.638    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:45:27.639    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060630-110743-260_L1C_038-264-0_D_V1-0.zip
2024-01-10T15:45:27.640    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:45:27.640    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:45:27.640    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:45:27.640    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:45:27.640    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:45:27.640    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:45:27.640    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:45:27.640    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060630-110743-260_L1C_038-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/22/SPOT2-HRV1-XS_20060922-105217-387_L1C_036-263-0_D_V1-0/SPOT2-HRV1-XS_20060922-105217-387_L1C_036-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060922-105217-387_L1C_036-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060922-105217-387_L1C_036-263-0_D_V1-0.zip
run script
2024-01-10T15:47:10.023    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:47:10.024    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060922-105217-387_L1C_036-263-0_D_V1-0.zip
2024-01-10T15:47:10.024    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:47:10.024    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:47:10.024    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:47:10.024    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:47:10.024    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:47:10.024    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:47:10.024    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:47:10.024    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060922-105217-387_L1C_036-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/22/SPOT2-HRV1-XS_20060922-105221-899_L1C_036-263-5_D_V1-0/SPOT2-HRV1-XS_20060922-105221-899_L1C_036-263-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060922-105221-899_L1C_036-263-5_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060922-105221-899_L1C_036-263-5_D_V1-0.zip
run script
2024-01-10T15:48:16.626    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:48:16.628    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060922-105221-899_L1C_036-263-5_D_V1-0.zip
2024-01-10T15:48:16.628    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:48:16.628    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:48:16.628    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:48:16.628    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:48:16.628    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:48:16.629    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:48:16.629    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:48:16.629    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060922-105221-899_L1C_036-263-5_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/04/12/SPOT2-HRV2-XS_20060412-112645-588_L1C_037-262-8_D_V1-0/SPOT2-HRV2-XS_20060412-112645-588_L1C_037-262-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060412-112645-588_L1C_037-262-8_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20060412-112645-588_L1C_037-262-8_D_V1-0.zip
run script
2024-01-10T15:49:37.648    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:49:37.649    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20060412-112645-588_L1C_037-262-8_D_V1-0.zip
2024-01-10T15:49:37.649    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:49:37.649    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:49:37.649    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:49:37.649    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:49:37.649    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:49:37.649    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:49:37.649    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:49:37.649    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20060412-112645-588_L1C_037-262-8_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 0 ... 2 2 2]
 [2 0 0 ... 2 2 2]
 [2 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/07/21/SPOT2-HRV1-XS_20060721-110340-187_L1C_037-262-5_D_V1-0/SPOT2-HRV1-XS_20060721-110340-187_L1C_037-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060721-110340-187_L1C_037-262-5_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060721-110340-187_L1C_037-262-5_D_V1-0.zip
run script
2024-01-10T15:50:46.832    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:50:46.833    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060721-110340-187_L1C_037-262-5_D_V1-0.zip
2024-01-10T15:50:46.833    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:50:46.833    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:50:46.834    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:50:46.834    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:50:46.834    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:50:46.834    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:50:46.834    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:50:46.834    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060721-110340-187_L1C_037-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/06/SPOT2-HRV2-XS_20060906-105957-111_L1C_037-262-7_D_V1-0/SPOT2-HRV2-XS_20060906-105957-111_L1C_037-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060906-105957-111_L1C_037-262-7_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20060906-105957-111_L1C_037-262-7_D_V1-0.zip
run script
2024-01-10T15:51:24.582    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:51:24.583    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20060906-105957-111_L1C_037-262-7_D_V1-0.zip
2024-01-10T15:51:24.583    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:51:24.583    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:51:24.583    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:51:24.583    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:51:24.583    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:51:24.583    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:51:24.583    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:51:24.583    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20060906-105957-111_L1C_037-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/06/SPOT2-HRV2-XS_20060906-105959-100_L1C_037-263-0_D_V1-0/SPOT2-HRV2-XS_20060906-105959-100_L1C_037-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060906-105959-100_L1C_037-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20060906-105959-100_L1C_037-263-0_D_V1-0.zip
run script
2024-01-10T15:52:18.869    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:52:18.871    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20060906-105959-100_L1C_037-263-0_D_V1-0.zip
2024-01-10T15:52:18.871    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:52:18.871    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:52:18.871    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:52:18.871    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:52:18.871    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:52:18.872    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:52:18.872    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:52:18.872    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-10T15:53:27.640    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (606 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20060906-105959-100_L1C_037-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2006/09/06/SPOT2-HRV1-XS_20060906-105957-472_L1C_039-262-9_D_V1-0/SPOT2-HRV1-XS_20060906-105957-472_L1C_039-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060906-105957-472_L1C_039-262-9_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060906-105957-472_L1C_039-262-9_D_V1-0.zip
run script
2024-01-10T15:53:30.537    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:53:30.538    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060906-105957-472_L1C_039-262-9_D_V1-0.zip
2024-01-10T15:53:30.538    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:53:30.538    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:53:30.538    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:53:30.538    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:53:30.538    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:53:30.538    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:53:30.538    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:53:30.538    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060906-105957-472_L1C_039-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/06/SPOT2-HRV1-XS_20060906-105957-665_L1C_039-263-0_D_V1-0/SPOT2-HRV1-XS_20060906-105957-665_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060906-105957-665_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060906-105957-665_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T15:54:39.886    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:54:39.887    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060906-105957-665_L1C_039-263-0_D_V1-0.zip
2024-01-10T15:54:39.887    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:54:39.887    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:54:39.887    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:54:39.887    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:54:39.887    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:54:39.887    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:54:39.887    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:54:39.887    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060906-105957-665_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/09/06/SPOT2-HRV1-XS_20060906-110005-985_L1C_039-264-0_D_V1-0/SPOT2-HRV1-XS_20060906-110005-985_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060906-110005-985_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060906-110005-985_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T15:55:51.068    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:55:51.069    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060906-110005-985_L1C_039-264-0_D_V1-0.zip
2024-01-10T15:55:51.069    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:55:51.069    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:55:51.069    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:55:51.069    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:55:51.070    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:55:51.070    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:55:51.070    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:55:51.070    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060906-110005-985_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/28/SPOT2-HRV1-XS_20061028-105955-255_L1C_037-262-7_D_V1-0/SPOT2-HRV1-XS_20061028-105955-255_L1C_037-262-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20061028-105955-255_L1C_037-262-7_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20061028-105955-255_L1C_037-262-7_D_V1-0.zip
run script
2024-01-10T15:57:34.795    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:57:34.797    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20061028-105955-255_L1C_037-262-7_D_V1-0.zip
2024-01-10T15:57:34.797    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:57:34.797    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:57:34.797    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:57:34.797    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:57:34.797    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:57:34.797    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:57:34.797    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:57:34.797    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20061028-105955-255_L1C_037-262-7_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/10/28/SPOT2-HRV2-XS_20061028-105955-595_L1C_038-262-9_D_V1-0/SPOT2-HRV2-XS_20061028-105955-595_L1C_038-262-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20061028-105955-595_L1C_038-262-9_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20061028-105955-595_L1C_038-262-9_D_V1-0.zip
run script
2024-01-10T15:58:27.375    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:58:27.376    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20061028-105955-595_L1C_038-262-9_D_V1-0.zip
2024-01-10T15:58:27.376    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:58:27.376    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:58:27.377    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:58:27.377    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:58:27.377    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:58:27.377    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:58:27.377    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:58:27.377    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20061028-105955-595_L1C_038-262-9_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 2 2]
 [0 0 0 ... 0 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/01/14/SPOT2-HRV1-XS_20060114-111828-513_L1C_037-263-0_D_V1-0/SPOT2-HRV1-XS_20060114-111828-513_L1C_037-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV1-XS_20060114-111828-513_L1C_037-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060114-111828-513_L1C_037-263-0_D_V1-0.zip
run script
2024-01-10T15:59:38.618    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T15:59:38.620    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060114-111828-513_L1C_037-263-0_D_V1-0.zip
2024-01-10T15:59:38.620    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T15:59:38.620    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T15:59:38.620    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T15:59:38.620    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T15:59:38.620    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T15:59:38.620    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T15:59:38.621    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T15:59:38.621    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV1-XS_20060114-111828-513_L1C_037-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/01/14/SPOT2-HRV2-XS_20060114-111824-663_L1C_039-263-0_D_V1-0/SPOT2-HRV2-XS_20060114-111824-663_L1C_039-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060114-111824-663_L1C_039-263-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20060114-111824-663_L1C_039-263-0_D_V1-0.zip
run script
2024-01-10T16:00:48.054    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T16:00:48.055    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20060114-111824-663_L1C_039-263-0_D_V1-0.zip
2024-01-10T16:00:48.055    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T16:00:48.055    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T16:00:48.055    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T16:00:48.056    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T16:00:48.056    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T16:00:48.056    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T16:00:48.056    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T16:00:48.056    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20060114-111824-663_L1C_039-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2006/01/14/SPOT2-HRV2-XS_20060114-111833-109_L1C_039-264-0_D_V1-0/SPOT2-HRV2-XS_20060114-111833-109_L1C_039-264-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT2-HRV2-XS_20060114-111833-109_L1C_039-264-0_D_V1-0.zip
/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20060114-111833-109_L1C_039-264-0_D_V1-0.zip
run script
2024-01-10T16:02:14.636    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200
2024-01-10T16:02:14.637    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20060114-111833-109_L1C_039-264-0_D_V1-0.zip
2024-01-10T16:02:14.638    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-10T16:02:14.638    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-10T16:02:14.638    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200
2024-01-10T16:02:14.638    INFO:run_snow_swh.py::main:model type : mtn
2024-01-10T16:02:14.638    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-10T16:02:14.638    INFO:run_snow_swh.py::main:mask inference : None
2024-01-10T16:02:14.638    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-10T16:02:14.638    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4016371/INPUT/SPOT2-HRV2-XS_20060114-111833-109_L1C_039-264-0_D_V1-0.zip', job_dir='/tmp/slurm-4016371/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-ONLY_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/PYR/TCD-ONLY_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
end
[2024-01-10 16:04:17.842552320+00:00] cnes_level2/barrouz/4016371:  Account (env) = cnes_level2
[2024-01-10 16:04:17.843656442+00:00] cnes_level2/barrouz/4016371:     User (env) = barrouz
[2024-01-10 16:04:17.844775655+00:00] cnes_level2/barrouz/4016371:        GroupId = cesbio(426000053)
[2024-01-10 16:04:17.845876877+00:00] cnes_level2/barrouz/4016371:         UserId = barrouz(9134)
[2024-01-10 16:04:17.846938710+00:00] cnes_level2/barrouz/4016371:        Account = cnes_level2
[2024-01-10 16:04:17.848021982+00:00] cnes_level2/barrouz/4016371:        Account = cnes_level2
[2024-01-10 16:04:17.849095755+00:00] cnes_level2/barrouz/4016371:      Partition = cpu2022
[2024-01-10 16:04:17.850254107+00:00] cnes_level2/barrouz/4016371:            QOS = cpu_2022_1280
[2024-01-10 16:04:17.851312669+00:00] cnes_level2/barrouz/4016371:        JobName = inf_PYR_24_TCD-ONLY_AVG-1200
[2024-01-10 16:04:17.852384082+00:00] cnes_level2/barrouz/4016371:     SubmitTime = 2024-01-09T10:53:12
[2024-01-10 16:04:17.853488314+00:00] cnes_level2/barrouz/4016371:        RunTime = 08:21:57
[2024-01-10 16:04:17.854677756+00:00] cnes_level2/barrouz/4016371:      TimeLimit = 1-16:00:00
[2024-01-10 16:04:17.855844698+00:00] cnes_level2/barrouz/4016371:   EligibleTime = 2024-01-09T10:53:12
[2024-01-10 16:04:17.856920680+00:00] cnes_level2/barrouz/4016371:      StartTime = 2024-01-10T07:42:20
[2024-01-10 16:04:17.858027223+00:00] cnes_level2/barrouz/4016371:        EndTime = 2024-01-10T16:04:17
[2024-01-10 16:04:17.859163515+00:00] cnes_level2/barrouz/4016371:       ExitCode = 0:0
[2024-01-10 16:04:17.860236517+00:00] cnes_level2/barrouz/4016371:       NodeList = trex035
[2024-01-10 16:04:17.861287080+00:00] cnes_level2/barrouz/4016371:      BatchHost = trex035
[2024-01-10 16:04:17.862395602+00:00] cnes_level2/barrouz/4016371:           TRES = 
[2024-01-10 16:04:17.863460315+00:00] cnes_level2/barrouz/4016371:        Command = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh_job.sh
[2024-01-10 16:04:17.864523018+00:00] cnes_level2/barrouz/4016371:        WorkDir = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code
[2024-01-10 16:04:17.865598880+00:00] cnes_level2/barrouz/4016371:         StdErr = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_PYR_24_TCD-ONLY_AVG-1200.log
[2024-01-10 16:04:17.866635223+00:00] cnes_level2/barrouz/4016371:         StdOut = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_PYR_24_TCD-ONLY_AVG-1200.log

#########################################
#        EVIDEN - CNES                  #
#        Job Accounting                 #
#########################################
Cluster              : trex
JobIDRaw             : 4016371
JobID                : 4016371
JobName              : inf_PYR_24_TCD-ONLY_AVG-1200
Account              : cnes_level2
User                 : barrouz(9134), cesbio(426000053)
Partition            : cpu2022
QOS                  : cpu_2022_1280
Nodelist             : trex035 (1)
State                : COMPLETED  (Exitcode=0:0, DerivedExitCode=0:0, Restarts=0)
Submit date          : 2024-01-09T10:53:12
Start time           : 2024-01-10T07:42:20
End time             : 2024-01-10T16:04:17
Elapsed time         : 08:21:57  (Timelimit=1-16:00:00, Suspended=00:00:00)
TEI                  : 2 days, 18:55:36
Command              : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh_job.sh
StdOut               : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_PYR_24_TCD-ONLY_AVG-1200.log
StdErr               : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_PYR_24_TCD-ONLY_AVG-1200.log

STEP(s) : 2
--------- 
   StepID  | JobName      State       Exit   Start               End                 Elapsed   TotalCPU   CPUTime    ConsumedEnergy MaxDiskRead MaxDiskWrite     MaxRSS MaxRSSTask MaxRSSNode NNodes UserCPU    NodeList
   ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 
   batch   | batch        COMPLETED   0:0    2024-01-10T07:42:20 2024-01-10T16:04:17 08:21:57  1-15:03:08 2-18:55:36      0.151875G  245696.35M   102239.24M 105372276K          0    trex035      1 1-03:38:36 trex035
   extern  | extern       COMPLETED   0:0    2024-01-10T07:42:20 2024-01-10T16:04:17 08:21:57  00:00.001  2-18:55:36      0.151875G       0.00M        0.00M      1696K          0    trex035      1 00:00:00   trex035

