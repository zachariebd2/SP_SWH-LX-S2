unload conda/22.11.1  : OK 
load conda/22.11.1  : OK 
envs_dirs : /work/scratch/env/barrouz/conda_env/
pkgs_dirs : /work/scratch/env/barrouz/pkgs_conda
INPUT_PATH /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/ALP/49.txt
OUTPUT_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
DEM_PATH /work/CAMPUS/etudes/Neige/DEM
TCD_PATH /work/datalake/static_aux/TreeCoverDensity
MODELS_PATH /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
KEEP_REFL 0
MASK 1
start
/home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/list_large/ALP/49.txt
muscate/SPOTWORLDHERITAGE/2009/01/21/SPOT4-HRVIR2-XS_20090121-103118-368_L1C_047-257-1_D_V1-0/SPOT4-HRVIR2-XS_20090121-103118-368_L1C_047-257-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090121-103118-368_L1C_047-257-1_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090121-103118-368_L1C_047-257-1_D_V1-0.zip
run script
2024-01-14T01:47:35.394    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:47:35.395    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090121-103118-368_L1C_047-257-1_D_V1-0.zip
2024-01-14T01:47:35.396    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:47:35.396    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:47:35.396    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:47:35.396    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:47:35.396    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:47:35.396    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:47:35.396    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:47:35.396    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090121-103118-368_L1C_047-257-1_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/05/16/SPOT4-HRVIR2-XS_20090516-101847-441_L1C_047-255-5_D_V1-0/SPOT4-HRVIR2-XS_20090516-101847-441_L1C_047-255-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090516-101847-441_L1C_047-255-5_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090516-101847-441_L1C_047-255-5_D_V1-0.zip
run script
2024-01-14T01:47:39.071    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:47:39.073    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090516-101847-441_L1C_047-255-5_D_V1-0.zip
2024-01-14T01:47:39.073    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:47:39.073    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:47:39.073    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:47:39.073    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:47:39.073    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:47:39.073    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:47:39.073    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:47:39.073    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090516-101847-441_L1C_047-255-5_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/16/SPOT4-HRVIR2-XS_20090516-101851-132_L1C_047-256-0_D_V1-0/SPOT4-HRVIR2-XS_20090516-101851-132_L1C_047-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090516-101851-132_L1C_047-256-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090516-101851-132_L1C_047-256-0_D_V1-0.zip
run script
2024-01-14T01:47:49.642    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:47:49.644    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090516-101851-132_L1C_047-256-0_D_V1-0.zip
2024-01-14T01:47:49.644    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:47:49.644    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:47:49.644    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:47:49.644    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:47:49.644    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:47:49.644    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:47:49.644    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:47:49.644    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T01:47:53.141    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (220 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090516-101851-132_L1C_047-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2009/05/16/SPOT4-HRVIR2-XS_20090516-101855-644_L1C_047-256-5_D_V1-0/SPOT4-HRVIR2-XS_20090516-101855-644_L1C_047-256-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090516-101855-644_L1C_047-256-5_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090516-101855-644_L1C_047-256-5_D_V1-0.zip
run script
2024-01-14T01:47:56.516    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:47:56.516    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090516-101855-644_L1C_047-256-5_D_V1-0.zip
2024-01-14T01:47:56.516    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:47:56.516    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:47:56.516    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:47:56.516    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:47:56.516    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:47:56.516    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:47:56.516    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:47:56.516    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090516-101855-644_L1C_047-256-5_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/05/16/SPOT4-HRVIR1-XS_20090516-101939-172_L1C_049-262-0_D_V1-0/SPOT4-HRVIR1-XS_20090516-101939-172_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090516-101939-172_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090516-101939-172_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T01:47:59.835    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:47:59.837    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090516-101939-172_L1C_049-262-0_D_V1-0.zip
2024-01-14T01:47:59.837    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:47:59.837    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:47:59.837    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:47:59.837    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:47:59.837    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:47:59.837    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:47:59.838    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:47:59.838    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090516-101939-172_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/05/16/SPOT4-HRVIR1-XS_20090516-101940-976_L1C_049-262-2_D_V1-0/SPOT4-HRVIR1-XS_20090516-101940-976_L1C_049-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090516-101940-976_L1C_049-262-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090516-101940-976_L1C_049-262-2_D_V1-0.zip
run script
2024-01-14T01:48:03.380    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:48:03.381    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090516-101940-976_L1C_049-262-2_D_V1-0.zip
2024-01-14T01:48:03.381    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:48:03.381    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:48:03.381    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:48:03.381    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:48:03.382    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:48:03.382    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:48:03.382    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:48:03.382    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090516-101940-976_L1C_049-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/05/16/SPOT4-HRVIR2-XS_20090516-101830-972_L1C_051-254-0_D_V1-0/SPOT4-HRVIR2-XS_20090516-101830-972_L1C_051-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090516-101830-972_L1C_051-254-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090516-101830-972_L1C_051-254-0_D_V1-0.zip
run script
2024-01-14T01:48:06.687    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:48:06.688    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090516-101830-972_L1C_051-254-0_D_V1-0.zip
2024-01-14T01:48:06.688    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:48:06.689    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:48:06.689    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:48:06.689    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:48:06.689    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:48:06.689    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:48:06.689    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:48:06.689    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090516-101830-972_L1C_051-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/06/14/SPOT4-HRVIR1-XS_20090614-110059-574_L1C_047-255-9_D_V1-0/SPOT4-HRVIR1-XS_20090614-110059-574_L1C_047-255-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090614-110059-574_L1C_047-255-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090614-110059-574_L1C_047-255-9_D_V1-0.zip
run script
2024-01-14T01:48:10.066    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:48:10.067    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090614-110059-574_L1C_047-255-9_D_V1-0.zip
2024-01-14T01:48:10.067    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:48:10.067    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:48:10.067    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:48:10.067    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:48:10.067    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:48:10.067    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:48:10.067    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:48:10.067    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090614-110059-574_L1C_047-255-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/14/SPOT4-HRVIR1-XS_20090614-110108-396_L1C_047-257-0_D_V1-0/SPOT4-HRVIR1-XS_20090614-110108-396_L1C_047-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090614-110108-396_L1C_047-257-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090614-110108-396_L1C_047-257-0_D_V1-0.zip
run script
2024-01-14T01:48:22.079    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:48:22.080    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090614-110108-396_L1C_047-257-0_D_V1-0.zip
2024-01-14T01:48:22.081    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:48:22.081    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:48:22.081    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:48:22.081    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:48:22.081    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:48:22.081    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:48:22.081    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:48:22.081    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090614-110108-396_L1C_047-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/08/28/SPOT4-HRVIR1-XS_20090828-101736-451_L1C_047-255-0_D_V1-0/SPOT4-HRVIR1-XS_20090828-101736-451_L1C_047-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090828-101736-451_L1C_047-255-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090828-101736-451_L1C_047-255-0_D_V1-0.zip
run script
2024-01-14T01:48:25.013    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:48:25.014    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090828-101736-451_L1C_047-255-0_D_V1-0.zip
2024-01-14T01:48:25.014    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:48:25.014    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:48:25.014    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:48:25.014    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:48:25.014    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:48:25.014    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:48:25.014    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:48:25.015    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090828-101736-451_L1C_047-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/28/SPOT4-HRVIR1-XS_20090828-101747-361_L1C_047-256-3_D_V1-0/SPOT4-HRVIR1-XS_20090828-101747-361_L1C_047-256-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090828-101747-361_L1C_047-256-3_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090828-101747-361_L1C_047-256-3_D_V1-0.zip
run script
2024-01-14T01:48:31.397    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:48:31.399    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090828-101747-361_L1C_047-256-3_D_V1-0.zip
2024-01-14T01:48:31.399    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:48:31.399    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:48:31.399    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:48:31.399    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:48:31.399    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:48:31.399    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:48:31.399    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:48:31.399    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090828-101747-361_L1C_047-256-3_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/08/28/SPOT4-HRVIR2-XS_20090828-101831-587_L1C_049-261-8_D_V1-0/SPOT4-HRVIR2-XS_20090828-101831-587_L1C_049-261-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090828-101831-587_L1C_049-261-8_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090828-101831-587_L1C_049-261-8_D_V1-0.zip
run script
2024-01-14T01:48:34.773    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:48:34.774    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090828-101831-587_L1C_049-261-8_D_V1-0.zip
2024-01-14T01:48:34.774    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:48:34.774    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:48:34.774    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:48:34.775    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:48:34.775    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:48:34.775    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:48:34.775    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:48:34.775    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090828-101831-587_L1C_049-261-8_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/08/28/SPOT4-HRVIR2-XS_20090828-101832-633_L1C_049-262-0_D_V1-0/SPOT4-HRVIR2-XS_20090828-101832-633_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090828-101832-633_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090828-101832-633_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T01:48:38.147    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:48:38.148    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090828-101832-633_L1C_049-262-0_D_V1-0.zip
2024-01-14T01:48:38.148    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:48:38.148    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:48:38.148    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:48:38.148    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:48:38.148    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:48:38.148    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:48:38.148    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:48:38.149    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090828-101832-633_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/08/28/SPOT4-HRVIR1-XS_20090828-101802-081_L1C_050-258-4_D_V1-0/SPOT4-HRVIR1-XS_20090828-101802-081_L1C_050-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090828-101802-081_L1C_050-258-4_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090828-101802-081_L1C_050-258-4_D_V1-0.zip
run script
2024-01-14T01:48:41.521    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:48:41.521    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090828-101802-081_L1C_050-258-4_D_V1-0.zip
2024-01-14T01:48:41.522    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:48:41.522    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:48:41.522    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:48:41.522    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:48:41.522    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:48:41.522    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:48:41.522    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:48:41.522    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T01:50:41.817    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 36). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090828-101802-081_L1C_050-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/08/28/SPOT4-HRVIR1-XS_20090828-101806-720_L1C_050-259-0_D_V1-0/SPOT4-HRVIR1-XS_20090828-101806-720_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090828-101806-720_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090828-101806-720_L1C_050-259-0_D_V1-0.zip
run script
2024-01-14T01:50:45.441    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:50:45.442    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090828-101806-720_L1C_050-259-0_D_V1-0.zip
2024-01-14T01:50:45.442    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:50:45.442    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:50:45.442    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:50:45.442    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:50:45.442    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:50:45.442    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:50:45.442    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:50:45.443    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T01:52:46.200    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (200 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090828-101806-720_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/09/11/SPOT4-HRVIR1-XS_20090911-104822-263_L1C_047-255-0_D_V1-0/SPOT4-HRVIR1-XS_20090911-104822-263_L1C_047-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090911-104822-263_L1C_047-255-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090911-104822-263_L1C_047-255-0_D_V1-0.zip
run script
2024-01-14T01:52:49.804    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:52:49.805    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090911-104822-263_L1C_047-255-0_D_V1-0.zip
2024-01-14T01:52:49.805    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:52:49.806    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:52:49.806    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:52:49.806    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:52:49.806    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:52:49.806    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:52:49.806    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:52:49.806    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090911-104822-263_L1C_047-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/11/SPOT4-HRVIR1-XS_20090911-104830-629_L1C_047-256-0_D_V1-0/SPOT4-HRVIR1-XS_20090911-104830-629_L1C_047-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090911-104830-629_L1C_047-256-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090911-104830-629_L1C_047-256-0_D_V1-0.zip
run script
2024-01-14T01:52:59.567    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:52:59.568    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090911-104830-629_L1C_047-256-0_D_V1-0.zip
2024-01-14T01:52:59.568    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:52:59.568    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:52:59.568    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:52:59.568    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:52:59.568    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:52:59.569    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:52:59.569    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:52:59.569    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090911-104830-629_L1C_047-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/09/11/SPOT4-HRVIR2-XS_20090911-104830-481_L1C_051-256-7_D_V1-0/SPOT4-HRVIR2-XS_20090911-104830-481_L1C_051-256-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090911-104830-481_L1C_051-256-7_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090911-104830-481_L1C_051-256-7_D_V1-0.zip
run script
2024-01-14T01:53:03.198    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:53:03.199    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090911-104830-481_L1C_051-256-7_D_V1-0.zip
2024-01-14T01:53:03.199    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:53:03.199    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:53:03.199    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:53:03.199    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:53:03.199    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:53:03.199    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:53:03.199    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:53:03.199    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090911-104830-481_L1C_051-256-7_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 0 0]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/11/SPOT4-HRVIR2-XS_20090911-104914-882_L1C_051-262-1_D_V1-0/SPOT4-HRVIR2-XS_20090911-104914-882_L1C_051-262-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090911-104914-882_L1C_051-262-1_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090911-104914-882_L1C_051-262-1_D_V1-0.zip
run script
2024-01-14T01:57:15.082    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:57:15.083    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090911-104914-882_L1C_051-262-1_D_V1-0.zip
2024-01-14T01:57:15.083    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T01:57:15.083    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T01:57:15.083    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T01:57:15.083    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T01:57:15.083    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T01:57:15.083    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T01:57:15.083    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T01:57:15.083    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090911-104914-882_L1C_051-262-1_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/11/SPOT4-HRVIR2-XS_20090911-104913-630_L1C_052-261-9_D_V1-0/SPOT4-HRVIR2-XS_20090911-104913-630_L1C_052-261-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090911-104913-630_L1C_052-261-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090911-104913-630_L1C_052-261-9_D_V1-0.zip
run script
2024-01-14T02:00:06.222    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:00:06.224    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090911-104913-630_L1C_052-261-9_D_V1-0.zip
2024-01-14T02:00:06.224    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:00:06.224    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:00:06.224    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:00:06.224    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:00:06.224    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:00:06.224    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:00:06.224    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:00:06.224    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090911-104913-630_L1C_052-261-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/21/SPOT4-HRVIR2-XS_20090921-105605-086_L1C_047-255-8_D_V1-0/SPOT4-HRVIR2-XS_20090921-105605-086_L1C_047-255-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090921-105605-086_L1C_047-255-8_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090921-105605-086_L1C_047-255-8_D_V1-0.zip
run script
2024-01-14T02:03:03.344    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:03.346    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090921-105605-086_L1C_047-255-8_D_V1-0.zip
2024-01-14T02:03:03.346    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:03:03.346    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:03:03.346    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:03.346    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:03:03.346    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:03:03.346    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:03:03.346    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:03:03.346    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T02:03:07.883    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (224 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090921-105605-086_L1C_047-255-8_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2009/09/21/SPOT4-HRVIR2-XS_20090921-105606-298_L1C_047-256-0_D_V1-0/SPOT4-HRVIR2-XS_20090921-105606-298_L1C_047-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090921-105606-298_L1C_047-256-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090921-105606-298_L1C_047-256-0_D_V1-0.zip
run script
2024-01-14T02:03:11.748    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:11.749    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090921-105606-298_L1C_047-256-0_D_V1-0.zip
2024-01-14T02:03:11.749    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:03:11.750    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:03:11.750    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:11.750    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:03:11.750    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:03:11.750    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:03:11.750    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:03:11.750    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T02:03:14.204    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (3948 x 0). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090921-105606-298_L1C_047-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2009/09/26/SPOT4-HRVIR2-XS_20090926-105945-553_L1C_047-255-0_D_V1-0/SPOT4-HRVIR2-XS_20090926-105945-553_L1C_047-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090926-105945-553_L1C_047-255-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090926-105945-553_L1C_047-255-0_D_V1-0.zip
run script
2024-01-14T02:03:18.254    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:18.255    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090926-105945-553_L1C_047-255-0_D_V1-0.zip
2024-01-14T02:03:18.255    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:03:18.255    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:03:18.255    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:18.255    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:03:18.255    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:03:18.255    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:03:18.256    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:03:18.256    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090926-105945-553_L1C_047-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/26/SPOT4-HRVIR2-XS_20090926-105954-021_L1C_047-256-0_D_V1-0/SPOT4-HRVIR2-XS_20090926-105954-021_L1C_047-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090926-105954-021_L1C_047-256-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090926-105954-021_L1C_047-256-0_D_V1-0.zip
run script
2024-01-14T02:03:31.824    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:31.826    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090926-105954-021_L1C_047-256-0_D_V1-0.zip
2024-01-14T02:03:31.826    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:03:31.826    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:03:31.826    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:31.826    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:03:31.826    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:03:31.826    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:03:31.826    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:03:31.827    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090926-105954-021_L1C_047-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/03/24/SPOT4-HRVIR1-XS_20090324-103844-078_L1C_047-256-8_D_V1-0/SPOT4-HRVIR1-XS_20090324-103844-078_L1C_047-256-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090324-103844-078_L1C_047-256-8_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090324-103844-078_L1C_047-256-8_D_V1-0.zip
run script
2024-01-14T02:03:35.574    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:35.575    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090324-103844-078_L1C_047-256-8_D_V1-0.zip
2024-01-14T02:03:35.575    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:03:35.575    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:03:35.575    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:35.575    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:03:35.576    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:03:35.576    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:03:35.576    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:03:35.576    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090324-103844-078_L1C_047-256-8_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/03/24/SPOT4-HRVIR1-XS_20090324-103845-151_L1C_047-257-0_D_V1-0/SPOT4-HRVIR1-XS_20090324-103845-151_L1C_047-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090324-103845-151_L1C_047-257-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090324-103845-151_L1C_047-257-0_D_V1-0.zip
run script
2024-01-14T02:03:38.883    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:38.885    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090324-103845-151_L1C_047-257-0_D_V1-0.zip
2024-01-14T02:03:38.885    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:03:38.885    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:03:38.885    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:38.885    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:03:38.885    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:03:38.885    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:03:38.885    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:03:38.885    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090324-103845-151_L1C_047-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/03/24/SPOT4-HRVIR1-XS_20090324-103852-371_L1C_047-257-8_D_V1-0/SPOT4-HRVIR1-XS_20090324-103852-371_L1C_047-257-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090324-103852-371_L1C_047-257-8_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090324-103852-371_L1C_047-257-8_D_V1-0.zip
run script
2024-01-14T02:03:42.278    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:42.278    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090324-103852-371_L1C_047-257-8_D_V1-0.zip
2024-01-14T02:03:42.278    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:03:42.278    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:03:42.278    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:42.278    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:03:42.279    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:03:42.279    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:03:42.279    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:03:42.279    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090324-103852-371_L1C_047-257-8_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/03/24/SPOT4-HRVIR2-XS_20090324-103844-682_L1C_048-257-1_D_V1-0/SPOT4-HRVIR2-XS_20090324-103844-682_L1C_048-257-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090324-103844-682_L1C_048-257-1_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090324-103844-682_L1C_048-257-1_D_V1-0.zip
run script
2024-01-14T02:03:45.725    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:45.725    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090324-103844-682_L1C_048-257-1_D_V1-0.zip
2024-01-14T02:03:45.725    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:03:45.726    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:03:45.726    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:03:45.726    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:03:45.726    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:03:45.726    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:03:45.726    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:03:45.726    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090324-103844-682_L1C_048-257-1_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 2 ... 2 2 2]
 [1 1 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/03/24/SPOT4-HRVIR2-XS_20090324-103852-097_L1C_048-258-0_D_V1-0/SPOT4-HRVIR2-XS_20090324-103852-097_L1C_048-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090324-103852-097_L1C_048-258-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090324-103852-097_L1C_048-258-0_D_V1-0.zip
run script
2024-01-14T02:04:40.727    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:04:40.728    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090324-103852-097_L1C_048-258-0_D_V1-0.zip
2024-01-14T02:04:40.728    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:04:40.728    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:04:40.728    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:04:40.728    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:04:40.728    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:04:40.728    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:04:40.729    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:04:40.729    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090324-103852-097_L1C_048-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/03/24/SPOT4-HRVIR2-XS_20090324-103818-879_L1C_049-254-0_D_V1-0/SPOT4-HRVIR2-XS_20090324-103818-879_L1C_049-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090324-103818-879_L1C_049-254-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090324-103818-879_L1C_049-254-0_D_V1-0.zip
run script
2024-01-14T02:05:13.657    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:05:13.658    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090324-103818-879_L1C_049-254-0_D_V1-0.zip
2024-01-14T02:05:13.658    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:05:13.658    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:05:13.658    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:05:13.658    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:05:13.658    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:05:13.658    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:05:13.659    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:05:13.659    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090324-103818-879_L1C_049-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/03/24/SPOT4-HRVIR2-XS_20090324-103821-586_L1C_049-254-3_D_V1-0/SPOT4-HRVIR2-XS_20090324-103821-586_L1C_049-254-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090324-103821-586_L1C_049-254-3_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090324-103821-586_L1C_049-254-3_D_V1-0.zip
run script
2024-01-14T02:05:16.522    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:05:16.523    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090324-103821-586_L1C_049-254-3_D_V1-0.zip
2024-01-14T02:05:16.524    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:05:16.524    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:05:16.524    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:05:16.524    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:05:16.524    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:05:16.524    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:05:16.524    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:05:16.524    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090324-103821-586_L1C_049-254-3_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/03/30/SPOT4-HRVIR2-XS_20090330-102314-713_L1C_047-256-9_D_V1-0/SPOT4-HRVIR2-XS_20090330-102314-713_L1C_047-256-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090330-102314-713_L1C_047-256-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090330-102314-713_L1C_047-256-9_D_V1-0.zip
run script
2024-01-14T02:05:19.579    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:05:19.580    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090330-102314-713_L1C_047-256-9_D_V1-0.zip
2024-01-14T02:05:19.581    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:05:19.581    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:05:19.581    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:05:19.581    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:05:19.581    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:05:19.581    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:05:19.581    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:05:19.581    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T02:05:21.739    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (184 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090330-102314-713_L1C_047-256-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2009/03/30/SPOT4-HRVIR2-XS_20090330-102314-815_L1C_048-257-0_D_V1-0/SPOT4-HRVIR2-XS_20090330-102314-815_L1C_048-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090330-102314-815_L1C_048-257-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090330-102314-815_L1C_048-257-0_D_V1-0.zip
run script
2024-01-14T02:05:24.605    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:05:24.606    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090330-102314-815_L1C_048-257-0_D_V1-0.zip
2024-01-14T02:05:24.606    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:05:24.606    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:05:24.606    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:05:24.606    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:05:24.606    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:05:24.606    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:05:24.606    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:05:24.606    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T02:05:26.789    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (188 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090330-102314-815_L1C_048-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2009/07/10/SPOT4-HRVIR2-XS_20090710-110041-707_L1C_047-256-2_D_V1-0/SPOT4-HRVIR2-XS_20090710-110041-707_L1C_047-256-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090710-110041-707_L1C_047-256-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090710-110041-707_L1C_047-256-2_D_V1-0.zip
run script
2024-01-14T02:05:29.709    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:05:29.711    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090710-110041-707_L1C_047-256-2_D_V1-0.zip
2024-01-14T02:05:29.711    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:05:29.711    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:05:29.711    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:05:29.711    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:05:29.711    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:05:29.711    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:05:29.711    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:05:29.711    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090710-110041-707_L1C_047-256-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/07/10/SPOT4-HRVIR2-XS_20090710-110044-414_L1C_047-256-5_D_V1-0/SPOT4-HRVIR2-XS_20090710-110044-414_L1C_047-256-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090710-110044-414_L1C_047-256-5_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090710-110044-414_L1C_047-256-5_D_V1-0.zip
run script
2024-01-14T02:05:32.499    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:05:32.500    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090710-110044-414_L1C_047-256-5_D_V1-0.zip
2024-01-14T02:05:32.500    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:05:32.500    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:05:32.500    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:05:32.500    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:05:32.501    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:05:32.501    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:05:32.501    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:05:32.501    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090710-110044-414_L1C_047-256-5_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/09/12/SPOT4-HRVIR2-XS_20090912-102911-766_L1C_047-256-0_D_V1-0/SPOT4-HRVIR2-XS_20090912-102911-766_L1C_047-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090912-102911-766_L1C_047-256-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090912-102911-766_L1C_047-256-0_D_V1-0.zip
run script
2024-01-14T02:05:35.870    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:05:35.871    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090912-102911-766_L1C_047-256-0_D_V1-0.zip
2024-01-14T02:05:35.871    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:05:35.872    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:05:35.872    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:05:35.872    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:05:35.872    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:05:35.872    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:05:35.872    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:05:35.872    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090912-102911-766_L1C_047-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/09/12/SPOT4-HRVIR2-XS_20090912-102917-180_L1C_047-256-6_D_V1-0/SPOT4-HRVIR2-XS_20090912-102917-180_L1C_047-256-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090912-102917-180_L1C_047-256-6_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090912-102917-180_L1C_047-256-6_D_V1-0.zip
run script
2024-01-14T02:05:42.892    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:05:42.893    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090912-102917-180_L1C_047-256-6_D_V1-0.zip
2024-01-14T02:05:42.893    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:05:42.893    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:05:42.893    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:05:42.893    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:05:42.893    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:05:42.893    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:05:42.893    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:05:42.893    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090912-102917-180_L1C_047-256-6_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/09/12/SPOT4-HRVIR1-XS_20090912-102916-868_L1C_050-257-0_D_V1-0/SPOT4-HRVIR1-XS_20090912-102916-868_L1C_050-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090912-102916-868_L1C_050-257-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090912-102916-868_L1C_050-257-0_D_V1-0.zip
run script
2024-01-14T02:05:45.654    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:05:45.655    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090912-102916-868_L1C_050-257-0_D_V1-0.zip
2024-01-14T02:05:45.655    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:05:45.655    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:05:45.655    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:05:45.655    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:05:45.655    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:05:45.655    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:05:45.655    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:05:45.655    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090912-102916-868_L1C_050-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/12/SPOT4-HRVIR1-XS_20090912-102954-713_L1C_051-261-7_D_V1-0/SPOT4-HRVIR1-XS_20090912-102954-713_L1C_051-261-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090912-102954-713_L1C_051-261-7_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090912-102954-713_L1C_051-261-7_D_V1-0.zip
run script
2024-01-14T02:08:20.970    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:08:20.971    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090912-102954-713_L1C_051-261-7_D_V1-0.zip
2024-01-14T02:08:20.971    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:08:20.971    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:08:20.971    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:08:20.971    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:08:20.971    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:08:20.971    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:08:20.971    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:08:20.971    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T02:10:07.615    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (206 x 1). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090912-102954-713_L1C_051-261-7_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/09/12/SPOT4-HRVIR1-XS_20090912-102956-732_L1C_051-262-0_D_V1-0/SPOT4-HRVIR1-XS_20090912-102956-732_L1C_051-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090912-102956-732_L1C_051-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090912-102956-732_L1C_051-262-0_D_V1-0.zip
run script
2024-01-14T02:10:11.007    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:10:11.008    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090912-102956-732_L1C_051-262-0_D_V1-0.zip
2024-01-14T02:10:11.008    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:10:11.008    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:10:11.008    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:10:11.008    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:10:11.008    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:10:11.009    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:10:11.009    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:10:11.009    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090912-102956-732_L1C_051-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/22/SPOT4-HRVIR1-XS_20090922-103648-787_L1C_047-256-0_D_V1-0/SPOT4-HRVIR1-XS_20090922-103648-787_L1C_047-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090922-103648-787_L1C_047-256-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090922-103648-787_L1C_047-256-0_D_V1-0.zip
run script
2024-01-14T02:12:02.339    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:12:02.340    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090922-103648-787_L1C_047-256-0_D_V1-0.zip
2024-01-14T02:12:02.340    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:12:02.340    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:12:02.340    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:12:02.340    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:12:02.341    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:12:02.341    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:12:02.341    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:12:02.341    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090922-103648-787_L1C_047-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/09/27/SPOT4-HRVIR1-XS_20090927-104037-002_L1C_047-256-0_D_V1-0/SPOT4-HRVIR1-XS_20090927-104037-002_L1C_047-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090927-104037-002_L1C_047-256-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090927-104037-002_L1C_047-256-0_D_V1-0.zip
run script
2024-01-14T02:12:05.552    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:12:05.552    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090927-104037-002_L1C_047-256-0_D_V1-0.zip
2024-01-14T02:12:05.552    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:12:05.552    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:12:05.552    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:12:05.552    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:12:05.552    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:12:05.552    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:12:05.552    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:12:05.552    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090927-104037-002_L1C_047-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/09/27/SPOT4-HRVIR2-XS_20090927-104037-309_L1C_051-256-7_D_V1-0/SPOT4-HRVIR2-XS_20090927-104037-309_L1C_051-256-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090927-104037-309_L1C_051-256-7_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090927-104037-309_L1C_051-256-7_D_V1-0.zip
run script
2024-01-14T02:12:08.836    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:12:08.838    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090927-104037-309_L1C_051-256-7_D_V1-0.zip
2024-01-14T02:12:08.838    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:12:08.838    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:12:08.838    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:12:08.838    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:12:08.838    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:12:08.838    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:12:08.838    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:12:08.838    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090927-104037-309_L1C_051-256-7_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/11/08/SPOT4-HRVIR1-XS_20091108-103217-064_L1C_047-256-8_D_V1-0/SPOT4-HRVIR1-XS_20091108-103217-064_L1C_047-256-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20091108-103217-064_L1C_047-256-8_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091108-103217-064_L1C_047-256-8_D_V1-0.zip
run script
2024-01-14T02:15:40.392    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:15:40.394    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091108-103217-064_L1C_047-256-8_D_V1-0.zip
2024-01-14T02:15:40.394    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:15:40.394    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:15:40.394    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:15:40.394    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:15:40.394    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:15:40.394    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:15:40.394    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:15:40.394    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091108-103217-064_L1C_047-256-8_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/11/08/SPOT4-HRVIR2-XS_20091108-103210-243_L1C_047-256-0_D_V1-0/SPOT4-HRVIR2-XS_20091108-103210-243_L1C_047-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20091108-103210-243_L1C_047-256-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091108-103210-243_L1C_047-256-0_D_V1-0.zip
run script
2024-01-14T02:15:43.677    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:15:43.679    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091108-103210-243_L1C_047-256-0_D_V1-0.zip
2024-01-14T02:15:43.679    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:15:43.679    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:15:43.679    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:15:43.679    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:15:43.679    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:15:43.679    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:15:43.679    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:15:43.679    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091108-103210-243_L1C_047-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/11/08/SPOT4-HRVIR1-XS_20091108-103218-117_L1C_047-257-0_D_V1-0/SPOT4-HRVIR1-XS_20091108-103218-117_L1C_047-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20091108-103218-117_L1C_047-257-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091108-103218-117_L1C_047-257-0_D_V1-0.zip
run script
2024-01-14T02:15:47.038    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:15:47.040    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091108-103218-117_L1C_047-257-0_D_V1-0.zip
2024-01-14T02:15:47.040    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:15:47.040    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:15:47.040    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:15:47.040    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:15:47.040    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:15:47.040    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:15:47.040    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:15:47.040    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091108-103218-117_L1C_047-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/11/08/SPOT4-HRVIR1-XS_20091108-103219-019_L1C_047-257-1_D_V1-0/SPOT4-HRVIR1-XS_20091108-103219-019_L1C_047-257-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20091108-103219-019_L1C_047-257-1_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091108-103219-019_L1C_047-257-1_D_V1-0.zip
run script
2024-01-14T02:15:52.363    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:15:52.364    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091108-103219-019_L1C_047-257-1_D_V1-0.zip
2024-01-14T02:15:52.364    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:15:52.364    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:15:52.364    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:15:52.364    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:15:52.364    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:15:52.364    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:15:52.364    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:15:52.364    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091108-103219-019_L1C_047-257-1_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/11/08/SPOT4-HRVIR1-XS_20091108-103300-048_L1C_049-262-2_D_V1-0/SPOT4-HRVIR1-XS_20091108-103300-048_L1C_049-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20091108-103300-048_L1C_049-262-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091108-103300-048_L1C_049-262-2_D_V1-0.zip
run script
2024-01-14T02:15:55.517    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:15:55.518    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091108-103300-048_L1C_049-262-2_D_V1-0.zip
2024-01-14T02:15:55.518    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:15:55.518    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:15:55.518    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:15:55.518    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:15:55.518    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:15:55.518    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:15:55.518    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:15:55.518    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091108-103300-048_L1C_049-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/11/08/SPOT4-HRVIR1-XS_20091108-103235-780_L1C_050-259-5_D_V1-0/SPOT4-HRVIR1-XS_20091108-103235-780_L1C_050-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20091108-103235-780_L1C_050-259-5_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091108-103235-780_L1C_050-259-5_D_V1-0.zip
run script
2024-01-14T02:15:58.537    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:15:58.538    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091108-103235-780_L1C_050-259-5_D_V1-0.zip
2024-01-14T02:15:58.538    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:15:58.538    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:15:58.538    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:15:58.538    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:15:58.538    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:15:58.538    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:15:58.538    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:15:58.539    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091108-103235-780_L1C_050-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/11/08/SPOT4-HRVIR1-XS_20091108-103239-390_L1C_050-259-9_D_V1-0/SPOT4-HRVIR1-XS_20091108-103239-390_L1C_050-259-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20091108-103239-390_L1C_050-259-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091108-103239-390_L1C_050-259-9_D_V1-0.zip
run script
2024-01-14T02:17:57.864    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:17:57.864    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091108-103239-390_L1C_050-259-9_D_V1-0.zip
2024-01-14T02:17:57.864    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:17:57.864    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:17:57.865    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:17:57.865    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:17:57.865    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:17:57.865    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:17:57.865    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:17:57.865    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091108-103239-390_L1C_050-259-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/03/09/SPOT4-HRVIR2-XS_20090309-102715-648_L1C_047-257-1_D_V1-0/SPOT4-HRVIR2-XS_20090309-102715-648_L1C_047-257-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090309-102715-648_L1C_047-257-1_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090309-102715-648_L1C_047-257-1_D_V1-0.zip
run script
2024-01-14T02:19:36.632    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:19:36.633    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090309-102715-648_L1C_047-257-1_D_V1-0.zip
2024-01-14T02:19:36.633    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:19:36.633    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:19:36.634    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:19:36.634    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:19:36.634    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:19:36.634    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:19:36.634    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:19:36.634    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090309-102715-648_L1C_047-257-1_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/03/09/SPOT4-HRVIR2-XS_20090309-102756-325_L1C_049-262-2_D_V1-0/SPOT4-HRVIR2-XS_20090309-102756-325_L1C_049-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090309-102756-325_L1C_049-262-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090309-102756-325_L1C_049-262-2_D_V1-0.zip
run script
2024-01-14T02:19:40.099    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:19:40.101    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090309-102756-325_L1C_049-262-2_D_V1-0.zip
2024-01-14T02:19:40.101    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:19:40.101    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:19:40.101    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:19:40.101    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:19:40.101    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:19:40.102    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:19:40.102    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:19:40.102    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090309-102756-325_L1C_049-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/03/14/SPOT4-HRVIR2-XS_20090314-103105-098_L1C_047-257-0_D_V1-0/SPOT4-HRVIR2-XS_20090314-103105-098_L1C_047-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090314-103105-098_L1C_047-257-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090314-103105-098_L1C_047-257-0_D_V1-0.zip
run script
2024-01-14T02:19:43.224    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:19:43.225    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090314-103105-098_L1C_047-257-0_D_V1-0.zip
2024-01-14T02:19:43.226    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:19:43.226    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:19:43.226    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:19:43.226    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:19:43.226    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:19:43.226    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:19:43.226    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:19:43.226    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090314-103105-098_L1C_047-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/03/14/SPOT4-HRVIR2-XS_20090314-103113-361_L1C_047-258-0_D_V1-0/SPOT4-HRVIR2-XS_20090314-103113-361_L1C_047-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090314-103113-361_L1C_047-258-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090314-103113-361_L1C_047-258-0_D_V1-0.zip
run script
2024-01-14T02:19:46.298    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:19:46.299    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090314-103113-361_L1C_047-258-0_D_V1-0.zip
2024-01-14T02:19:46.300    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:19:46.300    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:19:46.300    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:19:46.300    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:19:46.300    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:19:46.300    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:19:46.300    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:19:46.300    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090314-103113-361_L1C_047-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/03/14/SPOT4-HRVIR1-XS_20090314-103047-373_L1C_048-255-0_D_V1-0/SPOT4-HRVIR1-XS_20090314-103047-373_L1C_048-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090314-103047-373_L1C_048-255-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090314-103047-373_L1C_048-255-0_D_V1-0.zip
run script
2024-01-14T02:19:49.247    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:19:49.248    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090314-103047-373_L1C_048-255-0_D_V1-0.zip
2024-01-14T02:19:49.248    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:19:49.248    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:19:49.248    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:19:49.248    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:19:49.248    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:19:49.248    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:19:49.248    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:19:49.248    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090314-103047-373_L1C_048-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/03/14/SPOT4-HRVIR1-XS_20090314-103055-630_L1C_048-256-0_D_V1-0/SPOT4-HRVIR1-XS_20090314-103055-630_L1C_048-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090314-103055-630_L1C_048-256-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090314-103055-630_L1C_048-256-0_D_V1-0.zip
run script
2024-01-14T02:20:21.337    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:20:21.338    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090314-103055-630_L1C_048-256-0_D_V1-0.zip
2024-01-14T02:20:21.338    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:20:21.338    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:20:21.338    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:20:21.338    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:20:21.338    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:20:21.338    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:20:21.339    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:20:21.339    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090314-103055-630_L1C_048-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/03/14/SPOT4-HRVIR2-XS_20090314-103146-722_L1C_049-262-2_D_V1-0/SPOT4-HRVIR2-XS_20090314-103146-722_L1C_049-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090314-103146-722_L1C_049-262-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090314-103146-722_L1C_049-262-2_D_V1-0.zip
run script
2024-01-14T02:21:34.341    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:21:34.343    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090314-103146-722_L1C_049-262-2_D_V1-0.zip
2024-01-14T02:21:34.343    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:21:34.343    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:21:34.343    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:21:34.343    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:21:34.343    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:21:34.343    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:21:34.343    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:21:34.343    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090314-103146-722_L1C_049-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/08/05/SPOT4-HRVIR1-XS_20090805-110035-711_L1C_047-257-2_D_V1-0/SPOT4-HRVIR1-XS_20090805-110035-711_L1C_047-257-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090805-110035-711_L1C_047-257-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090805-110035-711_L1C_047-257-2_D_V1-0.zip
run script
2024-01-14T02:21:37.844    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:21:37.845    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090805-110035-711_L1C_047-257-2_D_V1-0.zip
2024-01-14T02:21:37.845    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:21:37.845    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:21:37.845    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:21:37.846    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:21:37.846    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:21:37.846    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:21:37.846    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:21:37.846    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090805-110035-711_L1C_047-257-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/07/31/SPOT4-HRVIR2-XS_20090731-105709-106_L1C_047-259-8_D_V1-0/SPOT4-HRVIR2-XS_20090731-105709-106_L1C_047-259-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090731-105709-106_L1C_047-259-8_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090731-105709-106_L1C_047-259-8_D_V1-0.zip
run script
2024-01-14T02:21:41.231    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:21:41.232    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090731-105709-106_L1C_047-259-8_D_V1-0.zip
2024-01-14T02:21:41.232    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:21:41.232    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:21:41.232    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:21:41.232    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:21:41.232    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:21:41.232    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:21:41.232    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:21:41.232    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090731-105709-106_L1C_047-259-8_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/07/31/SPOT4-HRVIR2-XS_20090731-105710-339_L1C_047-260-0_D_V1-0/SPOT4-HRVIR2-XS_20090731-105710-339_L1C_047-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090731-105710-339_L1C_047-260-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090731-105710-339_L1C_047-260-0_D_V1-0.zip
run script
2024-01-14T02:21:44.731    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:21:44.733    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090731-105710-339_L1C_047-260-0_D_V1-0.zip
2024-01-14T02:21:44.733    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:21:44.733    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:21:44.733    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:21:44.733    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:21:44.733    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:21:44.733    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:21:44.733    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:21:44.733    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090731-105710-339_L1C_047-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/02/21/SPOT4-HRVIR1-XS_20090221-103437-257_L1C_048-254-0_D_V1-0/SPOT4-HRVIR1-XS_20090221-103437-257_L1C_048-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090221-103437-257_L1C_048-254-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090221-103437-257_L1C_048-254-0_D_V1-0.zip
run script
2024-01-14T02:21:47.785    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:21:47.786    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090221-103437-257_L1C_048-254-0_D_V1-0.zip
2024-01-14T02:21:47.786    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:21:47.786    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:21:47.786    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:21:47.786    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:21:47.786    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:21:47.787    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:21:47.787    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:21:47.787    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090221-103437-257_L1C_048-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/02/21/SPOT4-HRVIR1-XS_20090221-103445-526_L1C_048-255-0_D_V1-0/SPOT4-HRVIR1-XS_20090221-103445-526_L1C_048-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090221-103445-526_L1C_048-255-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090221-103445-526_L1C_048-255-0_D_V1-0.zip
run script
2024-01-14T02:21:51.241    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:21:51.243    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090221-103445-526_L1C_048-255-0_D_V1-0.zip
2024-01-14T02:21:51.243    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:21:51.243    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:21:51.243    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:21:51.243    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:21:51.243    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:21:51.243    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:21:51.243    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:21:51.243    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T02:22:18.871    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (202 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090221-103445-526_L1C_048-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/02/21/SPOT4-HRVIR1-XS_20090221-103453-804_L1C_048-256-0_D_V1-0/SPOT4-HRVIR1-XS_20090221-103453-804_L1C_048-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090221-103453-804_L1C_048-256-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090221-103453-804_L1C_048-256-0_D_V1-0.zip
run script
2024-01-14T02:22:22.107    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:22:22.109    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090221-103453-804_L1C_048-256-0_D_V1-0.zip
2024-01-14T02:22:22.109    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:22:22.109    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:22:22.109    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:22:22.109    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:22:22.109    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:22:22.109    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:22:22.109    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:22:22.109    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090221-103453-804_L1C_048-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/02/21/SPOT4-HRVIR1-XS_20090221-103502-091_L1C_048-257-0_D_V1-0/SPOT4-HRVIR1-XS_20090221-103502-091_L1C_048-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090221-103502-091_L1C_048-257-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090221-103502-091_L1C_048-257-0_D_V1-0.zip
run script
2024-01-14T02:23:30.551    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:23:30.552    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090221-103502-091_L1C_048-257-0_D_V1-0.zip
2024-01-14T02:23:30.553    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:23:30.553    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:23:30.553    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:23:30.553    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:23:30.553    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:23:30.553    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:23:30.553    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:23:30.553    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090221-103502-091_L1C_048-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [1 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 0 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/02/21/SPOT4-HRVIR1-XS_20090221-103510-384_L1C_048-258-0_D_V1-0/SPOT4-HRVIR1-XS_20090221-103510-384_L1C_048-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090221-103510-384_L1C_048-258-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090221-103510-384_L1C_048-258-0_D_V1-0.zip
run script
2024-01-14T02:24:27.499    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:24:27.500    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090221-103510-384_L1C_048-258-0_D_V1-0.zip
2024-01-14T02:24:27.500    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:24:27.500    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:24:27.500    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:24:27.500    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:24:27.500    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:24:27.500    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:24:27.500    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:24:27.500    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090221-103510-384_L1C_048-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/30/SPOT4-HRVIR1-XS_20090530-104927-334_L1C_048-254-9_D_V1-0/SPOT4-HRVIR1-XS_20090530-104927-334_L1C_048-254-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090530-104927-334_L1C_048-254-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090530-104927-334_L1C_048-254-9_D_V1-0.zip
run script
2024-01-14T02:24:57.105    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:24:57.106    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090530-104927-334_L1C_048-254-9_D_V1-0.zip
2024-01-14T02:24:57.106    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:24:57.106    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:24:57.106    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:24:57.106    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:24:57.106    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:24:57.106    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:24:57.106    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:24:57.106    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090530-104927-334_L1C_048-254-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/30/SPOT4-HRVIR1-XS_20090530-104927-584_L1C_048-255-0_D_V1-0/SPOT4-HRVIR1-XS_20090530-104927-584_L1C_048-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090530-104927-584_L1C_048-255-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090530-104927-584_L1C_048-255-0_D_V1-0.zip
run script
2024-01-14T02:25:20.996    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:25:20.997    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090530-104927-584_L1C_048-255-0_D_V1-0.zip
2024-01-14T02:25:20.997    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:25:20.998    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:25:20.998    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:25:20.998    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:25:20.998    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:25:20.998    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:25:20.998    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:25:20.998    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090530-104927-584_L1C_048-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/30/SPOT4-HRVIR1-XS_20090530-104929-388_L1C_048-255-2_D_V1-0/SPOT4-HRVIR1-XS_20090530-104929-388_L1C_048-255-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090530-104929-388_L1C_048-255-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090530-104929-388_L1C_048-255-2_D_V1-0.zip
run script
2024-01-14T02:25:45.353    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:25:45.355    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090530-104929-388_L1C_048-255-2_D_V1-0.zip
2024-01-14T02:25:45.355    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:25:45.355    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:25:45.356    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:25:45.356    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:25:45.356    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:25:45.356    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:25:45.356    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:25:45.356    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090530-104929-388_L1C_048-255-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/01/SPOT4-HRVIR1-XS_20090701-103334-742_L1C_048-254-5_D_V1-0/SPOT4-HRVIR1-XS_20090701-103334-742_L1C_048-254-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090701-103334-742_L1C_048-254-5_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090701-103334-742_L1C_048-254-5_D_V1-0.zip
run script
2024-01-14T02:26:17.849    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:26:17.850    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090701-103334-742_L1C_048-254-5_D_V1-0.zip
2024-01-14T02:26:17.850    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:26:17.850    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:26:17.850    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:26:17.850    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:26:17.850    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:26:17.850    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:26:17.850    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:26:17.850    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090701-103334-742_L1C_048-254-5_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/07/01/SPOT4-HRVIR1-XS_20090701-103338-490_L1C_048-255-0_D_V1-0/SPOT4-HRVIR1-XS_20090701-103338-490_L1C_048-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090701-103338-490_L1C_048-255-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090701-103338-490_L1C_048-255-0_D_V1-0.zip
run script
2024-01-14T02:26:21.128    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:26:21.130    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090701-103338-490_L1C_048-255-0_D_V1-0.zip
2024-01-14T02:26:21.130    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:26:21.130    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:26:21.130    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:26:21.130    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:26:21.130    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:26:21.130    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:26:21.130    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:26:21.130    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090701-103338-490_L1C_048-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/01/SPOT4-HRVIR1-XS_20090701-103346-759_L1C_048-256-0_D_V1-0/SPOT4-HRVIR1-XS_20090701-103346-759_L1C_048-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090701-103346-759_L1C_048-256-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090701-103346-759_L1C_048-256-0_D_V1-0.zip
run script
2024-01-14T02:26:38.731    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:26:38.732    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090701-103346-759_L1C_048-256-0_D_V1-0.zip
2024-01-14T02:26:38.732    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:26:38.732    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:26:38.732    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:26:38.732    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:26:38.732    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:26:38.732    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:26:38.732    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:26:38.732    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090701-103346-759_L1C_048-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/01/SPOT4-HRVIR1-XS_20090701-103347-662_L1C_048-256-1_D_V1-0/SPOT4-HRVIR1-XS_20090701-103347-662_L1C_048-256-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090701-103347-662_L1C_048-256-1_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090701-103347-662_L1C_048-256-1_D_V1-0.zip
run script
2024-01-14T02:27:06.566    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:27:06.568    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090701-103347-662_L1C_048-256-1_D_V1-0.zip
2024-01-14T02:27:06.568    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:27:06.568    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:27:06.568    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:27:06.568    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:27:06.568    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:27:06.568    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:27:06.568    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:27:06.568    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090701-103347-662_L1C_048-256-1_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/02/11/SPOT4-HRVIR1-XS_20090211-102712-268_L1C_048-255-9_D_V1-0/SPOT4-HRVIR1-XS_20090211-102712-268_L1C_048-255-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090211-102712-268_L1C_048-255-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090211-102712-268_L1C_048-255-9_D_V1-0.zip
run script
2024-01-14T02:27:35.172    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:27:35.173    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090211-102712-268_L1C_048-255-9_D_V1-0.zip
2024-01-14T02:27:35.173    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:27:35.173    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:27:35.173    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:27:35.174    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:27:35.174    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:27:35.174    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:27:35.174    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:27:35.174    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090211-102712-268_L1C_048-255-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/02/11/SPOT4-HRVIR1-XS_20090211-102712-385_L1C_049-256-0_D_V1-0/SPOT4-HRVIR1-XS_20090211-102712-385_L1C_049-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090211-102712-385_L1C_049-256-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090211-102712-385_L1C_049-256-0_D_V1-0.zip
run script
2024-01-14T02:28:47.653    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:28:47.653    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090211-102712-385_L1C_049-256-0_D_V1-0.zip
2024-01-14T02:28:47.653    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:28:47.653    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:28:47.653    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:28:47.654    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:28:47.654    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:28:47.654    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:28:47.654    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:28:47.654    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090211-102712-385_L1C_049-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/02/26/SPOT4-HRVIR1-XS_20090226-103844-059_L1C_048-255-9_D_V1-0/SPOT4-HRVIR1-XS_20090226-103844-059_L1C_048-255-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090226-103844-059_L1C_048-255-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090226-103844-059_L1C_048-255-9_D_V1-0.zip
run script
2024-01-14T02:30:03.249    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:30:03.250    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090226-103844-059_L1C_048-255-9_D_V1-0.zip
2024-01-14T02:30:03.250    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:30:03.250    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:30:03.250    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:30:03.250    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:30:03.251    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:30:03.251    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:30:03.251    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:30:03.251    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090226-103844-059_L1C_048-255-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/02/26/SPOT4-HRVIR1-XS_20090226-103852-545_L1C_048-257-0_D_V1-0/SPOT4-HRVIR1-XS_20090226-103852-545_L1C_048-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090226-103852-545_L1C_048-257-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090226-103852-545_L1C_048-257-0_D_V1-0.zip
run script
2024-01-14T02:31:06.911    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:31:06.912    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090226-103852-545_L1C_048-257-0_D_V1-0.zip
2024-01-14T02:31:06.912    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:31:06.912    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:31:06.912    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:31:06.912    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:31:06.912    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:31:06.912    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:31:06.912    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:31:06.913    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090226-103852-545_L1C_048-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/02/26/SPOT4-HRVIR1-XS_20090226-103900-859_L1C_048-258-0_D_V1-0/SPOT4-HRVIR1-XS_20090226-103900-859_L1C_048-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090226-103900-859_L1C_048-258-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090226-103900-859_L1C_048-258-0_D_V1-0.zip
run script
2024-01-14T02:31:58.630    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:31:58.631    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090226-103900-859_L1C_048-258-0_D_V1-0.zip
2024-01-14T02:31:58.632    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:31:58.632    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:31:58.632    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:31:58.632    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:31:58.632    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:31:58.632    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:31:58.632    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:31:58.632    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090226-103900-859_L1C_048-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/03/19/SPOT4-HRVIR1-XS_20090319-103442-872_L1C_048-255-6_D_V1-0/SPOT4-HRVIR1-XS_20090319-103442-872_L1C_048-255-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090319-103442-872_L1C_048-255-6_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090319-103442-872_L1C_048-255-6_D_V1-0.zip
run script
2024-01-14T02:32:26.254    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:32:26.255    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090319-103442-872_L1C_048-255-6_D_V1-0.zip
2024-01-14T02:32:26.256    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:32:26.256    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:32:26.256    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:32:26.256    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:32:26.256    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:32:26.256    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:32:26.256    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:32:26.256    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090319-103442-872_L1C_048-255-6_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 1]
 [0 0 0 ... 0 0 1]
 [0 0 0 ... 0 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/03/19/SPOT4-HRVIR1-XS_20090319-103445-735_L1C_048-256-0_D_V1-0/SPOT4-HRVIR1-XS_20090319-103445-735_L1C_048-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090319-103445-735_L1C_048-256-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090319-103445-735_L1C_048-256-0_D_V1-0.zip
run script
2024-01-14T02:33:21.956    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:33:21.957    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090319-103445-735_L1C_048-256-0_D_V1-0.zip
2024-01-14T02:33:21.958    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:33:21.958    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:33:21.958    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:33:21.958    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:33:21.958    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:33:21.958    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:33:21.958    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:33:21.958    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090319-103445-735_L1C_048-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/03/19/SPOT4-HRVIR1-XS_20090319-103454-019_L1C_048-257-0_D_V1-0/SPOT4-HRVIR1-XS_20090319-103454-019_L1C_048-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090319-103454-019_L1C_048-257-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090319-103454-019_L1C_048-257-0_D_V1-0.zip
run script
2024-01-14T02:34:29.737    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:34:29.738    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090319-103454-019_L1C_048-257-0_D_V1-0.zip
2024-01-14T02:34:29.738    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:34:29.738    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:34:29.738    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:34:29.738    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:34:29.738    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:34:29.738    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:34:29.738    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:34:29.738    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090319-103454-019_L1C_048-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [1 0 0 ... 2 2 2]
 [1 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/03/19/SPOT4-HRVIR1-XS_20090319-103503-215_L1C_048-258-1_D_V1-0/SPOT4-HRVIR1-XS_20090319-103503-215_L1C_048-258-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090319-103503-215_L1C_048-258-1_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090319-103503-215_L1C_048-258-1_D_V1-0.zip
run script
2024-01-14T02:35:22.894    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:35:22.895    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090319-103503-215_L1C_048-258-1_D_V1-0.zip
2024-01-14T02:35:22.896    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:35:22.896    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:35:22.896    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:35:22.896    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:35:22.896    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:35:22.896    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:35:22.896    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:35:22.896    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090319-103503-215_L1C_048-258-1_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/03/20/SPOT4-HRVIR2-XS_20090320-101517-742_L1C_048-255-1_D_V1-0/SPOT4-HRVIR2-XS_20090320-101517-742_L1C_048-255-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090320-101517-742_L1C_048-255-1_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090320-101517-742_L1C_048-255-1_D_V1-0.zip
run script
2024-01-14T02:35:53.159    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:35:53.160    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090320-101517-742_L1C_048-255-1_D_V1-0.zip
2024-01-14T02:35:53.160    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:35:53.160    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:35:53.160    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:35:53.160    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:35:53.160    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:35:53.160    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:35:53.161    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:35:53.161    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T02:36:24.758    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (602 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090320-101517-742_L1C_048-255-1_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 2 ... 2 2 2]
 [0 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/03/20/SPOT4-HRVIR2-XS_20090320-101525-037_L1C_048-256-0_D_V1-0/SPOT4-HRVIR2-XS_20090320-101525-037_L1C_048-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090320-101525-037_L1C_048-256-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090320-101525-037_L1C_048-256-0_D_V1-0.zip
run script
2024-01-14T02:36:28.460    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:36:28.462    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090320-101525-037_L1C_048-256-0_D_V1-0.zip
2024-01-14T02:36:28.462    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:36:28.462    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:36:28.462    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:36:28.462    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:36:28.462    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:36:28.462    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:36:28.462    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:36:28.462    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090320-101525-037_L1C_048-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/03/20/SPOT4-HRVIR2-XS_20090320-101533-243_L1C_048-257-0_D_V1-0/SPOT4-HRVIR2-XS_20090320-101533-243_L1C_048-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090320-101533-243_L1C_048-257-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090320-101533-243_L1C_048-257-0_D_V1-0.zip
run script
2024-01-14T02:37:40.417    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:37:40.418    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090320-101533-243_L1C_048-257-0_D_V1-0.zip
2024-01-14T02:37:40.419    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:37:40.419    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:37:40.419    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:37:40.419    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:37:40.419    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:37:40.419    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:37:40.419    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:37:40.419    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090320-101533-243_L1C_048-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/03/20/SPOT4-HRVIR2-XS_20090320-101541-460_L1C_049-258-0_D_V1-0/SPOT4-HRVIR2-XS_20090320-101541-460_L1C_049-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090320-101541-460_L1C_049-258-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090320-101541-460_L1C_049-258-0_D_V1-0.zip
run script
2024-01-14T02:38:45.750    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:38:45.751    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090320-101541-460_L1C_049-258-0_D_V1-0.zip
2024-01-14T02:38:45.751    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:38:45.752    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:38:45.752    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:38:45.752    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:38:45.752    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:38:45.752    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:38:45.752    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:38:45.752    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090320-101541-460_L1C_049-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/03/20/SPOT4-HRVIR2-XS_20090320-101545-070_L1C_049-258-4_D_V1-0/SPOT4-HRVIR2-XS_20090320-101545-070_L1C_049-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090320-101545-070_L1C_049-258-4_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090320-101545-070_L1C_049-258-4_D_V1-0.zip
run script
2024-01-14T02:39:30.226    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:39:30.228    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090320-101545-070_L1C_049-258-4_D_V1-0.zip
2024-01-14T02:39:30.228    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:39:30.228    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:39:30.228    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:39:30.228    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:39:30.228    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:39:30.228    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:39:30.228    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:39:30.228    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090320-101545-070_L1C_049-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/02/SPOT4-HRVIR2-XS_20090702-101417-476_L1C_048-255-1_D_V1-0/SPOT4-HRVIR2-XS_20090702-101417-476_L1C_048-255-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090702-101417-476_L1C_048-255-1_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090702-101417-476_L1C_048-255-1_D_V1-0.zip
run script
2024-01-14T02:40:14.544    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:40:14.545    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090702-101417-476_L1C_048-255-1_D_V1-0.zip
2024-01-14T02:40:14.545    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:40:14.545    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:40:14.545    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:40:14.545    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:40:14.545    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:40:14.545    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:40:14.545    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:40:14.545    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T02:40:44.811    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (148 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090702-101417-476_L1C_048-255-1_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/07/02/SPOT4-HRVIR2-XS_20090702-101419-281_L1C_048-255-3_D_V1-0/SPOT4-HRVIR2-XS_20090702-101419-281_L1C_048-255-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090702-101419-281_L1C_048-255-3_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090702-101419-281_L1C_048-255-3_D_V1-0.zip
run script
2024-01-14T02:40:48.200    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:40:48.201    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090702-101419-281_L1C_048-255-3_D_V1-0.zip
2024-01-14T02:40:48.201    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:40:48.201    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:40:48.202    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:40:48.202    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:40:48.202    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:40:48.202    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:40:48.202    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:40:48.202    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090702-101419-281_L1C_048-255-3_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/06/SPOT4-HRVIR2-XS_20090906-104432-219_L1C_048-255-0_D_V1-0/SPOT4-HRVIR2-XS_20090906-104432-219_L1C_048-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090906-104432-219_L1C_048-255-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090906-104432-219_L1C_048-255-0_D_V1-0.zip
run script
2024-01-14T02:41:32.410    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:41:32.411    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090906-104432-219_L1C_048-255-0_D_V1-0.zip
2024-01-14T02:41:32.412    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:41:32.412    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:41:32.412    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:41:32.412    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:41:32.412    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:41:32.412    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:41:32.412    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:41:32.412    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090906-104432-219_L1C_048-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/06/SPOT4-HRVIR2-XS_20090906-104440-575_L1C_048-256-0_D_V1-0/SPOT4-HRVIR2-XS_20090906-104440-575_L1C_048-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090906-104440-575_L1C_048-256-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090906-104440-575_L1C_048-256-0_D_V1-0.zip
run script
2024-01-14T02:42:08.181    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:42:08.182    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090906-104440-575_L1C_048-256-0_D_V1-0.zip
2024-01-14T02:42:08.182    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:42:08.182    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:42:08.182    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:42:08.182    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:42:08.183    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:42:08.183    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:42:08.183    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:42:08.183    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090906-104440-575_L1C_048-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/06/SPOT4-HRVIR2-XS_20090906-104431-088_L1C_049-254-8_D_V1-0/SPOT4-HRVIR2-XS_20090906-104431-088_L1C_049-254-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090906-104431-088_L1C_049-254-8_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090906-104431-088_L1C_049-254-8_D_V1-0.zip
run script
2024-01-14T02:43:22.112    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:43:22.114    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090906-104431-088_L1C_049-254-8_D_V1-0.zip
2024-01-14T02:43:22.114    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:43:22.114    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:43:22.114    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:43:22.114    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:43:22.114    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:43:22.114    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:43:22.114    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:43:22.115    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090906-104431-088_L1C_049-254-8_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/06/SPOT4-HRVIR1-XS_20090906-104524-304_L1C_049-261-3_D_V1-0/SPOT4-HRVIR1-XS_20090906-104524-304_L1C_049-261-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090906-104524-304_L1C_049-261-3_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090906-104524-304_L1C_049-261-3_D_V1-0.zip
run script
2024-01-14T02:43:47.583    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:43:47.584    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090906-104524-304_L1C_049-261-3_D_V1-0.zip
2024-01-14T02:43:47.584    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:43:47.584    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:43:47.584    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:43:47.585    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:43:47.585    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:43:47.585    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:43:47.585    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:43:47.585    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090906-104524-304_L1C_049-261-3_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/09/06/SPOT4-HRVIR1-XS_20090906-104529-996_L1C_049-262-0_D_V1-0/SPOT4-HRVIR1-XS_20090906-104529-996_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090906-104529-996_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090906-104529-996_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T02:43:50.889    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:43:50.890    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090906-104529-996_L1C_049-262-0_D_V1-0.zip
2024-01-14T02:43:50.891    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:43:50.891    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:43:50.891    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:43:50.891    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:43:50.891    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:43:50.891    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:43:50.891    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:43:50.891    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090906-104529-996_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/09/06/SPOT4-HRVIR2-XS_20090906-104454-841_L1C_050-257-9_D_V1-0/SPOT4-HRVIR2-XS_20090906-104454-841_L1C_050-257-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090906-104454-841_L1C_050-257-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090906-104454-841_L1C_050-257-9_D_V1-0.zip
run script
2024-01-14T02:43:54.327    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:43:54.331    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090906-104454-841_L1C_050-257-9_D_V1-0.zip
2024-01-14T02:43:54.331    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:43:54.331    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:43:54.331    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:43:54.331    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:43:54.331    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:43:54.331    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:43:54.332    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:43:54.332    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T02:46:12.884    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 64). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090906-104454-841_L1C_050-257-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/09/06/SPOT4-HRVIR2-XS_20090906-104455-112_L1C_050-258-0_D_V1-0/SPOT4-HRVIR2-XS_20090906-104455-112_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090906-104455-112_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090906-104455-112_L1C_050-258-0_D_V1-0.zip
run script
2024-01-14T02:46:16.103    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:46:16.104    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090906-104455-112_L1C_050-258-0_D_V1-0.zip
2024-01-14T02:46:16.104    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:46:16.104    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:46:16.104    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:46:16.104    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:46:16.105    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:46:16.105    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:46:16.105    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:46:16.105    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T02:48:16.362    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 230). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090906-104455-112_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/09/06/SPOT4-HRVIR2-XS_20090906-104503-507_L1C_050-259-0_D_V1-0/SPOT4-HRVIR2-XS_20090906-104503-507_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090906-104503-507_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090906-104503-507_L1C_050-259-0_D_V1-0.zip
run script
2024-01-14T02:48:19.645    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:48:19.646    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090906-104503-507_L1C_050-259-0_D_V1-0.zip
2024-01-14T02:48:19.646    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:48:19.646    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:48:19.647    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:48:19.647    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:48:19.647    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:48:19.647    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:48:19.647    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:48:19.647    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090906-104503-507_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/06/SPOT4-HRVIR1-XS_20090906-104420-182_L1C_051-254-0_D_V1-0/SPOT4-HRVIR1-XS_20090906-104420-182_L1C_051-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090906-104420-182_L1C_051-254-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090906-104420-182_L1C_051-254-0_D_V1-0.zip
run script
2024-01-14T02:50:06.015    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:50:06.016    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090906-104420-182_L1C_051-254-0_D_V1-0.zip
2024-01-14T02:50:06.016    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:50:06.016    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:50:06.016    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:50:06.016    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:50:06.016    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:50:06.017    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:50:06.017    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:50:06.017    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090906-104420-182_L1C_051-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/01/16/SPOT4-HRVIR2-XS_20090116-102733-126_L1C_048-257-9_D_V1-0/SPOT4-HRVIR2-XS_20090116-102733-126_L1C_048-257-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090116-102733-126_L1C_048-257-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090116-102733-126_L1C_048-257-9_D_V1-0.zip
run script
2024-01-14T02:50:09.292    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:50:09.292    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090116-102733-126_L1C_048-257-9_D_V1-0.zip
2024-01-14T02:50:09.292    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:50:09.292    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:50:09.293    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:50:09.293    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:50:09.293    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:50:09.293    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:50:09.293    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:50:09.293    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090116-102733-126_L1C_048-257-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/01/16/SPOT4-HRVIR2-XS_20090116-102733-262_L1C_049-258-0_D_V1-0/SPOT4-HRVIR2-XS_20090116-102733-262_L1C_049-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090116-102733-262_L1C_049-258-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090116-102733-262_L1C_049-258-0_D_V1-0.zip
run script
2024-01-14T02:50:46.920    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:50:46.921    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090116-102733-262_L1C_049-258-0_D_V1-0.zip
2024-01-14T02:50:46.921    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:50:46.922    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:50:46.922    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:50:46.922    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:50:46.922    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:50:46.922    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:50:46.922    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:50:46.922    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090116-102733-262_L1C_049-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/01/16/SPOT4-HRVIR2-XS_20090116-102715-113_L1C_050-256-0_D_V1-0/SPOT4-HRVIR2-XS_20090116-102715-113_L1C_050-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090116-102715-113_L1C_050-256-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090116-102715-113_L1C_050-256-0_D_V1-0.zip
run script
2024-01-14T02:51:23.034    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:51:23.035    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090116-102715-113_L1C_050-256-0_D_V1-0.zip
2024-01-14T02:51:23.035    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:51:23.035    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:51:23.035    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:51:23.035    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:51:23.035    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:51:23.035    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:51:23.036    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:51:23.036    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090116-102715-113_L1C_050-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/02/25/SPOT4-HRVIR1-XS_20090225-105809-152_L1C_048-257-0_D_V1-0/SPOT4-HRVIR1-XS_20090225-105809-152_L1C_048-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090225-105809-152_L1C_048-257-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090225-105809-152_L1C_048-257-0_D_V1-0.zip
run script
2024-01-14T02:54:09.940    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:54:09.942    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090225-105809-152_L1C_048-257-0_D_V1-0.zip
2024-01-14T02:54:09.942    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:54:09.942    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:54:09.942    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:54:09.942    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:54:09.942    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:54:09.942    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:54:09.942    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:54:09.943    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090225-105809-152_L1C_048-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 0 0 ... 2 2 2]
 [1 0 0 ... 2 2 2]
 [1 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/02/25/SPOT4-HRVIR1-XS_20090225-105817-617_L1C_048-258-0_D_V1-0/SPOT4-HRVIR1-XS_20090225-105817-617_L1C_048-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090225-105817-617_L1C_048-258-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090225-105817-617_L1C_048-258-0_D_V1-0.zip
run script
2024-01-14T02:55:27.947    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:55:27.948    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090225-105817-617_L1C_048-258-0_D_V1-0.zip
2024-01-14T02:55:27.948    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:55:27.949    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:55:27.949    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:55:27.949    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:55:27.949    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:55:27.949    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:55:27.949    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:55:27.949    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T02:56:08.256    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 68). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090225-105817-617_L1C_048-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/02/25/SPOT4-HRVIR1-XS_20090225-105800-691_L1C_049-256-0_D_V1-0/SPOT4-HRVIR1-XS_20090225-105800-691_L1C_049-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090225-105800-691_L1C_049-256-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090225-105800-691_L1C_049-256-0_D_V1-0.zip
run script
2024-01-14T02:56:11.799    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:56:11.801    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090225-105800-691_L1C_049-256-0_D_V1-0.zip
2024-01-14T02:56:11.801    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:56:11.801    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:56:11.801    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:56:11.801    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:56:11.801    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:56:11.801    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:56:11.801    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:56:11.801    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090225-105800-691_L1C_049-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/23/SPOT4-HRVIR2-XS_20090823-101406-813_L1C_048-257-5_D_V1-0/SPOT4-HRVIR2-XS_20090823-101406-813_L1C_048-257-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090823-101406-813_L1C_048-257-5_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101406-813_L1C_048-257-5_D_V1-0.zip
run script
2024-01-14T02:57:50.938    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:57:50.939    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101406-813_L1C_048-257-5_D_V1-0.zip
2024-01-14T02:57:50.939    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:57:50.939    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:57:50.939    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:57:50.939    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:57:50.939    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:57:50.939    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:57:50.939    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:57:50.940    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101406-813_L1C_048-257-5_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/23/SPOT4-HRVIR2-XS_20090823-101410-519_L1C_049-258-0_D_V1-0/SPOT4-HRVIR2-XS_20090823-101410-519_L1C_049-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090823-101410-519_L1C_049-258-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101410-519_L1C_049-258-0_D_V1-0.zip
run script
2024-01-14T02:58:45.294    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:58:45.295    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101410-519_L1C_049-258-0_D_V1-0.zip
2024-01-14T02:58:45.295    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:58:45.295    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:58:45.295    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:58:45.295    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:58:45.295    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:58:45.295    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:58:45.295    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:58:45.296    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101410-519_L1C_049-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/23/SPOT4-HRVIR2-XS_20090823-101342-424_L1C_050-254-7_D_V1-0/SPOT4-HRVIR2-XS_20090823-101342-424_L1C_050-254-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090823-101342-424_L1C_050-254-7_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101342-424_L1C_050-254-7_D_V1-0.zip
run script
2024-01-14T02:59:29.438    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:59:29.439    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101342-424_L1C_050-254-7_D_V1-0.zip
2024-01-14T02:59:29.439    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:59:29.439    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:59:29.439    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:59:29.439    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:59:29.439    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:59:29.439    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:59:29.439    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:59:29.440    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101342-424_L1C_050-254-7_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/23/SPOT4-HRVIR2-XS_20090823-101344-304_L1C_050-255-0_D_V1-0/SPOT4-HRVIR2-XS_20090823-101344-304_L1C_050-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090823-101344-304_L1C_050-255-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101344-304_L1C_050-255-0_D_V1-0.zip
run script
2024-01-14T02:59:52.397    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:59:52.398    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101344-304_L1C_050-255-0_D_V1-0.zip
2024-01-14T02:59:52.399    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T02:59:52.399    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T02:59:52.399    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T02:59:52.399    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T02:59:52.399    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T02:59:52.399    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T02:59:52.399    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T02:59:52.399    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101344-304_L1C_050-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/23/SPOT4-HRVIR2-XS_20090823-101352-510_L1C_050-256-0_D_V1-0/SPOT4-HRVIR2-XS_20090823-101352-510_L1C_050-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090823-101352-510_L1C_050-256-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101352-510_L1C_050-256-0_D_V1-0.zip
run script
2024-01-14T03:00:49.324    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:00:49.325    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101352-510_L1C_050-256-0_D_V1-0.zip
2024-01-14T03:00:49.325    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:00:49.325    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:00:49.325    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:00:49.325    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:00:49.325    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:00:49.325    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:00:49.326    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:00:49.326    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101352-510_L1C_050-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/23/SPOT4-HRVIR1-XS_20090823-101439-768_L1C_050-261-6_D_V1-0/SPOT4-HRVIR1-XS_20090823-101439-768_L1C_050-261-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090823-101439-768_L1C_050-261-6_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090823-101439-768_L1C_050-261-6_D_V1-0.zip
run script
2024-01-14T03:04:12.328    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:04:12.329    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090823-101439-768_L1C_050-261-6_D_V1-0.zip
2024-01-14T03:04:12.329    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:04:12.329    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:04:12.329    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:04:12.329    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:04:12.329    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:04:12.329    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:04:12.329    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:04:12.329    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T03:05:01.848    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 174). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090823-101439-768_L1C_050-261-6_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/08/23/SPOT4-HRVIR1-XS_20090823-101442-614_L1C_050-262-0_D_V1-0/SPOT4-HRVIR1-XS_20090823-101442-614_L1C_050-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090823-101442-614_L1C_050-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090823-101442-614_L1C_050-262-0_D_V1-0.zip
run script
2024-01-14T03:05:05.728    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:05:05.729    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090823-101442-614_L1C_050-262-0_D_V1-0.zip
2024-01-14T03:05:05.729    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:05:05.729    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:05:05.729    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:05:05.730    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:05:05.730    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:05:05.730    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:05:05.730    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:05:05.730    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090823-101442-614_L1C_050-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/23/SPOT4-HRVIR2-XS_20090823-101425-565_L1C_051-260-1_D_V1-0/SPOT4-HRVIR2-XS_20090823-101425-565_L1C_051-260-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090823-101425-565_L1C_051-260-1_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101425-565_L1C_051-260-1_D_V1-0.zip
run script
2024-01-14T03:05:49.829    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:05:49.830    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101425-565_L1C_051-260-1_D_V1-0.zip
2024-01-14T03:05:49.830    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:05:49.831    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:05:49.831    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:05:49.831    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:05:49.831    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:05:49.831    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:05:49.831    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:05:49.831    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101425-565_L1C_051-260-1_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/23/SPOT4-HRVIR2-XS_20090823-101432-923_L1C_051-261-0_D_V1-0/SPOT4-HRVIR2-XS_20090823-101432-923_L1C_051-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090823-101432-923_L1C_051-261-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101432-923_L1C_051-261-0_D_V1-0.zip
run script
2024-01-14T03:08:36.510    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:08:36.512    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101432-923_L1C_051-261-0_D_V1-0.zip
2024-01-14T03:08:36.512    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:08:36.512    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:08:36.512    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:08:36.512    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:08:36.512    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:08:36.512    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:08:36.512    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:08:36.512    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101432-923_L1C_051-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/23/SPOT4-HRVIR2-XS_20090823-101441-189_L1C_051-262-0_D_V1-0/SPOT4-HRVIR2-XS_20090823-101441-189_L1C_051-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090823-101441-189_L1C_051-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101441-189_L1C_051-262-0_D_V1-0.zip
run script
2024-01-14T03:11:20.622    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:11:20.623    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101441-189_L1C_051-262-0_D_V1-0.zip
2024-01-14T03:11:20.623    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:11:20.623    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:11:20.623    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:11:20.623    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:11:20.623    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:11:20.623    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:11:20.623    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:11:20.624    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T03:13:23.026    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (203 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101441-189_L1C_051-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/08/23/SPOT4-HRVIR2-XS_20090823-101449-467_L1C_051-263-0_D_V1-0/SPOT4-HRVIR2-XS_20090823-101449-467_L1C_051-263-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090823-101449-467_L1C_051-263-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101449-467_L1C_051-263-0_D_V1-0.zip
run script
2024-01-14T03:13:26.413    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:13:26.414    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101449-467_L1C_051-263-0_D_V1-0.zip
2024-01-14T03:13:26.414    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:13:26.414    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:13:26.414    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:13:26.414    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:13:26.414    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:13:26.414    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:13:26.414    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:13:26.415    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090823-101449-467_L1C_051-263-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/10/23/SPOT4-HRVIR1-XS_20091023-104017-982_L1C_048-257-7_D_V1-0/SPOT4-HRVIR1-XS_20091023-104017-982_L1C_048-257-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20091023-104017-982_L1C_048-257-7_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091023-104017-982_L1C_048-257-7_D_V1-0.zip
run script
2024-01-14T03:14:18.532    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:18.533    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091023-104017-982_L1C_048-257-7_D_V1-0.zip
2024-01-14T03:14:18.533    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:14:18.533    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:14:18.533    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:18.533    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:14:18.533    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:14:18.533    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:14:18.533    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:14:18.533    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091023-104017-982_L1C_048-257-7_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/10/23/SPOT4-HRVIR1-XS_20091023-104019-992_L1C_048-258-0_D_V1-0/SPOT4-HRVIR1-XS_20091023-104019-992_L1C_048-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20091023-104019-992_L1C_048-258-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091023-104019-992_L1C_048-258-0_D_V1-0.zip
run script
2024-01-14T03:14:21.686    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:21.688    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091023-104019-992_L1C_048-258-0_D_V1-0.zip
2024-01-14T03:14:21.688    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:14:21.688    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:14:21.688    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:21.688    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:14:21.688    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:14:21.688    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:14:21.688    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:14:21.688    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091023-104019-992_L1C_048-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/10/23/SPOT4-HRVIR1-XS_20091023-104020-894_L1C_048-258-1_D_V1-0/SPOT4-HRVIR1-XS_20091023-104020-894_L1C_048-258-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20091023-104020-894_L1C_048-258-1_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091023-104020-894_L1C_048-258-1_D_V1-0.zip
run script
2024-01-14T03:14:25.084    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:25.084    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091023-104020-894_L1C_048-258-1_D_V1-0.zip
2024-01-14T03:14:25.085    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:14:25.085    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:14:25.085    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:25.085    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:14:25.085    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:14:25.085    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:14:25.085    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:14:25.085    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091023-104020-894_L1C_048-258-1_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/10/23/SPOT4-HRVIR2-XS_20091023-104032-355_L1C_048-259-5_D_V1-0/SPOT4-HRVIR2-XS_20091023-104032-355_L1C_048-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20091023-104032-355_L1C_048-259-5_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091023-104032-355_L1C_048-259-5_D_V1-0.zip
run script
2024-01-14T03:14:28.724    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:28.725    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091023-104032-355_L1C_048-259-5_D_V1-0.zip
2024-01-14T03:14:28.725    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:14:28.725    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:14:28.725    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:28.725    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:14:28.726    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:14:28.726    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:14:28.726    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:14:28.726    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091023-104032-355_L1C_048-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/10/23/SPOT4-HRVIR2-XS_20091023-104034-160_L1C_048-259-7_D_V1-0/SPOT4-HRVIR2-XS_20091023-104034-160_L1C_048-259-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20091023-104034-160_L1C_048-259-7_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091023-104034-160_L1C_048-259-7_D_V1-0.zip
run script
2024-01-14T03:14:32.061    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:32.062    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091023-104034-160_L1C_048-259-7_D_V1-0.zip
2024-01-14T03:14:32.062    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:14:32.062    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:14:32.063    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:32.063    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:14:32.063    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:14:32.063    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:14:32.063    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:14:32.063    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091023-104034-160_L1C_048-259-7_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/10/29/SPOT4-HRVIR1-XS_20091029-102447-098_L1C_048-257-7_D_V1-0/SPOT4-HRVIR1-XS_20091029-102447-098_L1C_048-257-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20091029-102447-098_L1C_048-257-7_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091029-102447-098_L1C_048-257-7_D_V1-0.zip
run script
2024-01-14T03:14:38.736    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:38.738    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091029-102447-098_L1C_048-257-7_D_V1-0.zip
2024-01-14T03:14:38.738    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:14:38.738    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:14:38.738    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:38.738    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:14:38.738    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:14:38.738    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:14:38.738    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:14:38.738    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091029-102447-098_L1C_048-257-7_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/10/29/SPOT4-HRVIR1-XS_20091029-102449-029_L1C_048-258-0_D_V1-0/SPOT4-HRVIR1-XS_20091029-102449-029_L1C_048-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20091029-102449-029_L1C_048-258-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091029-102449-029_L1C_048-258-0_D_V1-0.zip
run script
2024-01-14T03:14:42.137    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:42.139    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091029-102449-029_L1C_048-258-0_D_V1-0.zip
2024-01-14T03:14:42.139    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:14:42.139    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:14:42.139    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:42.139    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:14:42.139    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:14:42.139    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:14:42.139    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:14:42.139    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091029-102449-029_L1C_048-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/10/29/SPOT4-HRVIR1-XS_20091029-102449-932_L1C_048-258-1_D_V1-0/SPOT4-HRVIR1-XS_20091029-102449-932_L1C_048-258-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20091029-102449-932_L1C_048-258-1_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091029-102449-932_L1C_048-258-1_D_V1-0.zip
run script
2024-01-14T03:14:45.453    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:45.454    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091029-102449-932_L1C_048-258-1_D_V1-0.zip
2024-01-14T03:14:45.455    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:14:45.455    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:14:45.455    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:45.455    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:14:45.455    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:14:45.455    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:14:45.455    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:14:45.455    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091029-102449-932_L1C_048-258-1_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/10/29/SPOT4-HRVIR2-XS_20091029-102514-438_L1C_049-261-2_D_V1-0/SPOT4-HRVIR2-XS_20091029-102514-438_L1C_049-261-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20091029-102514-438_L1C_049-261-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091029-102514-438_L1C_049-261-2_D_V1-0.zip
run script
2024-01-14T03:14:48.915    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:48.917    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091029-102514-438_L1C_049-261-2_D_V1-0.zip
2024-01-14T03:14:48.917    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:14:48.917    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:14:48.917    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:48.917    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:14:48.917    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:14:48.917    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:14:48.917    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:14:48.917    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091029-102514-438_L1C_049-261-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/10/29/SPOT4-HRVIR2-XS_20091029-102520-926_L1C_049-262-0_D_V1-0/SPOT4-HRVIR2-XS_20091029-102520-926_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20091029-102520-926_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091029-102520-926_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T03:14:52.601    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:52.602    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091029-102520-926_L1C_049-262-0_D_V1-0.zip
2024-01-14T03:14:52.603    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:14:52.603    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:14:52.603    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:52.603    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:14:52.603    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:14:52.603    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:14:52.603    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:14:52.603    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091029-102520-926_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/10/29/SPOT4-HRVIR2-XS_20091029-102521-829_L1C_049-262-1_D_V1-0/SPOT4-HRVIR2-XS_20091029-102521-829_L1C_049-262-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20091029-102521-829_L1C_049-262-1_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091029-102521-829_L1C_049-262-1_D_V1-0.zip
run script
2024-01-14T03:14:55.956    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:55.958    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091029-102521-829_L1C_049-262-1_D_V1-0.zip
2024-01-14T03:14:55.958    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:14:55.958    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:14:55.958    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:14:55.958    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:14:55.958    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:14:55.958    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:14:55.958    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:14:55.958    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091029-102521-829_L1C_049-262-1_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/10/29/SPOT4-HRVIR2-XS_20091029-102447-104_L1C_050-258-1_D_V1-0/SPOT4-HRVIR2-XS_20091029-102447-104_L1C_050-258-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20091029-102447-104_L1C_050-258-1_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091029-102447-104_L1C_050-258-1_D_V1-0.zip
run script
2024-01-14T03:15:00.081    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:15:00.082    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091029-102447-104_L1C_050-258-1_D_V1-0.zip
2024-01-14T03:15:00.082    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:15:00.082    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:15:00.082    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:15:00.082    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:15:00.082    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:15:00.083    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:15:00.083    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:15:00.083    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091029-102447-104_L1C_050-258-1_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/10/29/SPOT4-HRVIR2-XS_20091029-102448-007_L1C_050-258-2_D_V1-0/SPOT4-HRVIR2-XS_20091029-102448-007_L1C_050-258-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20091029-102448-007_L1C_050-258-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091029-102448-007_L1C_050-258-2_D_V1-0.zip
run script
2024-01-14T03:17:13.382    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:17:13.383    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091029-102448-007_L1C_050-258-2_D_V1-0.zip
2024-01-14T03:17:13.384    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:17:13.384    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:17:13.384    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:17:13.384    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:17:13.384    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:17:13.384    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:17:13.384    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:17:13.384    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091029-102448-007_L1C_050-258-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/10/29/SPOT4-HRVIR2-XS_20091029-102458-089_L1C_050-259-4_D_V1-0/SPOT4-HRVIR2-XS_20091029-102458-089_L1C_050-259-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20091029-102458-089_L1C_050-259-4_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091029-102458-089_L1C_050-259-4_D_V1-0.zip
run script
2024-01-14T03:19:26.829    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:19:26.829    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091029-102458-089_L1C_050-259-4_D_V1-0.zip
2024-01-14T03:19:26.830    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:19:26.830    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:19:26.830    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:19:26.830    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:19:26.830    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:19:26.830    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:19:26.830    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:19:26.830    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091029-102458-089_L1C_050-259-4_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/10/29/SPOT4-HRVIR2-XS_20091029-102459-894_L1C_050-259-6_D_V1-0/SPOT4-HRVIR2-XS_20091029-102459-894_L1C_050-259-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20091029-102459-894_L1C_050-259-6_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091029-102459-894_L1C_050-259-6_D_V1-0.zip
run script
2024-01-14T03:21:27.693    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:21:27.694    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091029-102459-894_L1C_050-259-6_D_V1-0.zip
2024-01-14T03:21:27.694    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:21:27.694    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:21:27.694    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:21:27.694    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:21:27.695    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:21:27.695    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:21:27.695    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:21:27.695    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091029-102459-894_L1C_050-259-6_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/01/31/SPOT4-HRVIR1-XS_20090131-103906-746_L1C_048-258-0_D_V1-0/SPOT4-HRVIR1-XS_20090131-103906-746_L1C_048-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090131-103906-746_L1C_048-258-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090131-103906-746_L1C_048-258-0_D_V1-0.zip
run script
2024-01-14T03:23:20.060    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:23:20.061    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090131-103906-746_L1C_048-258-0_D_V1-0.zip
2024-01-14T03:23:20.062    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:23:20.062    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:23:20.062    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:23:20.062    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:23:20.062    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:23:20.062    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:23:20.062    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:23:20.062    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090131-103906-746_L1C_048-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/03/23/SPOT4-HRVIR2-XS_20090323-105808-864_L1C_048-258-0_D_V1-0/SPOT4-HRVIR2-XS_20090323-105808-864_L1C_048-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090323-105808-864_L1C_048-258-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090323-105808-864_L1C_048-258-0_D_V1-0.zip
run script
2024-01-14T03:23:46.816    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:23:46.817    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090323-105808-864_L1C_048-258-0_D_V1-0.zip
2024-01-14T03:23:46.817    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:23:46.817    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:23:46.817    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:23:46.817    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:23:46.817    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:23:46.817    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:23:46.817    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:23:46.817    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T03:24:37.128    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 81). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090323-105808-864_L1C_048-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/03/23/SPOT4-HRVIR2-XS_20090323-105808-519_L1C_049-257-9_D_V1-0/SPOT4-HRVIR2-XS_20090323-105808-519_L1C_049-257-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090323-105808-519_L1C_049-257-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090323-105808-519_L1C_049-257-9_D_V1-0.zip
run script
2024-01-14T03:24:40.695    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:24:40.695    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090323-105808-519_L1C_049-257-9_D_V1-0.zip
2024-01-14T03:24:40.695    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:24:40.695    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:24:40.696    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:24:40.696    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:24:40.696    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:24:40.696    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:24:40.696    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:24:40.696    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090323-105808-519_L1C_049-257-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/25/SPOT4-HRVIR2-XS_20090625-104933-111_L1C_048-258-0_D_V1-0/SPOT4-HRVIR2-XS_20090625-104933-111_L1C_048-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090625-104933-111_L1C_048-258-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090625-104933-111_L1C_048-258-0_D_V1-0.zip
run script
2024-01-14T03:25:37.048    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:25:37.049    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090625-104933-111_L1C_048-258-0_D_V1-0.zip
2024-01-14T03:25:37.049    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:25:37.050    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:25:37.050    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:25:37.050    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:25:37.050    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:25:37.050    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:25:37.050    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:25:37.050    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T03:26:14.661    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 278). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090625-104933-111_L1C_048-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/06/25/SPOT4-HRVIR2-XS_20090625-104941-516_L1C_048-259-0_D_V1-0/SPOT4-HRVIR2-XS_20090625-104941-516_L1C_048-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090625-104941-516_L1C_048-259-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090625-104941-516_L1C_048-259-0_D_V1-0.zip
run script
2024-01-14T03:26:18.005    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:26:18.006    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090625-104941-516_L1C_048-259-0_D_V1-0.zip
2024-01-14T03:26:18.006    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:26:18.006    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:26:18.006    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:26:18.006    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:26:18.007    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:26:18.007    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:26:18.007    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:26:18.007    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090625-104941-516_L1C_048-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/25/SPOT4-HRVIR2-XS_20090625-104946-028_L1C_048-259-5_D_V1-0/SPOT4-HRVIR2-XS_20090625-104946-028_L1C_048-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090625-104946-028_L1C_048-259-5_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090625-104946-028_L1C_048-259-5_D_V1-0.zip
run script
2024-01-14T03:26:34.860    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:26:34.861    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090625-104946-028_L1C_048-259-5_D_V1-0.zip
2024-01-14T03:26:34.861    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:26:34.861    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:26:34.861    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:26:34.861    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:26:34.861    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:26:34.861    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:26:34.861    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:26:34.861    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090625-104946-028_L1C_048-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/06/25/SPOT4-HRVIR2-XS_20090625-104916-050_L1C_049-255-9_D_V1-0/SPOT4-HRVIR2-XS_20090625-104916-050_L1C_049-255-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090625-104916-050_L1C_049-255-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090625-104916-050_L1C_049-255-9_D_V1-0.zip
run script
2024-01-14T03:26:38.694    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:26:38.694    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090625-104916-050_L1C_049-255-9_D_V1-0.zip
2024-01-14T03:26:38.694    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:26:38.694    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:26:38.694    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:26:38.694    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:26:38.694    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:26:38.694    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:26:38.695    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:26:38.695    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090625-104916-050_L1C_049-255-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/25/SPOT4-HRVIR2-XS_20090625-104916-318_L1C_049-256-0_D_V1-0/SPOT4-HRVIR2-XS_20090625-104916-318_L1C_049-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090625-104916-318_L1C_049-256-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090625-104916-318_L1C_049-256-0_D_V1-0.zip
run script
2024-01-14T03:28:04.420    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:28:04.421    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090625-104916-318_L1C_049-256-0_D_V1-0.zip
2024-01-14T03:28:04.421    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:28:04.421    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:28:04.421    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:28:04.422    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:28:04.422    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:28:04.422    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:28:04.422    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:28:04.422    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090625-104916-318_L1C_049-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/25/SPOT4-HRVIR2-XS_20090625-104924-713_L1C_049-257-0_D_V1-0/SPOT4-HRVIR2-XS_20090625-104924-713_L1C_049-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090625-104924-713_L1C_049-257-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090625-104924-713_L1C_049-257-0_D_V1-0.zip
run script
2024-01-14T03:29:30.678    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:29:30.680    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090625-104924-713_L1C_049-257-0_D_V1-0.zip
2024-01-14T03:29:30.680    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:29:30.680    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:29:30.680    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:29:30.680    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:29:30.680    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:29:30.680    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:29:30.680    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:29:30.680    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090625-104924-713_L1C_049-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/11/SPOT4-HRVIR2-XS_20090811-104520-595_L1C_048-258-9_D_V1-0/SPOT4-HRVIR2-XS_20090811-104520-595_L1C_048-258-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090811-104520-595_L1C_048-258-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090811-104520-595_L1C_048-258-9_D_V1-0.zip
run script
2024-01-14T03:30:38.387    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:30:38.388    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090811-104520-595_L1C_048-258-9_D_V1-0.zip
2024-01-14T03:30:38.388    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:30:38.388    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:30:38.389    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:30:38.389    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:30:38.389    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:30:38.389    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:30:38.389    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:30:38.389    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T03:30:41.023    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (422 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090811-104520-595_L1C_048-258-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2009/08/11/SPOT4-HRVIR2-XS_20090811-104520-848_L1C_048-259-0_D_V1-0/SPOT4-HRVIR2-XS_20090811-104520-848_L1C_048-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090811-104520-848_L1C_048-259-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090811-104520-848_L1C_048-259-0_D_V1-0.zip
run script
2024-01-14T03:30:44.450    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:30:44.451    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090811-104520-848_L1C_048-259-0_D_V1-0.zip
2024-01-14T03:30:44.451    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:30:44.451    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:30:44.451    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:30:44.451    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:30:44.451    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:30:44.452    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:30:44.452    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:30:44.452    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T03:30:47.142    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (226 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090811-104520-848_L1C_048-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2009/08/11/SPOT4-HRVIR2-XS_20090811-104522-653_L1C_048-259-2_D_V1-0/SPOT4-HRVIR2-XS_20090811-104522-653_L1C_048-259-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090811-104522-653_L1C_048-259-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090811-104522-653_L1C_048-259-2_D_V1-0.zip
run script
2024-01-14T03:30:50.385    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:30:50.386    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090811-104522-653_L1C_048-259-2_D_V1-0.zip
2024-01-14T03:30:50.386    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:30:50.386    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:30:50.386    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:30:50.386    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:30:50.386    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:30:50.386    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:30:50.386    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:30:50.387    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090811-104522-653_L1C_048-259-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/08/11/SPOT4-HRVIR2-XS_20090811-104453-509_L1C_050-256-0_D_V1-0/SPOT4-HRVIR2-XS_20090811-104453-509_L1C_050-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090811-104453-509_L1C_050-256-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090811-104453-509_L1C_050-256-0_D_V1-0.zip
run script
2024-01-14T03:30:53.911    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:30:53.911    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090811-104453-509_L1C_050-256-0_D_V1-0.zip
2024-01-14T03:30:53.911    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:30:53.911    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:30:53.911    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:30:53.911    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:30:53.911    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:30:53.911    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:30:53.911    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:30:53.911    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090811-104453-509_L1C_050-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/11/SPOT4-HRVIR2-XS_20090811-104501-892_L1C_050-257-0_D_V1-0/SPOT4-HRVIR2-XS_20090811-104501-892_L1C_050-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090811-104501-892_L1C_050-257-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090811-104501-892_L1C_050-257-0_D_V1-0.zip
run script
2024-01-14T03:34:06.417    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:34:06.418    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090811-104501-892_L1C_050-257-0_D_V1-0.zip
2024-01-14T03:34:06.418    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:34:06.418    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:34:06.418    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:34:06.418    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:34:06.418    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:34:06.418    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:34:06.418    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:34:06.419    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090811-104501-892_L1C_050-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/11/SPOT4-HRVIR2-XS_20090811-104505-502_L1C_050-257-4_D_V1-0/SPOT4-HRVIR2-XS_20090811-104505-502_L1C_050-257-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090811-104505-502_L1C_050-257-4_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090811-104505-502_L1C_050-257-4_D_V1-0.zip
run script
2024-01-14T03:37:19.203    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:37:19.204    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090811-104505-502_L1C_050-257-4_D_V1-0.zip
2024-01-14T03:37:19.204    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:37:19.204    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:37:19.204    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:37:19.205    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:37:19.205    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:37:19.205    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:37:19.205    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:37:19.205    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090811-104505-502_L1C_050-257-4_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/11/SPOT4-HRVIR1-XS_20090811-104505-982_L1C_053-258-0_D_V1-0/SPOT4-HRVIR1-XS_20090811-104505-982_L1C_053-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090811-104505-982_L1C_053-258-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090811-104505-982_L1C_053-258-0_D_V1-0.zip
run script
2024-01-14T03:40:20.358    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:40:20.359    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090811-104505-982_L1C_053-258-0_D_V1-0.zip
2024-01-14T03:40:20.359    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:40:20.359    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:40:20.359    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:40:20.359    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:40:20.359    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:40:20.359    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:40:20.359    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:40:20.359    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090811-104505-982_L1C_053-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/11/SPOT4-HRVIR1-XS_20090811-104520-299_L1C_053-259-7_D_V1-0/SPOT4-HRVIR1-XS_20090811-104520-299_L1C_053-259-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090811-104520-299_L1C_053-259-7_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090811-104520-299_L1C_053-259-7_D_V1-0.zip
run script
2024-01-14T03:42:36.192    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:42:36.193    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090811-104520-299_L1C_053-259-7_D_V1-0.zip
2024-01-14T03:42:36.193    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:42:36.193    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:42:36.193    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:42:36.193    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:42:36.193    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:42:36.193    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:42:36.193    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:42:36.193    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090811-104520-299_L1C_053-259-7_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/11/SPOT4-HRVIR1-XS_20090811-104522-435_L1C_053-260-0_D_V1-0/SPOT4-HRVIR1-XS_20090811-104522-435_L1C_053-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090811-104522-435_L1C_053-260-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090811-104522-435_L1C_053-260-0_D_V1-0.zip
run script
2024-01-14T03:45:56.626    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:45:56.627    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090811-104522-435_L1C_053-260-0_D_V1-0.zip
2024-01-14T03:45:56.627    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:45:56.627    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:45:56.627    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:45:56.627    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:45:56.627    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:45:56.627    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:45:56.628    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:45:56.628    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T03:46:43.866    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1 x 72). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090811-104522-435_L1C_053-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/04/13/SPOT4-HRVIR2-XS_20090413-105431-065_L1C_048-260-6_D_V1-0/SPOT4-HRVIR2-XS_20090413-105431-065_L1C_048-260-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090413-105431-065_L1C_048-260-6_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090413-105431-065_L1C_048-260-6_D_V1-0.zip
run script
2024-01-14T03:46:47.405    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:46:47.406    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090413-105431-065_L1C_048-260-6_D_V1-0.zip
2024-01-14T03:46:47.407    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:46:47.407    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:46:47.407    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:46:47.407    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:46:47.407    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:46:47.407    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:46:47.407    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:46:47.407    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090413-105431-065_L1C_048-260-6_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/04/13/SPOT4-HRVIR2-XS_20090413-105434-097_L1C_048-261-0_D_V1-0/SPOT4-HRVIR2-XS_20090413-105434-097_L1C_048-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090413-105434-097_L1C_048-261-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090413-105434-097_L1C_048-261-0_D_V1-0.zip
run script
2024-01-14T03:46:50.848    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:46:50.849    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090413-105434-097_L1C_048-261-0_D_V1-0.zip
2024-01-14T03:46:50.849    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:46:50.849    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:46:50.849    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:46:50.849    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:46:50.849    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:46:50.849    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:46:50.849    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:46:50.849    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090413-105434-097_L1C_048-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/07/07/SPOT4-HRVIR1-XS_20090707-101858-504_L1C_048-261-4_D_V1-0/SPOT4-HRVIR1-XS_20090707-101858-504_L1C_048-261-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090707-101858-504_L1C_048-261-4_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090707-101858-504_L1C_048-261-4_D_V1-0.zip
run script
2024-01-14T03:46:54.321    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:46:54.322    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090707-101858-504_L1C_048-261-4_D_V1-0.zip
2024-01-14T03:46:54.322    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:46:54.322    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:46:54.322    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:46:54.323    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:46:54.323    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:46:54.323    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:46:54.323    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:46:54.323    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090707-101858-504_L1C_048-261-4_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/07/07/SPOT4-HRVIR1-XS_20090707-101819-842_L1C_050-257-0_D_V1-0/SPOT4-HRVIR1-XS_20090707-101819-842_L1C_050-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090707-101819-842_L1C_050-257-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090707-101819-842_L1C_050-257-0_D_V1-0.zip
run script
2024-01-14T03:46:57.301    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:46:57.303    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090707-101819-842_L1C_050-257-0_D_V1-0.zip
2024-01-14T03:46:57.303    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:46:57.303    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:46:57.303    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:46:57.303    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:46:57.303    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:46:57.303    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:46:57.303    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:46:57.303    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090707-101819-842_L1C_050-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/07/SPOT4-HRVIR1-XS_20090707-101821-647_L1C_050-257-2_D_V1-0/SPOT4-HRVIR1-XS_20090707-101821-647_L1C_050-257-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090707-101821-647_L1C_050-257-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090707-101821-647_L1C_050-257-2_D_V1-0.zip
run script
2024-01-14T03:50:03.985    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:50:03.986    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090707-101821-647_L1C_050-257-2_D_V1-0.zip
2024-01-14T03:50:03.987    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:50:03.987    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:50:03.987    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:50:03.987    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:50:03.987    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:50:03.987    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:50:03.987    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:50:03.987    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090707-101821-647_L1C_050-257-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/26/SPOT4-HRVIR1-XS_20090726-105336-304_L1C_048-262-0_D_V1-0/SPOT4-HRVIR1-XS_20090726-105336-304_L1C_048-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090726-105336-304_L1C_048-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090726-105336-304_L1C_048-262-0_D_V1-0.zip
run script
2024-01-14T03:53:03.864    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:53:03.866    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090726-105336-304_L1C_048-262-0_D_V1-0.zip
2024-01-14T03:53:03.866    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:53:03.866    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:53:03.866    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:53:03.866    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:53:03.866    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:53:03.866    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:53:03.866    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:53:03.867    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090726-105336-304_L1C_048-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/07/26/SPOT4-HRVIR1-XS_20090726-105335-973_L1C_049-261-9_D_V1-0/SPOT4-HRVIR1-XS_20090726-105335-973_L1C_049-261-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090726-105335-973_L1C_049-261-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090726-105335-973_L1C_049-261-9_D_V1-0.zip
run script
2024-01-14T03:53:07.368    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:53:07.368    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090726-105335-973_L1C_049-261-9_D_V1-0.zip
2024-01-14T03:53:07.368    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:53:07.368    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:53:07.368    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:53:07.368    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:53:07.368    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:53:07.368    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:53:07.369    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:53:07.369    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090726-105335-973_L1C_049-261-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/07/26/SPOT4-HRVIR2-XS_20090726-105335-631_L1C_049-262-0_D_V1-0/SPOT4-HRVIR2-XS_20090726-105335-631_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090726-105335-631_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090726-105335-631_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T03:53:11.132    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:53:11.133    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090726-105335-631_L1C_049-262-0_D_V1-0.zip
2024-01-14T03:53:11.133    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:53:11.133    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:53:11.133    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:53:11.133    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:53:11.133    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:53:11.133    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:53:11.133    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:53:11.133    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090726-105335-631_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/08/22/SPOT4-HRVIR2-XS_20090822-103303-712_L1C_049-254-6_D_V1-0/SPOT4-HRVIR2-XS_20090822-103303-712_L1C_049-254-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090822-103303-712_L1C_049-254-6_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090822-103303-712_L1C_049-254-6_D_V1-0.zip
run script
2024-01-14T03:53:14.309    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:53:14.310    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090822-103303-712_L1C_049-254-6_D_V1-0.zip
2024-01-14T03:53:14.310    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:53:14.310    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:53:14.310    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:53:14.310    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:53:14.310    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:53:14.310    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:53:14.311    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:53:14.311    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T03:53:19.871    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1 x 34). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090822-103303-712_L1C_049-254-6_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/08/22/SPOT4-HRVIR2-XS_20090822-103306-567_L1C_049-255-0_D_V1-0/SPOT4-HRVIR2-XS_20090822-103306-567_L1C_049-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090822-103306-567_L1C_049-255-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090822-103306-567_L1C_049-255-0_D_V1-0.zip
run script
2024-01-14T03:53:23.457    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:53:23.458    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090822-103306-567_L1C_049-255-0_D_V1-0.zip
2024-01-14T03:53:23.458    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:53:23.458    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:53:23.458    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:53:23.458    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:53:23.458    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:53:23.458    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:53:23.458    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:53:23.458    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090822-103306-567_L1C_049-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/22/SPOT4-HRVIR2-XS_20090822-103314-845_L1C_049-256-0_D_V1-0/SPOT4-HRVIR2-XS_20090822-103314-845_L1C_049-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090822-103314-845_L1C_049-256-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090822-103314-845_L1C_049-256-0_D_V1-0.zip
run script
2024-01-14T03:53:57.129    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:53:57.130    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090822-103314-845_L1C_049-256-0_D_V1-0.zip
2024-01-14T03:53:57.130    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:53:57.130    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:53:57.131    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:53:57.131    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:53:57.131    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:53:57.131    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:53:57.131    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:53:57.131    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090822-103314-845_L1C_049-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/22/SPOT4-HRVIR2-XS_20090822-103323-132_L1C_049-257-0_D_V1-0/SPOT4-HRVIR2-XS_20090822-103323-132_L1C_049-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090822-103323-132_L1C_049-257-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090822-103323-132_L1C_049-257-0_D_V1-0.zip
run script
2024-01-14T03:55:10.221    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:55:10.223    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090822-103323-132_L1C_049-257-0_D_V1-0.zip
2024-01-14T03:55:10.223    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:55:10.223    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:55:10.223    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:55:10.223    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:55:10.223    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:55:10.223    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:55:10.224    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:55:10.224    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090822-103323-132_L1C_049-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/22/SPOT4-HRVIR2-XS_20090822-103331-428_L1C_049-258-0_D_V1-0/SPOT4-HRVIR2-XS_20090822-103331-428_L1C_049-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090822-103331-428_L1C_049-258-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090822-103331-428_L1C_049-258-0_D_V1-0.zip
run script
2024-01-14T03:56:09.722    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:56:09.723    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090822-103331-428_L1C_049-258-0_D_V1-0.zip
2024-01-14T03:56:09.723    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:56:09.723    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:56:09.723    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:56:09.723    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:56:09.723    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:56:09.724    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:56:09.724    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:56:09.724    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090822-103331-428_L1C_049-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/22/SPOT4-HRVIR2-XS_20090822-103349-951_L1C_051-260-6_D_V1-0/SPOT4-HRVIR2-XS_20090822-103349-951_L1C_051-260-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090822-103349-951_L1C_051-260-6_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090822-103349-951_L1C_051-260-6_D_V1-0.zip
run script
2024-01-14T03:56:49.100    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:56:49.101    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090822-103349-951_L1C_051-260-6_D_V1-0.zip
2024-01-14T03:56:49.101    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:56:49.101    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:56:49.101    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:56:49.101    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:56:49.101    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:56:49.101    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:56:49.101    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:56:49.101    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090822-103349-951_L1C_051-260-6_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/22/SPOT4-HRVIR2-XS_20090822-103352-884_L1C_051-261-0_D_V1-0/SPOT4-HRVIR2-XS_20090822-103352-884_L1C_051-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090822-103352-884_L1C_051-261-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090822-103352-884_L1C_051-261-0_D_V1-0.zip
run script
2024-01-14T03:59:29.411    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:59:29.412    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090822-103352-884_L1C_051-261-0_D_V1-0.zip
2024-01-14T03:59:29.412    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T03:59:29.412    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T03:59:29.412    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T03:59:29.412    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T03:59:29.413    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T03:59:29.413    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T03:59:29.413    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T03:59:29.413    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090822-103352-884_L1C_051-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/10/14/SPOT4-HRVIR1-XS_20091014-101248-774_L1C_049-254-0_D_V1-0/SPOT4-HRVIR1-XS_20091014-101248-774_L1C_049-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20091014-101248-774_L1C_049-254-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091014-101248-774_L1C_049-254-0_D_V1-0.zip
run script
2024-01-14T04:01:57.281    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:01:57.282    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091014-101248-774_L1C_049-254-0_D_V1-0.zip
2024-01-14T04:01:57.283    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:01:57.283    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:01:57.283    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:01:57.283    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:01:57.283    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:01:57.283    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:01:57.283    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:01:57.283    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091014-101248-774_L1C_049-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/10/14/SPOT4-HRVIR2-XS_20091014-101308-949_L1C_052-256-7_D_V1-0/SPOT4-HRVIR2-XS_20091014-101308-949_L1C_052-256-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20091014-101308-949_L1C_052-256-7_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091014-101308-949_L1C_052-256-7_D_V1-0.zip
run script
2024-01-14T04:02:00.712    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:02:00.713    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091014-101308-949_L1C_052-256-7_D_V1-0.zip
2024-01-14T04:02:00.713    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:02:00.713    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:02:00.713    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:02:00.713    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:02:00.713    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:02:00.713    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:02:00.713    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:02:00.714    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091014-101308-949_L1C_052-256-7_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/10/19/SPOT4-HRVIR2-XS_20091019-101636-598_L1C_049-254-0_D_V1-0/SPOT4-HRVIR2-XS_20091019-101636-598_L1C_049-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20091019-101636-598_L1C_049-254-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091019-101636-598_L1C_049-254-0_D_V1-0.zip
run script
2024-01-14T04:05:05.715    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:05:05.716    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091019-101636-598_L1C_049-254-0_D_V1-0.zip
2024-01-14T04:05:05.716    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:05:05.716    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:05:05.716    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:05:05.716    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:05:05.716    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:05:05.716    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:05:05.716    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:05:05.717    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091019-101636-598_L1C_049-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/10/19/SPOT4-HRVIR2-XS_20091019-101644-798_L1C_049-255-0_D_V1-0/SPOT4-HRVIR2-XS_20091019-101644-798_L1C_049-255-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20091019-101644-798_L1C_049-255-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091019-101644-798_L1C_049-255-0_D_V1-0.zip
run script
2024-01-14T04:05:09.124    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:05:09.125    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091019-101644-798_L1C_049-255-0_D_V1-0.zip
2024-01-14T04:05:09.125    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:05:09.125    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:05:09.125    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:05:09.125    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:05:09.125    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:05:09.125    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:05:09.125    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:05:09.125    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091019-101644-798_L1C_049-255-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/10/19/SPOT4-HRVIR2-XS_20091019-101650-212_L1C_049-255-6_D_V1-0/SPOT4-HRVIR2-XS_20091019-101650-212_L1C_049-255-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20091019-101650-212_L1C_049-255-6_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091019-101650-212_L1C_049-255-6_D_V1-0.zip
run script
2024-01-14T04:05:46.258    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:05:46.259    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091019-101650-212_L1C_049-255-6_D_V1-0.zip
2024-01-14T04:05:46.259    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:05:46.259    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:05:46.259    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:05:46.259    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:05:46.259    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:05:46.259    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:05:46.259    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:05:46.259    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091019-101650-212_L1C_049-255-6_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/04/SPOT4-HRVIR2-XS_20090504-105004-097_L1C_049-257-7_D_V1-0/SPOT4-HRVIR2-XS_20090504-105004-097_L1C_049-257-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090504-105004-097_L1C_049-257-7_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090504-105004-097_L1C_049-257-7_D_V1-0.zip
run script
2024-01-14T04:07:03.407    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:07:03.408    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090504-105004-097_L1C_049-257-7_D_V1-0.zip
2024-01-14T04:07:03.409    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:07:03.409    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:07:03.409    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:07:03.409    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:07:03.409    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:07:03.409    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:07:03.409    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:07:03.409    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090504-105004-097_L1C_049-257-7_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/04/SPOT4-HRVIR2-XS_20090504-105006-192_L1C_049-258-0_D_V1-0/SPOT4-HRVIR2-XS_20090504-105006-192_L1C_049-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090504-105006-192_L1C_049-258-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090504-105006-192_L1C_049-258-0_D_V1-0.zip
run script
2024-01-14T04:09:54.327    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:09:54.328    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090504-105006-192_L1C_049-258-0_D_V1-0.zip
2024-01-14T04:09:54.328    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:09:54.329    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:09:54.329    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:09:54.329    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:09:54.329    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:09:54.329    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:09:54.329    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:09:54.329    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T04:11:20.970    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (1 x 160). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090504-105006-192_L1C_049-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/05/04/SPOT4-HRVIR2-XS_20090504-105014-611_L1C_049-259-0_D_V1-0/SPOT4-HRVIR2-XS_20090504-105014-611_L1C_049-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090504-105014-611_L1C_049-259-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090504-105014-611_L1C_049-259-0_D_V1-0.zip
run script
2024-01-14T04:11:23.932    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:11:23.933    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090504-105014-611_L1C_049-259-0_D_V1-0.zip
2024-01-14T04:11:23.933    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:11:23.933    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:11:23.933    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:11:23.933    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:11:23.933    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:11:23.934    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:11:23.934    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:11:23.934    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090504-105014-611_L1C_049-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/04/SPOT4-HRVIR2-XS_20090504-105023-035_L1C_049-260-0_D_V1-0/SPOT4-HRVIR2-XS_20090504-105023-035_L1C_049-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090504-105023-035_L1C_049-260-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090504-105023-035_L1C_049-260-0_D_V1-0.zip
run script
2024-01-14T04:12:33.983    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:12:33.985    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090504-105023-035_L1C_049-260-0_D_V1-0.zip
2024-01-14T04:12:33.985    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:12:33.985    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:12:33.985    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:12:33.985    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:12:33.985    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:12:33.985    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:12:33.985    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:12:33.985    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090504-105023-035_L1C_049-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/04/SPOT4-HRVIR2-XS_20090504-105029-350_L1C_049-260-7_D_V1-0/SPOT4-HRVIR2-XS_20090504-105029-350_L1C_049-260-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090504-105029-350_L1C_049-260-7_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090504-105029-350_L1C_049-260-7_D_V1-0.zip
run script
2024-01-14T04:13:17.623    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:13:17.624    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090504-105029-350_L1C_049-260-7_D_V1-0.zip
2024-01-14T04:13:17.624    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:13:17.625    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:13:17.625    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:13:17.625    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:13:17.625    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:13:17.625    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:13:17.625    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:13:17.625    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090504-105029-350_L1C_049-260-7_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [0 0 2 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/04/SPOT4-HRVIR2-XS_20090504-105040-797_L1C_049-262-1_D_V1-0/SPOT4-HRVIR2-XS_20090504-105040-797_L1C_049-262-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090504-105040-797_L1C_049-262-1_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090504-105040-797_L1C_049-262-1_D_V1-0.zip
run script
2024-01-14T04:13:39.100    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:13:39.101    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090504-105040-797_L1C_049-262-1_D_V1-0.zip
2024-01-14T04:13:39.101    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:13:39.101    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:13:39.101    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:13:39.102    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:13:39.102    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:13:39.102    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:13:39.102    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:13:39.102    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090504-105040-797_L1C_049-262-1_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/07/12/SPOT4-HRVIR2-XS_20090712-102216-484_L1C_049-257-9_D_V1-0/SPOT4-HRVIR2-XS_20090712-102216-484_L1C_049-257-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090712-102216-484_L1C_049-257-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090712-102216-484_L1C_049-257-9_D_V1-0.zip
run script
2024-01-14T04:13:42.296    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:13:42.297    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090712-102216-484_L1C_049-257-9_D_V1-0.zip
2024-01-14T04:13:42.297    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:13:42.297    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:13:42.297    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:13:42.297    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:13:42.297    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:13:42.297    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:13:42.298    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:13:42.298    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T04:15:09.882    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 372). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090712-102216-484_L1C_049-257-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/07/12/SPOT4-HRVIR2-XS_20090712-102216-610_L1C_050-258-0_D_V1-0/SPOT4-HRVIR2-XS_20090712-102216-610_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090712-102216-610_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090712-102216-610_L1C_050-258-0_D_V1-0.zip
run script
2024-01-14T04:15:13.209    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:15:13.210    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090712-102216-610_L1C_050-258-0_D_V1-0.zip
2024-01-14T04:15:13.210    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:15:13.210    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:15:13.210    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:15:13.210    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:15:13.210    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:15:13.211    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:15:13.211    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:15:13.211    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T04:16:42.690    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (0 x 3004). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090712-102216-610_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/07/12/SPOT4-HRVIR2-XS_20090712-102220-220_L1C_050-258-4_D_V1-0/SPOT4-HRVIR2-XS_20090712-102220-220_L1C_050-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090712-102220-220_L1C_050-258-4_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090712-102220-220_L1C_050-258-4_D_V1-0.zip
run script
2024-01-14T04:16:46.038    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:16:46.039    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090712-102220-220_L1C_050-258-4_D_V1-0.zip
2024-01-14T04:16:46.039    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:16:46.039    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:16:46.039    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:16:46.039    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:16:46.039    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:16:46.040    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:16:46.040    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:16:46.040    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090712-102220-220_L1C_050-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/04/24/SPOT4-HRVIR1-XS_20090424-104228-569_L1C_049-258-0_D_V1-0/SPOT4-HRVIR1-XS_20090424-104228-569_L1C_049-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090424-104228-569_L1C_049-258-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090424-104228-569_L1C_049-258-0_D_V1-0.zip
run script
2024-01-14T04:18:15.009    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:18:15.010    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090424-104228-569_L1C_049-258-0_D_V1-0.zip
2024-01-14T04:18:15.010    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:18:15.010    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:18:15.010    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:18:15.010    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:18:15.010    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:18:15.011    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:18:15.011    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:18:15.011    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T04:19:45.843    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 362). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090424-104228-569_L1C_049-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/04/24/SPOT4-HRVIR1-XS_20090424-104232-179_L1C_049-258-4_D_V1-0/SPOT4-HRVIR1-XS_20090424-104232-179_L1C_049-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090424-104232-179_L1C_049-258-4_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090424-104232-179_L1C_049-258-4_D_V1-0.zip
run script
2024-01-14T04:19:49.252    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:19:49.254    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090424-104232-179_L1C_049-258-4_D_V1-0.zip
2024-01-14T04:19:49.254    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:19:49.254    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:19:49.254    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:19:49.254    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:19:49.254    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:19:49.254    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:19:49.254    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:19:49.254    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090424-104232-179_L1C_049-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/04/24/SPOT4-HRVIR1-XS_20090424-104225-627_L1C_050-257-6_D_V1-0/SPOT4-HRVIR1-XS_20090424-104225-627_L1C_050-257-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090424-104225-627_L1C_050-257-6_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090424-104225-627_L1C_050-257-6_D_V1-0.zip
run script
2024-01-14T04:21:21.357    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:21:21.359    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090424-104225-627_L1C_050-257-6_D_V1-0.zip
2024-01-14T04:21:21.359    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:21:21.359    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:21:21.359    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:21:21.359    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:21:21.359    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:21:21.359    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:21:21.359    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:21:21.359    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090424-104225-627_L1C_050-257-6_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]
 [0 0 0 ... 1 1 1]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/09/SPOT4-HRVIR1-XS_20090509-105354-335_L1C_049-258-0_D_V1-0/SPOT4-HRVIR1-XS_20090509-105354-335_L1C_049-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090509-105354-335_L1C_049-258-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090509-105354-335_L1C_049-258-0_D_V1-0.zip
run script
2024-01-14T04:23:14.568    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:23:14.569    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090509-105354-335_L1C_049-258-0_D_V1-0.zip
2024-01-14T04:23:14.569    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:23:14.569    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:23:14.569    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:23:14.569    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:23:14.569    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:23:14.569    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:23:14.569    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:23:14.570    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T04:24:57.121    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 362). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090509-105354-335_L1C_049-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/05/09/SPOT4-HRVIR1-XS_20090509-105357-944_L1C_049-258-4_D_V1-0/SPOT4-HRVIR1-XS_20090509-105357-944_L1C_049-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090509-105357-944_L1C_049-258-4_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090509-105357-944_L1C_049-258-4_D_V1-0.zip
run script
2024-01-14T04:25:00.454    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:25:00.455    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090509-105357-944_L1C_049-258-4_D_V1-0.zip
2024-01-14T04:25:00.456    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:25:00.456    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:25:00.456    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:25:00.456    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:25:00.456    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:25:00.456    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:25:00.456    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:25:00.456    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090509-105357-944_L1C_049-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/15/SPOT4-HRVIR1-XS_20090615-104158-333_L1C_049-258-2_D_V1-0/SPOT4-HRVIR1-XS_20090615-104158-333_L1C_049-258-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090615-104158-333_L1C_049-258-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090615-104158-333_L1C_049-258-2_D_V1-0.zip
run script
2024-01-14T04:26:41.884    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:26:41.885    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090615-104158-333_L1C_049-258-2_D_V1-0.zip
2024-01-14T04:26:41.885    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:26:41.885    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:26:41.885    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:26:41.885    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:26:41.886    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:26:41.886    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:26:41.886    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:26:41.886    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090615-104158-333_L1C_049-258-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/15/SPOT4-HRVIR1-XS_20090615-104200-137_L1C_049-258-4_D_V1-0/SPOT4-HRVIR1-XS_20090615-104200-137_L1C_049-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090615-104200-137_L1C_049-258-4_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090615-104200-137_L1C_049-258-4_D_V1-0.zip
run script
2024-01-14T04:28:10.619    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:28:10.620    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090615-104200-137_L1C_049-258-4_D_V1-0.zip
2024-01-14T04:28:10.620    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:28:10.620    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:28:10.620    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:28:10.620    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:28:10.620    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:28:10.620    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:28:10.621    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:28:10.621    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090615-104200-137_L1C_049-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/15/SPOT4-HRVIR2-XS_20090615-104235-669_L1C_052-263-1_D_V1-0/SPOT4-HRVIR2-XS_20090615-104235-669_L1C_052-263-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090615-104235-669_L1C_052-263-1_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090615-104235-669_L1C_052-263-1_D_V1-0.zip
run script
2024-01-14T04:29:40.063    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:29:40.076    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090615-104235-669_L1C_052-263-1_D_V1-0.zip
2024-01-14T04:29:40.076    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:29:40.076    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:29:40.076    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:29:40.076    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:29:40.076    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:29:40.076    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:29:40.076    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:29:40.076    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090615-104235-669_L1C_052-263-1_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/15/SPOT4-HRVIR1-XS_20090615-104216-311_L1C_053-260-9_D_V1-0/SPOT4-HRVIR1-XS_20090615-104216-311_L1C_053-260-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090615-104216-311_L1C_053-260-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090615-104216-311_L1C_053-260-9_D_V1-0.zip
run script
2024-01-14T04:30:34.063    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:30:34.065    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090615-104216-311_L1C_053-260-9_D_V1-0.zip
2024-01-14T04:30:34.065    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:30:34.065    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:30:34.065    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:30:34.065    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:30:34.065    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:30:34.065    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:30:34.065    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:30:34.065    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090615-104216-311_L1C_053-260-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/15/SPOT4-HRVIR1-XS_20090615-104216-615_L1C_053-261-0_D_V1-0/SPOT4-HRVIR1-XS_20090615-104216-615_L1C_053-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090615-104216-615_L1C_053-261-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090615-104216-615_L1C_053-261-0_D_V1-0.zip
run script
2024-01-14T04:33:57.178    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:33:57.179    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090615-104216-615_L1C_053-261-0_D_V1-0.zip
2024-01-14T04:33:57.179    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:33:57.179    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:33:57.179    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:33:57.179    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:33:57.180    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:33:57.180    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:33:57.180    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:33:57.180    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090615-104216-615_L1C_053-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/15/SPOT4-HRVIR1-XS_20090615-104225-044_L1C_053-262-0_D_V1-0/SPOT4-HRVIR1-XS_20090615-104225-044_L1C_053-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090615-104225-044_L1C_053-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090615-104225-044_L1C_053-262-0_D_V1-0.zip
run script
2024-01-14T04:37:17.048    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:37:17.049    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090615-104225-044_L1C_053-262-0_D_V1-0.zip
2024-01-14T04:37:17.049    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:37:17.049    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:37:17.049    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:37:17.049    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:37:17.049    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:37:17.049    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:37:17.049    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:37:17.050    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090615-104225-044_L1C_053-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/21/SPOT4-HRVIR1-XS_20090721-104914-727_L1C_049-258-2_D_V1-0/SPOT4-HRVIR1-XS_20090721-104914-727_L1C_049-258-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090721-104914-727_L1C_049-258-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090721-104914-727_L1C_049-258-2_D_V1-0.zip
run script
2024-01-14T04:40:26.723    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:40:26.725    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090721-104914-727_L1C_049-258-2_D_V1-0.zip
2024-01-14T04:40:26.725    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:40:26.725    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:40:26.725    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:40:26.725    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:40:26.725    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:40:26.725    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:40:26.725    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:40:26.725    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090721-104914-727_L1C_049-258-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/21/SPOT4-HRVIR1-XS_20090721-104916-526_L1C_049-258-4_D_V1-0/SPOT4-HRVIR1-XS_20090721-104916-526_L1C_049-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090721-104916-526_L1C_049-258-4_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090721-104916-526_L1C_049-258-4_D_V1-0.zip
run script
2024-01-14T04:42:07.637    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:42:07.638    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090721-104916-526_L1C_049-258-4_D_V1-0.zip
2024-01-14T04:42:07.638    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:42:07.638    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:42:07.638    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:42:07.639    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:42:07.639    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:42:07.639    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:42:07.639    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:42:07.639    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090721-104916-526_L1C_049-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/01/11/SPOT4-HRVIR2-XS_20090111-102349-982_L1C_049-259-0_D_V1-0/SPOT4-HRVIR2-XS_20090111-102349-982_L1C_049-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090111-102349-982_L1C_049-259-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090111-102349-982_L1C_049-259-0_D_V1-0.zip
run script
2024-01-14T04:43:59.228    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:43:59.229    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090111-102349-982_L1C_049-259-0_D_V1-0.zip
2024-01-14T04:43:59.229    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:43:59.229    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:43:59.229    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:43:59.229    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:43:59.229    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:43:59.229    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:43:59.229    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:43:59.229    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090111-102349-982_L1C_049-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]
 [1 1 1 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/01/11/SPOT4-HRVIR2-XS_20090111-102354-494_L1C_049-259-5_D_V1-0/SPOT4-HRVIR2-XS_20090111-102354-494_L1C_049-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090111-102354-494_L1C_049-259-5_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090111-102354-494_L1C_049-259-5_D_V1-0.zip
run script
2024-01-14T04:44:25.448    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:44:25.449    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090111-102354-494_L1C_049-259-5_D_V1-0.zip
2024-01-14T04:44:25.449    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:44:25.449    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:44:25.449    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:44:25.449    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:44:25.449    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:44:25.449    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:44:25.449    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:44:25.450    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090111-102354-494_L1C_049-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 1 1 1]
 [1 1 1 ... 1 1 1]
 [1 1 1 ... 1 1 1]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/01/11/SPOT4-HRVIR1-XS_20090111-102356-833_L1C_050-260-0_D_V1-0/SPOT4-HRVIR1-XS_20090111-102356-833_L1C_050-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090111-102356-833_L1C_050-260-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090111-102356-833_L1C_050-260-0_D_V1-0.zip
run script
2024-01-14T04:44:40.950    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:44:40.951    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090111-102356-833_L1C_050-260-0_D_V1-0.zip
2024-01-14T04:44:40.951    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:44:40.952    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:44:40.952    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:44:40.952    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:44:40.952    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:44:40.952    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:44:40.952    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:44:40.952    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090111-102356-833_L1C_050-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/01/11/SPOT4-HRVIR1-XS_20090111-102358-638_L1C_050-260-2_D_V1-0/SPOT4-HRVIR1-XS_20090111-102358-638_L1C_050-260-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090111-102358-638_L1C_050-260-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090111-102358-638_L1C_050-260-2_D_V1-0.zip
run script
2024-01-14T04:46:06.708    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:46:06.709    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090111-102358-638_L1C_050-260-2_D_V1-0.zip
2024-01-14T04:46:06.710    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:46:06.710    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:46:06.710    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:46:06.710    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:46:06.710    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:46:06.710    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:46:06.710    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:46:06.710    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T04:46:08.801    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 318). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090111-102358-638_L1C_050-260-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2009/06/04/SPOT4-HRVIR1-XS_20090604-105355-104_L1C_049-259-9_D_V1-0/SPOT4-HRVIR1-XS_20090604-105355-104_L1C_049-259-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090604-105355-104_L1C_049-259-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090604-105355-104_L1C_049-259-9_D_V1-0.zip
run script
2024-01-14T04:46:12.836    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:46:12.838    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090604-105355-104_L1C_049-259-9_D_V1-0.zip
2024-01-14T04:46:12.838    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:46:12.838    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:46:12.838    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:46:12.838    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:46:12.838    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:46:12.838    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:46:12.838    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:46:12.838    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090604-105355-104_L1C_049-259-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/04/SPOT4-HRVIR1-XS_20090604-105355-435_L1C_049-260-0_D_V1-0/SPOT4-HRVIR1-XS_20090604-105355-435_L1C_049-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090604-105355-435_L1C_049-260-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090604-105355-435_L1C_049-260-0_D_V1-0.zip
run script
2024-01-14T04:46:45.654    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:46:45.656    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090604-105355-435_L1C_049-260-0_D_V1-0.zip
2024-01-14T04:46:45.656    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:46:45.656    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:46:45.656    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:46:45.656    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:46:45.656    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:46:45.656    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:46:45.656    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:46:45.656    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090604-105355-435_L1C_049-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/04/SPOT4-HRVIR1-XS_20090604-105403-894_L1C_049-261-0_D_V1-0/SPOT4-HRVIR1-XS_20090604-105403-894_L1C_049-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090604-105403-894_L1C_049-261-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090604-105403-894_L1C_049-261-0_D_V1-0.zip
run script
2024-01-14T04:47:18.518    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:47:18.519    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090604-105403-894_L1C_049-261-0_D_V1-0.zip
2024-01-14T04:47:18.519    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:47:18.519    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:47:18.519    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:47:18.520    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:47:18.520    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:47:18.520    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:47:18.520    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:47:18.520    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T04:47:21.545    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (294 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090604-105403-894_L1C_049-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2009/06/04/SPOT4-HRVIR1-XS_20090604-105412-352_L1C_049-262-0_D_V1-0/SPOT4-HRVIR1-XS_20090604-105412-352_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090604-105412-352_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090604-105412-352_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T04:47:24.791    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:47:24.793    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090604-105412-352_L1C_049-262-0_D_V1-0.zip
2024-01-14T04:47:24.793    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:47:24.793    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:47:24.793    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:47:24.793    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:47:24.793    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:47:24.793    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:47:24.793    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:47:24.793    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090604-105412-352_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/06/04/SPOT4-HRVIR1-XS_20090604-105326-526_L1C_050-256-7_D_V1-0/SPOT4-HRVIR1-XS_20090604-105326-526_L1C_050-256-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090604-105326-526_L1C_050-256-7_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090604-105326-526_L1C_050-256-7_D_V1-0.zip
run script
2024-01-14T04:47:28.233    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:47:28.234    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090604-105326-526_L1C_050-256-7_D_V1-0.zip
2024-01-14T04:47:28.234    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:47:28.234    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:47:28.234    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:47:28.234    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:47:28.234    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:47:28.234    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:47:28.235    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:47:28.235    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090604-105326-526_L1C_050-256-7_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/04/SPOT4-HRVIR1-XS_20090604-105328-664_L1C_050-257-0_D_V1-0/SPOT4-HRVIR1-XS_20090604-105328-664_L1C_050-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090604-105328-664_L1C_050-257-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090604-105328-664_L1C_050-257-0_D_V1-0.zip
run script
2024-01-14T04:51:45.205    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:51:45.206    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090604-105328-664_L1C_050-257-0_D_V1-0.zip
2024-01-14T04:51:45.206    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:51:45.206    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:51:45.207    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:51:45.207    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:51:45.207    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:51:45.207    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:51:45.207    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:51:45.207    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090604-105328-664_L1C_050-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/04/SPOT4-HRVIR1-XS_20090604-105337-126_L1C_050-258-0_D_V1-0/SPOT4-HRVIR1-XS_20090604-105337-126_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090604-105337-126_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090604-105337-126_L1C_050-258-0_D_V1-0.zip
run script
2024-01-14T04:55:53.660    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:55:53.661    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090604-105337-126_L1C_050-258-0_D_V1-0.zip
2024-01-14T04:55:53.661    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:55:53.661    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:55:53.661    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:55:53.661    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:55:53.662    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:55:53.662    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:55:53.662    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:55:53.662    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T04:59:00.094    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 234). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090604-105337-126_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/06/04/SPOT4-HRVIR1-XS_20090604-105341-638_L1C_050-258-5_D_V1-0/SPOT4-HRVIR1-XS_20090604-105341-638_L1C_050-258-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090604-105341-638_L1C_050-258-5_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090604-105341-638_L1C_050-258-5_D_V1-0.zip
run script
2024-01-14T04:59:03.484    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:59:03.484    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090604-105341-638_L1C_050-258-5_D_V1-0.zip
2024-01-14T04:59:03.484    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T04:59:03.484    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T04:59:03.484    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T04:59:03.484    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T04:59:03.484    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T04:59:03.484    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T04:59:03.484    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T04:59:03.484    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090604-105341-638_L1C_050-258-5_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/04/14/SPOT4-HRVIR1-XS_20090414-103522-902_L1C_049-261-8_D_V1-0/SPOT4-HRVIR1-XS_20090414-103522-902_L1C_049-261-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090414-103522-902_L1C_049-261-8_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090414-103522-902_L1C_049-261-8_D_V1-0.zip
run script
2024-01-14T05:01:42.755    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:01:42.756    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090414-103522-902_L1C_049-261-8_D_V1-0.zip
2024-01-14T05:01:42.756    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:01:42.757    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:01:42.757    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:01:42.757    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:01:42.757    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:01:42.757    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:01:42.757    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:01:42.757    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090414-103522-902_L1C_049-261-8_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/04/14/SPOT4-HRVIR1-XS_20090414-103524-012_L1C_049-262-0_D_V1-0/SPOT4-HRVIR1-XS_20090414-103524-012_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090414-103524-012_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090414-103524-012_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T05:01:46.652    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:01:46.654    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090414-103524-012_L1C_049-262-0_D_V1-0.zip
2024-01-14T05:01:46.654    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:01:46.654    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:01:46.654    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:01:46.654    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:01:46.654    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:01:46.654    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:01:46.654    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:01:46.654    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090414-103524-012_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/04/14/SPOT4-HRVIR1-XS_20090414-103525-816_L1C_049-262-2_D_V1-0/SPOT4-HRVIR1-XS_20090414-103525-816_L1C_049-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090414-103525-816_L1C_049-262-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090414-103525-816_L1C_049-262-2_D_V1-0.zip
run script
2024-01-14T05:01:49.792    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:01:49.794    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090414-103525-816_L1C_049-262-2_D_V1-0.zip
2024-01-14T05:01:49.794    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:01:49.794    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:01:49.794    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:01:49.794    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:01:49.794    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:01:49.794    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:01:49.794    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:01:49.794    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090414-103525-816_L1C_049-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/04/14/SPOT4-HRVIR1-XS_20090414-103447-260_L1C_050-257-6_D_V1-0/SPOT4-HRVIR1-XS_20090414-103447-260_L1C_050-257-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090414-103447-260_L1C_050-257-6_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090414-103447-260_L1C_050-257-6_D_V1-0.zip
run script
2024-01-14T05:01:53.038    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:01:53.041    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090414-103447-260_L1C_050-257-6_D_V1-0.zip
2024-01-14T05:01:53.046    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:01:53.049    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:01:53.051    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:01:53.053    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:01:53.056    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:01:53.058    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:01:53.061    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:01:53.063    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T05:03:46.737    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (364 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090414-103447-260_L1C_050-257-6_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/04/14/SPOT4-HRVIR1-XS_20090414-103450-150_L1C_050-258-0_D_V1-0/SPOT4-HRVIR1-XS_20090414-103450-150_L1C_050-258-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090414-103450-150_L1C_050-258-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090414-103450-150_L1C_050-258-0_D_V1-0.zip
run script
2024-01-14T05:03:50.035    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:03:50.037    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090414-103450-150_L1C_050-258-0_D_V1-0.zip
2024-01-14T05:03:50.037    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:03:50.037    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:03:50.037    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:03:50.037    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:03:50.037    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:03:50.037    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:03:50.037    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:03:50.037    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T05:05:25.134    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 1562). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090414-103450-150_L1C_050-258-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/04/14/SPOT4-HRVIR1-XS_20090414-103458-464_L1C_050-259-0_D_V1-0/SPOT4-HRVIR1-XS_20090414-103458-464_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090414-103458-464_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090414-103458-464_L1C_050-259-0_D_V1-0.zip
run script
2024-01-14T05:05:28.572    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:05:28.573    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090414-103458-464_L1C_050-259-0_D_V1-0.zip
2024-01-14T05:05:28.573    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:05:28.573    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:05:28.573    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:05:28.573    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:05:28.573    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:05:28.574    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:05:28.574    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:05:28.574    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090414-103458-464_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/04/14/SPOT4-HRVIR1-XS_20090414-103502-976_L1C_050-259-5_D_V1-0/SPOT4-HRVIR1-XS_20090414-103502-976_L1C_050-259-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090414-103502-976_L1C_050-259-5_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090414-103502-976_L1C_050-259-5_D_V1-0.zip
run script
2024-01-14T05:06:56.124    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:06:56.125    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090414-103502-976_L1C_050-259-5_D_V1-0.zip
2024-01-14T05:06:56.125    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:06:56.125    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:06:56.125    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:06:56.125    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:06:56.125    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:06:56.125    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:06:56.126    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:06:56.126    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090414-103502-976_L1C_050-259-5_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]
 [0 0 0 ... 0 0 0]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/05/SPOT4-HRVIR2-XS_20090505-103120-708_L1C_049-261-8_D_V1-0/SPOT4-HRVIR2-XS_20090505-103120-708_L1C_049-261-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090505-103120-708_L1C_049-261-8_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090505-103120-708_L1C_049-261-8_D_V1-0.zip
run script
2024-01-14T05:08:08.801    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:08:08.802    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090505-103120-708_L1C_049-261-8_D_V1-0.zip
2024-01-14T05:08:08.803    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:08:08.803    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:08:08.803    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:08:08.803    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:08:08.803    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:08:08.803    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:08:08.803    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:08:08.803    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090505-103120-708_L1C_049-261-8_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/05/05/SPOT4-HRVIR2-XS_20090505-103121-800_L1C_049-262-0_D_V1-0/SPOT4-HRVIR2-XS_20090505-103121-800_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090505-103121-800_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090505-103121-800_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T05:08:12.002    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:08:12.003    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090505-103121-800_L1C_049-262-0_D_V1-0.zip
2024-01-14T05:08:12.003    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:08:12.004    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:08:12.004    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:08:12.004    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:08:12.004    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:08:12.004    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:08:12.004    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:08:12.004    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090505-103121-800_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/05/05/SPOT4-HRVIR2-XS_20090505-103123-604_L1C_049-262-2_D_V1-0/SPOT4-HRVIR2-XS_20090505-103123-604_L1C_049-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090505-103123-604_L1C_049-262-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090505-103123-604_L1C_049-262-2_D_V1-0.zip
run script
2024-01-14T05:08:15.240    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:08:15.241    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090505-103123-604_L1C_049-262-2_D_V1-0.zip
2024-01-14T05:08:15.242    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:08:15.242    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:08:15.242    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:08:15.242    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:08:15.242    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:08:15.242    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:08:15.242    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:08:15.242    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090505-103123-604_L1C_049-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/05/05/SPOT4-HRVIR2-XS_20090505-103051-386_L1C_050-258-4_D_V1-0/SPOT4-HRVIR2-XS_20090505-103051-386_L1C_050-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090505-103051-386_L1C_050-258-4_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090505-103051-386_L1C_050-258-4_D_V1-0.zip
run script
2024-01-14T05:08:18.171    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:08:18.173    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090505-103051-386_L1C_050-258-4_D_V1-0.zip
2024-01-14T05:08:18.173    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:08:18.173    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:08:18.173    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:08:18.173    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:08:18.173    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:08:18.173    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:08:18.173    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:08:18.173    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090505-103051-386_L1C_050-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/21/SPOT4-HRVIR2-XS_20090621-102658-867_L1C_049-261-9_D_V1-0/SPOT4-HRVIR2-XS_20090621-102658-867_L1C_049-261-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090621-102658-867_L1C_049-261-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090621-102658-867_L1C_049-261-9_D_V1-0.zip
run script
2024-01-14T05:09:48.029    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:09:48.030    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090621-102658-867_L1C_049-261-9_D_V1-0.zip
2024-01-14T05:09:48.030    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:09:48.030    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:09:48.030    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:09:48.030    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:09:48.030    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:09:48.030    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:09:48.030    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:09:48.030    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090621-102658-867_L1C_049-261-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/06/21/SPOT4-HRVIR2-XS_20090621-102659-038_L1C_049-262-0_D_V1-0/SPOT4-HRVIR2-XS_20090621-102659-038_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090621-102659-038_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090621-102659-038_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T05:09:51.359    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:09:51.362    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090621-102659-038_L1C_049-262-0_D_V1-0.zip
2024-01-14T05:09:51.365    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:09:51.367    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:09:51.370    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:09:51.374    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:09:51.374    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:09:51.374    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:09:51.374    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:09:51.374    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090621-102659-038_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/06/21/SPOT4-HRVIR2-XS_20090621-102701-745_L1C_049-262-3_D_V1-0/SPOT4-HRVIR2-XS_20090621-102701-745_L1C_049-262-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090621-102701-745_L1C_049-262-3_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090621-102701-745_L1C_049-262-3_D_V1-0.zip
run script
2024-01-14T05:09:54.350    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:09:54.351    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090621-102701-745_L1C_049-262-3_D_V1-0.zip
2024-01-14T05:09:54.351    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:09:54.351    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:09:54.351    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:09:54.351    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:09:54.351    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:09:54.352    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:09:54.352    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:09:54.352    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090621-102701-745_L1C_049-262-3_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/07/17/SPOT4-HRVIR1-XS_20090717-102637-699_L1C_049-261-7_D_V1-0/SPOT4-HRVIR1-XS_20090717-102637-699_L1C_049-261-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090717-102637-699_L1C_049-261-7_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090717-102637-699_L1C_049-261-7_D_V1-0.zip
run script
2024-01-14T05:09:57.593    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:09:57.594    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090717-102637-699_L1C_049-261-7_D_V1-0.zip
2024-01-14T05:09:57.594    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:09:57.594    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:09:57.594    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:09:57.594    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:09:57.594    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:09:57.594    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:09:57.594    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:09:57.594    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090717-102637-699_L1C_049-261-7_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/07/17/SPOT4-HRVIR1-XS_20090717-102639-669_L1C_049-262-0_D_V1-0/SPOT4-HRVIR1-XS_20090717-102639-669_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090717-102639-669_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090717-102639-669_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T05:10:00.763    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:10:00.764    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090717-102639-669_L1C_049-262-0_D_V1-0.zip
2024-01-14T05:10:00.764    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:10:00.764    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:10:00.764    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:10:00.764    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:10:00.764    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:10:00.764    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:10:00.764    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:10:00.765    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090717-102639-669_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/07/22/SPOT4-HRVIR2-XS_20090722-103027-664_L1C_049-261-8_D_V1-0/SPOT4-HRVIR2-XS_20090722-103027-664_L1C_049-261-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090722-103027-664_L1C_049-261-8_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090722-103027-664_L1C_049-261-8_D_V1-0.zip
run script
2024-01-14T05:10:03.831    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:10:03.832    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090722-103027-664_L1C_049-261-8_D_V1-0.zip
2024-01-14T05:10:03.832    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:10:03.832    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:10:03.832    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:10:03.832    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:10:03.832    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:10:03.832    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:10:03.832    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:10:03.832    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090722-103027-664_L1C_049-261-8_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/07/22/SPOT4-HRVIR2-XS_20090722-103028-752_L1C_049-262-0_D_V1-0/SPOT4-HRVIR2-XS_20090722-103028-752_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090722-103028-752_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090722-103028-752_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T05:10:07.014    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:10:07.015    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090722-103028-752_L1C_049-262-0_D_V1-0.zip
2024-01-14T05:10:07.015    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:10:07.015    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:10:07.015    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:10:07.015    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:10:07.015    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:10:07.015    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:10:07.016    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:10:07.016    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090722-103028-752_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/07/22/SPOT4-HRVIR2-XS_20090722-103030-561_L1C_049-262-2_D_V1-0/SPOT4-HRVIR2-XS_20090722-103030-561_L1C_049-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090722-103030-561_L1C_049-262-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090722-103030-561_L1C_049-262-2_D_V1-0.zip
run script
2024-01-14T05:10:10.192    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:10:10.194    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090722-103030-561_L1C_049-262-2_D_V1-0.zip
2024-01-14T05:10:10.194    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:10:10.194    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:10:10.194    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:10:10.194    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:10:10.194    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:10:10.194    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:10:10.194    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:10:10.194    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090722-103030-561_L1C_049-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/08/12/SPOT4-HRVIR2-XS_20090812-102623-997_L1C_049-261-7_D_V1-0/SPOT4-HRVIR2-XS_20090812-102623-997_L1C_049-261-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090812-102623-997_L1C_049-261-7_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090812-102623-997_L1C_049-261-7_D_V1-0.zip
run script
2024-01-14T05:10:13.567    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:10:13.567    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090812-102623-997_L1C_049-261-7_D_V1-0.zip
2024-01-14T05:10:13.567    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:10:13.567    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:10:13.567    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:10:13.567    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:10:13.567    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:10:13.567    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:10:13.567    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:10:13.568    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090812-102623-997_L1C_049-261-7_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/08/12/SPOT4-HRVIR2-XS_20090812-102625-973_L1C_049-262-0_D_V1-0/SPOT4-HRVIR2-XS_20090812-102625-973_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090812-102625-973_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090812-102625-973_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T05:10:17.108    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:10:17.108    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090812-102625-973_L1C_049-262-0_D_V1-0.zip
2024-01-14T05:10:17.108    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:10:17.108    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:10:17.108    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:10:17.108    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:10:17.108    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:10:17.108    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:10:17.108    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:10:17.108    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090812-102625-973_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/08/12/SPOT4-HRVIR2-XS_20090812-102627-778_L1C_049-262-2_D_V1-0/SPOT4-HRVIR2-XS_20090812-102627-778_L1C_049-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090812-102627-778_L1C_049-262-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090812-102627-778_L1C_049-262-2_D_V1-0.zip
run script
2024-01-14T05:10:20.171    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:10:20.173    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090812-102627-778_L1C_049-262-2_D_V1-0.zip
2024-01-14T05:10:20.173    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:10:20.173    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:10:20.173    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:10:20.173    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:10:20.173    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:10:20.173    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:10:20.173    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:10:20.173    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090812-102627-778_L1C_049-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/08/12/SPOT4-HRVIR1-XS_20090812-102556-630_L1C_053-259-0_D_V1-0/SPOT4-HRVIR1-XS_20090812-102556-630_L1C_053-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090812-102556-630_L1C_053-259-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090812-102556-630_L1C_053-259-0_D_V1-0.zip
run script
2024-01-14T05:10:23.699    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:10:23.699    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090812-102556-630_L1C_053-259-0_D_V1-0.zip
2024-01-14T05:10:23.699    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:10:23.699    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:10:23.699    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:10:23.699    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:10:23.699    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:10:23.699    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:10:23.699    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:10:23.699    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T05:10:26.704    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (354 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090812-102556-630_L1C_053-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2009/08/12/SPOT4-HRVIR1-XS_20090812-102604-944_L1C_053-260-0_D_V1-0/SPOT4-HRVIR1-XS_20090812-102604-944_L1C_053-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090812-102604-944_L1C_053-260-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090812-102604-944_L1C_053-260-0_D_V1-0.zip
run script
2024-01-14T05:10:29.900    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:10:29.901    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090812-102604-944_L1C_053-260-0_D_V1-0.zip
2024-01-14T05:10:29.901    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:10:29.901    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:10:29.901    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:10:29.901    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:10:29.901    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:10:29.901    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:10:29.901    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:10:29.901    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090812-102604-944_L1C_053-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/12/SPOT4-HRVIR1-XS_20090812-102613-264_L1C_053-261-0_D_V1-0/SPOT4-HRVIR1-XS_20090812-102613-264_L1C_053-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090812-102613-264_L1C_053-261-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090812-102613-264_L1C_053-261-0_D_V1-0.zip
run script
2024-01-14T05:12:45.134    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:12:45.134    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090812-102613-264_L1C_053-261-0_D_V1-0.zip
2024-01-14T05:12:45.134    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:12:45.134    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:12:45.134    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:12:45.134    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:12:45.134    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:12:45.134    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:12:45.134    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:12:45.134    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090812-102613-264_L1C_053-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/27/SPOT4-HRVIR2-XS_20090827-103752-505_L1C_049-261-9_D_V1-0/SPOT4-HRVIR2-XS_20090827-103752-505_L1C_049-261-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090827-103752-505_L1C_049-261-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090827-103752-505_L1C_049-261-9_D_V1-0.zip
run script
2024-01-14T05:15:32.465    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:15:32.466    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090827-103752-505_L1C_049-261-9_D_V1-0.zip
2024-01-14T05:15:32.466    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:15:32.466    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:15:32.466    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:15:32.466    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:15:32.466    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:15:32.466    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:15:32.467    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:15:32.467    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090827-103752-505_L1C_049-261-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/08/27/SPOT4-HRVIR2-XS_20090827-103752-737_L1C_049-262-0_D_V1-0/SPOT4-HRVIR2-XS_20090827-103752-737_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090827-103752-737_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090827-103752-737_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T05:15:35.983    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:15:35.984    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090827-103752-737_L1C_049-262-0_D_V1-0.zip
2024-01-14T05:15:35.984    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:15:35.984    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:15:35.985    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:15:35.985    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:15:35.985    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:15:35.985    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:15:35.985    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:15:35.985    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090827-103752-737_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/08/27/SPOT4-HRVIR2-XS_20090827-103722-768_L1C_053-259-0_D_V1-0/SPOT4-HRVIR2-XS_20090827-103722-768_L1C_053-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090827-103722-768_L1C_053-259-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090827-103722-768_L1C_053-259-0_D_V1-0.zip
run script
2024-01-14T05:15:39.309    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:15:39.309    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090827-103722-768_L1C_053-259-0_D_V1-0.zip
2024-01-14T05:15:39.309    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:15:39.309    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:15:39.309    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:15:39.309    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:15:39.309    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:15:39.310    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:15:39.310    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:15:39.310    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090827-103722-768_L1C_053-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/27/SPOT4-HRVIR2-XS_20090827-103723-671_L1C_053-259-1_D_V1-0/SPOT4-HRVIR2-XS_20090827-103723-671_L1C_053-259-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090827-103723-671_L1C_053-259-1_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090827-103723-671_L1C_053-259-1_D_V1-0.zip
run script
2024-01-14T05:18:28.109    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:18:28.110    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090827-103723-671_L1C_053-259-1_D_V1-0.zip
2024-01-14T05:18:28.110    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:18:28.110    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:18:28.110    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:18:28.110    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:18:28.110    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:18:28.110    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:18:28.110    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:18:28.110    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090827-103723-671_L1C_053-259-1_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/01/SPOT4-HRVIR2-XS_20090901-104137-544_L1C_049-261-5_D_V1-0/SPOT4-HRVIR2-XS_20090901-104137-544_L1C_049-261-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090901-104137-544_L1C_049-261-5_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090901-104137-544_L1C_049-261-5_D_V1-0.zip
run script
2024-01-14T05:21:33.608    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:21:33.610    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090901-104137-544_L1C_049-261-5_D_V1-0.zip
2024-01-14T05:21:33.610    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:21:33.610    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:21:33.610    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:21:33.610    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:21:33.610    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:21:33.610    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:21:33.610    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:21:33.610    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090901-104137-544_L1C_049-261-5_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/09/01/SPOT4-HRVIR2-XS_20090901-104141-407_L1C_049-262-0_D_V1-0/SPOT4-HRVIR2-XS_20090901-104141-407_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090901-104141-407_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090901-104141-407_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T05:21:37.532    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:21:37.533    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090901-104141-407_L1C_049-262-0_D_V1-0.zip
2024-01-14T05:21:37.533    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:21:37.533    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:21:37.533    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:21:37.533    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:21:37.533    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:21:37.533    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:21:37.533    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:21:37.533    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090901-104141-407_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/09/07/SPOT4-HRVIR1-XS_20090907-102610-983_L1C_049-261-9_D_V1-0/SPOT4-HRVIR1-XS_20090907-102610-983_L1C_049-261-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090907-102610-983_L1C_049-261-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090907-102610-983_L1C_049-261-9_D_V1-0.zip
run script
2024-01-14T05:21:41.048    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:21:41.050    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090907-102610-983_L1C_049-261-9_D_V1-0.zip
2024-01-14T05:21:41.050    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:21:41.050    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:21:41.050    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:21:41.050    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:21:41.050    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:21:41.050    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:21:41.050    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:21:41.050    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090907-102610-983_L1C_049-261-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/09/07/SPOT4-HRVIR1-XS_20090907-102611-152_L1C_049-262-0_D_V1-0/SPOT4-HRVIR1-XS_20090907-102611-152_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090907-102611-152_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090907-102611-152_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T05:21:44.791    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:21:44.792    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090907-102611-152_L1C_049-262-0_D_V1-0.zip
2024-01-14T05:21:44.792    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:21:44.792    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:21:44.792    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:21:44.792    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:21:44.792    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:21:44.792    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:21:44.792    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:21:44.793    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090907-102611-152_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/09/07/SPOT4-HRVIR2-XS_20090907-102610-736_L1C_049-262-0_D_V1-0/SPOT4-HRVIR2-XS_20090907-102610-736_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090907-102610-736_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090907-102610-736_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T05:21:48.053    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:21:48.054    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090907-102610-736_L1C_049-262-0_D_V1-0.zip
2024-01-14T05:21:48.054    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:21:48.054    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:21:48.054    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:21:48.054    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:21:48.054    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:21:48.054    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:21:48.054    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:21:48.054    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090907-102610-736_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/09/07/SPOT4-HRVIR2-XS_20090907-102518-974_L1C_050-255-8_D_V1-0/SPOT4-HRVIR2-XS_20090907-102518-974_L1C_050-255-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090907-102518-974_L1C_050-255-8_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090907-102518-974_L1C_050-255-8_D_V1-0.zip
run script
2024-01-14T05:21:51.388    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:21:51.390    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090907-102518-974_L1C_050-255-8_D_V1-0.zip
2024-01-14T05:21:51.390    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:21:51.390    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:21:51.390    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:21:51.390    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:21:51.390    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:21:51.390    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:21:51.390    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:21:51.390    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090907-102518-974_L1C_050-255-8_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/07/SPOT4-HRVIR2-XS_20090907-102520-006_L1C_050-256-0_D_V1-0/SPOT4-HRVIR2-XS_20090907-102520-006_L1C_050-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090907-102520-006_L1C_050-256-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090907-102520-006_L1C_050-256-0_D_V1-0.zip
run script
2024-01-14T05:24:20.103    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:24:20.104    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090907-102520-006_L1C_050-256-0_D_V1-0.zip
2024-01-14T05:24:20.104    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:24:20.104    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:24:20.105    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:24:20.105    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:24:20.105    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:24:20.105    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:24:20.105    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:24:20.105    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090907-102520-006_L1C_050-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/07/SPOT4-HRVIR2-XS_20090907-102528-266_L1C_050-257-0_D_V1-0/SPOT4-HRVIR2-XS_20090907-102528-266_L1C_050-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090907-102528-266_L1C_050-257-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090907-102528-266_L1C_050-257-0_D_V1-0.zip
run script
2024-01-14T05:27:14.459    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:27:14.460    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090907-102528-266_L1C_050-257-0_D_V1-0.zip
2024-01-14T05:27:14.460    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:27:14.460    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:27:14.460    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:27:14.460    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:27:14.460    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:27:14.461    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:27:14.461    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:27:14.461    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090907-102528-266_L1C_050-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/07/SPOT4-HRVIR2-XS_20090907-102544-658_L1C_050-258-9_D_V1-0/SPOT4-HRVIR2-XS_20090907-102544-658_L1C_050-258-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090907-102544-658_L1C_050-258-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090907-102544-658_L1C_050-258-9_D_V1-0.zip
run script
2024-01-14T05:30:03.880    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:30:03.881    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090907-102544-658_L1C_050-258-9_D_V1-0.zip
2024-01-14T05:30:03.882    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:30:03.882    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:30:03.882    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:30:03.882    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:30:03.882    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:30:03.882    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:30:03.882    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:30:03.882    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090907-102544-658_L1C_050-258-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/07/SPOT4-HRVIR2-XS_20090907-102544-812_L1C_050-259-0_D_V1-0/SPOT4-HRVIR2-XS_20090907-102544-812_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090907-102544-812_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090907-102544-812_L1C_050-259-0_D_V1-0.zip
run script
2024-01-14T05:31:47.601    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:31:47.603    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090907-102544-812_L1C_050-259-0_D_V1-0.zip
2024-01-14T05:31:47.603    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:31:47.603    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:31:47.603    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:31:47.603    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:31:47.603    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:31:47.603    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:31:47.603    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:31:47.603    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090907-102544-812_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/07/SPOT4-HRVIR2-XS_20090907-102545-714_L1C_050-259-1_D_V1-0/SPOT4-HRVIR2-XS_20090907-102545-714_L1C_050-259-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090907-102545-714_L1C_050-259-1_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090907-102545-714_L1C_050-259-1_D_V1-0.zip
run script
2024-01-14T05:33:23.961    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:33:23.962    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090907-102545-714_L1C_050-259-1_D_V1-0.zip
2024-01-14T05:33:23.963    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:33:23.963    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:33:23.963    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:33:23.963    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:33:23.963    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:33:23.963    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:33:23.963    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:33:23.963    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090907-102545-714_L1C_050-259-1_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/07/SPOT4-HRVIR2-XS_20090907-102502-100_L1C_051-254-0_D_V1-0/SPOT4-HRVIR2-XS_20090907-102502-100_L1C_051-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090907-102502-100_L1C_051-254-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090907-102502-100_L1C_051-254-0_D_V1-0.zip
run script
2024-01-14T05:34:57.545    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:34:57.546    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090907-102502-100_L1C_051-254-0_D_V1-0.zip
2024-01-14T05:34:57.546    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:34:57.546    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:34:57.546    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:34:57.546    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:34:57.547    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:34:57.547    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:34:57.547    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:34:57.547    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090907-102502-100_L1C_051-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/09/23/SPOT4-HRVIR2-XS_20090923-101813-146_L1C_049-261-6_D_V1-0/SPOT4-HRVIR2-XS_20090923-101813-146_L1C_049-261-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090923-101813-146_L1C_049-261-6_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090923-101813-146_L1C_049-261-6_D_V1-0.zip
run script
2024-01-14T05:35:01.071    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:35:01.073    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090923-101813-146_L1C_049-261-6_D_V1-0.zip
2024-01-14T05:35:01.073    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:35:01.073    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:35:01.073    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:35:01.073    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:35:01.073    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:35:01.073    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:35:01.073    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:35:01.073    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090923-101813-146_L1C_049-261-6_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/09/23/SPOT4-HRVIR2-XS_20090923-101815-997_L1C_049-262-0_D_V1-0/SPOT4-HRVIR2-XS_20090923-101815-997_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090923-101815-997_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090923-101815-997_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T05:35:04.372    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:35:04.374    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090923-101815-997_L1C_049-262-0_D_V1-0.zip
2024-01-14T05:35:04.374    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:35:04.374    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:35:04.374    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:35:04.374    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:35:04.374    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:35:04.374    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:35:04.374    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:35:04.374    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090923-101815-997_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/09/23/SPOT4-HRVIR2-XS_20090923-101817-802_L1C_049-262-2_D_V1-0/SPOT4-HRVIR2-XS_20090923-101817-802_L1C_049-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090923-101817-802_L1C_049-262-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090923-101817-802_L1C_049-262-2_D_V1-0.zip
run script
2024-01-14T05:35:07.473    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:35:07.475    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090923-101817-802_L1C_049-262-2_D_V1-0.zip
2024-01-14T05:35:07.475    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:35:07.475    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:35:07.475    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:35:07.475    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:35:07.475    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:35:07.475    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:35:07.475    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:35:07.475    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090923-101817-802_L1C_049-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/09/23/SPOT4-HRVIR1-XS_20090923-101813-438_L1C_051-261-9_D_V1-0/SPOT4-HRVIR1-XS_20090923-101813-438_L1C_051-261-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090923-101813-438_L1C_051-261-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090923-101813-438_L1C_051-261-9_D_V1-0.zip
run script
2024-01-14T05:35:10.799    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:35:10.799    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090923-101813-438_L1C_051-261-9_D_V1-0.zip
2024-01-14T05:35:10.799    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:35:10.800    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:35:10.800    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:35:10.800    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:35:10.800    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:35:10.800    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:35:10.800    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:35:10.800    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090923-101813-438_L1C_051-261-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/23/SPOT4-HRVIR1-XS_20090923-101813-597_L1C_051-262-0_D_V1-0/SPOT4-HRVIR1-XS_20090923-101813-597_L1C_051-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090923-101813-597_L1C_051-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090923-101813-597_L1C_051-262-0_D_V1-0.zip
run script
2024-01-14T05:36:57.699    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:36:57.700    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090923-101813-597_L1C_051-262-0_D_V1-0.zip
2024-01-14T05:36:57.701    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:36:57.701    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:36:57.701    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:36:57.701    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:36:57.701    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:36:57.701    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:36:57.701    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:36:57.701    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090923-101813-597_L1C_051-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/23/SPOT4-HRVIR1-XS_20090923-101817-207_L1C_051-262-4_D_V1-0/SPOT4-HRVIR1-XS_20090923-101817-207_L1C_051-262-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090923-101817-207_L1C_051-262-4_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090923-101817-207_L1C_051-262-4_D_V1-0.zip
run script
2024-01-14T05:38:46.544    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:38:46.544    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090923-101817-207_L1C_051-262-4_D_V1-0.zip
2024-01-14T05:38:46.544    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:38:46.544    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:38:46.545    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:38:46.545    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:38:46.545    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:38:46.545    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:38:46.545    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:38:46.545    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090923-101817-207_L1C_051-262-4_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/10/12/SPOT4-HRVIR2-XS_20091012-105235-521_L1C_049-261-9_D_V1-0/SPOT4-HRVIR2-XS_20091012-105235-521_L1C_049-261-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20091012-105235-521_L1C_049-261-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091012-105235-521_L1C_049-261-9_D_V1-0.zip
run script
2024-01-14T05:40:15.187    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:40:15.189    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091012-105235-521_L1C_049-261-9_D_V1-0.zip
2024-01-14T05:40:15.189    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:40:15.189    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:40:15.189    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:40:15.189    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:40:15.189    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:40:15.189    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:40:15.189    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:40:15.189    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091012-105235-521_L1C_049-261-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/10/12/SPOT4-HRVIR2-XS_20091012-105235-858_L1C_049-262-0_D_V1-0/SPOT4-HRVIR2-XS_20091012-105235-858_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20091012-105235-858_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091012-105235-858_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T05:40:18.716    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:40:18.717    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091012-105235-858_L1C_049-262-0_D_V1-0.zip
2024-01-14T05:40:18.718    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:40:18.718    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:40:18.718    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:40:18.718    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:40:18.718    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:40:18.718    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:40:18.718    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:40:18.718    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091012-105235-858_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/10/12/SPOT4-HRVIR2-XS_20091012-105236-760_L1C_049-262-1_D_V1-0/SPOT4-HRVIR2-XS_20091012-105236-760_L1C_049-262-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20091012-105236-760_L1C_049-262-1_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091012-105236-760_L1C_049-262-1_D_V1-0.zip
run script
2024-01-14T05:40:22.290    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:40:22.291    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091012-105236-760_L1C_049-262-1_D_V1-0.zip
2024-01-14T05:40:22.291    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:40:22.291    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:40:22.292    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:40:22.292    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:40:22.292    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:40:22.292    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:40:22.292    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:40:22.292    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091012-105236-760_L1C_049-262-1_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/03/13/SPOT4-HRVIR1-XS_20090313-105104-456_L1C_049-262-2_D_V1-0/SPOT4-HRVIR1-XS_20090313-105104-456_L1C_049-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090313-105104-456_L1C_049-262-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090313-105104-456_L1C_049-262-2_D_V1-0.zip
run script
2024-01-14T05:40:25.516    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:40:25.517    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090313-105104-456_L1C_049-262-2_D_V1-0.zip
2024-01-14T05:40:25.518    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:40:25.518    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:40:25.518    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:40:25.518    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:40:25.518    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:40:25.518    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:40:25.518    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:40:25.518    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090313-105104-456_L1C_049-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/05/25/SPOT4-HRVIR1-XS_20090525-104636-188_L1C_049-262-0_D_V1-0/SPOT4-HRVIR1-XS_20090525-104636-188_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090525-104636-188_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090525-104636-188_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T05:40:28.972    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:40:28.973    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090525-104636-188_L1C_049-262-0_D_V1-0.zip
2024-01-14T05:40:28.973    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:40:28.973    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:40:28.973    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:40:28.973    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:40:28.973    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:40:28.973    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:40:28.974    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:40:28.974    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090525-104636-188_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/05/25/SPOT4-HRVIR1-XS_20090525-104637-993_L1C_049-262-2_D_V1-0/SPOT4-HRVIR1-XS_20090525-104637-993_L1C_049-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090525-104637-993_L1C_049-262-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090525-104637-993_L1C_049-262-2_D_V1-0.zip
run script
2024-01-14T05:40:32.185    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:40:32.185    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090525-104637-993_L1C_049-262-2_D_V1-0.zip
2024-01-14T05:40:32.185    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:40:32.185    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:40:32.185    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:40:32.185    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:40:32.185    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:40:32.185    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:40:32.185    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:40:32.185    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090525-104637-993_L1C_049-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/05/25/SPOT4-HRVIR1-XS_20090525-104617-356_L1C_054-260-6_D_V1-0/SPOT4-HRVIR1-XS_20090525-104617-356_L1C_054-260-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090525-104617-356_L1C_054-260-6_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090525-104617-356_L1C_054-260-6_D_V1-0.zip
run script
2024-01-14T05:40:35.487    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:40:35.488    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090525-104617-356_L1C_054-260-6_D_V1-0.zip
2024-01-14T05:40:35.488    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:40:35.488    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:40:35.488    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:40:35.488    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:40:35.488    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:40:35.488    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:40:35.489    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:40:35.489    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090525-104617-356_L1C_054-260-6_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [1 1 1 ... 1 1 1]
 [1 1 1 ... 0 0 1]
 [1 1 2 ... 1 1 1]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/25/SPOT4-HRVIR1-XS_20090525-104621-321_L1C_054-261-1_D_V1-0/SPOT4-HRVIR1-XS_20090525-104621-321_L1C_054-261-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090525-104621-321_L1C_054-261-1_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090525-104621-321_L1C_054-261-1_D_V1-0.zip
run script
2024-01-14T05:42:36.768    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:42:36.770    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090525-104621-321_L1C_054-261-1_D_V1-0.zip
2024-01-14T05:42:36.770    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:42:36.770    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:42:36.771    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:42:36.771    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:42:36.771    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:42:36.771    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:42:36.771    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:42:36.771    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090525-104621-321_L1C_054-261-1_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 0 0 1]
 [2 2 2 ... 1 0 0]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/26/SPOT4-HRVIR2-XS_20090526-102717-272_L1C_049-262-0_D_V1-0/SPOT4-HRVIR2-XS_20090526-102717-272_L1C_049-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090526-102717-272_L1C_049-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090526-102717-272_L1C_049-262-0_D_V1-0.zip
run script
2024-01-14T05:44:45.399    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:44:45.400    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090526-102717-272_L1C_049-262-0_D_V1-0.zip
2024-01-14T05:44:45.400    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:44:45.400    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:44:45.400    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:44:45.400    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:44:45.400    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:44:45.400    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:44:45.400    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:44:45.401    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090526-102717-272_L1C_049-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/05/26/SPOT4-HRVIR2-XS_20090526-102719-077_L1C_049-262-2_D_V1-0/SPOT4-HRVIR2-XS_20090526-102719-077_L1C_049-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090526-102719-077_L1C_049-262-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090526-102719-077_L1C_049-262-2_D_V1-0.zip
run script
2024-01-14T05:44:48.607    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:44:48.609    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090526-102719-077_L1C_049-262-2_D_V1-0.zip
2024-01-14T05:44:48.609    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:44:48.609    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:44:48.609    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:44:48.609    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:44:48.609    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:44:48.609    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:44:48.609    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:44:48.609    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090526-102719-077_L1C_049-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/06/20/SPOT4-HRVIR1-XS_20090620-104619-875_L1C_049-262-2_D_V1-0/SPOT4-HRVIR1-XS_20090620-104619-875_L1C_049-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090620-104619-875_L1C_049-262-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090620-104619-875_L1C_049-262-2_D_V1-0.zip
run script
2024-01-14T05:44:51.843    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:44:51.845    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090620-104619-875_L1C_049-262-2_D_V1-0.zip
2024-01-14T05:44:51.845    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:44:51.845    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:44:51.845    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:44:51.845    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:44:51.845    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:44:51.845    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:44:51.845    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:44:51.845    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090620-104619-875_L1C_049-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/08/21/SPOT4-HRVIR2-XS_20090821-105323-133_L1C_049-262-1_D_V1-0/SPOT4-HRVIR2-XS_20090821-105323-133_L1C_049-262-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090821-105323-133_L1C_049-262-1_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090821-105323-133_L1C_049-262-1_D_V1-0.zip
run script
2024-01-14T05:44:55.298    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:44:55.299    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090821-105323-133_L1C_049-262-1_D_V1-0.zip
2024-01-14T05:44:55.299    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:44:55.300    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:44:55.300    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:44:55.300    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:44:55.300    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:44:55.300    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:44:55.300    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:44:55.300    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090821-105323-133_L1C_049-262-1_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/08/21/SPOT4-HRVIR2-XS_20090821-105255-019_L1C_050-259-0_D_V1-0/SPOT4-HRVIR2-XS_20090821-105255-019_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090821-105255-019_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090821-105255-019_L1C_050-259-0_D_V1-0.zip
run script
2024-01-14T05:44:58.758    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:44:58.758    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090821-105255-019_L1C_050-259-0_D_V1-0.zip
2024-01-14T05:44:58.758    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:44:58.758    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:44:58.758    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:44:58.759    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:44:58.759    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:44:58.759    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:44:58.759    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:44:58.759    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090821-105255-019_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/10/02/SPOT4-HRVIR1-XS_20091002-104511-191_L1C_049-262-2_D_V1-0/SPOT4-HRVIR1-XS_20091002-104511-191_L1C_049-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20091002-104511-191_L1C_049-262-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091002-104511-191_L1C_049-262-2_D_V1-0.zip
run script
2024-01-14T05:47:14.428    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:14.429    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091002-104511-191_L1C_049-262-2_D_V1-0.zip
2024-01-14T05:47:14.430    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:47:14.430    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:47:14.430    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:14.430    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:47:14.430    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:47:14.430    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:47:14.430    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:47:14.430    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091002-104511-191_L1C_049-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/10/03/SPOT4-HRVIR1-XS_20091003-102551-705_L1C_049-262-2_D_V1-0/SPOT4-HRVIR1-XS_20091003-102551-705_L1C_049-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20091003-102551-705_L1C_049-262-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091003-102551-705_L1C_049-262-2_D_V1-0.zip
run script
2024-01-14T05:47:17.709    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:17.710    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091003-102551-705_L1C_049-262-2_D_V1-0.zip
2024-01-14T05:47:17.710    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:47:17.710    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:47:17.710    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:17.710    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:47:17.710    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:47:17.710    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:47:17.710    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:47:17.710    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20091003-102551-705_L1C_049-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/10/03/SPOT4-HRVIR2-XS_20091003-102551-290_L1C_049-262-2_D_V1-0/SPOT4-HRVIR2-XS_20091003-102551-290_L1C_049-262-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20091003-102551-290_L1C_049-262-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091003-102551-290_L1C_049-262-2_D_V1-0.zip
run script
2024-01-14T05:47:21.438    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:21.439    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091003-102551-290_L1C_049-262-2_D_V1-0.zip
2024-01-14T05:47:21.439    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:47:21.439    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:47:21.439    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:21.439    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:47:21.440    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:47:21.440    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:47:21.440    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:47:21.440    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20091003-102551-290_L1C_049-262-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/07/11/SPOT4-HRVIR1-XS_20090711-104103-342_L1C_050-254-1_D_V1-0/SPOT4-HRVIR1-XS_20090711-104103-342_L1C_050-254-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090711-104103-342_L1C_050-254-1_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090711-104103-342_L1C_050-254-1_D_V1-0.zip
run script
2024-01-14T05:47:24.530    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:24.530    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090711-104103-342_L1C_050-254-1_D_V1-0.zip
2024-01-14T05:47:24.530    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:47:24.530    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:47:24.530    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:24.531    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:47:24.531    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:47:24.531    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:47:24.531    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:47:24.531    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090711-104103-342_L1C_050-254-1_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/01/25/SPOT4-HRVIR1-XS_20090125-105413-766_L1C_050-255-9_D_V1-0/SPOT4-HRVIR1-XS_20090125-105413-766_L1C_050-255-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090125-105413-766_L1C_050-255-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090125-105413-766_L1C_050-255-9_D_V1-0.zip
run script
2024-01-14T05:47:27.658    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:27.659    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090125-105413-766_L1C_050-255-9_D_V1-0.zip
2024-01-14T05:47:27.659    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:47:27.659    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:47:27.659    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:47:27.659    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:47:27.660    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:47:27.660    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:47:27.660    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:47:27.660    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090125-105413-766_L1C_050-255-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/01/25/SPOT4-HRVIR1-XS_20090125-105355-136_L1C_051-254-0_D_V1-0/SPOT4-HRVIR1-XS_20090125-105355-136_L1C_051-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090125-105355-136_L1C_051-254-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090125-105355-136_L1C_051-254-0_D_V1-0.zip
run script
2024-01-14T05:50:59.894    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:50:59.895    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090125-105355-136_L1C_051-254-0_D_V1-0.zip
2024-01-14T05:50:59.895    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:50:59.895    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:50:59.896    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:50:59.896    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:50:59.896    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:50:59.896    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:50:59.896    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:50:59.896    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090125-105355-136_L1C_051-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/07/23/SPOT4-HRVIR1-XS_20090723-101014-030_L1C_050-255-6_D_V1-0/SPOT4-HRVIR1-XS_20090723-101014-030_L1C_050-255-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090723-101014-030_L1C_050-255-6_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090723-101014-030_L1C_050-255-6_D_V1-0.zip
run script
2024-01-14T05:51:03.000    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:51:03.002    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090723-101014-030_L1C_050-255-6_D_V1-0.zip
2024-01-14T05:51:03.002    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:51:03.002    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:51:03.002    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:51:03.002    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:51:03.002    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:51:03.002    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:51:03.002    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:51:03.002    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090723-101014-030_L1C_050-255-6_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/23/SPOT4-HRVIR1-XS_20090723-101016-805_L1C_050-256-0_D_V1-0/SPOT4-HRVIR1-XS_20090723-101016-805_L1C_050-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090723-101016-805_L1C_050-256-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090723-101016-805_L1C_050-256-0_D_V1-0.zip
run script
2024-01-14T05:54:01.948    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:54:01.949    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090723-101016-805_L1C_050-256-0_D_V1-0.zip
2024-01-14T05:54:01.949    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:54:01.949    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:54:01.949    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:54:01.949    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:54:01.949    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:54:01.949    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:54:01.949    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:54:01.949    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090723-101016-805_L1C_050-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/07/23/SPOT4-HRVIR1-XS_20090723-101025-015_L1C_050-257-0_D_V1-0/SPOT4-HRVIR1-XS_20090723-101025-015_L1C_050-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090723-101025-015_L1C_050-257-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090723-101025-015_L1C_050-257-0_D_V1-0.zip
run script
2024-01-14T05:57:01.314    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:57:01.316    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090723-101025-015_L1C_050-257-0_D_V1-0.zip
2024-01-14T05:57:01.316    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T05:57:01.316    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T05:57:01.316    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T05:57:01.316    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T05:57:01.316    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T05:57:01.316    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T05:57:01.316    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T05:57:01.316    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090723-101025-015_L1C_050-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/06/SPOT4-HRVIR2-XS_20090606-101442-629_L1C_050-256-0_D_V1-0/SPOT4-HRVIR2-XS_20090606-101442-629_L1C_050-256-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090606-101442-629_L1C_050-256-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090606-101442-629_L1C_050-256-0_D_V1-0.zip
run script
2024-01-14T06:00:11.450    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:00:11.452    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090606-101442-629_L1C_050-256-0_D_V1-0.zip
2024-01-14T06:00:11.452    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:00:11.452    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:00:11.452    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:00:11.452    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:00:11.452    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:00:11.452    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:00:11.452    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:00:11.452    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090606-101442-629_L1C_050-256-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/06/SPOT4-HRVIR2-XS_20090606-101448-043_L1C_050-256-6_D_V1-0/SPOT4-HRVIR2-XS_20090606-101448-043_L1C_050-256-6_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090606-101448-043_L1C_050-256-6_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090606-101448-043_L1C_050-256-6_D_V1-0.zip
run script
2024-01-14T06:03:10.188    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:03:10.189    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090606-101448-043_L1C_050-256-6_D_V1-0.zip
2024-01-14T06:03:10.190    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:03:10.190    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:03:10.190    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:03:10.190    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:03:10.190    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:03:10.190    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:03:10.190    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:03:10.190    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090606-101448-043_L1C_050-256-6_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/06/SPOT4-HRVIR2-XS_20090606-101502-302_L1C_050-258-3_D_V1-0/SPOT4-HRVIR2-XS_20090606-101502-302_L1C_050-258-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090606-101502-302_L1C_050-258-3_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090606-101502-302_L1C_050-258-3_D_V1-0.zip
run script
2024-01-14T06:06:12.760    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:06:12.761    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090606-101502-302_L1C_050-258-3_D_V1-0.zip
2024-01-14T06:06:12.761    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:06:12.761    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:06:12.761    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:06:12.761    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:06:12.761    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:06:12.761    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:06:12.761    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:06:12.761    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T06:06:14.305    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 1666). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090606-101502-302_L1C_050-258-3_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2009/09/17/SPOT4-HRVIR1-XS_20090917-103304-030_L1C_050-256-8_D_V1-0/SPOT4-HRVIR1-XS_20090917-103304-030_L1C_050-256-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090917-103304-030_L1C_050-256-8_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090917-103304-030_L1C_050-256-8_D_V1-0.zip
run script
2024-01-14T06:06:17.328    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:06:17.329    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090917-103304-030_L1C_050-256-8_D_V1-0.zip
2024-01-14T06:06:17.329    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:06:17.329    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:06:17.330    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:06:17.330    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:06:17.330    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:06:17.330    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:06:17.330    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:06:17.330    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090917-103304-030_L1C_050-256-8_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/17/SPOT4-HRVIR1-XS_20090917-103305-116_L1C_050-257-0_D_V1-0/SPOT4-HRVIR1-XS_20090917-103305-116_L1C_050-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090917-103305-116_L1C_050-257-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090917-103305-116_L1C_050-257-0_D_V1-0.zip
run script
2024-01-14T06:09:05.707    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:09:05.708    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090917-103305-116_L1C_050-257-0_D_V1-0.zip
2024-01-14T06:09:05.708    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:09:05.708    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:09:05.708    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:09:05.708    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:09:05.708    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:09:05.708    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:09:05.708    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:09:05.708    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090917-103305-116_L1C_050-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/28/SPOT4-HRVIR1-XS_20090928-102118-380_L1C_050-256-5_D_V1-0/SPOT4-HRVIR1-XS_20090928-102118-380_L1C_050-256-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090928-102118-380_L1C_050-256-5_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090928-102118-380_L1C_050-256-5_D_V1-0.zip
run script
2024-01-14T06:11:37.455    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:11:37.456    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090928-102118-380_L1C_050-256-5_D_V1-0.zip
2024-01-14T06:11:37.456    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:11:37.456    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:11:37.456    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:11:37.456    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:11:37.456    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:11:37.456    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:11:37.456    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:11:37.456    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T06:13:18.074    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 198). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090928-102118-380_L1C_050-256-5_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/09/28/SPOT4-HRVIR1-XS_20090928-102122-113_L1C_050-257-0_D_V1-0/SPOT4-HRVIR1-XS_20090928-102122-113_L1C_050-257-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090928-102122-113_L1C_050-257-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090928-102122-113_L1C_050-257-0_D_V1-0.zip
run script
2024-01-14T06:13:21.278    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:13:21.278    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090928-102122-113_L1C_050-257-0_D_V1-0.zip
2024-01-14T06:13:21.278    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:13:21.278    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:13:21.278    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:13:21.278    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:13:21.278    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:13:21.278    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:13:21.279    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:13:21.279    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090928-102122-113_L1C_050-257-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/28/SPOT4-HRVIR1-XS_20090928-102203-555_L1C_050-261-9_D_V1-0/SPOT4-HRVIR1-XS_20090928-102203-555_L1C_050-261-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090928-102203-555_L1C_050-261-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090928-102203-555_L1C_050-261-9_D_V1-0.zip
run script
2024-01-14T06:16:15.879    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:16:15.880    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090928-102203-555_L1C_050-261-9_D_V1-0.zip
2024-01-14T06:16:15.880    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:16:15.880    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:16:15.880    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:16:15.881    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:16:15.881    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:16:15.881    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:16:15.881    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:16:15.881    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090928-102203-555_L1C_050-261-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/28/SPOT4-HRVIR1-XS_20090928-102203-717_L1C_050-262-0_D_V1-0/SPOT4-HRVIR1-XS_20090928-102203-717_L1C_050-262-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090928-102203-717_L1C_050-262-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090928-102203-717_L1C_050-262-0_D_V1-0.zip
run script
2024-01-14T06:17:00.985    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:17:00.986    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090928-102203-717_L1C_050-262-0_D_V1-0.zip
2024-01-14T06:17:00.986    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:17:00.986    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:17:00.986    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:17:00.986    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:17:00.986    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:17:00.986    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:17:00.986    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:17:00.986    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090928-102203-717_L1C_050-262-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/09/28/SPOT4-HRVIR1-XS_20090928-102208-229_L1C_050-262-5_D_V1-0/SPOT4-HRVIR1-XS_20090928-102208-229_L1C_050-262-5_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090928-102208-229_L1C_050-262-5_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090928-102208-229_L1C_050-262-5_D_V1-0.zip
run script
2024-01-14T06:17:46.785    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:17:46.786    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090928-102208-229_L1C_050-262-5_D_V1-0.zip
2024-01-14T06:17:46.786    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:17:46.786    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:17:46.786    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:17:46.787    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:17:46.787    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:17:46.787    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:17:46.787    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:17:46.787    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090928-102208-229_L1C_050-262-5_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/04/25/SPOT4-HRVIR2-XS_20090425-102308-966_L1C_050-257-9_D_V1-0/SPOT4-HRVIR2-XS_20090425-102308-966_L1C_050-257-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090425-102308-966_L1C_050-257-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090425-102308-966_L1C_050-257-9_D_V1-0.zip
run script
2024-01-14T06:18:14.358    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:18:14.359    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090425-102308-966_L1C_050-257-9_D_V1-0.zip
2024-01-14T06:18:14.359    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:18:14.359    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:18:14.360    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:18:14.360    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:18:14.360    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:18:14.360    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:18:14.360    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:18:14.360    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T06:19:58.327    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 418). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090425-102308-966_L1C_050-257-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/04/25/SPOT4-HRVIR2-XS_20090425-102312-705_L1C_050-258-4_D_V1-0/SPOT4-HRVIR2-XS_20090425-102312-705_L1C_050-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090425-102312-705_L1C_050-258-4_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090425-102312-705_L1C_050-258-4_D_V1-0.zip
run script
2024-01-14T06:20:01.604    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:20:01.604    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090425-102312-705_L1C_050-258-4_D_V1-0.zip
2024-01-14T06:20:01.604    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:20:01.604    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:20:01.604    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:20:01.604    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:20:01.604    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:20:01.604    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:20:01.604    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:20:01.604    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090425-102312-705_L1C_050-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/04/09/SPOT4-HRVIR2-XS_20090409-103102-484_L1C_050-258-2_D_V1-0/SPOT4-HRVIR2-XS_20090409-103102-484_L1C_050-258-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090409-103102-484_L1C_050-258-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090409-103102-484_L1C_050-258-2_D_V1-0.zip
run script
2024-01-14T06:21:41.640    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:21:41.641    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090409-103102-484_L1C_050-258-2_D_V1-0.zip
2024-01-14T06:21:41.642    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:21:41.642    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:21:41.642    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:21:41.642    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:21:41.642    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:21:41.642    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:21:41.642    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:21:41.642    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090409-103102-484_L1C_050-258-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/04/09/SPOT4-HRVIR2-XS_20090409-103104-289_L1C_050-258-4_D_V1-0/SPOT4-HRVIR2-XS_20090409-103104-289_L1C_050-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090409-103104-289_L1C_050-258-4_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090409-103104-289_L1C_050-258-4_D_V1-0.zip
run script
2024-01-14T06:23:15.711    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:23:15.712    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090409-103104-289_L1C_050-258-4_D_V1-0.zip
2024-01-14T06:23:15.713    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:23:15.713    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:23:15.713    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:23:15.713    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:23:15.713    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:23:15.713    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:23:15.713    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:23:15.713    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090409-103104-289_L1C_050-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/04/20/SPOT4-HRVIR2-XS_20090420-101920-161_L1C_050-258-1_D_V1-0/SPOT4-HRVIR2-XS_20090420-101920-161_L1C_050-258-1_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090420-101920-161_L1C_050-258-1_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090420-101920-161_L1C_050-258-1_D_V1-0.zip
run script
2024-01-14T06:24:51.207    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:24:51.208    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090420-101920-161_L1C_050-258-1_D_V1-0.zip
2024-01-14T06:24:51.208    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:24:51.208    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:24:51.209    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:24:51.209    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:24:51.209    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:24:51.209    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:24:51.209    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:24:51.209    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090420-101920-161_L1C_050-258-1_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/04/20/SPOT4-HRVIR2-XS_20090420-101922-868_L1C_050-258-4_D_V1-0/SPOT4-HRVIR2-XS_20090420-101922-868_L1C_050-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090420-101922-868_L1C_050-258-4_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090420-101922-868_L1C_050-258-4_D_V1-0.zip
run script
2024-01-14T06:27:08.317    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:27:08.317    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090420-101922-868_L1C_050-258-4_D_V1-0.zip
2024-01-14T06:27:08.318    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:27:08.318    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:27:08.318    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:27:08.318    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:27:08.318    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:27:08.318    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:27:08.318    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:27:08.318    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T06:28:56.512    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 8). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090420-101922-868_L1C_050-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/04/20/SPOT4-HRVIR1-XS_20090420-101844-903_L1C_051-254-0_D_V1-0/SPOT4-HRVIR1-XS_20090420-101844-903_L1C_051-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090420-101844-903_L1C_051-254-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090420-101844-903_L1C_051-254-0_D_V1-0.zip
run script
2024-01-14T06:28:59.449    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:28:59.451    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090420-101844-903_L1C_051-254-0_D_V1-0.zip
2024-01-14T06:28:59.451    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:28:59.451    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:28:59.451    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:28:59.451    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:28:59.451    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:28:59.451    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:28:59.451    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:28:59.451    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090420-101844-903_L1C_051-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/04/30/SPOT4-HRVIR1-XS_20090430-102702-015_L1C_050-258-4_D_V1-0/SPOT4-HRVIR1-XS_20090430-102702-015_L1C_050-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090430-102702-015_L1C_050-258-4_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090430-102702-015_L1C_050-258-4_D_V1-0.zip
run script
2024-01-14T06:29:02.592    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:29:02.594    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090430-102702-015_L1C_050-258-4_D_V1-0.zip
2024-01-14T06:29:02.594    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:29:02.594    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:29:02.594    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:29:02.594    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:29:02.594    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:29:02.594    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:29:02.594    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:29:02.594    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090430-102702-015_L1C_050-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/04/30/SPOT4-HRVIR1-XS_20090430-102623-976_L1C_051-254-0_D_V1-0/SPOT4-HRVIR1-XS_20090430-102623-976_L1C_051-254-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090430-102623-976_L1C_051-254-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090430-102623-976_L1C_051-254-0_D_V1-0.zip
run script
2024-01-14T06:30:36.153    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:30:36.154    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090430-102623-976_L1C_051-254-0_D_V1-0.zip
2024-01-14T06:30:36.154    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:30:36.154    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:30:36.155    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:30:36.155    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:30:36.155    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:30:36.155    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:30:36.155    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:30:36.155    INFO:run_snow_swh.py::main:Launch snow detection.
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090430-102623-976_L1C_051-254-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
INPUT SWH SCENE DOES NOT OVERLAP ANY S2 TILE WITH AVAILABLE MODEL
muscate/SPOTWORLDHERITAGE/2009/04/30/SPOT4-HRVIR2-XS_20090430-102715-823_L1C_054-260-7_D_V1-0/SPOT4-HRVIR2-XS_20090430-102715-823_L1C_054-260-7_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090430-102715-823_L1C_054-260-7_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090430-102715-823_L1C_054-260-7_D_V1-0.zip
run script
2024-01-14T06:30:39.316    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:30:39.318    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090430-102715-823_L1C_054-260-7_D_V1-0.zip
2024-01-14T06:30:39.318    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:30:39.318    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:30:39.318    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:30:39.318    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:30:39.318    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:30:39.318    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:30:39.318    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:30:39.318    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090430-102715-823_L1C_054-260-7_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 [2 2 2 ... 0 0 0]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/05/11/SPOT4-HRVIR2-XS_20090511-101518-801_L1C_050-258-3_D_V1-0/SPOT4-HRVIR2-XS_20090511-101518-801_L1C_050-258-3_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090511-101518-801_L1C_050-258-3_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090511-101518-801_L1C_050-258-3_D_V1-0.zip
run script
2024-01-14T06:31:50.752    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:31:50.754    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090511-101518-801_L1C_050-258-3_D_V1-0.zip
2024-01-14T06:31:50.754    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:31:50.754    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:31:50.754    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:31:50.754    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:31:50.754    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:31:50.754    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:31:50.754    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:31:50.754    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T06:31:52.136    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (2 x 1658). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090511-101518-801_L1C_050-258-3_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
muscate/SPOTWORLDHERITAGE/2009/05/11/SPOT4-HRVIR1-XS_20090511-101535-019_L1C_055-260-8_D_V1-0/SPOT4-HRVIR1-XS_20090511-101535-019_L1C_055-260-8_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090511-101535-019_L1C_055-260-8_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090511-101535-019_L1C_055-260-8_D_V1-0.zip
run script
2024-01-14T06:31:55.335    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:31:55.336    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090511-101535-019_L1C_055-260-8_D_V1-0.zip
2024-01-14T06:31:55.336    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:31:55.336    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:31:55.336    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:31:55.337    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:31:55.337    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:31:55.337    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:31:55.337    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:31:55.337    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090511-101535-019_L1C_055-260-8_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]
 [2 2 2 ... 1 1 1]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/11/SPOT4-HRVIR1-XS_20090611-101850-111_L1C_050-258-2_D_V1-0/SPOT4-HRVIR1-XS_20090611-101850-111_L1C_050-258-2_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090611-101850-111_L1C_050-258-2_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090611-101850-111_L1C_050-258-2_D_V1-0.zip
run script
2024-01-14T06:32:53.049    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:32:53.050    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090611-101850-111_L1C_050-258-2_D_V1-0.zip
2024-01-14T06:32:53.050    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:32:53.050    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:32:53.050    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:32:53.050    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:32:53.050    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:32:53.050    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:32:53.050    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:32:53.050    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T06:34:26.257    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (203 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090611-101850-111_L1C_050-258-2_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/06/11/SPOT4-HRVIR1-XS_20090611-101851-916_L1C_050-258-4_D_V1-0/SPOT4-HRVIR1-XS_20090611-101851-916_L1C_050-258-4_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090611-101851-916_L1C_050-258-4_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090611-101851-916_L1C_050-258-4_D_V1-0.zip
run script
2024-01-14T06:34:29.380    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:34:29.381    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090611-101851-916_L1C_050-258-4_D_V1-0.zip
2024-01-14T06:34:29.382    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:34:29.382    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:34:29.382    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:34:29.382    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:34:29.382    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:34:29.382    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:34:29.382    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:34:29.382    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090611-101851-916_L1C_050-258-4_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/11/SPOT4-HRVIR1-XS_20090611-101904-674_L1C_050-259-9_D_V1-0/SPOT4-HRVIR1-XS_20090611-101904-674_L1C_050-259-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090611-101904-674_L1C_050-259-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090611-101904-674_L1C_050-259-9_D_V1-0.zip
run script
2024-01-14T06:36:05.367    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:36:05.368    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090611-101904-674_L1C_050-259-9_D_V1-0.zip
2024-01-14T06:36:05.369    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:36:05.369    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:36:05.369    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:36:05.369    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:36:05.369    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:36:05.369    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:36:05.369    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:36:05.369    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090611-101904-674_L1C_050-259-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/11/SPOT4-HRVIR1-XS_20090611-101904-806_L1C_050-260-0_D_V1-0/SPOT4-HRVIR1-XS_20090611-101904-806_L1C_050-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090611-101904-806_L1C_050-260-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090611-101904-806_L1C_050-260-0_D_V1-0.zip
run script
2024-01-14T06:37:18.173    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:37:18.174    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090611-101904-806_L1C_050-260-0_D_V1-0.zip
2024-01-14T06:37:18.175    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:37:18.175    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:37:18.175    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:37:18.175    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:37:18.175    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:37:18.175    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:37:18.175    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:37:18.175    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090611-101904-806_L1C_050-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/06/11/SPOT4-HRVIR1-XS_20090611-101913-069_L1C_050-261-0_D_V1-0/SPOT4-HRVIR1-XS_20090611-101913-069_L1C_050-261-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR1-XS_20090611-101913-069_L1C_050-261-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090611-101913-069_L1C_050-261-0_D_V1-0.zip
run script
2024-01-14T06:38:34.962    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:38:34.962    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090611-101913-069_L1C_050-261-0_D_V1-0.zip
2024-01-14T06:38:34.962    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:38:34.962    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:38:34.962    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:38:34.962    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:38:34.962    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:38:34.963    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:38:34.963    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:38:34.963    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR1-XS_20090611-101913-069_L1C_050-261-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
muscate/SPOTWORLDHERITAGE/2009/08/16/SPOT4-HRVIR2-XS_20090816-104906-541_L1C_050-258-9_D_V1-0/SPOT4-HRVIR2-XS_20090816-104906-541_L1C_050-258-9_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090816-104906-541_L1C_050-258-9_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090816-104906-541_L1C_050-258-9_D_V1-0.zip
run script
2024-01-14T06:39:45.656    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:39:45.657    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090816-104906-541_L1C_050-258-9_D_V1-0.zip
2024-01-14T06:39:45.658    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:39:45.658    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:39:45.658    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:39:45.658    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:39:45.658    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:39:45.658    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:39:45.658    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:39:45.658    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T06:41:56.205    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (99 x 1). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090816-104906-541_L1C_050-258-9_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/08/16/SPOT4-HRVIR2-XS_20090816-104906-851_L1C_050-259-0_D_V1-0/SPOT4-HRVIR2-XS_20090816-104906-851_L1C_050-259-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090816-104906-851_L1C_050-259-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090816-104906-851_L1C_050-259-0_D_V1-0.zip
run script
2024-01-14T06:41:59.367    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:41:59.367    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090816-104906-851_L1C_050-259-0_D_V1-0.zip
2024-01-14T06:41:59.368    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:41:59.368    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:41:59.368    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:41:59.368    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:41:59.368    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:41:59.368    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:41:59.368    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:41:59.368    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
2024-01-14T06:44:06.192    ERROR:run_snow_swh.py::main:Calculated padded input size per channel: (430 x 2). Kernel size: (3 x 3). Kernel size can't be greater than actual input size
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090816-104906-851_L1C_050-259-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]
 [0 0 0 ... 2 2 2]]
geo data
copy to output
TOTO
muscate/SPOTWORLDHERITAGE/2009/08/16/SPOT4-HRVIR2-XS_20090816-104915-286_L1C_050-260-0_D_V1-0/SPOT4-HRVIR2-XS_20090816-104915-286_L1C_050-260-0_D_V1-0.zip
activate s3 conda env
start s2 script
get credentials
get s3filesystem
download
SPOT4-HRVIR2-XS_20090816-104915-286_L1C_050-260-0_D_V1-0.zip
/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090816-104915-286_L1C_050-260-0_D_V1-0.zip
run script
2024-01-14T06:44:09.642    INFO:run_snow_swh.py::main:output directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:44:09.643    INFO:run_snow_swh.py::main:input file : /tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090816-104915-286_L1C_050-260-0_D_V1-0.zip
2024-01-14T06:44:09.643    INFO:run_snow_swh.py::main:dem directory : /work/CAMPUS/etudes/Neige/DEM
2024-01-14T06:44:09.643    INFO:run_snow_swh.py::main:tree cover density directory : /work/datalake/static_aux/TreeCoverDensity
2024-01-14T06:44:09.643    INFO:run_snow_swh.py::main:model directory : /work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200
2024-01-14T06:44:09.643    INFO:run_snow_swh.py::main:model type : mtn
2024-01-14T06:44:09.643    INFO:run_snow_swh.py::main:keep merged bands : None
2024-01-14T06:44:09.644    INFO:run_snow_swh.py::main:mask inference : None
2024-01-14T06:44:09.644    INFO:run_snow_swh.py::main:no data buffer : 2000
2024-01-14T06:44:09.644    INFO:run_snow_swh.py::main:Launch snow detection.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
/work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: /work/scratch/env/barrouz/conda_env/pl_lightning/lib/python3.8/site-packages/torchvision/image.so: undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKSs
  warn(f"Failed to load image Python extension: {e}")
Namespace(buffer=None, dem_dir='/work/CAMPUS/etudes/Neige/DEM', input_file='/tmp/slurm-4259311/INPUT/SPOT4-HRVIR2-XS_20090816-104915-286_L1C_050-260-0_D_V1-0.zip', job_dir='/tmp/slurm-4259311/OUTPUT', json_config_file=None, keep='0', log_level=None, mask='1', model_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/MODELS/TCD-CIRRUS-BLUE_AVG-1200', model_type='mtn', output_dir='/work/CAMPUS/etudes/Neige/CoSIMS/zacharie/TIMESERIES_PROJECT/SWH_INFERENCE/ALP/TCD-CIRRUS-BLUE_AVG-1200', tcd_dir='/work/datalake/static_aux/TreeCoverDensity')
DEVICE cpu
TOTO
[[2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 ...
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]
 [2 2 2 ... 2 2 2]]
geo data
copy to output
end
[2024-01-14 06:45:35.327331290+00:00] cnes_level2/barrouz/4259311:  Account (env) = cnes_level2
[2024-01-14 06:45:35.328458202+00:00] cnes_level2/barrouz/4259311:     User (env) = barrouz
[2024-01-14 06:45:35.329490644+00:00] cnes_level2/barrouz/4259311:        GroupId = cesbio(426000053)
[2024-01-14 06:45:35.330511087+00:00] cnes_level2/barrouz/4259311:         UserId = barrouz(9134)
[2024-01-14 06:45:35.331544269+00:00] cnes_level2/barrouz/4259311:        Account = cnes_level2
[2024-01-14 06:45:35.332552951+00:00] cnes_level2/barrouz/4259311:        Account = cnes_level2
[2024-01-14 06:45:35.333592624+00:00] cnes_level2/barrouz/4259311:      Partition = cpu2022
[2024-01-14 06:45:35.334595376+00:00] cnes_level2/barrouz/4259311:            QOS = cpu_2022_1280
[2024-01-14 06:45:35.335623389+00:00] cnes_level2/barrouz/4259311:        JobName = inf_ALP_49_TCD-CIRRUS-BLUE_AVG-1200
[2024-01-14 06:45:35.336626331+00:00] cnes_level2/barrouz/4259311:     SubmitTime = 2024-01-13T13:42:47
[2024-01-14 06:45:35.337656454+00:00] cnes_level2/barrouz/4259311:        RunTime = 04:58:06
[2024-01-14 06:45:35.338689996+00:00] cnes_level2/barrouz/4259311:      TimeLimit = 1-16:00:00
[2024-01-14 06:45:35.339743728+00:00] cnes_level2/barrouz/4259311:   EligibleTime = 2024-01-13T13:42:47
[2024-01-14 06:45:35.340775530+00:00] cnes_level2/barrouz/4259311:      StartTime = 2024-01-14T01:47:29
[2024-01-14 06:45:35.341817543+00:00] cnes_level2/barrouz/4259311:        EndTime = 2024-01-14T06:45:35
[2024-01-14 06:45:35.342866475+00:00] cnes_level2/barrouz/4259311:       ExitCode = 0:0
[2024-01-14 06:45:35.343909537+00:00] cnes_level2/barrouz/4259311:       NodeList = trex032
[2024-01-14 06:45:35.344932320+00:00] cnes_level2/barrouz/4259311:      BatchHost = trex032
[2024-01-14 06:45:35.345977162+00:00] cnes_level2/barrouz/4259311:           TRES = 
[2024-01-14 06:45:35.346983794+00:00] cnes_level2/barrouz/4259311:        Command = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh_job.sh
[2024-01-14 06:45:35.348009267+00:00] cnes_level2/barrouz/4259311:        WorkDir = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code
[2024-01-14 06:45:35.349051259+00:00] cnes_level2/barrouz/4259311:         StdErr = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_ALP_49_TCD-CIRRUS-BLUE_AVG-1200.log
[2024-01-14 06:45:35.350118521+00:00] cnes_level2/barrouz/4259311:         StdOut = /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_ALP_49_TCD-CIRRUS-BLUE_AVG-1200.log

#########################################
#        EVIDEN - CNES                  #
#        Job Accounting                 #
#########################################
Cluster              : trex
JobIDRaw             : 4259311
JobID                : 4259311
JobName              : inf_ALP_49_TCD-CIRRUS-BLUE_AVG-1200
Account              : cnes_level2
User                 : barrouz(9134), cesbio(426000053)
Partition            : cpu2022
QOS                  : cpu_2022_1280
Nodelist             : trex032 (1)
State                : COMPLETED  (Exitcode=0:0, DerivedExitCode=0:0, Restarts=0)
Submit date          : 2024-01-13T13:42:47
Start time           : 2024-01-14T01:47:29
End time             : 2024-01-14T06:45:35
Elapsed time         : 04:58:06  (Timelimit=1-16:00:00, Suspended=00:00:00)
TEI                  : 1 day, 15:44:48
Command              : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_unet/run_snow_swh_job.sh
StdOut               : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_ALP_49_TCD-CIRRUS-BLUE_AVG-1200.log
StdErr               : /home/ad/barrouz/WORKSPACE/TIMESERIES_PROJECT/inference_code/logs/inf_ALP_49_TCD-CIRRUS-BLUE_AVG-1200.log

STEP(s) : 2
--------- 
   StepID  | JobName      State       Exit   Start               End                 Elapsed   TotalCPU   CPUTime    ConsumedEnergy MaxDiskRead MaxDiskWrite     MaxRSS MaxRSSTask MaxRSSNode NNodes UserCPU    NodeList
   ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 
   batch   | batch        COMPLETED   0:0    2024-01-14T01:47:29 2024-01-14T06:45:35 04:58:06  22:15:47   1-15:44:48      0.141875M  149007.22M    64127.58M  98368488K          0    trex032      1 14:34:17   trex032
   extern  | extern       COMPLETED   0:0    2024-01-14T01:47:29 2024-01-14T06:45:35 04:58:06  00:00.001  1-15:44:48      0.141875M       0.00M        0.00M      1704K          0    trex032      1 00:00:00   trex032

